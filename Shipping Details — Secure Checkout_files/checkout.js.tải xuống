/*! 5.2.3 | BH: 3bb7f219d46088023bc0 | CH: 583503f59 */
/*! License information is available at licenses.txt */(()=>{var __webpack_modules__={6831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeEngagementAccount=function(e,t){return{dsid:e,username:t}}},6028:(e,t,a)=>{"use strict";function n(e){for(var a in e)t.hasOwnProperty(a)||(t[a]=e[a])}Object.defineProperty(t,"__esModule",{value:!0}),n(a(6831)),n(a(5649)),n(a(8191))},5649:(e,t)=>{"use strict";function a(e,t){var a;return{account:null!==(a=null==t?void 0:t.account)&&void 0!==a?a:{accountPreSet:"activeItunes"},clientData:null==t?void 0:t.clientData,metricsOverlay:null==t?void 0:t.metricsOverlay,suppressInteractiveModalDismissal:null==t?void 0:t.suppressInteractiveModalDismissal,URL:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.makePersonalizedEngagementRequest=function(e,t,n={accountPreSet:"activeItunes"}){return a(e,{account:n,clientData:null==t?void 0:t.clientData,metricsOverlay:null==t?void 0:t.metricsOverlay,suppressInteractiveModalDismissal:null==t?void 0:t.suppressInteractiveModalDismissal})},t.makeEngagementRequest=a},8191:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2337),r={total:{label:"label",amount:{currency:"USD",value:"0"}}};t.presentEngagementRequest=async function(e){const t={supportedMethods:"https://apple.com/ams-ui",data:{engagementRequest:{...e}}};return new Promise((async(e,a)=>{try{const n=new PaymentRequest([t],r);if(await n.canMakePayment()){const t=await n.show(),{success:a}=t.details;e(a)}else a(new Error("Engagement request presentation unsupported"))}catch(e){"string"==typeof e?a(new Error(e)):e instanceof Error?a(e):a(new Error(`An unknown error has occurred ${n.prettyJSONString(e)}`))}}))}},2337:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prettyJSONString=function(e){return JSON.stringify(e,void 0,2)}},7630:(e,t,a)=>{var n,r,s;!function(l){if("object"==typeof e.exports){var i=l(a(5076),t);void 0!==i&&(e.exports=i)}else r=[a,t],void 0===(s="function"==typeof(n=l)?n.apply(t,r):n)||(e.exports=s)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletEncryptedData=t.ECDHWrappedData=t.ApplePayCryptoLib_ECV2=void 0;t.ApplePayCryptoLib_ECV2=class{constructor(){this.ecdhParams={name:"ECDH",namedCurve:"P-256"},this.keyLengthECAndDerived=256,this.keyLengthSecretKeyInBytes=16,this.aesParamsForDerivedSecret={name:"AES-GCM",length:this.keyLengthECAndDerived},this.aesParamsForSecretKey={name:"AES-GCM",length:this.keyLengthSecretKeyInBytes},this.sha256="SHA-256"}ec_v2_web(e,t){if(!e||0==e.trim().length)throw"RecipientPublicKeyJwk is invalid";if(!t||0==t.trim().length)throw"PlaintextToEncrypt is invalid";let a;try{a=JSON.parse(e)}catch(e){throw"RecipientPublicKeyJwk is not proper JSON"}const n=window.crypto.subtle.generateKey(this.ecdhParams,!1,["deriveKey"]),r=window.crypto.subtle.importKey("jwk",a,this.ecdhParams,!0,[]);return Promise.all([n,r]).then((e=>{const a=e[0],n=e[1];return this.innerEcv2Encrypt(a.privateKey,a.publicKey,n,t)}))}innerEcv2Encrypt(e,t,a,n){const r={name:"ECDH",public:a},s=window.crypto.subtle.deriveKey(r,e,this.aesParamsForDerivedSecret,!0,["encrypt"]),l=window.crypto.subtle.exportKey("spki",a);return Promise.all([s,l]).then((e=>{const a=e[0],r=e[1];return window.crypto.subtle.exportKey("raw",a).then((e=>this.ecv2KdfWrapper(t,n,e,r)))}))}ecv2KdfWrapper(e,t,a,n){return this.ecv2Kdf(a,e,this.keyLengthECAndDerived).then((a=>window.crypto.subtle.digest(this.sha256,a).then((a=>{const r=a.slice(0,this.keyLengthSecretKeyInBytes);return window.crypto.subtle.importKey("raw",r,this.aesParamsForSecretKey,!1,["encrypt"]).then((a=>{const r=new ArrayBuffer(this.keyLengthSecretKeyInBytes),s=this.convertStringToUTF8ByteArray(t),l={name:"AES-GCM",iv:r},i=window.crypto.subtle.encrypt(l,a,s),o=this.ecPublicKeyToRawUncompressed(e,this.keyLengthECAndDerived);return this.createEcv2Response(i,o,n)}))}))))}createEcv2Response(e,t,r){const s=window.crypto.subtle.digest(this.sha256,r);return Promise.all([e,t,s]).then((e=>{const t=e[0],r=e[1],s=e[2],l=this.buf2hex(t),i=this.buf2hex(r),o=new n(i,l);return new a("EC_v2",o,this.buf2hex(s))}))}ecv2Kdf(e,t,a){return this.ecPublicKeyToRawUncompressed(t,a).then((t=>{var a=0,n=new ArrayBuffer(t.byteLength+4+e.byteLength),r=new Uint8Array(n);a=this.write(new Uint8Array(e),r,a);var s=new Uint8Array(4);return s[0]=0,s[1]=0,s[2]=0,s[3]=1,a=this.write(s,r,a),this.write(new Uint8Array(t),r,a),n}),(e=>{throw"KDF failed"}))}ecPublicKeyToRawUncompressed(e,t){t/=8;var a=new ArrayBuffer(2*t+1),n=new Int8Array(a),r=0;return n[r]=4,r++,window.crypto.subtle.exportKey("jwk",e).then((e=>{for(var t=this.base64UrlDecode(e.x||""),s=0;s<t.length;++s,++r)n[r]=t[s];var l=this.base64UrlDecode(e.y||"");for(s=0;s<l.length;++s,++r)n[r]=l[s];return a}),(e=>{throw"Cannot uncompress key"}))}base64UrlDecode(e){for(e=e.replace(/-/g,"+").replace(/_/g,"/");e.length%4;)e+="=";const t=window.atob(e);for(var a=new Int8Array(t.length),n=0;n<t.length;++n)a[n]=t.codePointAt(n)||0;return a}write(e,t,a){for(var n=0;n<e.length;++n)t[n+a]=e[n];return n+a}buf2hex(e){return Array.from(new Uint8Array(e)).map((e=>this.padStart(e.toString(16),2,"0"))).join("")}padStart(e,t,a){return t|=0,e.length>t?e:((t-=e.length)>a.length&&(a+=a.repeat(t/a.length)),a.slice(0,t)+e)}convertStringToUTF8ByteArray(e){const t=new Uint8Array(e.length);return Array.prototype.forEach.call(t,(function(t,a,n){n[a]=e.charCodeAt(a)})),t}};class a{constructor(e,t,a){this._encryptionVersion=e,this._encryptedData=t,this._publicKeyHash=a}}t.WalletEncryptedData=a;class n{constructor(e,t){this.ephemeralPublicKey=e,this.gcmEncryptedData=t.substr(0,t.length-32),this.gcmTag=t.substr(t.length-32)}}t.ECDHWrappedData=n}))},6941:(e,t,a)=>{var n,r,s;!function(l){if("object"==typeof e.exports){var i=l(a(5076),t);void 0!==i&&(e.exports=i)}else r=[a,t],void 0===(s="function"==typeof(n=l)?n.apply(t,r):n)||(e.exports=s)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyAgreementParams=t.KDFParams=t.JWSRoot=t.JWSProtected=t.JWSHeader=t.EncryptionParams=t.EncryptedMessage=t.EncryptedDataContainer=t.ApplePayCryptoLib_ECV3=void 0;t.ApplePayCryptoLib_ECV3=class{constructor(){this.ecdhParams={name:"ECDH",namedCurve:"P-256"},this.ecdsaParams={name:"ECDSA",namedCurve:"P-256"},this.keyLengthECAndDerived=256,this.keyLengthSecretKeyInBytes=16,this.aesParamsForDerivedSecret={name:"AES-GCM",length:this.keyLengthECAndDerived},this.aesParamsForSecretKey={name:"AES-GCM",length:this.keyLengthSecretKeyInBytes},this.sha256="SHA-256",this.defaultSender="web"}ec_v3_web_with_jws(e,t,a,n,r){if(!a||0==a.trim().length)throw"Nonce is invalid";if(!e||0==e.trim().length)throw"RecipientSigningPublicKeyJwk is invalid";if(!t||0==t.trim().length)throw"RecipientKeyAgreementPublicKeyJwk is invalid";if(!n||0==n.trim().length)throw"PlaintextToEncrypt is invalid";if(!r||0==r.trim().length)throw"Recipient is invalid";let s,l;try{s=JSON.parse(e)}catch(e){throw"RecipientSigningPublicKeyJwk is not proper JSON"}try{l=JSON.parse(t)}catch(e){throw"RecipientKeyAgreementPublicKeyJwk is not proper JSON"}const i=window.crypto.subtle.importKey("jwk",s,this.ecdhParams,!0,[]),o=window.crypto.subtle.importKey("jwk",l,this.ecdhParams,!0,[]),c=window.crypto.subtle.generateKey(this.ecdhParams,!1,["deriveKey"]),m=window.crypto.subtle.generateKey(this.ecdsaParams,!1,["sign"]);return Promise.all([c,m,o,i]).then((e=>{const t=e[0],s=e[1],l=e[2],i=e[3];return this.innerEcv3Encrypt(t.privateKey,t.publicKey,s.publicKey,l,i,n,r).then((e=>this.ecPublicKeyToRawUncompressed(s.publicKey,this.keyLengthECAndDerived).then((t=>{const n=window.crypto.subtle.digest(this.sha256,t),r=window.crypto.subtle.exportKey("jwk",s.publicKey);return this.preSignAndGenerateJws(n,r,e[0],a,s.privateKey)}))))}))}preSignAndGenerateJws(e,t,a,n,r){return Promise.all([e,t]).then((e=>{const t=e[0],s=e[1],l=this.base64EncodeFromBuffer(t);return this.signAndGenerateJws(a,l,n,s,r).then((e=>[e]))}))}signAndGenerateJws(e,t,a,n,r){const s=new o("ES256",t,"JOSE+JSON","application/json; charset=utf-8",(new Date).toISOString(),a,["nonce","created"]),l={name:"ECDSA",hash:this.sha256},m=this.base64UrlEncodeNoPadding(JSON.stringify(s)),d=this.base64UrlEncodeNoPadding(JSON.stringify(e)),u=m+"."+d,p=this.convertStringToUTF8ByteArray(u);return window.crypto.subtle.sign(l,r,p).then((e=>{const t=this.base64UrlEncodeFromBuffer(e),a=new c(n);return new i(d,m,a,t)}))}ec_v3_web(e,t,a,n){if(!e||0==e.trim().length)throw"RecipientSigningPublicKeyJwk is invalid";if(!t||0==t.trim().length)throw"RecipientKeyAgreementPublicKeyJwk is invalid";if(!a||0==a.trim().length)throw"PlaintextToEncrypt is invalid";if(!n||0==n.trim().length)throw"Recipient is invalid";let r,s;try{r=JSON.parse(e)}catch(e){throw"RecipientSigningPublicKeyJwk is not proper JSON"}try{s=JSON.parse(t)}catch(e){throw"RecipientKeyAgreementPublicKeyJwk is not proper JSON"}const l=window.crypto.subtle.importKey("jwk",r,this.ecdhParams,!0,[]),i=window.crypto.subtle.importKey("jwk",s,this.ecdhParams,!0,[]),o=window.crypto.subtle.generateKey(this.ecdhParams,!1,["deriveKey"]),c=window.crypto.subtle.generateKey(this.ecdsaParams,!1,["sign"]);return Promise.all([o,c,i,l]).then((e=>{const t=e[0],r=e[1],s=e[2],l=e[3];return this.innerEcv3Encrypt(t.privateKey,t.publicKey,r.publicKey,s,l,a,n)}))}innerEcv3Encrypt(e,t,a,n,r,s,l){var i={name:"ECDH",public:n};return window.crypto.subtle.deriveKey(i,e,this.aesParamsForDerivedSecret,!0,["encrypt"]).then((e=>window.crypto.subtle.exportKey("raw",e).then((e=>this.ecv3KdfWrapper(t,a,n,r,s,e,l)))))}ecv3KdfWrapper(e,t,a,n,r,s,l){return this.ecv3Kdf(s,e,t,a,n,this.keyLengthECAndDerived).then((s=>window.crypto.subtle.digest("SHA-256",s).then((s=>{var i=s.slice(0,this.keyLengthSecretKeyInBytes);return window.crypto.subtle.importKey("raw",i,this.aesParamsForSecretKey,!1,["encrypt"]).then((i=>{const o=s.slice(this.keyLengthSecretKeyInBytes,32),c=this.convertStringToUTF8ByteArray(r),m={name:"AES-GCM",iv:o};return window.crypto.subtle.encrypt(m,i,c).then((r=>this.createEcv3Response(r,n,a,e,t,l)))}))}))))}ecv3Kdf(e,t,a,n,r,s){var l=this.ecPublicKeyToRawUncompressed(t,s),i=this.ecPublicKeyToRawUncompressed(a,s),o=this.ecPublicKeyToRawUncompressed(n,s),c=this.ecPublicKeyToRawUncompressed(r,s);return Promise.all([l,i,o,c]).then((t=>{var a=t[0],n=t[1],r=t[2],s=t[3],l=0,i=new ArrayBuffer(e.byteLength+4+a.byteLength+n.byteLength+r.byteLength+s.byteLength),o=new Uint8Array(i);l=this.write(new Uint8Array(e),o,l);var c=new Uint8Array(4);return c[0]=0,c[1]=0,c[2]=0,c[3]=1,l=this.write(c,o,l),l=this.write(new Uint8Array(a),o,l),l=this.write(new Uint8Array(n),o,l),l=this.write(new Uint8Array(r),o,l),this.write(new Uint8Array(s),o,l),i}),(e=>{throw"KDF failed"}))}createEcv3Response(e,t,i,o,c,m){const d=window.crypto.subtle.exportKey("raw",o),u=this.ecPublicKeyToRawUncompressed(i,this.keyLengthECAndDerived),p=this.ecPublicKeyToRawUncompressed(t,this.keyLengthECAndDerived),g=this.ecPublicKeyToRawUncompressed(c,this.keyLengthECAndDerived);return Promise.all([d,u,p,g]).then((t=>{const i=t[0],o=t[1],c=t[2],d=t[3],u=window.crypto.subtle.digest(this.sha256,o),p=window.crypto.subtle.digest(this.sha256,c),g=window.crypto.subtle.digest(this.sha256,d);return Promise.all([u,p,g]).then((t=>{const o=t[0],c=t[1],u=t[2],p=new l(this.base64EncodeFromBuffer(i),this.base64EncodeFromBuffer(o)),g=this.base64EncodeFromBuffer(u),y=new s(g,this.base64EncodeFromBuffer(c)),v=new r("EC_v3",p,y),h=new n(v,this.base64EncodeFromBuffer(e));return[new a(this.defaultSender,this.base64EncodeFromBuffer(d),m,h)]}))}))}ecPublicKeyToRawUncompressed(e,t){t/=8;var a=new ArrayBuffer(2*t+1),n=new Int8Array(a),r=0;return n[r]=4,r++,window.crypto.subtle.exportKey("jwk",e).then((e=>{for(var t=this.base64UrlDecode(e.x||""),s=0;s<t.length;++s,++r)n[r]=t[s];var l=this.base64UrlDecode(e.y||"");for(s=0;s<l.length;++s,++r)n[r]=l[s];return a}),(e=>{throw"Cannot uncompress key"}))}write(e,t,a){for(var n=0;n<e.length;++n)t[n+a]=e[n];return n+a}base64UrlDecode(e){for(e=e.replace(/-/g,"+").replace(/_/g,"/");e.length%4;)e+="=";const t=atob(e);for(var a=new Int8Array(t.length),n=0;n<t.length;++n)a[n]=t.codePointAt(n)||0;return a}base64UrlEncodeFromBuffer(e){var t="";const a=new Uint8Array(e),n=a.byteLength;for(var r=0;r<n;r++)t+=String.fromCharCode(a[r]);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_")}base64EncodeFromBuffer(e){var t="";const a=new Uint8Array(e),n=a.byteLength;for(var r=0;r<n;r++)t+=String.fromCharCode(a[r]);return btoa(t)}base64UrlEncodeNoPadding(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}convertStringToUTF8ByteArray(e){const t=new Uint8Array(e.length);return Array.prototype.forEach.call(t,(function(t,a,n){n[a]=e.charCodeAt(a)})),t}};class a{constructor(e,t,a,n){this.sender=e,this.senderSigningKey=t,this.recipient=a,this.message=n}}t.EncryptedMessage=a;class n{constructor(e,t){this.params=e,this.data=t}}t.EncryptedDataContainer=n;class r{constructor(e,t,a){this.algorithmIdentifier=e,this.keyAgreement=t,this.kdf=a}}t.EncryptionParams=r;class s{constructor(e,t){this.senderSigningKeyFingerprint=e,this.recipientSigningKeyFingerprint=t}}t.KDFParams=s;class l{constructor(e,t){this.sender=e,this.recipientFingerprint=t}}t.KeyAgreementParams=l;class i{constructor(e,t,a,n){this.payload=e,this.protected=t,this.header=a,this.signature=n}}t.JWSRoot=i;class o{constructor(e,t,a,n,r,s,l){this.alg=e,this.kid=t,this.typ=a,this.cty=n,this.created=r,this.nonce=s,this.crit=l}}t.JWSProtected=o;class c{constructor(e){this.jwk=e}}t.JWSHeader=c}))},5076:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=5076,e.exports=t},3797:(e,t,a)=>{a(5069)},5069:e=>{let t={init:function(){document.addEventListener("click",this.handleClick.bind(this))},handleClick:function(e){let t=e.target,a=null;if(document.documentElement.contains(t))for(;null!==t;){if(t.classList.contains("as-chat-button")){a=t;break}t=t.parentElement}a&&(e.preventDefault(),this.createForm(a),this.openChatWindow())},createForm:function(e){let t,a,n,r,s,l,i,o=window.chatConfig.chat.page,c=o?Object.keys(o):[],m=[],d=null,u=document.forms.chatForm,p=function(e,t){null===t&&(t=""),m+='<input type="hidden" id="'+e+'" name="'+e+'" value="'+t+'" />'};for(a=e?e.getAttribute("data-chat-ui"):null,d=a?a.split(";"):[],n=Object.keys(d),i=0;i<n.length;i++)r=d[n[i]].split("="),""!==r[0]&&p(r[0],r[1]);for(i=0;i<c.length;i++)s=o[c[i]],"url"!==s.name&&p(s.name,s.value),"url"===s.name&&(t=s.value);p("WEB_CHAT_PAGE_URL",document.URL),l=document.createElement("form"),l.id="chatForm",l.dataset.analyticsType="chat",l.action=t,l.target="chatWin",l.method="post",l.innerHTML=m,u&&document.body.removeChild(u),document.body.appendChild(l)},openChatWindow:function(){let e=document.getElementById("chatForm");window.open("#","chatWin","width=375,height=773,menubar=no,location=no,scrollbars=no,status=no"),e.submit()}};document.addEventListener("DOMContentLoaded",(function(){let e=window.chatConfig;e&&e.chat?t.init():window.console.log("No chat config detected.")})),e.exports=t},8654:(e,t,a)=>{"use strict";a.d(t,{s:()=>r.s,w:()=>n.w});var n=a(7375),r=a(1736)},4114:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={SHA_256:"SHA-256",SPKI:"spki",KEY_NOT_EXTRACTABLE:!1,KEY_EXTRACTABLE:!0,ENCRYPT:"encrypt",JWK:"jwk",EC_V2:"EC_v2",EC_v2_1:"EC_v2.1",EC_V3:"EC_v3",RSA_WITH_HASH:"rsa-with-hash",ECDH_PARAMS:{name:"ECDH",namedCurve:"P-256"}}},1736:(e,t,a)=>{"use strict";a.d(t,{s:()=>r});var n=a(4114);const r=e=>{window.crypto.subtle.importKey(n.A.JWK,JSON.parse('{"crv":"P-256","ext":true,"key_ops":[],"kty":"EC","x":"l8thTer82ew-BNYv_x5td7SuUyT8mJAfrfmje44Y4rA","y":"vVtFNgZ9cQV0P9RmegoouFOvWbjRZjpZltOILnIJhWc"}'),n.A.ECDH_PARAMS,!0,[]).then((t=>{crypto.subtle.exportKey(n.A.SPKI,t).then((t=>{const a=new Uint8Array(t).toString();e({result:"48,89,48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7,3,66,0,4,151,203,97,77,234,252,217,236,62,4,214,47,255,30,109,119,180,174,83,36,252,152,144,31,173,249,163,123,142,24,226,176,189,91,69,54,6,125,113,5,116,63,212,102,122,10,40,184,83,175,89,184,209,102,58,89,150,211,136,46,114,9,133,103"===a,exportedSpki:a})}))}))}},7375:(e,t,a)=>{"use strict";a.d(t,{w:()=>l});var n=a(9896),r=a(4114);const s={[r.A.EC_V2]:n.Zg,[r.A.EC_v2_1]:n.F1,[r.A.EC_V3]:n.eV,[r.A.RSA_WITH_HASH]:n.Zm},l=(e,t)=>{const a=`message=encrypt.call,scheme=${e.scheme}`,n=new CustomEvent("echoCustomEvent",{detail:{message:a,id:"as-crypto.encrypt",type:"fn.call"}});window.dispatchEvent(n);try{const a=s[e.scheme].encrypt(e.config,t);return a.catch((t=>{const a=t.toString?t.toString():"",n=`message=${t.message},stack=${t.stack},err=${t},scheme=${e.scheme},errStr=${a}`,r=new CustomEvent("echoCustomEvent",{detail:{message:n,id:"as-crypto.encrypt",type:"error"}});window.dispatchEvent(r)})),a}catch(t){const a=t.toString?t.toString():"",n=`message=${t.message},stack=${t.stack},ex=${t},scheme=${e.scheme},exStr=${a}`,r=new CustomEvent("echoCustomEvent",{detail:{message:n,id:"as-crypto.encrypt",type:"error"}});return window.dispatchEvent(r),null}}},7213:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});class n{constructor(e,t,a){this._encryptionVersion=e,this._encryptedData=t,this._publicKeyHash=a}}class r{constructor(e,t){this.ephemeralPublicKey=e,this.gcmEncryptedData=t.substr(0,t.length-32),this.gcmTag=t.substr(t.length-32)}}class s{constructor(){this.ecdhParams={name:"ECDH",namedCurve:"P-256"},this.keyLengthECAndDerived=256,this.keyLengthSecretKeyInBytes=16,this.aesParamsForDerivedSecret={name:"AES-GCM",length:this.keyLengthECAndDerived},this.aesParamsForSecretKey={name:"AES-GCM",length:this.keyLengthSecretKeyInBytes},this.sha256="SHA-256"}ec_v2_web(e,t){if(!e||0==e.trim().length)throw"RecipientPublicKeyJwk is invalid";if(!t||0==t.trim().length)throw"PlaintextToEncrypt is invalid";let a;try{a=JSON.parse(e)}catch(e){throw"RecipientPublicKeyJwk is not proper JSON"}const n=window.crypto.subtle.generateKey(this.ecdhParams,!1,["deriveKey"]),r=window.crypto.subtle.importKey("jwk",a,this.ecdhParams,!0,[]);return Promise.all([n,r]).then((e=>{const a=e[0],n=e[1];return this.innerEcv2Encrypt(a.privateKey,a.publicKey,n,t)}))}innerEcv2Encrypt(e,t,a,n){const r={name:"ECDH",public:a},s=window.crypto.subtle.deriveKey(r,e,this.aesParamsForDerivedSecret,!0,["encrypt"]),l=window.crypto.subtle.exportKey("spki",a);return Promise.all([s,l]).then((e=>{const a=e[0],r=e[1];return window.crypto.subtle.exportKey("raw",a).then((e=>this.ecv2KdfWrapper(t,n,e,r)))}))}ecv2KdfWrapper(e,t,a,n){return this.ecv2Kdf(a,e,this.keyLengthECAndDerived).then((a=>window.crypto.subtle.digest(this.sha256,a).then((a=>{const r=a.slice(0,this.keyLengthSecretKeyInBytes);return window.crypto.subtle.importKey("raw",r,this.aesParamsForSecretKey,!1,["encrypt"]).then((a=>{const r=new ArrayBuffer(this.keyLengthSecretKeyInBytes),s=this.convertStringToUTF8ByteArray(t),l={name:"AES-GCM",iv:r},i=window.crypto.subtle.encrypt(l,a,s),o=this.ecPublicKeyToRawUncompressed(e,this.keyLengthECAndDerived);return this.createEcv2Response(i,o,n)}))}))))}createEcv2Response(e,t,a){const s=window.crypto.subtle.digest(this.sha256,a);return Promise.all([e,t,s]).then((e=>{const t=e[0],a=e[1],s=e[2],l=this.base64EncodeFromBuffer(t),i=this.base64EncodeFromBuffer(a),o=new r(i,l);return new n("EC_v2.1",o,this.base64EncodeFromBuffer(s))}))}ecv2Kdf(e,t,a){return this.ecPublicKeyToRawUncompressed(t,a).then((t=>{let a=0;const n=new ArrayBuffer(t.byteLength+4+e.byteLength),r=new Uint8Array(n);a=this.write(new Uint8Array(e),r,a);const s=new Uint8Array(4);return s[0]=0,s[1]=0,s[2]=0,s[3]=1,a=this.write(s,r,a),this.write(new Uint8Array(t),r,a),n}),(e=>{throw"KDF failed"}))}ecPublicKeyToRawUncompressed(e,t){t/=8;const a=new ArrayBuffer(2*t+1),n=new Int8Array(a);let r=0;n[r]=4,r++;return window.crypto.subtle.exportKey("jwk",e).then((e=>{const t=this.base64UrlDecode(e.x||"");for(var s=0;s<t.length;++s,++r)n[r]=t[s];const l=this.base64UrlDecode(e.y||"");for(s=0;s<l.length;++s,++r)n[r]=l[s];return a}),(e=>{throw"Cannot uncompress key"}))}base64UrlDecode(e){for(e=e.replace(/-/g,"+").replace(/_/g,"/");e.length%4;)e+="=";const t=window.atob(e),a=new Int8Array(t.length);for(let e=0;e<t.length;++e)a[e]=t.codePointAt(e)||0;return a}write(e,t,a){let n=0;for(;n<e.length;++n)t[n+a]=e[n];return n+a}base64EncodeFromBuffer(e){let t="";const a=new Uint8Array(e),n=a.byteLength;for(let e=0;e<n;e++)t+=String.fromCharCode(a[e]);return btoa(t)}padStart(e,t,a){return t>>=0,e.length>t?e:((t-=e.length)>a.length&&(a+=a.repeat(t/a.length)),a.slice(0,t)+e)}convertStringToUTF8ByteArray(e){const t=new Uint8Array(e.length);return Array.prototype.forEach.call(t,((t,a,n)=>{n[a]=e.charCodeAt(a)})),t}}},6008:(e,t,a)=>{"use strict";a.r(t),a.d(t,{encrypt:()=>i});var n=a(7213),r=a(6495),s=a(4114);const l=new n.A,i=(e,t)=>{const a=e.serverKeyAgreementPublicKey,n=r.iZ(a);return window.crypto.subtle.importKey(s.A.SPKI,n,s.A.ECDH_PARAMS,s.A.KEY_EXTRACTABLE,[]).then((e=>window.crypto.subtle.exportKey(s.A.JWK,e).then((e=>l.ec_v2_web(JSON.stringify(e),t)))))}},8726:(e,t,a)=>{"use strict";a.r(t),a.d(t,{encrypt:()=>i});var n=a(7630),r=a(6495),s=a(4114);const l=new n.ApplePayCryptoLib_ECV2,i=(e,t)=>{const a=e.serverKeyAgreementPublicKey,n=r.iZ(a);return window.crypto.subtle.importKey(s.A.SPKI,n,s.A.ECDH_PARAMS,s.A.KEY_EXTRACTABLE,[]).then((e=>window.crypto.subtle.exportKey(s.A.JWK,e).then((e=>l.ec_v2_web(JSON.stringify(e),t)))))}},9445:(e,t,a)=>{"use strict";a.r(t),a.d(t,{encrypt:()=>i});var n=a(6941),r=a(6495),s=a(4114);const l=new n.ApplePayCryptoLib_ECV3,i=(e,t)=>{const a=e.serverSigningPublicKey,n=e.serverKeyAgreementPublicKey,i=r.iZ(a),o=r.iZ(n),c=window.crypto.subtle.importKey(s.A.SPKI,i,s.A.ECDH_PARAMS,s.A.KEY_EXTRACTABLE,[]),m=window.crypto.subtle.importKey(s.A.SPKI,o,s.A.ECDH_PARAMS,s.A.KEY_EXTRACTABLE,[]);return Promise.all([c,m]).then((a=>{const n=a[0],r=a[1],i=window.crypto.subtle.exportKey(s.A.JWK,n),o=window.crypto.subtle.exportKey(s.A.JWK,r);return Promise.all([i,o]).then((a=>{const n=JSON.stringify(a[0]),r=JSON.stringify(a[1]);return l.ec_v3_web_with_jws(n,r,e.nonce,t,"ino")}))}))}},9896:(e,t,a)=>{"use strict";a.d(t,{F1:()=>s,Zg:()=>r,Zm:()=>n,eV:()=>l});var n=a(2752),r=a(8726),s=a(6008),l=a(9445)},2752:(e,t,a)=>{"use strict";a.r(t),a.d(t,{encrypt:()=>s});var n=a(6495),r=a(4114);const s=(e,t)=>{let a=t;return"string"==typeof a&&(a=a.replace(/\s/g,"")),((e,t)=>{const a=window.atob(e),s=n.Hf(a);return window.crypto.subtle.importKey(r.A.SPKI,s,{name:t,hash:r.A.SHA_256},r.A.KEY_NOT_EXTRACTABLE,[r.A.ENCRYPT])})(e.publicKey,e.algorithm).then((t=>((e,t,a)=>window.crypto.subtle.encrypt({name:t.algorithm},e,n.Rt(a)).then((e=>({cipherText:window.btoa(String.fromCharCode(...new Uint8Array(e))),publicKeyHash:t.publicKeyHash}))))(t,e,a)))}},6495:(e,t,a)=>{"use strict";a.d(t,{Hf:()=>n,Rt:()=>s,iZ:()=>r});const n=e=>{const t=new ArrayBuffer(e.length),a=new Uint8Array(t);for(let t=0,n=e.length;t<n;t++)a[t]=e.charCodeAt(t);return t},r=e=>{const t=new ArrayBuffer(e.length/2),a=new Uint8Array(t);for(let t=0,n=0;t<e.length;t+=2,n++)a[n]=parseInt(e.substr(t,2),16);return a},s=e=>(new TextEncoder).encode(e)},5333:module=>{var DeviceID={winterTimezoneOffset:new Date(2005,0,15).getTimezoneOffset(),summerTimezoneOffset:new Date(2005,6,15).getTimezoneOffset(),plugins:[],activeX:{Flash:["ShockwaveFlash.ShockwaveFlash",function(e){return e.getVariable("$version")}],Director:["SWCtl.SWCtl",function(e){return e.ShockwaveVersion("")}]},comp:null,getDocumentElement:function(e){var t=null;try{t=document.getElementById(e)}catch(e){}if(null==t)try{t=document.getElementsByName(e)[0]}catch(e){}if(null==t)for(var a=0;a<document.forms.length;a++)for(var n=document.forms[a],r=0;r<n.elements.length;r++){var s=n[r];if(s.name==e||s.id==e)return s}return t},getCompVer:function(e){var t="";try{void 0!==this.comp.getComponentVersion&&(t=this.comp.getComponentVersion(e,"ComponentID"))}catch(e){var a=e.message.length;a=Math.min(40,a),t=escape(e.message.substr(0,a))}return t},findVariable:function(possibles){for(var i=0;i<possibles.length;i++)try{var val=eval(possibles[i]);if(val)return val}catch(e){}return""},getPluginVersion:function(e){var t="";try{if(navigator.plugins&&navigator.plugins.length)for(var a=new RegExp(e+".* ([0-9._]+)"),n=0;n<navigator.plugins.length;n++){var r=a.exec(navigator.plugins[n].name);null===r&&(r=a.exec(navigator.plugins[n].description)),r&&(t=r[1])}else if(window.ActiveXObject&&DeviceID.activeX[e])try{var s=new ActiveXObject(DeviceID.activeX[e][0]);t=DeviceID.activeX[e][1](s)}catch(e){t=""}}catch(e){t=e.message}return t},getPluginVersions:function(){for(var e=["Acrobat","Flash","QuickTime","Java Plug-in","Director","Office"],t=0;t<e.length;t++){var a=e[t];DeviceID.plugins[a]=DeviceID.getPluginVersion(a)}},getDSTOffset:function(){return Math.abs(this.winterTimezoneOffset-this.summerTimezoneOffset)},isDSTSupported:function(){return 0!==this.getDSTOffset()},isDSTActive:function(e){var t=Math.min(this.winterTimezoneOffset,this.summerTimezoneOffset);return this.isDSTSupported()&&e.getTimezoneOffset()==t},getTimezoneOffsetInHours:function(e){var t=0;return this.isDSTActive(e)&&(t=this.getDSTOffset()),-(e.getTimezoneOffset()+t)/60},replaceString:function(e,t,a,n){"boolean"!=typeof n&&(n=!1);for(var r,s=!0;(r=e.indexOf(t))>=0&&(n||s);)e=e.substr(0,r)+a+e.substr(r+t.length),s=!1;return e},getLocalPastDate:function(){return new Date(2005,5,7,21,33,44,888).toLocaleString()},userPrefs:function(debug){this.debug=debug;var dateTimeValue=new Date,attributesToRead=['"TF1"','"015"',"ScriptEngineMajorVersion()","ScriptEngineMinorVersion()","ScriptEngineBuildVersion()","DeviceID.getCompVer('{7790769C-0471-11D2-AF11-00C04FA35D02}')","DeviceID.getCompVer('{89820200-ECBD-11CF-8B85-00AA005B4340}')","DeviceID.getCompVer('{283807B5-2C60-11D0-A31D-00AA00B92C03}')","DeviceID.getCompVer('{4F216970-C90C-11D1-B5C7-0000F8051515}')","DeviceID.getCompVer('{44BBA848-CC51-11CF-AAFA-00AA00B6015C}')","DeviceID.getCompVer('{9381D8F2-0288-11D0-9501-00AA00B911A5}')","DeviceID.getCompVer('{4F216970-C90C-11D1-B5C7-0000F8051515}')","DeviceID.getCompVer('{5A8D6EE0-3E18-11D0-821E-444553540000}')","DeviceID.getCompVer('{89820200-ECBD-11CF-8B85-00AA005B4383}')","DeviceID.getCompVer('{08B0E5C0-4FCB-11CF-AAA5-00401C608555}')","DeviceID.getCompVer('{45EA75A0-A269-11D1-B5BF-0000F8051515}')","DeviceID.getCompVer('{DE5AED00-A4BF-11D1-9948-00C04F98BBC9}')","DeviceID.getCompVer('{22D6F312-B0F6-11D0-94AB-0080C74C7E95}')","DeviceID.getCompVer('{44BBA842-CC51-11CF-AAFA-00AA00B6015B}')","DeviceID.getCompVer('{3AF36230-A269-11D1-B5BF-0000F8051515}')","DeviceID.getCompVer('{44BBA840-CC51-11CF-AAFA-00AA00B6015C}')","DeviceID.getCompVer('{CC2A9BA0-3BDD-11D0-821E-444553540000}')","DeviceID.getCompVer('{08B0E5C0-4FCB-11CF-AAA5-00401C608500}')","navigator.appCodeName","navigator.appName","navigator.appVersion","DeviceID.findVariable(['navigator.productSub','navigator.appMinorVersion'])","navigator.browserLanguage","navigator.cookieEnabled","DeviceID.findVariable(['navigator.oscpu','navigator.cpuClass'])","navigator.onLine","navigator.platform","navigator.systemLanguage","navigator.userAgent","DeviceID.findVariable(['navigator.language','navigator.userLanguage'])","document.defaultCharset","document.domain","screen.deviceXDPI","screen.deviceYDPI","screen.fontSmoothingEnabled","screen.updateInterval","DeviceID.isDSTSupported()","DeviceID.isDSTActive(dateTimeValue)","'@UTC@'","DeviceID.getTimezoneOffsetInHours(dateTimeValue)","DeviceID.getLocalPastDate()","screen.width","screen.height","DeviceID.plugins['Acrobat']","DeviceID.plugins['Flash']","DeviceID.plugins['QuickTime']","DeviceID.plugins['Java Plug-in']","DeviceID.plugins['Director']","DeviceID.plugins['Office']","(new Date().getTime()) - str.getTime()","DeviceID.winterTimezoneOffset","DeviceID.summerTimezoneOffset","dateTimeValue.toLocaleString()","screen.colorDepth","window.screen.availWidth","window.screen.availHeight","window.screen.availLeft","window.screen.availTop","DeviceID.getPluginName('Acrobat')","DeviceID.getPluginName('Adobe SVG')","DeviceID.getPluginName('Authorware')","DeviceID.getPluginName('Citrix ICA')","DeviceID.getPluginName('Director')","DeviceID.getPluginName('Flash')","DeviceID.getPluginName('MapGuide')","DeviceID.getPluginName('MetaStream')","DeviceID.getPluginName('PDFViewer')","DeviceID.getPluginName('QuickTime')","DeviceID.getPluginName('RealOne')","DeviceID.getPluginName('RealPlayer Enterprise')","DeviceID.getPluginName('RealPlayer Plugin')","DeviceID.getPluginName('Seagate Software Report')","DeviceID.getPluginName('Silverlight')","DeviceID.getPluginName('Windows Media')","DeviceID.getPluginName('iPIX')","DeviceID.getPluginName('nppdf.so')","DeviceID.getFontHeight()"];DeviceID.getPluginVersions(),this.rslt="";for(var i=0;i<attributesToRead.length;i++){this.debug&&(this.rslt+=DeviceID.replaceString(attributesToRead[i],'"',"'",!0),this.rslt+="=");var evaluatedResult=null;try{evaluatedResult=eval(attributesToRead[i])}catch(e){evaluatedResult=""}this.rslt+=this.debug?evaluatedResult:escape(evaluatedResult),this.rslt+=";",this.debug&&(this.rslt+="\\n")}this.rslt=DeviceID.replaceString(this.rslt,escape("@UTC@"),(new Date).getTime()),this.encodeData=new Function("return '"+this.rslt+"'")},validateWithField:function(e){try{var t=null;if(null===(t=this.getDocumentElement(e)))return;t.value=DeviceID.validate()}catch(e){}},validate:function(){try{return(new this.userPrefs).encodeData()}catch(e){return escape(e.message)}},getPluginName:function(e){try{if(navigator.plugins&&navigator.plugins.length)for(var t=0;t<navigator.plugins.length;t++){var a=navigator.plugins[t];if(a.name.indexOf(e)>=0)return a.name+(a.description?"|"+a.description:"")}}catch(e){}return""},getFontHeight:function(){var e=document.createElement("span");e.innerHTML="&nbsp;",e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);var t=e.offsetHeight;return document.body.removeChild(e),t}};try{DeviceID.comp=document.createElement("span"),void 0!==DeviceID.comp.addBehavior&&DeviceID.comp.addBehavior("#default#clientCaps")}catch(e){}module.exports=DeviceID},3432:(e,t,a)=>{"use strict";a.d(t,{$S:()=>u,$Z:()=>B,AW:()=>N,Cb:()=>y,DK:()=>S,GN:()=>$,Ge:()=>g,HC:()=>o,LD:()=>R,MJ:()=>T,OD:()=>E,Ru:()=>w,SJ:()=>r,XK:()=>M,XM:()=>O,Zp:()=>L,__:()=>_,a5:()=>c,ak:()=>D,d0:()=>n,fV:()=>k,i9:()=>F,iF:()=>b,iy:()=>I,kV:()=>f,kl:()=>i,n6:()=>A,nl:()=>p,o:()=>x,q6:()=>l,qY:()=>d,rN:()=>C,tW:()=>P,vN:()=>m,xM:()=>s,y0:()=>h,yI:()=>v});const n="h",r="x",s="l",l="u",i="a",o="b",c="c",m="d",d="events",u="f",p="m",g="meta",y="t",v="p",h="r",E=[i,o,c,m,p,y,v,h],b=[u,...E],f={createdAt:0,lastUpdated:{},shouldPersist:!1,wasPersisted:!1,wasAncestorPersisted:!1},A={ACTION:"action",METRIC:"metric",RULE:"rule"},w={ACTION:"action",BLUR:"!focused",CLEAR_BIND_MESSAGES:"clear_bind_messages",CLICK:"click",COMMIT:"commit",DATA:"data",DELETE_MOD:"delete_mod",FOCUS:"focused",LOAD:"load",MAYBE_SET_FOCUS:"maybe_set_focus",METRIC:"metric",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",RUN_DEFERRED_DATA_UPDATES:"run_deferred_data_updates",SET:"set",SET_BIND_PROPERTY:"set_bind_property",SET_BIND_VALUE:"set_bind_value",SET_MOD_DATA:"set_mod_data",SET_MOD_PROPERTY:"set_mod_property",SET_AT_PATH:"set_at_path"},N={ERROR:"ERROR",WARNING:"WARN",INFO:"INFO"},S=["/","^","~"],C="_$$_",k="_$$CACHE",I=`${C}pathToValue`,P="isLoadingFault",L="isLoadingSubmit",T="wasSubmitted",O="wasValidated",D="error",x="messages",M="polling",F={PAGE:"PAGE",MODULE:"MODULE",BINDING:"BINDING"},B={title:"",metric:{},metricName:"",url:"",htmlUrl:""},R=!1,_="Form submitted with client-side errors, canceling POST request.",$="Attempted to run an action that wasn't found in application state."},7970:(e,t,a)=>{"use strict";a.d(t,{E:()=>s});var n=a(3432),r=a(5234);const s=({state:e,ajax:t,modKey:a="",type:s=n.n6.ACTION,initActions:l={}})=>{const i={};return Object.entries(l).forEach((([l,o])=>{const c=(({modKey:e="",type:t=n.n6.ACTION,name:a=""})=>{let r;switch(t){case n.n6.METRIC:r=n.Cb;break;case n.n6.RULE:r=n.y0;break;case n.n6.ACTION:default:r=n.kl}return`${e}.${r}.${a}`})({modKey:a,type:s,name:l});i[l]={key:c,type:s,action:o,run(n={}){const{value:i}=(0,r.C)(o,{state:e,currentModKey:a,ajax:t,key:c,actionArgs:[],origin:{modKey:a,name:l,type:s},...n});return i}}})),i}},8079:(e,t,a)=>{"use strict";a.d(t,{A$:()=>g,DE:()=>u,aD:()=>p});var n=a(2224),r=a.n(n),s=a(3808),l=a(5284),i=a(4771),o=a(3432),c=a(2423),m=a(2709),d=a(8677);const u=({state:e,onOrbitUpdate:t=r().noop,customFetcher:a})=>{const{headers:n}=m.x,u=[],p=new WeakMap;function g(e){const t=u.indexOf(e);t>-1&&u.splice(t,1)}function y(){if(!u.length)return;const e=u[0],a=p.get(e);a&&(t(e,a),u.shift(),p.delete(e),y())}async function v(e){const t=(0,s.A)("createAjax/fetchOrbit"),{body:o,url:c,onComplete:m=r().noop}=e,d={headers:n.get(),method:"POST",credentials:"include",body:o};try{let t;a?t=await a(e,d):(d.timeout=9e4,t=await(0,l.hI)(c,d)),p.set(e,(0,i.bg)(t))}catch(a){t.error(a),g(e),h(e,!1),m({data:{},updated:[],isError:!0})}finally{y()}}function h(t,a){const{modKey:n,origin:r}=t;if(n&&(0,i.hZ)(e,[n,o.yI,o.Zp],a),r){const{modKey:t,bindName:n=""}=r;(0,i.hZ)(e,[t,o.HC,n,o.yI,o.Zp],a)}}function E(t){t.forEach((({modKey:t,bindName:a})=>{(0,i.hZ)(e,[t,o.HC,a,o.yI,o.MJ],!0)}))}function b(t){t.forEach((({modKey:t,bindName:a})=>{(0,i.hZ)(e,[t,o.HC,a,o.yI,o.XM],!0)}))}return{fetchDataFault:async function(t){const c=(0,s.A)("createAjax/fetchDataFault"),{modKey:m,url:u="",onComplete:p=r().noop}=t,g={headers:n.get(),method:"GET",credentials:"include"};let y;try{a?y=await a(t,g):(g.timeout=9e4,y=await(0,l.hI)(u,g)),function(t,a){const{modKey:n,key:s="",onComplete:l=r().noop}=t,c=s?r().get(a,s):a;if(c){const t=r().get(e,[n,o.Ge]);r().get(e,[n,o.Ge,"set"],r().noop)("lastUpdated",[o.vN]),Object.entries(c).forEach((([a,r])=>{const s={state:e,modKey:n,meta:t,key:a,value:r};(0,d.L)(e[n][o.vN],s)})),(0,i.hZ)(e,[n,o.yI,o.tW],!1),l({data:c,updated:[n],isError:!1})}}(t,(0,i.bg)(y))}catch(t){c.error(t),(0,i.hZ)(e,[m,o.yI,o.tW],!1),p({data:{},updated:[],isError:!0})}},enqueue:function(t){u.push(t);const{modKey:a,submit:n,shouldValidate:l=!0,onComplete:i=r().noop}=t,o=()=>h(t,!0);if(!n)return o(),void v(t);const m={state:e,submitFrom:a,shouldValidate:l,setIsLoading:o,setWasSubmitted:E,setWasValidated:b},d=(0,s.A)("createAjax/enqueue/getRequestBody");(0,c.g)(m).then((({body:e})=>{t.body=e,v(t)})).catch((({error:e,submitted:a,validated:n})=>{d.debug(e),h(t,!1),E(a),b(n),g(t),i({data:{},updated:[],isError:!0})}))}}},p=(e,{modKey:t})=>({modKey:t,origin:{modKey:t},isDataFault:!0,url:e.url||"",submit:!1,key:e.key||"",body:null}),g=(e,{modKey:t,origin:a,deferDataUpdate:n,expectedDataUpdate:r})=>({modKey:t,origin:a,isDataFault:!1,deferDataUpdate:n,expectedDataUpdate:r,url:e.url||"",submit:Boolean(e.submit),shouldValidate:!1!==e.validate,includeGsToken:e.includeGSToken||!1,body:null})},1992:(e,t,a)=>{"use strict";a.d(t,{R:()=>c});var n=a(2224),r=a.n(n),s=a(5234),l=a(2676),i=a(4771),o=a(3432);const c=({state:e,ajax:t,modKey:a,bindName:n,initEvents:c=[]})=>{const m=c;m.forEach((r=>{r.on===o.Ru.LOAD&&l.$.add((()=>{const l={modKey:a,bindName:n,eventType:o.Ru.LOAD};d(r),(0,s.C)(r,{state:e,currentModKey:a,ajax:t,origin:l})}))}));const d=t=>{const s=Array.isArray(t.do)?t.do:[t.do],l=Boolean(s.find((t=>{if(r().isString(t)){const n=(0,i._Y)({currentModKey:a,get:t});return r().get(e,[...n,o.n6.ACTION,o.XK])===o.i9.BINDING}return!1})));(0,i.hZ)(e,[a,o.HC,n,o.yI,o.XK],l)};return{actions:m,run:function(r="",l={}){const o=r?m.filter((e=>e.on===r)):m,c=(0,i.NA)(e,{modKey:a,bindName:n}),d={modKey:a,bindName:n,eventType:r};o.forEach((n=>{(0,s.C)(n,{state:e,currentModKey:a,ajax:t,origin:d,actionArgs:[c],...l})}))}}}},5593:(e,t,a)=>{"use strict";a.d(t,{R:()=>n});const n=()=>{const e=new Set,t=new Set;return{add:(a,n)=>{e.add(a),t.add(`${a}.${n}`)},is:(e,a)=>!(!e||!a)&&t.has(`${e}.${a}`),maybeIn:()=>[...e],clear:()=>{t.clear()}}}},571:(e,t,a)=>{"use strict";a.d(t,{X:()=>m});var n=a(2224),r=a.n(n),s=a(3432),l=a(1992),i=a(8466),o=a(2709);const c={submit:!1,[s.MJ]:!1,[s.XM]:!1,[s.Zp]:!1,polling:!1,validate:null,enabled:!0,active:!0,optional:!1,focused:!1,visible:!0,valid:"",info:"",warn:"",type:"",subtype:""},m=({state:e,meta:t,ajax:a,modKey:n,initBindings:m={}})=>{const{bindingToFocus:d}=o.x,u={};return Object.keys(m).forEach((o=>{const p={...c,...m[o]},g={},y=Object.entries(p).reduce(((e,[t,a])=>([s.yI,s.qY].includes(t)||(e[t]=r().get(p,[s.yI,t],a),"focused"===t&&d.is(n,o)&&(e[t]=!1)),e)),{...p[s.yI]||{}});Object.defineProperties(g,{[s.yI]:{enumerable:!0,writable:!1,value:(0,i.K)({modKey:n,ajax:a,meta:t,bindName:o,initProps:y,state:e})},[s.qY]:{enumerable:!0,writable:!1,value:(0,l.R)({state:e,modKey:n,bindName:o,initEvents:p[s.qY]||[],ajax:a})}}),Object.defineProperty(u,o,{enumerable:!0,writable:!1,value:g})})),u}},8466:(e,t,a)=>{"use strict";a.d(t,{K:()=>d,g:()=>m});var n=a(2224),r=a.n(n),s=a(3432),l=a(5234),i=a(2709),o=a(4771),c=a(3507);const m=(e,{state:t,ajax:a,modKey:n,meta:m,bindName:d="",pathToValue:u="",key:p,value:g})=>{const{dependents:y,subscriptions:v}=i.x,h=Boolean(d&&u);Object.defineProperty(e,`${s.rN}${p}`,{enumerable:!1,writable:!0,value:g}),Object.defineProperty(e,p,{enumerable:!0,configurable:!0,get(){const i=e[`${s.rN}${p}`],c=[],m={modKey:n,isCompute:!0,bindName:d};if(h){const e=(0,o._Y)({currentModKey:n,get:u}),a=r().get(t,e);c.push(a)}const{value:g="",dependencies:v=[]}=(0,l.C)(i,{state:t,ajax:a,actionArgs:c,currentModKey:n,origin:m});return v.forEach((e=>{y.add(e,n)})),g},set(a){if(e[`${s.rN}${p}`]!==a){e[`${s.rN}${p}`]=a;const r=h?s.HC:s.yI;m.set("lastUpdated",[r]),(0,c.G)(t,n),v.run([n])}}})},d=({state:e,ajax:t,modKey:a="",meta:n,defaultProps:r={},initProps:l={},bindName:i=""})=>{const o={key:"",...r,...l},c=Boolean(i),d=c?`${a}.${i}`:a;let u="";c&&(u=o.key?String(o.key):`${s.vN}.${i}`),Object.entries(o).forEach((([r,s])=>{m(o,{state:e,ajax:t,modKey:a,meta:n,bindName:i,pathToValue:u,key:r,value:s})})),Object.defineProperty(o,"key",{enumerable:!0,writable:!1,value:d}),u&&Object.defineProperty(o,s.iy,{enumerable:!1,writable:!1,value:u});let p=null;const g={get:()=>p||(p={key:d},Object.entries(o).forEach((([e,t])=>{p&&(p[e]=t)})),p),clear:()=>{p=null},debug:()=>p};return Object.defineProperty(o,s.fV,{enumerable:!1,writable:!1,value:g}),o}},8677:(e,t,a)=>{"use strict";a.d(t,{L:()=>i,v:()=>o});var n=a(3432),r=a(2709),s=a(3507),l=a(8976);const i=(e,{state:t,modKey:a,meta:i,key:o,value:c})=>{const{subscriptions:m}=r.x;(0,l.eO)(o,c)&&i.set("lastUpdated",[n.nl]),Object.defineProperty(e,`${n.rN}${o}`,{enumerable:!1,writable:!0,value:c}),Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>e[`${n.rN}${o}`],set(r){e[`${n.rN}${o}`]!==r&&(e[`${n.rN}${o}`]=r,i.set("lastUpdated",[n.vN]),(0,s.G)(t,a),m.run([a]))}})},o=({state:e,modKey:t,meta:a,initData:n={}})=>{const r={};return Object.entries(n).forEach((([n,s])=>{i(r,{state:e,modKey:t,meta:a,key:n,value:s})})),r}},1520:(e,t,a)=>{"use strict";a.d(t,{G:()=>m});var n=a(2224),r=a.n(n),s=a(3432),l=a(2709),i=a(2676),o=a(1307);const c=[s.xM,s.SJ,s.q6],m=()=>{const e=[];return{add:({keysToDefer:t=[],keysExpected:a,data:n,origin:s})=>{const l=[],i=n.meta||{},o=Object.keys(n.meta).filter((e=>c.includes(e)));if(a){if(!r().isEqual(a.sort(),o.sort()))return l}return t.forEach((t=>{if(i[t]){const a={...n};a.meta={[t]:i[t]},e.push({data:a,origin:s,key:t}),l.push(t)}})),l},run:({state:t,ajax:a,filters:n={}})=>{const{subscriptions:r}=l.x;e.forEach(((s,l)=>{const{data:c,origin:m,key:d}=s;if(n.modKey&&m.modKey!==n.modKey)return;if(n.bindName&&m.bindName!==n.bindName)return;if(n.key&&d!==n.key)return;const u=(0,o.v)(t,{data:c,ajax:a});r.run(u),i.$.run(),i.$.clear(),e.splice(l,1)}))},queue:e,clear:()=>{e.splice(0,e.length)}}}},97:(e,t,a)=>{"use strict";a.d(t,{d:()=>n});const n=()=>{let e={};const t=(a,n=new Set)=>{const r=e[a];return r&&r.forEach((e=>{if(!n.has(e))return n.add(e),t(e,n)})),[...n]};return{get:t,add:(t,a)=>{t!==a&&(e[t]||(e[t]=new Set),e[t].add(a))},clear:(t="")=>{t?delete e[t]:e={}}}}},4743:(e,t,a)=>{"use strict";a.d(t,{B:()=>i});var n=a(2224),r=a.n(n),s=a(3432);const l={"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"Fetch","x-aos-model-page":"","x-aos-stk":"",syntax:"",modelVersion:""},i=()=>{const e={...l};return{get:t=>t?e[t]:{...e},update:t=>{const a=r().get(t,[s.Ge,s.d0],{});Object.assign(e,a)}}}},9433:(e,t,a)=>{"use strict";a.d(t,{R:()=>l});var n=a(3432),r=a(2709);const s=Object.values(n.AW),l=({modKey:e,initMessages:t=[]})=>{const{bindingToFocus:a}=r.x;return Array.isArray(t)?t.filter((e=>Boolean(e.text))).map((t=>{if(t.key){const n=t.key.split(".").pop()||"";a.add(e,n)}return{key:t.key||"",text:t.text||"",level:s.includes(t.level)?t.level:n.AW.ERROR}})):[]}},4707:(e,t,a)=>{"use strict";a.d(t,{q:()=>l});var n=a(2224),r=a.n(n),s=a(3432);const l=()=>{const e=r().cloneDeep(s.kV);e.createdAt=Date.now(),t([s.kl,s.HC,s.a5,s.vN,s.nl,s.Cb,s.yI,s.y0]);function t(t){const a=Date.now();t.forEach((t=>{s.OD.includes(t)&&(e.lastUpdated[t]=a)}))}return{get:()=>({...e}),set:(a,n)=>{switch(a){case"lastUpdated":Array.isArray(n)&&t(n);break;case"createdAt":e[a]=Number(n);break;case"shouldPersist":case"wasPersisted":case"wasAncestorPersisted":e[a]=Boolean(n)}}}}},9030:(e,t,a)=>{"use strict";a.d(t,{l:()=>y});var n=a(2224),r=a.n(n),s=a(3432),l=a(4707),i=a(7970),o=a(571),c=a(8466),m=a(8677),d=a(9433),u=a(4771),p=a(8079);const g={[s.tW]:!1,[s.Zp]:!1,visible:!0,enabled:!0,active:!0,valid:""},y=({data:e,modKey:t,modData:a,state:n,ajax:y})=>{const v={},h=a[s.yI]||{},E=a[s.$S];if(E){if(E.abstract){const n=(0,u.Mt)({from:t,to:E.abstract}),l=r().get(e,n,{});a[s.kl]={...l[s.kl],...a[s.kl]},a[s.HC]={...l[s.HC],...a[s.HC]},a[s.vN]={...l[s.vN],...a[s.vN]},a[s.a5]=[...l[s.a5]||[],...a[s.a5]||[]],a[s.Cb]={...l[s.Cb],...a[s.Cb]},a[s.nl]=[...l[s.nl]||[],...a[s.nl]||[]],a[s.yI]={...l[s.yI],...a[s.yI]},a[s.y0]={...l[s.y0],...a[s.y0]}}if(E.url&&"data"===E.type){h[s.tW]=!0;const e=(0,p.aD)(E,{modKey:t});y.fetchDataFault(e)}}const b=(0,l.q)(),f=(0,d.R)({modKey:t,initMessages:a[s.nl]||[]});return Object.defineProperties(v,{[s.kl]:{enumerable:!0,writable:!1,value:(0,i.E)({state:n,ajax:y,modKey:t,type:s.n6.ACTION,initActions:a[s.kl]||{}})},[s.HC]:{enumerable:!0,writable:!1,value:(0,o.X)({state:n,meta:b,ajax:y,modKey:t,initBindings:a[s.HC]||{}})},[s.a5]:{enumerable:!0,writable:!0,value:a[s.a5]||[]},[s.vN]:{enumerable:!0,writable:!1,value:(0,m.v)({state:n,modKey:t,meta:b,initData:a[s.vN]||{}})},[s.nl]:{enumerable:!0,writable:!0,value:f},[s.Ge]:{enumerable:!0,writable:!1,value:b},[s.Cb]:{enumerable:!0,writable:!1,value:(0,i.E)({state:n,ajax:y,modKey:t,type:s.n6.METRIC,initActions:a[s.Cb]||{}})},[s.yI]:{enumerable:!0,writable:!1,value:(0,c.K)({state:n,ajax:y,modKey:t,meta:b,defaultProps:g,initProps:h})},[s.y0]:{enumerable:!0,writable:!1,value:(0,i.E)({state:n,ajax:y,modKey:t,type:s.n6.RULE,initActions:a[s.y0]||{}})}}),v}},7362:(e,t,a)=>{"use strict";a.d(t,{a:()=>l});var n=a(2224),r=a.n(n),s=a(3432);const l=()=>{const e=new Set;let t=null;const a=e=>{const a=r().get(e,"meta.page",null);return!!a&&(t={...s.$Z,...a},!0)};return{set:a,get:()=>t?{...t}:null,addListener:t=>(e.add(t),()=>e.delete(t)),update:n=>{a(n)&&e.forEach((e=>e(t)))},listeners:e,debug:t}}},539:(e,t,a)=>{"use strict";a.d(t,{t:()=>n});const n=e=>{const t={},a={func:e=>e()},n=(a=[])=>{const n=new Set;a.forEach((a=>{(a=>{const n=new Set(t[a]);return e.get(a).forEach((e=>{t[e]&&t[e].forEach((e=>{n.add(e)}))})),n})(a).forEach((e=>{n.add(e)}))})),n.forEach((e=>{e()}))};return{add:(e,a)=>(t[e]||(t[e]=new Set),t[e].add(a),function(){t[e].delete(a)}),run:e=>{const t=[...e];a.func((()=>n(t)))},setRunner:e=>{a.func=e},clear:e=>{delete t[e]},debug:()=>t}}},754:(e,t,a)=>{"use strict";a.d(t,{S:()=>v});var n=a(2224),r=a.n(n),s=a(2709),l=a(1307),i=a(8079),o=a(8677),c=a(8395),m=a(2676),d=a(4771),u=a(8976),p=a(3432),g=a(3507);const y={meta:{}},v=(e=y,t,a={})=>{const{headers:n,subscriptions:v,deferredDataUpdates:h,page:E}=s.x;n.update(e),E.set(e);const b={},f=(0,i.DE)({state:b,onOrbitUpdate:A,customFetcher:a.customFetcher});function A(e,t){const{modKey:a,deferDataUpdate:s,expectedDataUpdate:i,origin:o,onComplete:c=r().noop}=e,{modKey:u,bindName:y=""}=o,A=`${p.rN}${p.Zp}`;if((0,d.hZ)(b,[a,p.yI,A],!1),(0,d.hZ)(b,[u,p.HC,y,p.yI,A],!1),(0,g.G)(b,a),a!==u&&(0,g.G)(b,u),s){h.add({keysToDefer:s,keysExpected:i,data:t,origin:o}).forEach((e=>delete t.meta[e]))}const w=(0,l.v)(b,{data:t,ajax:f});w.add(a),w.add(u),v.run(w),E.update(t),n.update(t),m.$.run(),m.$.clear(),c({data:t,updated:[...w],isError:!1})}function w(e){return Boolean(b[e])}function N(e,t){if(!b[e])return t?null:{};const a=b[e][p.yI][p.fV].get();return t?r().get(a,t,null):{...a}}function S(e,t,a){const n=r().get(b,[e,p.HC,t],null);if(!n)return a?null:{};const s=n[p.yI][p.fV].get();return a?r().get(s,a,null):{...s}}return(0,l.v)(b,{data:e,ajax:f}),m.$.run(),m.$.clear(),t&&v.setRunner(t),{dispatch:function(e){(0,c.j)(b,e,{ajax:f})},getHeaders:function(e){return n.get(e)},fetchOrbit:function(e,t=r().noop){const{isDataFault:a=!1}=e,n={modKey:"",origin:{modKey:""},isDataFault:!1,body:null,onComplete:t,...e};a?f.fetchDataFault(n):f.enqueue(n)},moduleExists:w,moduleShouldPersist:function(e){w(e)&&b[e][p.Ge].set("shouldPersist",!0)},moduleWasPersisted:function(e){if(w(e)){b[e][p.Ge].set("wasPersisted",!0);const t=(0,d.Zx)(b,e);t.forEach((e=>{b[e][p.Ge].set("wasAncestorPersisted",!0)})),v.run([e,...t])}},moduleActive:function(e=""){return!!w(e)&&!b[e][p.Ge].get().wasPersisted},getModuleMeta:function(e){return w(e)?b[e][p.Ge].get():{...p.kV}},getModuleData:function(e,t,a){if(!w(e))return t?a:{};if(!t)return{...b[e][p.vN]};const n=b[e][p.vN][t];return void 0===n&&void 0!==a?((0,o.L)(b[e][p.vN],{state:b,modKey:e,meta:b[e][p.Ge],key:t,value:a}),a):n},getModuleProps:N,getModuleChildren:function(e){return r().get(b,[e,p.a5],[]).map((t=>`${e}.${t}`))},getModuleMessages:function(e,t={}){return(0,u.VL)(b,{modKey:e,...t})},getModuleBindingData:function(e){const t={};return w(e)?Object.keys(b[e][p.HC]).reduce(((t,a)=>(t[a]=(0,d.NA)(b,{modKey:e,bindName:a}),t)),t):t},getModulePolling:function(e){return!!w(e)&&Boolean(Object.keys(b[e][p.kl]).find((t=>r().get(b,[e,p.kl,t,p.n6.ACTION,p.XK])===p.i9.MODULE)))},getPagePolling:function(){return Boolean(Object.keys(b).find((e=>Object.keys(b[e][p.kl]).find((t=>r().get(b,[e,p.kl,t,p.n6.ACTION,p.XK])===p.i9.PAGE)))))},bindingExists:function(e,t){return!!w(e)&&Boolean(b[e][p.HC][t])},getBindingProps:S,getBindingValue:function(e,t){return(0,d.NA)(b,{modKey:e,bindName:t})},getBindingMessages:function(e,t,{level:a}={}){return(0,u.VL)(b,{modKey:e,bindName:t,level:a})},getAtSpecPath:function(e,t){const a=(0,d._Y)({currentModKey:e,get:t}),n=a[0],s=3===a.length&&a[1]===p.yI,l=5===a.length&&a[4]===p.yI;let i;if(s){i=N(n,a[2])}else if(l){i=S(n,a[2],a[4])}else i=r().get(b,a);return{modKey:n,value:i}},subscribe:function(e,t){return v.add(e,t)},getPage:function(){return E.get()},addPageListener:function(e){return E.addListener(e)},debug:function(){return{state:b,ajax:f,onOrbitUpdate:A,...s.x}}}}},7841:(e,t,a)=>{"use strict";a.d(t,{AW:()=>r.AW,HC:()=>r.HC,MJ:()=>r.MJ,Ru:()=>r.Ru,S6:()=>n.S,XM:()=>r.XM,yI:()=>r.yI});var n=a(754),r=a(3432)},3507:(e,t,a)=>{"use strict";a.d(t,{G:()=>i});var n=a(2224),r=a.n(n),s=a(3432),l=a(2709);const i=(e,t)=>{[t,...l.x.dependents.get(t)].forEach((t=>{if(!e[t])return;e[t][s.yI][s.fV].clear();const a=r().get(e,[t,s.HC],{});Object.values(a).forEach((e=>{e[s.yI][s.fV].clear()}))}))}},8296:(e,t,a)=>{"use strict";a.d(t,{s:()=>s});var n=a(3432),r=a(4771);const s=(e,t,{forceDelete:a=!1}={})=>{const s=[];if(!e[t])return s;const l=e[t][n.Ge],i=l.get().shouldPersist&&!a;(0,r.Zx)(e,t).forEach((t=>{i?e[t][n.Ge].set("wasAncestorPersisted",!0):delete e[t],s.push(t)})),i?l.set("wasPersisted",!0):delete e[t],s.push(t);const o=t.split("."),c=o.pop(),m=o.join("."),d=e[m];return d&&(d[n.a5]=d[n.a5].filter((e=>e!==c)),s.push(m)),s}},2423:(e,t,a)=>{"use strict";a.d(t,{g:()=>d});var n=a(2224),r=a.n(n),s=a(8654),l=a(3432),i=a(4771),o=a(8976),c=a(2709);const m=e=>Object.entries(e).map((([e,t])=>`${encodeURIComponent((0,i.As)(e))}=${encodeURIComponent((0,i.As)(t))}`)).join("&"),d=({state:e,submitFrom:t,shouldValidate:a=!0,setIsLoading:n=r().noop,setWasSubmitted:d=r().noop,setWasValidated:u=r().noop})=>{const{bindingToFocus:p}=c.x,g={},y={},v=[],h=[];let E=!1;!function t(n){const s=e[n];if(!Boolean(s&&s[l.yI].active&&s[l.yI].enabled&&!s[l.Ge].get().wasPersisted))return;const c=s[l.HC];Object.entries(c).forEach((([t,s])=>{const c=`${n}.${t}`,m=Boolean(s[l.yI].submit&&s[l.yI].active),d=s[l.yI].validate;if(!m&&!d)return;const u=r().get(e,[n,l.HC,t,l.yI,l.iy],""),b=(0,i._Y)({currentModKey:n,get:u}),f=(e=>(0,i.Im)(e)?"":e)(r().get(e,b,"")),A=Boolean(s[l.yI].optional&&!f);if(a&&!1!==d&&!A){const a=(0,o.VL)(e,{modKey:n,bindName:t,level:l.AW.ERROR}),r=Boolean(a.length),i=Boolean(s[l.yI].valid);if(r||i)return E=!0,h.push({modKey:n,bindName:t,hasError:!0}),p.add(n,t),void(m&&v.push({modKey:n,bindName:t,hasError:!0}));h.push({modKey:n,bindName:t,hasError:!1})}if(m){v.push({modKey:n,bindName:t,hasError:!1}),g[c]=f;const{encryption:e}=s[l.yI];e&&f&&(y[c]=e)}})),s[l.a5].forEach((e=>{t(`${n}.${e}`)}))}(t),E||n(),d(v),u(h);const b=Boolean(Object.keys(y).length);if(!E&&b){const e=Object.keys(y),t=[];return Object.entries(y).forEach((([e,a])=>{const n=g[e];t.push((0,s.w)(a,n))})),Promise.all(t).then((t=>{t.forEach(((t,a)=>{const n=e[a],r=y[n];g[n]=null===t&&"rsa-with-hash"===r.scheme?"FAIL":t}));return{body:m(g),submitted:v,validated:h}})).catch((e=>Promise.reject({error:e,submitted:v,validated:h})))}return new Promise(((e,t)=>{if(E){t({error:new Error(l.__),submitted:v,validated:h})}else{e({body:m(g),submitted:v,validated:h})}}))}},4771:(e,t,a)=>{"use strict";a.d(t,{As:()=>v,Im:()=>y,ML:()=>d,Mt:()=>i,NA:()=>g,Th:()=>p,Zx:()=>m,_Y:()=>u,bg:()=>h,eL:()=>c,hZ:()=>b,i4:()=>E,sB:()=>o});var n=a(2224),r=a.n(n),s=a(7920),l=a(3432);const i=({from:e="",to:t=""})=>{if(!t)return e;let a="";const n=t[0];switch(l.DK.includes(n)&&(a=n,t=t.split("").slice(1).join("")),a){case"/":return t;case"^":return t?e.split(".").slice(0,-1).concat(t).join("."):e.split(".").slice(0,-1).join(".");default:return e?`${e}.${t}`:t}},o=e=>e.split(".").slice(0,-1).join("."),c=e=>e.split(".").pop()||"",m=(e,t,a=new Set)=>(r().get(e,[t,l.a5],[]).forEach((n=>{const r=`${t}.${n}`;e[r]&&a.add(r),m(e,r,a)})),[...a]),d=(e,t,a)=>t.split(".").some(((t,n,r)=>{const s=[...Array(n)].map(((e,t)=>r[t])).join(".");if(e[s]){const t=a.includes(s),{shouldPersist:n}=e[s][l.Ge].get();return t&&n}return!1})),u=({currentModKey:e="",get:t=""})=>{let a="";const n=t[0];l.DK.includes(n)&&(a=n,t=t.split("").slice(1).join(""));const r=t.split("."),s=r.findIndex((e=>l.iF.includes(e))),o=r.slice(0,s),c=i({from:e,to:`${a}${o.join(".")}`}),m=r.slice(s);return m[0]===l.HC&&m[2]!==l.yI&&m.splice(2,0,l.yI),[c,...m]},p=e=>{const t=3===e.length&&e[1]===l.vN,a=3===e.length&&e[1]===l.yI,n=5===e.length&&e[1]===l.HC&&e[3]===l.yI;return t||a||n},g=(e,{modKey:t,bindName:a})=>{const n=r().get(e,[t,l.HC,a,l.yI,l.iy],""),s=u({currentModKey:t,get:n});return r().get(e,s,null)},y=e=>null==e||""===String(e).trim(),v=e=>"string"==typeof e?e:JSON.stringify(e),h=e=>{let t=null;try{t=s.L(e)}catch(e){}return t},E=e=>{if(null==e)return"";const t=Math.abs(e/60),a=Math.abs(e%60);return`GMT${e>0?"-":"+"}${t<10?"0":""}${t}${a<10?"0":""}${a}`},b=(e,t,a)=>{const n=t.pop()||"";r().get(e,t,{})[n]=a}},8976:(e,t,a)=>{"use strict";a.d(t,{VL:()=>d,eO:()=>o});var n=a(2224),r=a.n(n),s=a(3432);const l=Object.values(s.AW),i=(e,t=s.AW.ERROR)=>({key:"",text:e||"",level:l.includes(t)?t:s.AW.ERROR}),o=(e,t)=>{if(e!==s.o||!t)return!1;const a=Array.isArray(t.errors),n=Array.isArray(t.infos);return a||n},c=(e,t)=>{const a=[t,s.vN,s.o];return[...r().get(e,[...a,"errors"],[]).map((e=>i(e,s.AW.ERROR))),...r().get(e,[...a,"infos"],[]).map((e=>i(e,s.AW.INFO)))]},m=(e,t)=>{const a=e[`${t}.${s.ak}`];return[...r().get(a,[s.vN,"errors"],[]).map((e=>i(e,s.AW.ERROR))),...r().get(a,[s.vN,"infos"],[]).map((e=>i(e,s.AW.INFO)))]},d=(e,{modKey:t,bindName:a="",level:n="",includeAll:l=!1})=>{if(!t)return[];let i=[...r().get(e,[t,s.nl],[]),...c(e,t),...m(e,t)];if(l)return i;if(a){const e=`${s.HC}.${a}`;i=i.filter((t=>t.key===e))}else i=i.filter((e=>!e.key));return n&&(i=i.filter((e=>e.level===n))),i}},2676:(e,t,a)=>{"use strict";a.d(t,{$:()=>r});let n=[];const r={add:e=>{n.push(e)},run:()=>{n.forEach((e=>{e()}))},clear:()=>{n=[]}}},5234:(e,t,a)=>{"use strict";a.d(t,{C:()=>m});var n=a(2224),r=a.n(n),s=a(8079),l=a(3432),i=a(4771),o=a(8296),c=a(2709);const m=(e,{state:t,actionArgs:a=[],currentModKey:n="",ajax:m,key:d="",origin:u,deferDataUpdate:p,expectedDataUpdate:g})=>{const y=new Set,v=r().get(window,"asMetrics.fireMicroEventCollection",r().noop),h=r().get(window,"acStore.__setItemCount",r().noop),{subscriptions:E}=c.x,b=(e,{updatedActionArgs:c=null,isDelayed:f=!1}={})=>{if(!(r().isObject(e)&&!Array.isArray(e)))return e;c&&(a=c);const A=e.args||[],w=A.map((e=>b(e)));if(e.delay&&!f)return e.delayId&&clearTimeout(e.delayId),e.delayId=setTimeout((()=>{b(e,{isDelayed:!0})}),e.delay),null;if(e.condition&&!b(e.condition))return null;if(e.if){const t=b(e.if)?e.then:e.else;return b(t)}if(!e.streaming&&e.url){const t=r().toString(b(e.url)||"");if("_top"===e.target)window.location.href=t;else{const a=e.module?(0,i.Mt)({from:n,to:b(e.module)}):n,r={...e,url:t},l=(0,s.A$)(r,{modKey:a,origin:u||{modKey:n},deferDataUpdate:p,expectedDataUpdate:g});m.enqueue(l)}}if(e.streaming){const t=new window.EventSource(e.url);t.addEventListener("message",(e=>{const t=JSON.parse(e.data);(0,i.bg)(t)})),t.addEventListener("close",(e=>{t.close();const a=JSON.parse(e.data);(0,i.bg)(a)}))}if("error"in e)return b(e.error);if("val"in e){const t=b(e.val),n=r().isNumber(t)?t:0;return a[n]}if(e.set){const a=r().toString(b(e.set)),s=(0,i._Y)({currentModKey:n,get:a}),l=b(e.to);(0,i.Th)(s)&&(0,i.hZ)(t,s,l)}if(e.update){const a=b(e.from)||e.from||{},s=r().toString(b(e.update))||l.vN;if(r().isObject(a)){const e=(0,i._Y)({currentModKey:n,get:s});Object.entries(a).forEach((([a,n])=>{(0,i.hZ)(t,[...e,a],n)}))}}if(e.get){const s=w.length>0?w:a,l=b(e.get,{updatedActionArgs:s});if(r().isString(l)){const e=(0,i._Y)({currentModKey:n,get:l}),a=r().get(t,e);if(Boolean(a&&a.run))return a.run({actionArgs:s,origin:u});const[o]=e;return o!==n&&y.add(o),a}return b(l,{updatedActionArgs:s})}if(e.do){(Array.isArray(e.do)?e.do:[e.do]).forEach((s=>{if(r().isString(s)){const o=(0,i._Y)({currentModKey:n,get:s}),c=r().get(t,o);if(c.run){const e={actionArgs:a,origin:u,deferDataUpdate:p,expectedDataUpdate:g};c.run(e)}else l.LD&&console.warn(l.GN,n,e.do)}else b(s)}))}if(e.metric){const s=r().toString(b(e.metric)),o=(0,i._Y)({currentModKey:n,get:s}),c=r().get(t,o,{});c.run?c.run({actionArgs:a,origin:u}):l.LD&&console.warn(l.GN,n,s)}if(e.microEvents||e.macroEvents||e.products){const t=r().toString(b(e.macroEvents)),a=r().toString(b(e.products)),n=(e.microEvents||[]).map((e=>({key:b(e.key),value:b(e.value),feature:b(e.feature),slot:b(e.slot)})));if(Boolean(t||a||n.length)){const e={microEvents:n,macroEvents:t};a&&(e.products=a),v({[d]:e},(()=>{}))}}if(e.delete&&b(e.delete)){const e=(0,o.s)(t,n);E.run(e)}if(e.op){const t=r().toString(b(e.op)),a=t.startsWith("!"),n=!a,s=a?t.slice(1):t,l=w[0],o=w.slice(1);if("NUMERIC"===s){return w.every((e=>!Number.isNaN(parseFloat(e))))?n:a}if("MATCH"===s){const e=r().toString(w[0]);return o.every((t=>r().toString(t).match(e)))?n:a}if("MATCHALL"===s){const e=r().toString(w[0]);return o.every((t=>e.match(r().toString(t))))?n:a}if("MATCHANY"===s){const e=r().toString(w[0]);return o.some((t=>e.match(r().toString(t))))?n:a}if("EMPTY"===s){return w.every((e=>(0,i.Im)(e)))?n:a}if("AND"===s){return w.every((e=>Boolean(e)))?n:a}if("OR"===s){return w.some((e=>Boolean(e)))?n:a}if("EQ"===s){return w.every((e=>e===w[0]))?n:a}if("GT"===s){const e=parseFloat(l);return o.every((t=>e>parseFloat(t)))?n:a}if("LT"===s){const e=parseFloat(l);return o.every((t=>e<parseFloat(t)))?n:a}if("GTE"===s){const e=parseFloat(l);return o.every((t=>e>=parseFloat(t)))?n:a}if("LTE"===s){const e=parseFloat(l);return o.every((t=>e<=parseFloat(t)))?n:a}if("ADD"===s)return o.reduce(((e,t)=>e+t),l);if("SUB"===s)return o.reduce(((e,t)=>e-parseFloat(t)),parseFloat(l));if("DIV"===s)return o.reduce(((e,t)=>e/parseFloat(t)),parseFloat(l));if("JOIN"===s&&!w[1]){const e=l;return w.slice(2).join(r().toString(e))}if("JOIN"===s&&w[1])return w.slice(2).filter((e=>!(0,i.Im)(e))).join(r().toString(l));if("IN"===s){const e=w[1],t=r().isObject(l)?null:l;return Array.isArray(e)&&e.includes(t)||r().isString(t)&&r().isString(e)&&e.includes(t)?n:a}if("REPLACE"===s){const e=r().toString(w[0]),t=new RegExp(r().toString(w[1])),a=r().toString(w[2]);return e.replace(t,a)}if("LENGTH"===s)return r().isString(l)||Array.isArray(l)?l.length:r().isNumber(l)?l.toString().length:0;if("ROUND"===s){const e=parseFloat(r().toString(w[0])),t=parseFloat(w[1]);return null===t?e:e.toFixed(t)}if("FLOAT"===s){const e=w[1]?r().toString(w[1]):".",t=r().toString(w[0]).split(e,2).map((e=>e.replace(/[^\d\-+]/g,""))).join(".");return parseFloat(t)}if("NOT"===s)return!w[0];if("LUHN"===s){const e=r().toString(w[0]).replace(/\D/g,""),t=e.length%2;let a=0;for(let n=0;n<e.length;n++){let r=parseFloat(e.charAt(n));n%2===t&&(r*=2,r>9&&(r-=9)),a+=r}return a%10==0}if("DEVICEID"===s&&window.DeviceID)return window.DeviceID.validate();if("FDC"===s)return encodeURIComponent(JSON.stringify({U:window.navigator.userAgent,L:window.navigator.language||"",Z:(0,i.i4)((new Date).getTimezoneOffset()),V:"1.0"}))}return"updateBagCount"===e.method&&h(parseFloat(A[0])),e.print&&window.print(),e};return{value:b(e),dependencies:[...y]}}},2709:(e,t,a)=>{"use strict";a.d(t,{x:()=>d});var n=a(4743),r=a(97),s=a(539),l=a(5593),i=a(1520),o=a(7362);const c=(0,n.B)(),m=(0,r.d)(),d={headers:c,dependents:m,subscriptions:(0,s.t)(m),bindingToFocus:(0,l.R)(),deferredDataUpdates:(0,i.G)(),page:(0,o.a)()}},1307:(e,t,a)=>{"use strict";a.d(t,{v:()=>p});var n=a(2224),r=a.n(n),s=a(3432),l=a(4771),i=a(9030),o=a(9433),c=a(3507),m=a(8677),d=a(8466),u=a(8296);const p=(e,{data:t,ajax:a})=>{const n=new Set,p=r().get(t,"meta",{});var g;function y({modData:l,parentModKey:o="",name:c=""}){const m=Boolean(o),d=m?`${o}.${c}`:c;if(!l)return;if(m&&e[o]){const t=e[o][s.a5];t.includes(c)||t.push(c)}if(m&&c===s.ak){r().get(e,[o,s.Ge,"set"],r().noop)("lastUpdated",[s.nl])}e[d]=(0,i.l)({data:t,modKey:d,modData:l,state:e,ajax:a}),n.add(d);(l[s.a5]||[]).forEach((e=>{y({modData:l[e],parentModKey:d,name:e})}))}return p[s.SJ]&&(p[s.SJ]||[]).forEach((t=>{const a=(0,l.Mt)({to:t});e[a]&&(0,u.s)(e,a).forEach((e=>{n.add(e)}))})),p[s.xM]&&(p[s.xM]||[]).forEach((a=>{const i=(0,l.Mt)({to:a}),o=r().get(t,i,{}),c=[],m=Object.keys(e).reduce(((e,a)=>(a.startsWith(i)&&!r().get(t,a,!1)&&e.push(a),e)),c);m.forEach((t=>{n.add(t);const a=e[t][s.Ge],{shouldPersist:r}=a.get(),i=(0,l.ML)(e,t,m);r?a.set("wasPersisted",!0):i?a.set("wasAncestorPersisted",!0):delete e[t]})),y({modData:o,parentModKey:(0,l.sB)(i),name:(0,l.eL)(i)})})),p[s.q6]&&(g=p[s.q6]||{},Object.entries(g).forEach((([i,u])=>{const p=u,g=(0,l.Mt)({to:i});if(!Boolean(e[g]))return;const y=r().get(e,[g,s.Ge]),v=[],h=g.split("."),E=h.length>1,b=h.pop();if(E&&b===s.ak){const t=h.join(".");r().get(e,[t,s.Ge,"set"],r().noop)("lastUpdated",[s.nl])}p.forEach((n=>{const i=`${g}.${n}`;switch(n.split(".").shift()||s.vN){case s.nl:{const a=t,n=r().get(a,i,[]),c=(0,o.R)({modKey:g,initMessages:n});(0,l.hZ)(e,[g,s.nl],c),v.push(s.nl);break}case s.vN:(0,m.L)(e[g][s.vN],{state:e,modKey:g,meta:y,key:n.split(".")[1],value:r().get(t,i)}),v.push(s.vN);break;case s.yI:(0,d.g)(e[g][s.yI],{state:e,ajax:a,modKey:g,meta:y,key:n.split(".")[1],value:r().get(t,i)}),v.push(s.yI);break;case s.HC:{const l=n.split("."),o=l[1],c=e[g][s.HC][o];c&&(0,d.g)(c[s.yI],{state:e,ajax:a,modKey:g,meta:y,bindName:o,pathToValue:c[s.yI][s.iy],key:l[2]===s.yI?l[3]:l[2],value:r().get(t,i)}),v.push(s.HC);break}}})),(0,c.G)(e,g),y.set("lastUpdated",v),n.add(g)}))),n}},8395:(e,t,a)=>{"use strict";a.d(t,{j:()=>d});var n=a(2224),r=a.n(n),s=a(3432),l=a(1307),i=a(8296),o=a(4771),c=a(2709);const m=[s.Ru.DATA,s.Ru.RUN_DEFERRED_DATA_UPDATES],d=(e,t,a)=>{const{subscriptions:n,bindingToFocus:d,deferredDataUpdates:u,page:p,headers:g}=c.x,{ajax:y}=a,{modKey:v="",bindName:h,type:E,name:b,path:f,key:A,value:w,fwdOptions:N,filters:S={},data:C=null}=t,k=!m.includes(E),I=Boolean(e[v]);if(!k||I)switch(t.type){case s.Ru.BLUR:case s.Ru.CLICK:case s.Ru.COMMIT:case s.Ru.FOCUS:case s.Ru.LOAD:case s.Ru.MOUSEOVER:case s.Ru.MOUSEOUT:case s.Ru.SET:if(h){const t=r().get(e,[v,s.HC,h,s.qY]);t&&t.run(E,N)}break;case s.Ru.ACTION:if(b){const t=r().get(e,[v,s.kl,b]);t&&t.run(N)}break;case s.Ru.METRIC:if(b){const t=r().get(e,[v,s.Cb,b],null);t&&t.run()}break;case s.Ru.DELETE_MOD:{const t=(0,i.s)(e,v,{forceDelete:!0});n.run(t);break}case s.Ru.SET_AT_PATH:if(f){const t=(0,o._Y)({currentModKey:v,get:f});(0,o.Th)(t)&&(0,o.hZ)(e,t,w)}break;case s.Ru.SET_MOD_DATA:A&&(0,o.hZ)(e,[v,s.vN,A],w);break;case s.Ru.SET_MOD_PROPERTY:A&&(0,o.hZ)(e,[v,s.yI,A],w);break;case s.Ru.SET_BIND_VALUE:{const t=r().get(e,[v,s.HC,h,s.yI,s.iy],""),a=(0,o._Y)({currentModKey:v,get:t});(0,o.hZ)(e,a,w);break}case s.Ru.SET_BIND_PROPERTY:h&&A&&(0,o.hZ)(e,[v,s.HC,h,s.yI,A],w);break;case s.Ru.CLEAR_BIND_MESSAGES:if(h){const t=`${s.HC}.${h}`,a=r().get(e,[v,s.nl],[]).filter((e=>e.key!==t));(0,o.hZ)(e,[v,s.nl],a),n.run([v])}break;case s.Ru.MAYBE_SET_FOCUS:if(d.is(v,h)){if(!r().get(e,[v,s.HC,h,s.yI,"active"]))break;const t=[v,s.HC,h,s.yI,"focused"];r().get(e,t)||(0,o.hZ)(e,t,!0),d.clear()}break;case s.Ru.RUN_DEFERRED_DATA_UPDATES:u.run({state:e,ajax:y,filters:S});break;case s.Ru.DATA:if(C){const t=(0,l.v)(e,{data:C,ajax:y});n.run(t),g.update(C),p.update(C)}}}},3302:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={open:"Open",close:"Close",top:"Top",right:"Right",bottom:"Bottom",left:"Left",next:"Next",previous:"Previous",selected:"Selected",show:"Show",hide:"Hide",play:"Play",pause:"Pause",mute:"Mute",unmute:"Unmute",loading:"Loading...",fullscreen:"Show fullscreen",pip:"Show picture-in-picture",airplay:"Show AirPlay",captions:"Show captions",showMore:"Show more",showLess:"Show less",more:"More",less:"Less",item:"Item",image:"Image",video:"Video",edit:"Edit",change:"Change",update:"Update",add:"Add",remove:"Remove",save:"Save",cancel:"Cancel",submit:"Submit",reset:"Reset",opensNewWindow:"(Opens in a new window)",galleryItem:"Gallery item"}},5156:(e,t,a)=>{"use strict";a.d(t,{E:()=>m,S:()=>c});var n=a(1594),r=a.n(n),s=a(9080),l=a(3302),i=a(7988);const o=(0,n.createContext)({retina:!0,viewport:"large",assets:l.A}),c=()=>(0,n.useContext)(o),m=({children:e})=>{const[t]=(0,s.A)(),a={...l.A,...window.GLOBAL_ASSETS,...window.assets,...window.testAssets},n={...window.fragments,...window.testFragments};return r().createElement(r().Fragment,null,r().createElement(o.Provider,{value:{viewport:t,assets:a,fragments:n}},e),r().createElement(i.A,null))}},6637:(e,t,a)=>{"use strict";a.d(t,{E:()=>n.E,S:()=>n.S});var n=a(5156)},7988:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1594);const r=()=>((0,n.useEffect)((()=>{const e=new CustomEvent("echoPerformanceNowEvent",{detail:{performanceNow:performance.now(),id:"react-app-render"}});window.dispatchEvent(e)}),[]),null)},7584:(e,t,a)=>{"use strict";a(6942),a(1594),a(9594),a(7923),a(1916)},2612:(e,t,a)=>{"use strict";a(1594),a(6942),a(2224),a(7584)},1916:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>g});var n=a(8168),r=a(2224),s=a.n(r),l=a(1594),i=a.n(l),o=a(7923),c=a(2684);const m="loading"in HTMLImageElement.prototype,d=(e,t,a)=>{const n=c.Dl(e),r=c.JO(n.search);return Object.keys(t).forEach((e=>r[e]=t[e])),n.search="?"+((e,t=[])=>Object.keys(e).map((a=>{const n=t?.includes(a);return(n?a:encodeURIComponent(a))+"="+(n?e[a]:encodeURIComponent(""+e[a]))})).join("&"))(r,a),c.Gm(n)},u=({src:e,srcSet:t,sources:a,alt:n,width:r,height:i,data:o})=>{const m=r||s().get(o,"width"),u=i||s().get(o,"height"),p=null!=n?n:s().get(o,"alt",""),g=s().get(o,"src",""),y=s().get(o,"srcSet.src",""),v=(0,l.useMemo)((()=>o&&o.srcSet?(e=>{if(!e||!e.src)return{};const[t,a]=e.src.split("?"),n=a?c.JO(a):{};return{src:d(t,e?.scaleParams2?c.JO(e.scaleParams2||""):n,[".v"])}})(o.srcSet):o),[g,y]),h=e?{src:e,srcSet:t}:v,E=s().get(o,"sources",[]),b=s().get(E,"[0].srcSet",""),f=(0,l.useMemo)((()=>b?(e=>e&&0!==e.length?e.map((e=>{if(e.srcSet){const[t,a]=e.srcSet.split("?"),n=a?c.JO(a):{};return{...e,srcSet:d(t,n,[".v"])}}return e})):[])(E):E),[E.length,b]);return{finalWidth:m,finalHeight:u,finalAlt:p,finalSrcAttrs:h,finalSources:a??f}},p=({observerOptions:e,children:t})=>{const[a,n]=(0,o.A)({observerOptions:{rootMargin:"100px 0px 100px",...e}});return n?t:i().createElement("div",{ref:a})},g=({src:e,srcSet:t,sources:a,alt:r,width:s,height:o,data:c,showInView:d,observerOptions:g,...y})=>{const{finalWidth:v,finalHeight:h,finalAlt:E,finalSrcAttrs:b,finalSources:f}=u({src:e,srcSet:t,sources:a,alt:r,width:s,height:o,data:c}),A=(0,l.useCallback)((e=>t=>{t&&!t.src&&(t.src=e)}),[]),w=f?.length>1?i().createElement("picture",null,f.map((e=>i().createElement("source",{key:e.type,srcSet:e.srcSet,type:e.type}))),i().createElement("img",(0,n.A)({loading:m&&d?"lazy":void 0,width:v,height:h,alt:E,ref:A(f[f.length-1].srcSet)},y))):i().createElement("img",(0,n.A)({loading:m&&d?"lazy":void 0,width:v,height:h,alt:E,src:1===f?.length?f[0].srcSet:b?.src},y));return d&&!m?i().createElement(p,{observerOptions:g},w):w}},6777:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n.Ay});var n=a(1916);a(7584),a(2612)},6884:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(9564);a(3418)},3418:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(8450),c=a(5911);const m=({ariaLabel:e="Close",className:t,stickyClose:a,alignStart:r,children:l,...m})=>s().createElement("button",(0,n.A)({type:"button",className:i()("rc-overlay-close",t,{"rc-sticky":a,"rc-align-start":r}),"aria-label":e,"data-autom":"overlay-close"},m),s().createElement("span",(0,n.A)({className:"rc-overlay-closesvg"},(0,c.OH)(o))),l)},9564:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(1810),c=a(5156),m=a(3418);const d=s().forwardRef((({onClose:e,noPadding:t,doublePadding:a,fixedWidth:r=!0,wide:l,isFullscreen:d,noCloseButton:u,disableClickAway:p,footerContent:g,stickyClose:y,blur:v,startAlignClose:h,classes:E={root:"",content:"",close:""},className:b,children:f,closeButtonAttrs:A={},...w},N)=>{const{assets:S,viewport:C}=(0,c.S)();return s().createElement(o.A,(0,n.A)({className:i()("rc-overlay",b,E.root,d?"rc-overlay-fullscreen":"rc-overlay-popup",{"rc-overlay-fixed-width":r&&!d,"rc-overlay-content-nopadding":t,"rc-overlay-content-doublepadding":a,"rc-overlay-content-wide":l,"rc-overlay-with-footer":!!g,"rc-blur":v,"rc-overlay-no-close-button":u}),onClose:e,isFullscreen:d,disableClickAway:p,ref:N},w),d?s().createElement("div",{className:"rc-overlay-fullscreen-outer"},s().createElement("div",{className:i()(E.content,"rc-overlay-fullscreen-content")},f,g&&s().createElement("div",{className:"rc-overlay-footer"},g)),!u&&s().createElement(m.A,(0,n.A)({className:E.close,onClick:e,ariaLabel:S.close,stickyClose:y,alignStart:h},A))):s().createElement("div",{className:i()(E.content,"rc-overlay-popup-outer")},s().createElement("div",{className:"rc-overlay-popup-content"},f),g&&s().createElement("div",{className:"rc-overlay-footer"},g),!u&&s().createElement(m.A,(0,n.A)({className:E.close,onClick:e,ariaLabel:S.close,stickyClose:y,alignStart:h},A))),d||"small"!==C||p?null:s().createElement("div",{className:"rc-overlay-popup-dismiss",onClick:e}))}));d.displayName="Overlay";const u=d},8294:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n.A,JX:()=>r.JX,au:()=>r.au,lD:()=>r.lD,ot:()=>r.ot,v6:()=>r.v6,vH:()=>s.A,vN:()=>r.vN});var n=a(2420),r=a(2659),s=(a(6818),a(9053))},6818:(e,t,a)=>{"use strict";a.d(t,{J:()=>s,y:()=>l});var n=a(1594),r=a.n(n);const s=r().createContext({}),l=()=>r().useContext(s)},2659:(e,t,a)=>{"use strict";a.d(t,{JX:()=>b,au:()=>A,lD:()=>v,ot:()=>E,v6:()=>h,vN:()=>f});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(2224),c=a.n(o),m=a(840),d=a(3694),u=a(4768),p=a(5156),g=a(6818),y=a(7335);const v=({className:e,...t})=>s().createElement(d.wb,(0,n.A)({rootTag:"ul",className:i()("rc-province-selector-tablist",e)},t)),h=s().forwardRef((({index:e,name:t,label:a,className:r,...l},o)=>{const{selection:c}=(0,g.y)(),m=c[t]?s().createElement(s().Fragment,null,c[t],s().createElement("span",{className:"visuallyhidden"},a)):a;return s().createElement("li",{role:"presentation"},s().createElement(d.oz,(0,n.A)({index:e,className:i()("rc-province-selector-tab",r),ref:o},l),m))}));h.displayName="ProvinceSelectorTab";const E=({className:e,children:t,...a})=>s().createElement(d.T2,(0,n.A)({className:i()("rc-province-selector-tab-panels",e)},a),t),b=({index:e,optionsLength:t,classes:a={},children:r,...l})=>{const{isMobile:o,optionsPerColumn:c,optionsHeight:m,mobileColumns:u,desktopColumns:p}=(0,g.y)(),v=o?u:p,h={height:`${(0,y.UR)(t,c,m,v)}px`};return s().createElement(d.Kp,(0,n.A)({index:e,className:i()("rc-province-selector-tab-panel",a.root)},l),s().createElement("ol",{className:i()("rc-province-selector-tab-options",a.list),style:h,role:"list"},r))},f=s().forwardRef((({name:e,value:t,index:a,className:r,children:l,onClick:o,...d},p)=>{const{selection:y,onSelection:v}=(0,g.y)(),h=s().useRef(!1);return s().createElement("li",{role:"listitem",ref:h},s().createElement("button",(0,n.A)({type:"button",className:i()("rc-province-selector-option",u.A.BODY,r,{"rc-province-selector-option-selected":y[e]===t},`rc-province-selector-option-${e}`),"aria-current":y[e]===t||null,onClick:()=>{v(e,t),o&&o()},onKeyDown:a=>{const n=(()=>{const e=c().get(h,"current.nextSibling");return e?e.querySelector(".rc-province-selector-option"):null})(),r=(()=>{const e=c().get(h,"current.previousSibling");return e?e.querySelector(".rc-province-selector-option"):null})(),s=document.querySelectorAll(`.rc-province-selector-option-${e}`);switch(a.keyCode){case m.HP.Home:a.preventDefault(),s.length&&s[0].focus();break;case m.HP.End:a.preventDefault(),s.length&&s[s.length-1].focus();break;case m.HP.ArrowDown:case m.HP.ArrowRight:n&&n.focus(),a.preventDefault();break;case m.HP.ArrowUp:case m.HP.ArrowLeft:r&&r.focus(),a.preventDefault();break;case m.HP.Space:case m.HP.Return:a.preventDefault(),v(e,t)}},tabIndex:y[e]===t||0===a&&!y[e]?"0":"-1",ref:p},d),l))}));f.displayName="ProvinceSelectorOption";const A=s().forwardRef((({activeTab:e,onTabChange:t=(()=>{}),tabs:a=[],selection:n={},onSelection:r=(()=>{}),optionsPerColumn:l=10,optionsHeight:o=62,mobileColumns:c,desktopColumns:m,classes:u={},children:y},v)=>{const{viewport:h}=(0,p.S)(),E="small"===h;return s().createElement(g.J.Provider,{value:{selection:n,onSelection:r,isMobile:E,optionsPerColumn:l,optionsHeight:o,mobileColumns:c,desktopColumns:m}},s().createElement("div",{className:i()("rc-province-selector",u.root),ref:v},s().createElement(d.Ay,{id:"rc-province-selector-tabs",className:i()("rc-province-selector-tabs",u.tabs),index:e,handleChange:t,count:a.length},y)))}));A.displayName="ProvinceSelectorTabs"},2420:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(8168),r=a(1594),s=a.n(r),l=a(2224),i=a.n(l),o=a(2659);const c=({tabs:e,activeTab:t,onTabChange:a,selection:r,onSelection:l,...c})=>s().createElement(o.au,(0,n.A)({activeTab:t,onTabChange:a,selection:r,onSelection:l,tabs:e},c),s().createElement(o.lD,null,e.map(((e,t)=>s().createElement(o.v6,{key:e.name,index:t,name:e.name,label:e.label})))),s().createElement(o.ot,null,e.map(((e,t)=>s().createElement(o.JX,{key:e.name,index:t,name:e.name,"aria-label":e.label,optionsLength:i().get(e,"options.length",0)},i().get(e,"options",[]).map(((t,a)=>s().createElement(o.vN,{key:t.value,name:e.name,value:t.value,index:a},t.label))))))))},9053:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(1594),r=a.n(n),s=a(2224),l=a.n(s),i=a(7335);const o=({addressLookupUrl:e,provinceSelectorTabs:t,onChange:a=(()=>{})})=>{const[n,s]=r().useState(0),[o,c]=r().useState([]),[m,d]=r().useState({}),u=o.filter((e=>e.options&&e.options.length>0));r().useEffect((()=>{(0,i.Fd)(e).then((e=>{return a=e,t.reduce(((e,t)=>{const n=l().get(a,`[${t.name}].data`);return n?[...e,{...t,options:n}]:e}),[]);var a})).then((e=>c(e)))}),[]);return{activeTab:n,setActiveTab:s,tabs:u,selection:m,handleSelection:(n,r)=>{const u=l().find(o,{name:n}),p=l().omit({...m,[n]:r},u.update),g=e=>{if(e.provinceCityDistrict)return a(e.provinceCityDistrict,p),void d(p);const n=(0,i.Td)(e),r=(m=t,g=o,y=n.options,v=u.update,m.reduce(((e,t)=>{const a=l().get(y,`[${t.name}].data`),n=l().find(g,{name:t.name});return v.includes(t.name)?a?[...e,{...t,options:a}]:e:a?[...e,{...t,options:a}]:n?[...e,n]:e}),[]));var m,g,y,v;c(r),d({...p,...n.selection}),s(Object.keys(r).length-1);const h=document.querySelectorAll(".rc-province-selector-tab");h.length&&h[h.length-1].focus()};(0,i.Fd)(e,p).then((e=>g(e)))},reset:()=>{s(0),d({}),c((e=>e.slice(0,1)))}}}},7335:(e,t,a)=>{"use strict";a.d(t,{Fd:()=>c,Td:()=>m,UR:()=>o});var n=a(2224),r=a.n(n),s=a(3808),l=a(2684),i=a(5284);const o=(e,t,a,n)=>{if(!!n){const t=Math.ceil(e/n);return Math.round(t*a)||0}const r=e*a,s=t*a;return Math.min(r,s)},c=(e,t={})=>{const a=(0,s.A)("province-selector/utils/fetchData"),n=Object.keys(t).length?l.k0(e,t):e;return(0,i.hI)(n).then((e=>r().get(e,"body",{}))).catch((e=>a.error(e)))},m=e=>Object.keys(e).reduce(((t,a)=>("object"==typeof e[a]&&(t.options[a]=e[a]),"string"==typeof e[a]&&(t.selection[a]=e[a]),t)),{selection:{},options:{}})},4768:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={HEADLINE_STANDALONE:"typography-headline-standalone",HEADLINE_SUPER:"typography-headline-super",HEADLINE_ELEVATED:"typography-headline-elevated",HEADLINE:"typography-headline",HEADLINE_REDUCED:"typography-headline-reduced",QUOTE:"typography-quote",QUOTE_REDUCED:"typography-quote-reduced",CALLOUT:"typography-callout",MANIFESTO:"typography-manifesto",EYEBROW_SUPER:"typography-eyebrow-super",EYEBROW_ELEVATED:"typography-eyebrow-elevated",EYEBROW:"typography-eyebrow",EYEBROW_REDUCED:"typography-eyebrow-reduced",LABEL:"typography-label",INTRO_ELEVATED:"typography-intro-elevated",INTRO:"typography-intro",TOUT:"typography-tout",BODY:"typography-body",BODY_TIGHT:"typography-body-tight",BODY_REDUCED:"typography-body-reduced",BODY_REDUCED_TIGHT:"typography-body-reduced-tight",CAPTION:"typography-caption"}},9080:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(1594),r=a.n(n),s=a(791),l=a(1229);const i=[{name:"small",mediaQuery:"only screen and (max-width: 1023px) and (max-device-width: 736px)"},{name:"medium",mediaQuery:"only screen and (max-width: 1023px) and (max-device-width: 736px)"},{name:"large",mediaQuery:"only screen and (max-width: 1440px)"},{name:"xlarge",mediaQuery:"only screen and (min-width: 1441px)"}],o=e=>{for(let t=0;t<e.length;t+=1){const a=e[t];if(window.matchMedia(a.mediaQuery).matches)return a.name}return"large"},c=(e={})=>{const{recalculate:t=!0,debounceWait:a=100,breakpoints:n=i}=e,[c,m]=r().useState(o(n)),d=(0,l.A)((()=>m(o(n))),a);return(0,s.A)("resize",t?d:void 0),[c]}},2722:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(8168),r=a(1594),s=a.n(r),l=a(5206),i=a(5911);const o=({message:e="",...t})=>{const a=s().useId(),r=document.getElementById("portal")||document.body;return(0,l.createPortal)(s().createElement("span",(0,n.A)({id:`announce-message-${a}`,key:`announce-message-${a}`,"aria-live":"polite",role:"status","data-core-announce-message":!0},t,(0,i.OH)(e))),r)}},2323:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(1594),r=a.n(n),s=a(3680),l=a(2722);const i="idle",o="pending",c="finished",m={pending:""},d=({isPending:e=!1,messages:t=m,finishedDelay:a=500,resetDelay:d=s.E})=>{const[u,p]=(0,n.useState)(i),[g,y]=(0,n.useState)(null),{pending:v="",finished:h=""}=t;return(0,n.useEffect)((()=>{e&&u===i?(y(v),p(o)):e||u!==o?u===c&&setTimeout((()=>{y(null),p(i)}),d):setTimeout((()=>{y(h),p(c)}),a)}),[u,e]),r().createElement(l.A,{message:g||""})}},7427:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n.A,Jg:()=>r.A,oM:()=>s.A});var n=a(2722),r=a(2323),s=a(3680)},3680:(e,t,a)=>{"use strict";a.d(t,{A:()=>s,E:()=>r});var n=a(1594);const r=1e3,s=({resetDelay:e=r}={})=>{const[t,a]=(0,n.useState)("");return[t,t=>{a(t),setTimeout((()=>a("")),e)}]}},5260:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(840),c=a(5911),m=a(6444);const d=(e,t)=>{if(!t.current)return;const a=t.current,n=a?a.querySelector(`[data-option-index="${e}"]`):null;if(a&&n&&a.scrollHeight>a.clientHeight){const e=n,t=a.clientHeight+a.scrollTop,r=e.offsetTop+e.offsetHeight;r>t?a.scrollTop=r-a.clientHeight:e.offsetTop<a.scrollTop&&(a.scrollTop=e.offsetTop)}},u=({id:e,className:t,value:a,options:r,onChange:l=(()=>{}),onFocus:u=(()=>{}),onBlur:p=(()=>{}),onKeyDown:g=(()=>{}),onSelection:y=(()=>{}),onHover:v=(()=>{}),getOptionValue:h=(e=>e),getOptionDisabled:E=(()=>!1),getPosition:b,renderInput:f=(e=>s().createElement("input",e)),renderOption:A=(e=>e),selectFirst:w=!1,selectOnHover:N=!1,closeOnSelection:S=!0,classes:C={},optionsHeader:k,wrapperAttrs:I,...P},L)=>{const[T,O]=s().useState(!1),[D,x]=s().useState(-1),M=s().useRef(null),F=s().useRef(null),B=s().useRef(null),R=(0,m.y)(B,{observe:T}),_=(0,c.E2)(B,L),$=()=>{O(!1),x(-1)},H=e=>y(h(r[e]),e),K=e=>{-1!==D&&e.preventDefault();const t=(e=>{if(e===r.length-1)return e;let t=e,a=!1;for(;!a&&t<r.length-1;)t+=1,a=!E(r[t]);return a?t:e})(D);x(t),d(t,F),v(h(r[t]),t),T||O(!0),N&&H(t)},V=e=>{-1!==D&&e.preventDefault();const t=(e=>{if(-1===e)return e;if(0===e)return-1;let t=e,a=!1;for(;!a&&t>0;)t-=1,a=!E(r[t]);return a?t:-1})(D);x(t),d(t,F),v(h(r[t]),t),T||O(!0),N&&H(t)},U=s().useId(),W=e||U,G=`${W}_listbox`,j=D>=0?`${G}_option_${D}`:void 0,q=Boolean(T&&r.length),Y=b?b(R):(e=>{if(!e)return{};const{width:t,right:a}=e;return{width:t,left:`${a-t+window.pageXOffset}px`}})(R);return s().createElement("div",(0,n.A)({ref:M,"data-core-autocomplete":!0,className:i()(t,C.root)},I),f({id:W,value:a,role:"combobox","aria-autocomplete":"list","aria-expanded":q,...P,"aria-owns":G,"aria-activedescendant":j,ref:_,onChange:e=>{T||O(!0),l(e),w&&x(0)},onFocus:e=>{O(!0),x(-1),u(e)},onBlur:e=>{requestAnimationFrame((()=>{document.activeElement!==M.current&&document.activeElement!==B.current&&F.current&&!F.current.contains(document.activeElement)&&($(),p(e))}))},onKeyDown:e=>{switch(e.keyCode){case o.HP.ArrowUp:V(e);break;case o.HP.ArrowDown:K(e);break;case o.HP.Home:e.preventDefault(),x(0),d(0,F),v(h(r[0]),0),T||O(!0),N&&H(0);break;case o.HP.End:e.preventDefault(),(()=>{const e=r.length-1;x(e),d(e,F),v(h(r[e]),e),T||O(!0),N&&H(e)})();break;case o.HP.Return:(e=>{const t=r[D],a=E(t);t&&!a&&T&&(e.preventDefault(),H(D),S&&$())})(e);break;case o.HP.Esc:T&&e.stopPropagation(),$()}g(e)}}),s().createElement("div",{"data-core-autocomplete-popover":!0,"data-core-autocomplete-popover-show":q,style:Y,ref:F,className:i()(C.popoverWrapper,{[C.popoverWrapperShow||""]:q,[C.popoverWrapperHide||""]:!q})},k,s().createElement("ul",{role:"listbox",id:G,"data-core-autocomplete-options-list":!0,className:i()(C.optionsList,{[C.optionsListShow||""]:q,[C.optionsListHide||""]:!q}),tabIndex:-1},r.map(((e,t)=>{const a=h(e),n=E(e),r=D===t;return s().createElement("li",{key:a,id:`${G}_option_${t}`,role:"option","data-core-autocomplete-option":!0,className:C.option,"data-option-index":t,onClick:()=>{n||(y(a,t),B.current&&B.current.focus(),S&&$())},onMouseOver:()=>{n||(x(t),v(a,t),N&&y(a,t))},tabIndex:-1,"aria-selected":r,"aria-disabled":n},A(e,r,t))})))))},p=s().forwardRef(u)},6490:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(5260)},246:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1594);const r=(e,t)=>{const a=(0,n.useRef)(!0);(0,n.useEffect)((()=>{a.current||e()}),[...t]),(0,n.useEffect)((()=>{a.current=!1}),[])}},1229:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(1594),r=a(2224),s=a.n(r);const l=(e,t,a)=>(0,n.useCallback)(s().debounce(e,t,a),[])},2662:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>o,JT:()=>i});var n=a(1594),r=a(5911);const s=(e,t)=>{let a="";for(let n=0;n<t;n+=1)a+=e;return a},l=(e,t,a,n)=>{let{value:r,cursor:s}=e;const l=s>=a,i=s<a+1;return s=l&&i&&n<0?a:s,s+=l&&i&&n>0?t.length:0,s+=l&&!i?t.length:0,r=r.slice(0,a)+t+r.slice(a),{value:r,cursor:s}},i=(e,t,a)=>{const{value:n,cursor:r}=e,{inputRegex:i,suffix:o,autoCapitalization:c}=t,m=t.blocks||[],d=n.length===r&&a>0;let u=a,p={value:"",cursor:r},g=0,y=0,v=!1;for(let e=0;e<n.length;e+=1){const t=n.charAt(e),a=n.charAt(e+1),r=m[g]||{},o=m[g+1],c=(o&&o.start||"").charAt(0),E=r.inputRegex||i,b=e>=n.length-1,f=g>=m.length-1,A=r.length||r.maxLength||1/0,w=y>=A,N=void 0!==r.length,S=r.pad&&N,C=!N&&t===r.pad&&y<1,k=b&&t===r.pad,I=!C||k,P=!E||(h=E,"string"==typeof h||h instanceof String?new RegExp(h):h).test(t),L=!w&&I&&P,T=0===e&&t===c||a===c;v||!L&&!d&&N||(p=l(p,r.start||"",p.value.length,u),v=!0),y+=L?1:0,p.value+=L?t:"",p.cursor+=L||p.cursor<=p.value.length?0:-1;const O=u>0&&p.cursor===p.value.length,D=u>0&&p.cursor===p.value.length+1,x=T&&D&&S,M=T&&!N,F=y>=A||x||M;if(r.unit&&(F||b)&&!w){const e=y%3==0,t=Math.floor(y/3)-(e?1:0);for(let e=0;e<t;e+=1){const t=(3+r.unit.length)*e+3;p=l(p,r.unit,p.value.length-t,u)}}if(x||M&&r.pad&&y<1){const e=M?1:(r.length||0)-y,t=p.value.length-y;p=l(p,s(r.pad||"",e),t,u),p.cursor+=M&&p.cursor===t?1:0}F&&!f&&(g+=1,y=0,v=!1,u=u>0&&!N&&O?0:u)}var h;return o&&p.value&&(p.value+=o),c&&(p.value=p.value?.toString?.().toUpperCase?.()),p},o=e=>{const{value:t,format:a,...s}=e,[l,o]=(0,n.useState)(t),[c,m]=(0,n.useState)(-1),d=(0,n.useRef)(null),u=e.ref||d,p=(0,n.useRef)(!1);let g="";(0,n.useEffect)((()=>{const e=u.current;e&&c>-1&&p.current&&(e.selectionStart=c,e.selectionEnd=c,p.current=!1)}));const y={value:l,ref:u,onPaste:e=>{const t=e.clipboardData||window.clipboardData,a=e.target;g=a&&t?[a.value.slice(0,a.selectionStart||0),t.getData("text/plain"),a.value.slice(a.selectionEnd||a.value.length)].join(""):""},onChange:e=>{const t=e.nativeEvent.inputType||e.target.inputType,n=((e,t,a=0,n="")=>{if(!e)return null;const r=n||e.value,s=e.selectionStart||0;return i({value:r,cursor:s},t,a)})(e.target,a,"deleteContentBackward"===t?-1:1,g);return g="",p.current=!0,o(n.value),m(n.cursor),n}};return(0,r.v6)({...y},{...s})}},7923:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1594);a(5127);const r=e=>{const{observerOptions:t={},triggerOnce:a=!0,onChange:r=(()=>{})}=e,s=(0,n.useRef)(null),l=(0,n.useRef)(null),[i,o]=(0,n.useState)({inView:!1,entry:null});return[(0,n.useCallback)((e=>{s.current&&l.current&&l.current.unobserve(s.current),e&&(l.current=((e,t,a)=>{const n=new IntersectionObserver((e=>{e.forEach((e=>{const{isIntersecting:n,intersectionRatio:r}=e;let s=!1;void 0!==n&&(s=n||r>=t.threshold,a(s,e))}))}),t);return n.observe(e),n})(e,t,((t,n)=>{o({inView:t,entry:n}),t&&a&&l.current.unobserve(e),r(t,n)}))),s.current=e}),[a]),i.inView,i.entry]}},9573:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1594);const r=a.n(n)().useId},791:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1594);const r=(e,t)=>{(0,n.useEffect)((()=>(e&&t&&window.addEventListener(e,t),()=>{e&&t&&window.removeEventListener(e,t)})),[e,t])}},1810:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(9218)},6272:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(9202);const r=class{constructor(){this.map={},this.anyOverlayOpen=!1,this.scrollState={},this.initialPageState={processedNodes:[],originalValues:[],focusableNodes:[]}}update(e,t){this.map[e]=t;const a=Object.keys(this.map).every((e=>!this.map[e]));t&&!this.anyOverlayOpen?(this.initialPageState=(0,n.r5)(),this.anyOverlayOpen=!0):!t&&a&&this.anyOverlayOpen&&((0,n.B5)(this.initialPageState),this.anyOverlayOpen=!1)}scrollLock(e){const t=document.documentElement,a=`data-core-overlay-${n.k3?"open-ios-fixed":"open"}`;e?(n.un&&(this.scrollState.scrollX||(this.scrollState.scrollX=window.pageXOffset),this.scrollState.scrollY||(this.scrollState.scrollY=window.pageYOffset)),t.setAttribute(a,"")):setTimeout((()=>{!this.anyOverlayOpen&&t.hasAttribute(a)&&(t.removeAttribute(a),n.un&&(window.scrollTo(this.scrollState.scrollX||0,this.scrollState.scrollY||0),this.scrollState={}))}),0)}remove(e){delete this.map[e]}getMap(){return this.map}}},9202:(e,t,a)=>{"use strict";a.d(t,{B5:()=>m,k3:()=>i,r5:()=>c,un:()=>l});var n=a(4792),r=a(4440);const{iosVersion:s}=n.Ez(),l=s>0,i=l&&s<15,o=HTMLElement.prototype.hasOwnProperty("inert"),c=()=>{const e=document.getElementById("portal"),t=Array.from(document.querySelectorAll("body > *")).filter((e=>!e.matches("script,style"))),a=[],n=[],s=[];return t.forEach((t=>{if(t!==e)if(o){if(t.inert)return;a.push(t),t.toggleAttribute("inert")}else{const e=t.getAttribute("aria-hidden");if(null!==e&&"false"!==e)return;n.push(e),a.push(t),t.setAttribute("aria-hidden","true"),s.push(r.Wz(t))}})),o||s.forEach((e=>r.f3(e))),{processedNodes:a,originalValues:n,focusableNodes:s}},m=({processedNodes:e,originalValues:t,focusableNodes:a})=>{e.forEach(((e,a)=>{if(o)e.toggleAttribute("inert");else{const n=t[a];null===n?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n)}})),o||a.forEach((e=>r.RP(e)))}},9218:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var n=a(8168),r=a(1594),s=a.n(r),l=a(5206),i=a(840),o=a(4804),c=a(791),m=a(5911);const d=new(a(6272).A),u=(0,r.forwardRef)((({in:e,visible:t=e,timeout:a=100,mountOnEnter:u=!0,onEntered:p,onExit:g,onExited:y,onClose:v=(()=>{}),returnFocusRef:h,noCover:E=!1,isFullscreen:b=!1,disableClickAway:f=!1,disableEsc:A=!1,disableFocusIn:w=!1,disableFocusOut:N=!1,ariaLabel:S,ariaDesc:C,ariaModal:k=!0,contentAttrs:I,role:P="dialog",className:L,children:T,...O},D)=>{const x=s().useId(),M=(0,r.useRef)(null),F=(0,m.E2)(M,D),B=(0,r.useRef)(null),R=(0,r.useRef)(null),_=document.getElementById("portal");(0,r.useEffect)((()=>{t&&R&&(R.current=document.activeElement),d.update(x,t)}),[t]);(0,r.useEffect)((()=>()=>{d.update(x,!1),d.scrollLock(!1),d.remove(x)}),[]),(0,c.A)("click",t?e=>{t&&!f&&M.current===e.target&&v(e)}:null),(0,c.A)("keydown",t?e=>{t&&!A&&e.keyCode===i.HP.Esc&&v(e)}:null);const $={"data-core-overlay":"","data-core-overlay-cover":E?void 0:"","data-core-overlay-fullscreen":b?"":void 0};return(0,l.createPortal)(s().createElement(o.A,(0,n.A)({ref:F,in:t,timeout:a,mountOnEnter:u,onEntered:()=>{d.scrollLock(!0),w||B.current&&B.current.focus(),p&&setTimeout(p,0)},onExit:()=>{d.scrollLock(!1),g&&setTimeout(g,0)},onExited:()=>{N||(h&&h.current?h.current.focus():R.current&&R.current.focus()),y&&setTimeout(y,0)},className:L},$,O),s().createElement("div",(0,n.A)({"data-core-overlay-content":"",tabIndex:-1,ref:B,role:P,"aria-labelledby":S,"aria-describedby":C,"aria-modal":k},I),T)),_||document.body)}));u.displayName="Overlay";const p=u},6444:(e,t,a)=>{"use strict";a.d(t,{y:()=>n.A});var n=a(9072)},9072:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(1594);
/*!
@license
The MIT License (MIT)

Copyright (c) 2018-2022, React Training LLC

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
const r=!1,s=["bottom","height","left","right","top","width"],l=new Map;let i=0;const o=()=>{const e=[];l.forEach(((t,a)=>{const n=a.getBoundingClientRect();((e={},t={})=>s.some((a=>e[a]!==t[a])))(n,t.rect)&&e.push({...t,rect:n})})),e.forEach((e=>{e.callbacks.forEach((t=>t(e.rect)))})),i=window.requestAnimationFrame(o)};function c(e,t){const a=t?.observe??!0,s=t?.onChange,[c,m]=n.useState(e.current),d=n.useRef(!1),u=n.useRef(!1),[p,g]=n.useState(null),y=n.useRef(s);return n.useLayoutEffect((()=>{y.current=s,e.current!==c&&m(e.current)})),n.useLayoutEffect((()=>{c&&!d.current&&(d.current=!0,g(c.getBoundingClientRect()))}),[c]),n.useLayoutEffect((()=>{if(!a)return()=>{};let t=c;if(u.current||(u.current=!0,t=e.current),!t)return r&&console.warn("[@aos/react-core/rect]: you need to place the ref"),()=>{};const n=(s=t,m=e=>{y.current&&y.current(e),g(e)},{observe(){const e=0===l.size;if(l.has(s)){const e=l.get(s);e&&e.callbacks.push(m)}else l.set(s,{rect:void 0,hasRectChanged:!1,callbacks:[m]});e&&o()},unobserve(){const e=l.get(s);if(e){const t=e.callbacks.indexOf(m);t>=0&&e.callbacks.splice(t,1),e.callbacks.length||l.delete(s),l.size||cancelAnimationFrame(i)}}});var s,m;return n.observe(),()=>{n.unobserve()}}),[a,c,e]),p}},3694:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n.A,Kp:()=>s.K,T2:()=>s.T,f2:()=>l.f,oz:()=>r.o,wb:()=>r.w});var n=a(380),r=a(374),s=a(2817),l=a(3146)},374:(e,t,a)=>{"use strict";a.d(t,{o:()=>m,w:()=>c});var n=a(8168),r=a(1594),s=a.n(r),l=a(840),i=a(3146),o=a(5911);const c=({rootTag:e="div",children:t,...a})=>s().createElement(e,(0,n.A)({"data-core-tabs-tablist":"",role:"tablist"},a),t),m=s().forwardRef((({index:e,onClick:t=(()=>{}),onKeyDown:a=(()=>{}),children:c,dir:m,...d},u)=>{const{selectedIndex:p,uid:g,doFocus:y,handleSelect:v,count:h}=(0,i.f)(),E=s().useMemo((()=>"rtl"===m||"rtl"===(0,o.NL)()),[m]),b=(0,r.useRef)(null),f=(0,o.E2)(b,u),A=p===e;(0,r.useEffect)((()=>{A&&b.current&&y.current&&(y.current=!1,b.current.focus())}),[A,y]);return s().createElement("button",(0,n.A)({type:"button","data-core-tabs-tab":"","data-core-tabs-tab-selected":A?"":void 0,role:"tab",id:`tab-${g}-${e}`,tabIndex:A?0:-1,"aria-selected":A,"aria-controls":`panel-${g}-${e}`,onClick:a=>{v(e),t(a)},onKeyDown:t=>{((e,t,a,n,r)=>{let s,i,o;const c=a-1;switch(i=t>0?t-1:c,s=t<c?t+1:0,e.keyCode){case l.HP.ArrowRight:return e.preventDefault(),o=r?i:s,n(o);case l.HP.ArrowLeft:return e.preventDefault(),o=r?s:i,n(o);default:;}})(t,e,h,v,E),a(t)},ref:f},d),c)}));m.displayName="Tab"},2817:(e,t,a)=>{"use strict";a.d(t,{K:()=>d,T:()=>m});var n=a(8168),r=a(1594),s=a.n(r),l=a(2224),i=a.n(l),o=a(9594),c=a(3146);const m=({rootTag:e="div",children:t,...a})=>{const{height:r}=(0,c.f)();return s().createElement(e,(0,n.A)({"data-core-tabs-panels":"",style:{height:r}},a),t)},d=({index:e,onEnter:t=i().noop,onEntering:a=i().noop,onEntered:r=i().noop,children:l,...m})=>{const{uid:d,selectedIndex:u,adjustHeight:p}=(0,c.f)(),g=u===e;return s().createElement(o.A,(0,n.A)({"data-core-tabs-panel":"","data-core-tabs-panel-selected":g?"":void 0,in:g,id:`panel-${d}-${e}`,role:"tabpanel","aria-labelledby":`tab-${d}-${e}`,onEnter:e=>{p(e,"onEnter"),t(e)},onEntering:e=>{p(e,"onEntering"),a(e)},onEntered:e=>{p(e,"onEntered"),r(e)},appear:!0},m),l)}},3146:(e,t,a)=>{"use strict";a.d(t,{f:()=>l,w:()=>s});var n=a(1594),r=a.n(n);const s=r().createContext({}),l=()=>{const e=r().useContext(s);if(!e)throw new Error("Tabs compound components cannot be rendered outside the Tabs component");return e}},380:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(8168),r=a(1594),s=a.n(r),l=a(3146);const i=({rootTag:e="div",index:t,defaultIndex:a=0,handleChange:i=(()=>{}),count:o=1,id:c,children:m,...d})=>{const u=s().useId(),p=c||u,g=(0,r.useRef)(!1),{current:y}=(0,r.useRef)(void 0!==t),[v,h]=(0,r.useState)(a),[E,b]=(0,r.useState)(!1),[f,A]=(0,r.useState)(""),w={isControlled:y,uid:p,doFocus:g,count:o,selectedIndex:y?t:v,handleSelect:e=>{g.current=!0,y||h(e),i(e)},height:f,adjustHeight:(e,t)=>{const a=e?e.getBoundingClientRect().height:"";"onEnter"===t?b(!0):"onEntering"===t?A(`${a}px`):"onEntered"===t&&setTimeout((()=>b(!1)),50)}};return s().createElement(e,(0,n.A)({"data-core-tabs":"","data-core-tabs-transition-done":E?void 0:"",id:p},d),s().createElement(l.w.Provider,{value:w},m))}},4804:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var n=a(8168),r=a(1594),s=a.n(r),l=a(3510),i=a(6942),o=a.n(i),c=a(5911),m=a(740),d=a(5428),u=a(7157);const p=({className:e,in:t,timeout:a=400,classNames:i="r-fade-transition",appear:p=!1,onEnter:g,onEntering:y,onEntered:v,onExit:h,onExiting:E,onExited:b,children:f,...A},w)=>{const N=(0,r.useRef)(null),S=(0,c.E2)(N,w),C=(0,r.useRef)(!1),{finalTransitionClass:k,setTransitionHidden:I}=(0,m.A)(t,p,i),P=(0,d.Ay)(a,N.current);return s().createElement(l.A,(0,n.A)({in:t,timeout:P,appear:p,classNames:i,onEnter:(0,u.A)(g,N.current),onEntering:(0,u.A)(y,N.current),onEntered:(0,u.A)(v,N.current),onExit:()=>{C.current=!0,h&&h(N.current)},onExiting:(0,u.A)(E,N.current),onExited:()=>{C.current=!1,I(),b&&b(N.current)},className:o()(e,C.current?"":k),nodeRef:N},A),s().createElement("div",{ref:S,"aria-hidden":!t||void 0,"data-core-fade-transition-wrapper":""},f))},g=(0,r.forwardRef)(p)},4680:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var n=a(8168),r=a(1594),s=a.n(r),l=a(3510),i=a(6942),o=a.n(i),c=a(5911),m=a(740),d=a(5428),u=a(7157);const p=({className:e,in:t,timeout:a=400,classNames:i="r-height-transition",appear:p=!1,onEnter:g,onEntering:y,onEntered:v,onExit:h,onExiting:E,onExited:b,children:f,...A},w)=>{const N=(0,r.useRef)(null),S=(0,c.E2)(N,w),C=(0,r.useRef)(!1),k=(0,r.useRef)(null),[I,P]=(0,r.useState)(""),L=()=>k.current?k.current.getBoundingClientRect().height:"",T=()=>{t&&N.current&&(N.current.style.height="")};(0,r.useLayoutEffect)((()=>{const e=L();P(t?`${e}px`:"0px")}),[P,t]),(0,r.useEffect)((()=>{setTimeout(T,a)}),[]);const{finalTransitionClass:O,setTransitionHidden:D}=(0,m.A)(t,p,i),x=(0,d.Ay)(a,N.current);return s().createElement(l.A,(0,n.A)({in:t,appear:p,timeout:x,classNames:i,onEnter:(0,u.A)(g,N.current),onEntering:(0,u.A)(y,N.current),onEntered:()=>{T(),v&&v(N.current)},onExit:()=>{if(C.current=!0,N.current){const e=L();N.current.style.height=`${e}px`}h&&h(N.current)},onExiting:(0,u.A)(E,N.current),onExited:()=>{C.current=!1,D(),b&&b(N.current)},className:o()(e,C.current?"":O),nodeRef:N},A),s().createElement("div",{ref:S,style:{height:I},"aria-hidden":!t||void 0,"data-core-height-transition-wrapper":""},s().createElement("div",{ref:k,"data-core-height-transition-content":""},f)))},g=(0,r.forwardRef)(p)},9594:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A,x:()=>r.A});var n=a(4804),r=a(4680)},7157:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n=(e,t)=>{if(e)return()=>e(t)}},740:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(1594),r=a(6942),s=a.n(r);const l=(e,t,a)=>{const r=(0,n.useRef)(e&&!t),l=(0,n.useRef)(!e);(0,n.useEffect)((()=>{r.current!==e&&(r.current=e),l.current===e&&(l.current=!e)}),[e]);return{finalTransitionClass:s()({[`${a}-enter-done`]:r.current&&e,[`${a}-exit-done`]:l.current&&!e}),setTransitionHidden:()=>{l.current=!0}}}},5428:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>l});var n=a(1594);const r=e=>{const t=e.match(/^([\d.+-]+)(\w+)$/)||["0","ms"];return parseFloat(t[0])*("ms"===t[1]?1:1e3)},s=e=>{if(e.indexOf(",")>0){const t=e.split(",").map((e=>r(e.trim()))).sort();return t[t.length-1]}return r(e)},l=(e,t)=>{const a=(0,n.useRef)(e),r=!!t;return(0,n.useLayoutEffect)((()=>{t&&(a.current=(e=>{const t=window.getComputedStyle(e),{transitionDuration:a,transitionDelay:n}=t;return s(a)+s(n)})(t))}),[r]),a.current}},5911:(e,t,a)=>{"use strict";a.d(t,{E2:()=>c,NL:()=>u,OH:()=>o,qE:()=>m,v6:()=>d});var n=a(1594),r=a(2224),s=a.n(r),l=a(6942),i=a.n(l);const o=e=>({dangerouslySetInnerHTML:{__html:e}}),c=(...e)=>(0,n.useMemo)((()=>e.every((e=>null===e))?null:t=>{e.forEach((e=>{((e,t)=>{if(null!==e)if(s().isFunction(e))e(t);else try{e.current=t}catch(a){throw new Error(`Cannot assign value "${t}" to ref "${e}"`)}})(e,t)}))}),e),m=(e,t,a,n)=>{const r=(e-t)%(a+1-t);return n?(r<0?a+1:t)+r:Math.max(t,Math.min(a,e))},d=(...e)=>{const t={};return e.forEach((e=>{Object.keys(t).forEach((a=>{/^on[A-Z]/.test(a)&&"function"==typeof t[a]&&"function"==typeof e[a]?t[a]=((...e)=>(...t)=>{e.forEach((e=>{"function"==typeof e&&e(...t)}))})(t[a],e[a]):"className"===a&&"string"==typeof t.className&&"string"==typeof e.className?t[a]=i()(t.className,e.className):t[a]=void 0!==e[a]?e[a]:t[a]})),Object.keys(e).forEach((a=>{void 0===t[a]&&(t[a]=e[a])}))})),t},u=()=>document?.documentElement?.getAttribute?.("dir")},9470:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l);const o=({title:e,className:t="",error:a,children:r,...l})=>s().createElement("div",(0,n.A)({className:i()(["form-alert",t,{"is-error":a}])},l),e&&s().createElement("p",{className:"form-alert-title"},e),r)},4668:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(9470)},3360:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l);const o=({id:e,className:t,children:a,isLoading:r,hasDefaultClass:l=!0,...o},c)=>{const m=i()([t,{"form-button":l},{"button-spinner":r}]);return s().createElement("button",(0,n.A)({id:e,type:"button",className:m,ref:c},o),s().createElement("span",null,a))},c=s().forwardRef(o)},7466:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(3360)},1134:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(2370);const c=({id:e,name:t,error:a,errorA11y:r,errorAttrs:l={},classes:c={},checked:m,className:d,label:u,children:p,"aria-describedby":g="",...y},v)=>{const h=i()([c.root,{"is-error":a}]),E=i()(["form-checkbox",c.wrapper]),b=s().useId(),f=e||b;return s().createElement("div",{className:h},s().createElement("div",{className:E},s().createElement("input",(0,n.A)({type:"checkbox",id:f,name:t,checked:m,className:i()(["form-checkbox-input",d]),"aria-labelledby":`${f}_label`,"aria-describedby":a?`${f}_error ${g}`:g||void 0,"aria-invalid":Boolean(a),ref:v},y)),s().createElement("label",{className:"form-label",htmlFor:f,id:`${f}_label`},s().createElement("span",{"aria-hidden":"true",className:"form-checkbox-indicator"}),p||u),a&&s().createElement(o.A,{id:`${f}_error`,className:c.error,error:a,errorA11y:r,errorAttrs:l})))},m=s().forwardRef(c)},103:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(1134)},9138:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(8168),r=a(1594),s=a.n(r);const l=({children:e,...t},a)=>s().createElement("option",(0,n.A)({ref:a},t),e),i=s().forwardRef(l)},3102:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(2370);const c=({id:e,name:t,value:a,label:r,allowNone:l,error:c,errorA11y:m,errorAttrs:d={},classes:u={},children:p,"aria-describedby":g="",...y},v)=>{const h=s().useId(),E=e||h,b=i()(["form-dropdown-select",u.select,{"form-dropdown-selectnone":!a&&!l}]);return s().createElement("div",{className:i()("form-dropdown",u.root,{"is-error":c})},s().createElement("select",(0,n.A)({id:E,name:t,value:a,className:b,"aria-labelledby":`${E}_label`,"aria-describedby":`${E}_error ${g}`,ref:v},y),p),s().createElement("span",{className:i()("form-dropdown-chevron",u.chevron),"aria-hidden":"true"}),s().createElement("span",{className:i()("form-dropdown-label",u.label),id:`${E}_label`,"aria-hidden":"true"},r),c&&s().createElement(o.A,{id:`${E}_error`,className:u.error,error:c,errorA11y:m,errorAttrs:d}))},m=s().forwardRef(c)},4067:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A,n:()=>r.A});var n=a(3102),r=a(9138)},2370:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l);const o=({className:e,error:t,errorA11y:a,errorAttrs:r,...l})=>s().createElement("div",(0,n.A)({className:i()([e,"form-message-wrapper"])},l),a&&s().createElement("span",{className:"visuallyhidden"},a),"string"==typeof t?s().createElement("span",(0,n.A)({className:"form-message",dangerouslySetInnerHTML:{__html:t}},r)):s().createElement("div",(0,n.A)({className:"form-message"},r),t))},7634:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(2370)},8576:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(1594),r=a.n(n);const s=(e={})=>{const{startValue:t=0,min:a,max:n,wrap:s}=e,[l,i]=r().useState(t),o=0===a||Boolean(a),c=0===n||Boolean(n),m=s&&o&&c;return[l,()=>{const e=l+1;i(c&&e>n?m?a:n:e)},()=>{const e=l-1;i(o&&e<a?m?n:a:e)},e=>{let t=e;o&&e<a&&(t=a),c&&e>n&&(t=n),i(t)}]}},6327:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(1594),r=a.n(n);const s=(e,t)=>{r().useEffect((()=>(e&&t&&window.addEventListener(e,t),()=>{e&&t&&window.removeEventListener(e,t)})),[e,t])}},710:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n.A,Eb:()=>r.Ay,VB:()=>r.VB,yH:()=>r.yH});var n=a(3982),r=a(4338)},4338:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>d,VB:()=>c,yH:()=>o});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l);const o=({className:e,...t})=>s().createElement("span",(0,n.A)({className:i()("form-dropdown-option-title",e)},t)),c=({className:e,...t})=>s().createElement("span",(0,n.A)({className:i()("form-dropdown-option-text",e)},t)),m=({id:e,value:t,checked:a,selected:r,mouseEnterHandler:l,children:o,disabled:c=!1,...m},d)=>{const u=i()(["form-dropdown-option",{checked:a,selected:r}]);return s().createElement("li",{className:u,role:"option",tabIndex:-1,"aria-selected":r,"aria-current":a,"aria-disabled":c,onMouseEnter:l},s().createElement("input",(0,n.A)({ref:d,type:"radio",id:e,value:t,className:"visuallyhidden",checked:a,disabled:c},m)),s().createElement("label",{htmlFor:e},o,a&&s().createElement("span",{className:i()(["icon","icon-check"])})))},d=s().forwardRef(m)},3982:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(6327),c=a(8576),m=a(2370);const d=(e,t)=>`${`${e}_option`}_${"string"==typeof t?t.trim().toLowerCase().split(" ").join("-"):t}`,u=(e,t)=>{if(e&&e.children){const a=e.children[t];if(a)return a.querySelector("input")}return null},p=({id:e,name:t,value:a,label:r,placeholder:l,error:p,errorA11y:g,errorAttrs:y={},children:v,onChange:h=(()=>{}),onFocus:E=(()=>{}),...b},f)=>{const[A,w]=s().useState(!1),[N,S]=s().useState(!1),[C,k]=s().useState(""),[I,P,L,T]=(0,c.A)({startValue:0,min:0,max:v?v.length-1:0,wrap:!1}),O=s().useRef(null),D=s().useRef(null),x=s().useRef(null),M=s().useRef(!1);s().useImperativeHandle(f,(()=>({focus:()=>{x.current&&x.current.focus()},focusAndExpand:(e=!0)=>{e&&(M.current=!0),x.current&&x.current.focus(),w(!0)}})));const F=s().useId(),B=e||F,R=e=>{if(O.current&&!O.current.contains(e.target)){if(M.current)return void(M.current=!1);S(!1),w(!1)}};(0,o.A)("click",R),(0,o.A)("focusin",R),s().useLayoutEffect((()=>{D.current&&x.current&&k(A?`${D.current.offsetHeight+x.current.offsetHeight}px`:"")}),[x,D,A]),s().useEffect((()=>{if(A&&D.current){const e=u(D.current,I);e&&e.focus()}}),[I,A]);const _=e=>{h(e),w(!1),x.current&&x.current.focus()},$=e=>{const t=u(D.current,I);if(A)switch(e.key){case"Enter":e.preventDefault(),t&&t.click();break;case"Tab":case"Escape":e.preventDefault(),w(!1),x.current&&x.current.focus();break;case"ArrowDown":case"ArrowRight":e.preventDefault(),P();break;case"ArrowUp":case"ArrowLeft":e.preventDefault(),L()}};return s().createElement("div",{className:i()("form-dropdown",{"is-error":p}),ref:O},s().createElement("div",{className:i()({"form-dropdown-multiline":!0,"is-expanded":A,focused:N})},s().createElement("button",(0,n.A)({type:"button",id:B,className:i()("form-dropdown-select",{"form-dropdown-selectnone":!a&&!l}),"aria-haspopup":"listbox","aria-expanded":A,"aria-controls":`${B}_options-container`,"aria-labelledby":`${B}_label`,"aria-describedby":`${B}_error`,onClick:()=>{S(!0),w(!A)},onFocus:e=>{S(!0),E(e)},onKeyDown:e=>{"ArrowDown"!==e.key&&"ArrowUp"!==e.key||(S(!0),w(!0))},style:{height:C},ref:x},b),s().createElement("span",{className:"visuallyhidden"},r),s().createElement("span",{className:"form-dropdown-title"},a||l)),s().createElement("span",{className:"form-dropdown-chevron","aria-hidden":"true"}),s().createElement("span",{className:"form-dropdown-label",id:`${B}_label`,"aria-hidden":"true"},r),s().createElement("div",null,s().createElement("ul",{id:`${B}_options-container`,className:"form-dropdown-options",role:"listbox","aria-label":r,ref:D},v&&s().Children.map(v,((e,n)=>s().cloneElement(e,{name:t,id:d(B,e.props.value),key:d(B,e.props.value),checked:e.props.value===a,selected:n===I,onChange:_,onKeyDown:$,mouseEnterHandler:()=>T(n)})))))),p&&s().createElement(m.A,{id:`${B}_error`,error:p,errorA11y:g,errorAttrs:y}))},g=s().forwardRef(p)},7725:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(7478)},7478:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l);const o=({id:e,name:t,value:a,checked:r,className:l,label:o,children:c,withAriaLabeledBy:m=!1,...d},u)=>{const p=s().useId(),g=e||p,y=m?`${g}_label`:void 0;return s().createElement("div",{className:"form-radiobutton"},s().createElement("input",(0,n.A)({ref:u,type:"radio",id:g,name:t,value:a,checked:r,"aria-labelledby":y,className:i()(["form-radiobutton-input",l])},d)),s().createElement("label",{className:"form-label",htmlFor:g,id:y},s().createElement("span",{className:"form-radiobutton-indicator"}),c||o))},c=s().forwardRef(o)},3471:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n.A,N5:()=>r.A});var n=a(4786),r=a(9932);a(125)},9932:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l);const o=({id:e,className:t,children:a,withGutters:r=!1,tag:l="ul",...o})=>s().createElement(l,(0,n.A)({id:e,className:i()(t,r?"form-selector-group-withgutters":"form-selector-group")},o),a)},125:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l);const o=({inputId:e,classes:t={},children:a,...r})=>s().createElement("label",(0,n.A)({htmlFor:e,className:i()("form-selector-label",t.root)},r),a)},4786:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(125);const c=({id:e,name:t,value:a,className:r,classes:l={},children:c,render:m,circle:d,tall:u,tag:p="li",tagAttrs:g,withAriaLabeledBy:y=!1,disabled:v,nonEditable:h,...E},b)=>{const f=s().useId(),A=e||f,w=y?`${A}_label`:void 0;return s().createElement(p,(0,n.A)({className:i()(r,"form-selector",l.root,{"form-selector-circle":d,"form-selector-tall":u,"form-selector-non-editable":h})},g),s().createElement("input",(0,n.A)({className:i()("form-selector-input",l.input),name:t,id:A,type:"radio",value:a,"aria-labelledby":w,ref:b,disabled:v||h},E)),"function"==typeof m?m({inputId:A,SelectorLabel:e=>s().createElement(o.A,(0,n.A)({inputId:A,id:w},e))}):s().createElement(o.A,{id:w,classes:{root:l.label},inputId:A},c))},m=s().forwardRef(c)},8595:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A,M:()=>r.A});var n=a(3570),r=a(1967)},1967:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l);const o=({classes:e={},children:t,...a},r)=>s().createElement("button",(0,n.A)({type:"button",className:i()("form-textbox-button",e.root),ref:r},a),t),c=s().forwardRef(o)},3570:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(2370);const c=({id:e,name:t,value:a,label:r,labelA11y:l,type:c="text",error:m,errorA11y:d,errorAttrs:u={},search:p,valid:g,validA11y:y,countryCode:v,countryCodeA11y:h,characterCounter:E,characterCounterA11y:b,onReset:f,resetA11y:A,resetAttrs:w,classes:N={},children:S,"aria-describedby":C="",...k},I)=>{const P=i()(["form-textbox",N.root,{"is-error":m,"form-textbox-with-button":S,"form-textbox-with-righticon":f||g,"form-textbox-with-lefticon":p,"form-textbox-with-countrycode":v&&v.length>4,"form-textbox-with-countrycode-twodigits":v&&3===v.length,"form-textbox-with-countrycode-threedigits":v&&4===v.length,"form-textbox-with-countrycode-onedigit":v&&v.length<=2,"form-textbox-with-counter":E}]),L=i()(["form-textbox-input",N.input,{"form-textbox-entered":Boolean(a)}]),T=s().useId(),O=e||T;return s().createElement("div",{className:P}," ",v&&s().createElement("div",{className:i()("form-textbox-countrycode",N.countryCode)},h&&s().createElement("div",{className:"visuallyhidden"},h),s().createElement("div",null,v)),s().createElement("input",(0,n.A)({id:O,name:t,value:a,type:c,className:L,"aria-labelledby":`${O}_label`,"aria-describedby":`${O}_error ${C}`,"aria-invalid":Boolean(m),ref:I},k)),s().createElement("span",{id:`${O}_label`,className:i()("form-textbox-label",N.label),"aria-hidden":"true","aria-label":l},r),S,m&&s().createElement(o.A,{id:`${O}_error`,className:N.error,error:m,errorA11y:d,errorAttrs:u}),E&&s().createElement("div",{className:i()("form-textbox-counter-wrapper",N.characterCounter,{"is-error":m})},b&&s().createElement("span",{className:"visuallyhidden"},b),s().createElement("span",{className:"form-textbox-counter"},E)),p&&s().createElement("div",{className:"form-textbox-lefticon"},s().createElement("span",{className:i()(["form-icons","form-icons-search15"])})),g&&s().createElement("div",{className:"form-textbox-righticon"},s().createElement("span",{className:i()(["icon","icon-check"]),role:"img","aria-label":y})),f&&s().createElement("div",{className:"form-textbox-righticon"},s().createElement("button",(0,n.A)({type:"button",onClick:f,className:i()(["form-icons","form-icons-reset"])},w),A&&s().createElement("span",{className:"visuallyhidden"},A))))},m=s().forwardRef(c)},709:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n.Ay,Ox:()=>n.Ox,ZI:()=>n.ZI});var n=a(3798)},3798:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>v,Ox:()=>g,ZI:()=>y});var n=a(8168),r=a(1594),s=a.n(r),l=a(2224),i=a.n(l),o=a(6942),c=a.n(o);const m="middle",d="left",u="right",p=(e,t)=>{const a=m,n=i().get(e,"current"),r=i().get(t,"current");if(!n||!r)return a;const s=n.getBoundingClientRect(),l=r.getBoundingClientRect(),o=s.x+s.width/2,c=l.width/2,p=document.body.offsetWidth-c;return o<c?d:o>p?u:a},g=({className:e,...t})=>s().createElement("div",(0,n.A)({className:c()("form-tooltip-title",e)},t)),y=({className:e,...t})=>s().createElement("div",(0,n.A)({className:c()("form-tooltip-content",e)},t)),v=({id:e,before:t,after:a,left:r,right:l,middle:i,autoAlign:o,labelA11y:g,className:y,onFocus:v=(()=>{}),onBlur:h=(()=>{}),onMouseEnter:E=(()=>{}),onMouseLeave:b=(()=>{}),onKeyDown:f=(()=>{}),children:A,...w})=>{const[N,S]=s().useState(!1),[C,k]=s().useState(!1),I=s().useId(),P=e||I,[L,T]=s().useState(""),O=s().useRef(null),D=s().useRef(null);return s().createElement("div",{className:c()("form-tooltip",y,{"form-tooltip-before":t,"form-tooltip-after":a,"form-tooltip-show":N||C})},s().createElement("button",(0,n.A)({type:"button",className:"form-tooltip-button","aria-labelledby":P,onFocus:e=>{o&&T(p(O,D)),S(!0),v(e)},onBlur:e=>{S(!1),h(e)},onMouseEnter:e=>{o&&T(p(O,D)),k(!0),E(e)},onMouseLeave:e=>{k(!1),b(e)},onKeyDown:e=>{"Escape"===e.key&&S(!1),f(e)},ref:O},w),s().createElement("span",{className:c()("form-icons","form-icons-info19")}),s().createElement("span",{className:"visuallyhidden"},g)),s().createElement("div",{id:P,className:c()("form-tooltip-info",{"form-tooltip-pointer-left":r||L===d,"form-tooltip-pointer-middle":i||L===m,"form-tooltip-pointer-right":l||L===u}),role:"tooltip","aria-hidden":"true",ref:D},A))}},4111:(e,t,a)=>{"use strict";a.d(t,{QV:()=>Fe,PV:()=>Ie,PB:()=>Oe,Qd:()=>Me});var n=a(1594),r=a.n(n);const s=r().createContext({modKey:"",ziniaKey:"",isFullWidth:!1,initialProps:{}}),l=({modKey:e,ziniaKey:t,isFullWidth:a,initialProps:n={},children:l})=>r().createElement(s.Provider,{value:{modKey:e,ziniaKey:t,isFullWidth:a,initialProps:n}},l),i=()=>r().useContext(s);var o=a(8168),c=a(6942),m=a.n(c),d=a(6637),u=a(5911),p=a(2224),g=a.n(p),y=a(3701),v=a(7841),h=a(2662),E=a(1229),b=a(8595),f=a(709);const A=({mainCardModKey:e,emiUnavailableMessage:t,showEmiLink:a,renderFinanceOverlay:n})=>{const s=a&&n;return r().createElement("div",{className:"form-alert"},r().createElement("div",{className:"rf-creditcard-cashbackribbon-wrapper"},r().createElement("p",{className:"rf-creditcard-cashbackribbon"},t))," ",s&&n(e))},w=({cashBackInfo:e})=>r().createElement("p",{className:"icon icon-before icon-checkcircle rf-creditcard-cashbackcalculation typography-body"},e),N=e=>{const{displayCardType:t,hasBinDetection:a,selectCardType:n,cardTypes:s,fieldAttrs:l}=e,i=a&&"MASTERCARD"===n?t:n,o=m()("rf-creditcard-cardimages",{"rf-creditcard-selected":i});return r().createElement("div",{className:"rf-creditcard-input"},r().createElement(b.A,l),r().createElement("ul",{className:o},s&&s.map((e=>{const t=e===i,a={className:m()("rf-creditcardlogo","rf-creditcard-cardimage",{"rf-creditcard-cardimage-active":t,"rf-creditcard-cardimage-inactive":i&&!t}),"data-logo":e,"data-autom":e,"aria-hidden":!t,key:e};return r().createElement("li",a,r().createElement("span",{className:"visuallyhidden"},e.replace(/_/g," ")))}))))},S=({splitAmountProps:e})=>r().createElement("div",{className:"as-util-fadeaccordion rr-accordion-shown small-12 large-6"},r().createElement("div",{className:"as-util-fadeaccordion-content"},r().createElement("div",{className:"small-12 large-12"},r().createElement(b.A,e)))),C=({hasSecondaryCard:e,cashBackInfo:t,cashBackMessage:a,emiUnavailableMessage:n,showEmiLink:s,renderFinanceOverlay:l,mainCardModKey:i,mainCardInputModLoading:o,cardNumber:c,expiration:u,cvv:p,splitAmount:g})=>{const{viewport:y}=(0,d.S)(),v=e&&g.bindExists&&!o,h=m()("row",{"form-textbox-sidebyside":"small"!==y});return r().createElement(r().Fragment,null,c.bindExists&&r().createElement(N,c),r().createElement("div",{className:h},u.bindExists&&((e,t)=>{const a=t.bindExists,n=m()("column",{"large-12":!a,"large-9":a,"small-12":!0});return r().createElement("div",{className:n},r().createElement(b.A,e.fieldAttrs))})(u,p),p.bindExists&&(e=>{const{cardType:t}=e,{cvvTitle:a,cvvAmex:n,cvvGeneric:s}=e;return r().createElement("div",{className:"column large-3 small-6 rf-creditcard-securityfield"},r().createElement("div",{className:"form-tooltip-textbox-wrapper form-icons-focusable pattern-tooltip-after-textbox"},r().createElement(b.A,e.fieldAttrs),r().createElement(f.Ay,{labelA11y:a,after:!0,middle:!0},r().createElement("div",{className:"form-tooltip-content"},"AMERICAN_EXPRESS"===t?r().createElement(r().Fragment,null,r().createElement("div",{className:"rf-creditcard-cvv rf-creditcard-cvv-amex"}),r().createElement("p",{className:"form-tooltip-title"},a),r().createElement("p",{className:"form-tooltip-content"},n)):r().createElement(r().Fragment,null,r().createElement("div",{className:"rf-creditcard-cvv rf-creditcard-cvv-generic"}),r().createElement("p",{className:"form-tooltip-title"},a),r().createElement("p",{className:"form-tooltip-content"},s))))))})(p)),t&&r().createElement(w,{cashBackInfo:t}),a&&r().createElement(w,{cashBackInfo:a}),n&&r().createElement(A,{mainCardModKey:i,emiUnavailableMessage:n,showEmiLink:s,renderFinanceOverlay:l}),v&&r().createElement(S,{splitAmountProps:g.fieldAttrs}))},k=(e,t)=>{const a=t.map((e=>{return{id:e.data.id,ranges:e.data.cardNumber.validRanges?(a=e.data.cardNumber.validRanges,a?Array.isArray(a)?a:a.replace(/[()"\s]/g,"").split(","):[]):[],regexes:e.data.cardNumber.validRegex?(t=e.data.cardNumber.validRegex,t?Array.isArray(t)?t:t.replace(/[()"\s]/g,"").split(","):[]):[]};var t,a})),n=a?a.find((({ranges:t,regexes:a})=>t&&Array.isArray(t)&&t.length>0?t.some((t=>e.substr(0,t.length)===t)):a?((e,t)=>{let a;const n=[];return t&&t.forEach((e=>{a="string"==typeof e?new RegExp(e):e,n.push(a)})),n.some((t=>t.test(e)))})(e.replace(/\s/g,""),a):null)):null;return n?n.id:null},I={inputRegex:/[0-9]/,blocks:[{length:4},{length:4,start:" "},{length:4,start:" "},{length:4,start:" "}]},P="cardInputs",L="loyaltyPayment",T="isSplitPayment",O="creditInstallment",D="cardTypes",x="ziniaInstallments",M="checkout.billing.billingOptions",F=g().get(window,"asMetrics.fireMicroEvent",g().noop),B=({isSecondaryCard:e})=>{const{assets:t,viewport:a}=(0,d.S)(),{modKey:s,initialProps:l}=i(),[o,c]=r().useState(""),[m,u]=r().useState(!1),p=(0,y.sW)(),b=e?1:0,f=(0,y.Yl)(`${s}.${P}`),A=2===f.childModKeys.length,w=g().split(f.childModKeys[b],".").pop(),N=(0,y.Yl)(`${s}.${P}.${w}`),[S]=(0,y.lE)(`${s}.${P}.${w}`),[L]=(0,y.Ej)(`${s}.${P}.${w}.cashBackCalculation`,"cashBackCalculation"),{emiUnavailableMessage:T,showEmiLink:O,selectCardType:x,showLogoMinLength:M,displayCardType:B,cashBackMessage:R,cardNumber:_}=S,[$,H]=r().useState(_),K=(0,y.X8)(`${s}.${D}`),V=(0,y.Yl)(`${s}.${D}.cardType-${x}`),U="small"===a||"medium"===a,W=(0,y.Pf)(`${s}.${P}.${w}`,"cardNumber"),G=(0,y.Pf)(`${s}.${P}.${w}`,"expiration"),j=(0,y.Pf)(`${s}.${P}.${w}`,"securityCode"),q=(0,y.Pf)(`${s}.${P}.${w}.amountInput`,"amount"),Y=(0,y.LZ)(`${s}.${P}.${w}`,"selectCardType"),z=(0,y.LZ)(`${s}.${P}.${w}`,"cardNumberForBinDetection"),Z=k(W.props.value,K),J=((e,t)=>{const a=t.find((t=>t.data.id===e));return a?a.data.cardNumber.format:null})(Z,K)||I,X=e=>{if(!W.binding.bindExists)return;const t="MASTERCARD"===Z,a=e.substr(0,M),n=z.properties.key.startsWith("home.customerAccount");t&&e.length>=M&&a!==o?(z.setValue(a),z.runSetEvents()):n||(z.setValue(""),z.runSetEvents()),W.binding.bindExists&&c(a),"TROY"===Z&&e.length>=M&&!m&&(u(!0),F({eVar:"eVar6",slot:"Credit Card",feature:"troy: discover",action:"selected"})),M&&e.length<M&&B&&(p({type:v.Ru.SET_MOD_DATA,modKey:`${s}.${P}.${w}`,key:"was",value:{...S.was,displayCardType:B}}),p({type:v.Ru.SET_MOD_DATA,modKey:`${s}.${P}.${w}`,key:"displayCardType",value:""}))};(0,n.useEffect)((()=>{if(!W.props.value.includes("")){const{value:e}=(0,h.JT)({value:W.props.value},J);W.binding.setValue(e),W.binding.runSetEvents(),W.props.value.length&&Z&&W.props.value.length&&W.props.value.length>=M?(Y.setValue(Z),Y.runSetEvents()):(Y.setValue(""),Y.runSetEvents(),u(!1)),e!==$&&(ee(`${s}.${P}.${w}`,"cardNumber"),H(e),z.bindExists&&X(e))}}),[W.binding.value,Z]);const Q=V.data.securityCode?Number(V.data.securityCode.maxLength):j.props.maxLength,ee=(e,t)=>{p({type:v.Ru.COMMIT,modKey:e,bindName:t})},te=(0,E.A)(ee,1e3),{disableCreditCardAutofill:ae,renderFinanceOverlay:ne}=l,re={hasSecondaryCard:A,cashBackInfo:L,cashBackMessage:R,emiUnavailableMessage:T,showEmiLink:O,renderFinanceOverlay:ne,mainCardModKey:N.properties.key,mainCardInputModLoading:N.properties.isLoadingSubmit,cardNumber:{bindExists:W.binding.bindExists,selectCardType:S.selectCardType,cardTypes:S.cardTypes,displayCardType:S.displayCardType,hasBinDetection:z.bindExists,fieldAttrs:{...W.props,label:r().createElement(r().Fragment,null,S.cardNumberLabel||t.cardNumberLabel,e&&r().createElement("span",{className:"visuallyhidden"},t.splitPayLabel)),type:U?"tel":W.props.type,"data-autom":"card-number-input",name:ae?"rewardsCard":void 0,autoComplete:ae?"off":"on",maxLength:(se=J.blocks,se.reduce(((e,{start:t,length:a})=>e+(t?t.length:0)+Number(a)),0)||19),onChange:e=>{W.props.onChange(e)},classes:{input:"form-textbox-number-input"}}},expiration:{bindExists:G.binding.bindExists,fieldAttrs:{...G.props,"data-autom":"expiration-input",autoComplete:ae?"off":"on",label:r().createElement(r().Fragment,null,t.expirationLabel,e&&r().createElement("span",{className:"visuallyhidden"},t.splitPayLabel)),placeholder:t.expirationPlaceholder,type:U?"tel":G.props.type,onChange:e=>{const t=e.target.value.split("/");2===t.length&&4===t[1].length&&(e.target.value=[t[0].padStart(2,"0"),t[1].substr(2)].join("/")),G.props.onChange(e),ee(`${s}.${P}.${w}`,"expiration")},classes:{input:"form-textbox-number-input"}}},cvv:{bindExists:j.binding.bindExists,cardType:K,cvvTitle:t.cvvTitle,cvvAmex:t.cvvAmex,cvvGeneric:t.cvvGeneric,fieldAttrs:{...j.props,"data-autom":"security-code-input",autoComplete:ae?"off":"on",label:r().createElement(r().Fragment,null,t.securityCodeLabel,e&&r().createElement("span",{className:"visuallyhidden"},t.splitPayLabel)),maxLength:Q,type:U?"tel":j.props.type,onChange:e=>{j.props.onChange(e),ee(`${s}.${P}.${w}`,"securityCode")},classes:{input:"form-textbox-number-input"}}},splitAmount:{bindExists:q.binding.bindExists,fieldAttrs:{...q.props,label:r().createElement(r().Fragment,null,t.splitamount,e&&r().createElement("span",{className:"visuallyhidden"},t.splitPayLabel)),"data-autom":"payment-creditcard-amountsplit",onChange:e=>{q.props.onChange(e),te(`${s}.${P}.${w}.amountInput`,"amount")}}}};var se;return r().createElement(C,re)},R=r().memo(B);var _=a(7795),$=a(2684);const H=["garanti","yapkredi","akbank","isbank"],K=({installmentIssuer:e,editButtonProps:t,InlineEditorForm:a,loyaltyPointsData:n,mainCardInputSubmitting:s,showIssuerLogos:l})=>{const{assets:i}=(0,d.S)();return r().createElement("div",{className:"large-12 rf-creditinstallment-options"},l&&((e,t)=>r().createElement("div",{className:"rf-creditinstallments-wrapper"},r().createElement("div",{className:"rf-creditinstallments-title typography-body"},e.loyaltyPointsTitle),r().createElement("ul",{className:"rf-creditinstallments-images"},H.map((e=>r().createElement("li",{"data-logo":e,key:e,className:"rf-creditinstallments-image"+(t===e?"-selected":"")},r().createElement("span",{className:"visuallyhidden"},e)))))))(i,e),s?(e=>r().createElement("div",{role:"img",className:"waitindicator waitindicator24-gray rf-creditinstallment-loading","aria-label":e.processing}))(i):((e,t,a,n)=>{const{_editing:s,availableLoyaltyPoints:l}=t,i=t.was&&t.was.loyaltyPointsAmountInput||t.loyaltyPointsAmountInput;return r().createElement(r().Fragment,null,s?r().createElement("div",{className:"rf-loyaltypoints-editor rf-load-fadein large-6 small-12"},r().createElement("div",(0,o.A)({className:"rf-loyaltyavailable"},(0,u.OH)($.GP(e.loyaltyPointsAvailable,{availableLoyaltyPoints:l})))),n):r().createElement("div",{className:"rf-loyaltypoints-applied rf-load-fadein large-6 small-12"},r().createElement("span",null,e.loyaltyPointsAppliedTitle),r().createElement("button",(0,o.A)({type:"button",className:"as-buttonlink rf-loyaltypoints-edit"},a),e.edit),r().createElement("span",null,i)))})(i,n,t,a))},V=()=>{const{assets:e}=(0,d.S)(),{modKey:t}=i(),[a]=(0,y.Ej)(`${t}.${O}`,"installmentIssuer"),n=(0,y.Yl)(`${t}.${P}`),s=g().split(n.childModKeys[0],".").pop(),l=(0,y.Yl)(`${t}.${P}.${s}`),[o]=(0,y.Ej)(`${t}.${P}.${s}`,"showIssuerLogos"),c=(0,y.W4)(`${t}.${L}`,"edit"),[m]=(0,y.Ej)(`${t}.${L}`),[u]=(0,y.Ej)(`${t}.loyaltyPaymentSpinner`,"showSpinner"),p=l.properties.isLoadingSubmit,v=r().createElement(_.K,{modKey:`${t}.${L}`,visibleKey:"_editing",triggerSel:".rf-loyaltypoints-edit",textField:{label:e.loyaltyPointsLabel,bindName:"loyaltyPointsAmountInput","data-autom":"bag-zipcode-input"},applyButton:{label:e.apply,ally:"Applying",bindName:"applyLoyaltyPoints","data-autom":"bag-zipcode-apply"},cancelButton:{label:e.cancel,ally:"Cancelling","data-autom":"bag-zipcode-cancel",metrics:{eVar:"eVar5",slot:"Checkout",feature:a,action:"PointsCancel"}}});return r().createElement(K,{installmentIssuer:a,editButtonProps:c.props,InlineEditorForm:v,loyaltyPointsData:m,mainCardInputSubmitting:p||u,showIssuerLogos:o})},U=r().memo(V);var W=a(6777),G=a(3471),j=a(7466);const q=g().get(window,"asMetrics.fireMicroEvent",g().noop),Y=({details:e={},setHasSelectedOption:t,selectedZiniaSku:a,selectedZiniaInstallmentTerm:n})=>{const{assets:s}=(0,d.S)(),{bottomNote:l,breakdownItems:i}=e;return r().createElement("div",{className:"rf-installment-breakdown-container typography-body-reduced"},i.map((({header:e,productName:t,price:a})=>r().createElement("div",{key:t,className:"row rf-installment-breakdown-details"},r().createElement("div",{className:"column large-12 rf-installment-breakdown-details-header"},e),r().createElement("span",{className:"column large-6 rf-installment-breakdown-details-name"},t),r().createElement("span",(0,o.A)({className:"column large-6 rf-installment-breakdown-details-price"},(0,u.OH)(a)))))),r().createElement("div",{className:"rf-installment-breakdown-message"},l),r().createElement(j.A,{onClick:()=>{t(!0),q({eVar:"eVar21",slot:"InstallmentOptions",feature:a,action:n})},className:"button button-margin",hasDefaultClass:!1},s.oKButton))},z=({modKey:e,selectedInstallmentTerm:t,selectInstallmentOptionRadioProps:a,setHasSelectedOption:n})=>{const[{value:s,topLabel:l,label:c,subLabel:d,sideLabel:p,subSideLabel:v,installmentBreakdown:h={},selectedZiniaInstallmentTerm:E,selectedZiniaSku:b}]=(0,y.lE)(e),f=(0,y.W4)(e,"selectOption"),A=Number(s)===Number(t),{ziniaKey:w}=i();return r().createElement(r().Fragment,null,r().createElement(G.Ay,(0,o.A)({},a,{key:`${e}-${s}`,name:"installmentOptions",tag:"div",value:s,className:"rs-payment-installments-option","data-autom":`${e}-${s}`,onClick:()=>{g().isEmpty(h)?n(!0):n(!1),f.props.onClick()},checked:t===String(s)||t===s}),r().createElement("div",{className:"row"},r().createElement("div",{className:m()("form-selector-left-col column",{"large-6":Boolean(w),"large-8 small-6":Boolean(!w)})},l&&r().createElement("div",(0,o.A)({className:"rf-installment-item-selected-offer typography-caption"},(0,u.OH)(l))),c&&r().createElement("div",(0,o.A)({className:"form-selector-title"},(0,u.OH)(c))),d&&r().createElement("div",(0,o.A)({className:"form-label-small"},(0,u.OH)(d)))),r().createElement("div",{className:m()("form-selector-right-col column",{"large-6":Boolean(w),"large-4 small-6":Boolean(!w)})},p&&r().createElement("div",(0,u.OH)(p)),v&&r().createElement("div",(0,o.A)({className:"form-label-small"},(0,u.OH)(v)))))),!g().isEmpty(h)&&A&&r().createElement(Y,{details:h,setHasSelectedOption:n,selectedZiniaSku:b,selectedZiniaInstallmentTerm:E}))},Z=({productImageData:e,handleEditInstallment:t,modKey:a,showEditButton:n,promoMessages:s=[],selectedInstallmentTerm:l,productName:i,includesAC:c})=>{const{assets:m}=(0,d.S)(),[{collapsedLabel:p,topLabel:v,collapsedSubLabel:h,collapsedMessage:E,collapsedPromoMessages:b=[],value:f,collapsedData:A}]=(0,y.lE)(a),w=Number(f)===Number(l),N=A&&A.acDetails;let S;if(N){const{src:e,dataScaleParams1:t,alt:a,height:n,width:s,header:l}=A.acDetails,i={srcSet:{src:e,scaleParams1:t},alt:a,height:n,width:s};S=r().createElement(r().Fragment,null,r().createElement("div",(0,o.A)({className:"rf-installment-item-selected-header"},(0,u.OH)(l))),r().createElement("div",{className:"row rf-installment-product-details"},r().createElement("div",{className:"rf-creditinstallment-productimage column"},r().createElement(W.Ay,{data:i})),r().createElement("div",{className:"rf-creditinstallment-productinfo typography-body-reduced column large-6 small-9"},r().createElement("span",{className:"row rf-creditinstallment-product-name"},A.acDetails.productName))))}return r().createElement(r().Fragment,null,w&&r().createElement("div",{className:"rf-installment-item-selected-fullwidth-tray"},r().createElement("div",{className:"row"},r().createElement("div",{className:"large-10 small-10 rf-installment-item-selected-fullwidth-trayoption"},v&&r().createElement("div",(0,o.A)({className:"rf-installment-item-selected-offer typography-caption"},(0,u.OH)(v))),!g().isEmpty(A)&&r().createElement(r().Fragment,null,r().createElement("div",(0,o.A)({className:"rf-installment-item-selected-header"},(0,u.OH)(A.header))),r().createElement("div",{className:"row rf-installment-product-details"},r().createElement("div",{className:"rf-creditinstallment-productimage column"},r().createElement(W.Ay,{data:e})),r().createElement("div",{className:"rf-creditinstallment-productinfo typography-body-reduced column large-6 small-9"},r().createElement("span",{className:"row rf-creditinstallment-product-name"},i),c&&r().createElement("span",{className:"row rf-creditinstallment-product-ac"},m.includesAC),A.qty&&r().createElement("span",{className:"row rf-creditinstallment-qty"},A.qty)))),g().isEmpty(A)&&r().createElement(r().Fragment,null,r().createElement("div",(0,o.A)({className:"rf-installment-item-selected-header"},(0,u.OH)(p))),r().createElement("div",{className:"rf-installment-item-selected-productimage column"},r().createElement(W.Ay,{data:e}))," "),(h||E||b)&&r().createElement("div",{className:"rf-installment-item-selected-details"},h&&r().createElement("div",(0,o.A)({className:"rf-installment-product-details"},(0,u.OH)(h))),E&&r().createElement("div",(0,o.A)({className:"rf-installment-message"},(0,u.OH)(E))),b.map((e=>r().createElement("div",{key:`collapsedPromo-${e}`,className:"rf-installment-promo-message"},e))))),r().createElement("div",{className:"rf-installment-item-selected-action  large-2 small-2"},n&&r().createElement("button",{type:"button",className:"as-buttonlink",onClick:()=>t(g().isEmpty(A)?{}:{slot:"InstallmentOptions",feature:"edit",action:"selected"})},r().createElement("span",(0,o.A)({"aria-hidden":"true"},(0,u.OH)(m.edit))),r().createElement("span",{className:"visuallyhidden"},$.GP(m.editInstallmentAlly,{selectedInstallmentTerm:l,productName:i}))))),N&&S,A&&A.priceDetails&&A.priceDetails.length&&r().createElement(r().Fragment,null,r().createElement("ul",{className:"rf-installment-item-selected-summary typography-body-reduced-tight"},A.priceDetails.map((e=>r().createElement("li",{key:e.name,className:"row "+(e.name?`rf-installment-item-selected-summary-${e.name}`:"")},r().createElement("div",{className:"column large-8 rf-installment-item-selected-summary-label"},e.label),r().createElement("div",{className:"column large-4 large-last rf-installment-item-selected-summary-value"},e.price))))),s.map((e=>r().createElement("div",(0,o.A)({key:`selectedPromo-${e}`,className:"rf-installment-item-selected-tradein typography-caption"},(0,u.OH)(e))))))))},J=g().get(window,"asMetrics.fireMicroEvent",g().noop),X=({modKey:e})=>{const{assets:t}=(0,d.S)(),a=(0,y.Yl)(e),{productName:s,src:l,alt:i,dataScaleParams1:c,width:m,height:p,includesAC:v,promoMessages:h=[],downPayment:E,selectedInstallmentTerm:b}=a.data,f={srcSet:{src:l,scaleParams1:c},alt:i,height:p,width:m},A=(0,y.tx)(e,"selectedInstallmentTerm"),[w]=(0,y.Ej)(e,"showEditButton",!0),[N,S]=(0,n.useState)(!1);(0,n.useEffect)((()=>{-1!==b&&S(!0)}),[]);const C=e=>{S(!1),g().isEmpty(e)||J({eVar:"eVar21",...e})},k=a.childModKeys.map((e=>r().createElement(z,{key:a.childModKeys.length-1,modKey:e,selectedInstallmentTerm:b,selectInstallmentOptionRadioProps:A.props,setHasSelectedOption:S}))),I=a.childModKeys.map((e=>r().createElement(Z,{key:a.childModKeys.length-1,productImageData:f,handleEditInstallment:C,modKey:e,showEditButton:w,promoMessages:h,selectedInstallmentTerm:b,productName:s,includesAC:v}))),P=$.GP(t.installmentOptionsLabel,{productName:s});return r().createElement("fieldset",{className:"rf-creditinstallment-items-list","aria-label":P},r().createElement("div",{className:"large-6 small-12"},N?I:r().createElement("div",{className:"rf-creditinstallment-details"},r().createElement("div",{className:"row rs-product-details"},r().createElement("div",{className:"rf-creditinstallment-productimage column"},r().createElement(W.Ay,{data:f})),r().createElement("div",{className:"rf-creditinstallment-productinfo typography-body-reduced column large-6 small-9"},r().createElement("span",{className:"row rf-creditinstallment-product-name"},s),v&&r().createElement("span",{className:"row rf-creditinstallment-product-ac"},t.includesAC),h.map((e=>r().createElement("div",{key:`savingsPromo${e}`,className:"rf-installment-savings-labels-message"},e)))),r().createElement("div",{className:"rf-creditinstallment-down-payment typography-tout"},E)),r().createElement("p",(0,o.A)({className:"rf-creditinstallment-label"},(0,u.OH)(t.installmentAfterDownPayment))),k)))};var Q=a(3673),ee=a(9594);const te=({installmentOption:e,selectedInstallmentProps:t,id:a,installmentOptionDataAutom:n})=>{const{assets:s,viewport:l}=(0,d.S)();return r().createElement(G.Ay,(0,o.A)({},t,{name:"installmentOptions",key:a,tag:"div",value:e.value,className:"form-selector-twocol-threeline",render:({SelectorLabel:a})=>r().createElement(r().Fragment,null,r().createElement(a,{"data-autom":n},r().createElement("span",{className:"row"},r().createElement("span",{className:"form-selector-left-col column large-6"},e.totalSavings&&e.subSideLabel&&r().createElement("div",{className:"form-label-small rf-creditinstallment-totalsavings"},e.totalSavings),e.nocostEmiLabel&&r().createElement("span",(0,o.A)({className:"form-label-small rf-creditinstallment-nocostemi typography-caption violator-frameless"},(0,u.OH)(s.nocostEmiLabel))),e.label&&r().createElement("div",{className:"form-selector-title"},e.label),e.apr&&r().createElement("div",{className:"form-selector-list"},e.apr),e.subLabel&&r().createElement("div",{className:"form-label-small"},e.subLabel,e.nocostEmiLabel&&r().createElement(r().Fragment,null,"small"!==l?r().createElement("p",(0,u.OH)(e.nocostEmiLabel)):e.nocostEmiLabel))),r().createElement("span",{className:"form-selector-right-col column large-6"},e.amount&&r().createElement(r().Fragment,null,e.amounta11y?r().createElement(r().Fragment,null,r().createElement("span",{"aria-hidden":"true"},e.amount),r().createElement("span",(0,o.A)({className:"visuallyhidden"},(0,u.OH)(e.amounta11y)))):r().createElement("span",null,e.amount)),e.totalSavings&&!e.subSideLabel&&r().createElement("div",{className:"form-label-small rf-creditinstallment-totalsavings"},e.totalSavings),e.sideLabel&&r().createElement("div",{className:"form-label-list"},e.sideLabel),e.subSideLabel&&r().createElement("div",{className:"form-label-small"},e.subSideLabel)))),t.checked&&e.discountDetail&&r().createElement("div",{className:"rf-creditinstallment-discountdetails typography-body"},r().createElement("p",{className:"rf-creditinstallment-discountheader"},s.savingsIncluded),e.discountDetail.map((e=>r().createElement("span",{key:`${e.label}-${e.amount}`,className:"row rf-creditinstallment-savings"},r().createElement("span",{className:"form-selector-left-col column large-6"},e.label&&r().createElement("span",{className:"rf-creditinstallment-nocostemi typography-caption violator-frameless"},e.label)),r().createElement("span",{className:"form-selector-right-col column large-6"},e.amount&&r().createElement("span",{className:"rf-creditinstallment-nocostemi typography-caption violator-frameless"},e.amount)))))))}))},ae=({installmentOption:e,cashbackMessage:t,setCashbackMessage:a,id:s})=>{const{modKey:l}=i(),o=(0,y.tx)(`${l}.${O}`,"selectedInstallment"),c=e.label&&e.label.replace(/\s/g,"-").toLowerCase();(0,n.useEffect)((()=>{o.binding.bindExists&&(t||e.value!==o.binding.value.toString()||a(e.cashBackAmount),o.binding.value.toString()===e.value&&a(e.cashBackAmount))}),[o.binding.value]);const m={...o.props,className:"form-selector-input",name:"installmentOptions",checked:e.value===o.binding.value.toString()};return r().createElement(te,{installmentOption:e,selectedInstallmentProps:m,id:`${o.binding.properties.key}-${s}`,installmentOptionDataAutom:c})},ne=r().memo(ae),re=({installmentOptions:e,installmentIssuer:t,bankLogo:a,selectorsOnLoad:n,creditInstallmentsModId:s})=>{const{assets:l,fragments:i}=(0,d.S)(),[c,p]=r().useState(!1),[g,y]=r().useState(""),v=m()("form-group-label column small-12",{"large-6":a}),h=a?l.installmentPaymentOptionsTitle:$.GP(i.installmentPaymentOptionsTitleBank,{bank:(t||"").toUpperCase()});let E=[];const b=e.slice(0,n);e.length>n&&(E=e.slice(n,e.length));const f=E&&!c&&e.length>n;return r().createElement("div",{className:"rf-creditinstallment-container selector-section"},g&&r().createElement("p",{className:"icon icon-before icon-checkcircle rf-creditcard-cashbackcalculation"},g),r().createElement("div",{className:"rf-creditinstallment-keyline large-6 small-12"}),r().createElement("div",{className:"row large-6 small-12"},r().createElement("div",(0,o.A)({className:v},(0,u.OH)(h))),a&&r().createElement("div",{className:"rf-creditinstallment-banklogo column large-6"},r().createElement(W.Ay,{className:"rs-compareplans-bankimage",src:a.labelImageUrl,width:a.labelImageWidth,height:a.labelImageHeight,alt:a.labelImageAlt}))),b&&r().createElement("div",{className:"rf-creditinstallment-emioptions form-selector-group small-12 large-6"},b.map((e=>r().createElement(ne,{installmentOption:e,cashbackMessage:g,setCashbackMessage:y,key:`${s}-${e.value}`,id:`${s}-${e.value}`})))),f&&r().createElement("button",{type:"button",className:"rf-creditinstallment-selectmore as-buttonlink icon icon-after icon-chevrondown","data-autom":"see-more-emi-options",onClick:()=>{p(!c)}},l.seeMoreEmiOptions),E&&r().createElement(ee.x,{in:c},r().createElement("div",{className:"as-util-fadeaccordion rr-accordion-shown small-12 large-6 form-selector-group rf-creditinstallment-moreoptions"},r().createElement("div",{className:"as-util-fadeaccordion-content form-selector-group"},E.map((e=>r().createElement(ne,{installmentOption:e,cashbackMessage:g,setCashbackMessage:y,key:`${s}-${e.value}`,id:`${s}-${e.value}`})))))))};var se=a(4067);const le=({installmentOptions:e,installmentMessage:t,catValue:a,catText:n,installmentOptionsDropdownProps:s})=>{const{assets:l,fragments:i}=(0,d.S)(),c=m()("form-dropdown large-6 small-12",{column:Boolean(t)});return r().createElement("div",{className:"rf-creditinstallment-dropdown as-load-fadein"},r().createElement("div",{className:"rf-creditinstallment-title typography-body"},l.installmentPaymentOptionsTitle),r().createElement("div",{className:c},r().createElement(se.A,s,e.map((e=>r().createElement(se.n,{key:`installment-option-${e.value}`,value:e.value},e.label)))),r().createElement("span",{className:"form-dropdown-chevron","aria-hidden":"true"})),t&&r().createElement("div",{className:"column large-6 small-12"},r().createElement("div",{className:"as-supplementalinfo"},t)),a&&r().createElement("p",(0,o.A)({className:"rf-creditinstallment-catinfo large-6 small-12"},(0,u.OH)($.GP(i.catInfo,{catValue:a,catText:n})))))},ie=({creditInstallmentData:e,installmentOptionsDropdownProps:t,creditInstallmentsModId:a,hasCreditInstallmentsItems:n,installmentItems:s,oneTimePaymentLineItems:l,bnplLineItems:o})=>{const{assets:c}=(0,d.S)(),{modKey:m}=i(),[u,p]=(0,y.fL)(`${m}.${O}`),{installmentOptions:g,bankLogo:v,installmentIssuer:h,selectorsOnLoad:E,installmentMessage:b,catValue:f,catText:A,showSelectors:w}=e,N=o&&o.length,S=l&&l.items&&l.items.length,C=l&&r().createElement("div",{className:"large-6 small-12"},r().createElement("div",{className:"rf-installment-item-selected-fullwidth-tray"},r().createElement("div",{className:"rf-installment-item-selected-header"},l.header),l.items&&l.items.map((e=>r().createElement("div",{className:"row rf-installment-product-details",key:e.label},r().createElement("div",{className:"rf-creditinstallment-productimage column"},r().createElement(W.Ay,{src:e.labelImageUrl})),r().createElement("div",{className:"rf-creditinstallment-productdetails typography-body-reduced column large-6 small-9"},r().createElement("span",{className:"row rf-creditinstallment-product-name"},e.label),e.qty&&r().createElement("div",{className:"row rf-creditinstallment-product-quantity"},r().createElement("span",{className:"value"},e.qty)),r().createElement("div",{className:"row"},r().createElement("span",{className:"value"},e.value)),r().createElement("div",{className:"row"},r().createElement("span",{className:"value"},e.promoMessages)))))))),k=o&&o.map((e=>r().createElement("div",{className:"large-6 small-12",key:e.label},r().createElement("div",{className:"rf-installment-item-selected-fullwidth-tray"},r().createElement("div",{className:"rf-installment-item-selected-header"},e.header),r().createElement("div",{className:"row rf-installment-product-details"},r().createElement("div",{className:"rf-creditinstallment-productimage column"},r().createElement(W.Ay,{src:e.labelImageUrl})),r().createElement("div",{className:"rf-creditinstallment-productdetails typography-body-reduced column large-6 small-9"},r().createElement("span",{className:"row rf-creditinstallment-product-name"},e.label),e.qty&&r().createElement("div",{className:"row rf-creditinstallment-product-quantity"},r().createElement("span",{className:"value"},e.qty)),e.promoMessages&&r().createElement("div",{className:"row"},r().createElement("span",{className:"value"},e.promoMessages)))))))),I=g&&w,P=n||Boolean(u.length)||Boolean(N)||Boolean(S)?r().createElement(r().Fragment,null,s,k,C):r().createElement(le,{installmentOptions:g,installmentMessage:b,catValue:f,catText:A,installmentOptionsDropdownProps:t});return r().createElement("div",{className:"rf-creditinstallment-container"},Boolean(u.length)&&r().createElement("div",{className:"rf-creditinstallment-error small-12 large-6"},r().createElement(Q.A,{messages:u,lastUpdated:p})),n&&c.creditInstallmentTermsTitle&&r().createElement("div",{className:"rf-creditinstallment-title typography-body"},c.creditInstallmentTermsTitle),I?r().createElement(re,{installmentOptions:g,installmentIssuer:h,bankLogo:v,selectorsOnLoad:E,creditInstallmentsModId:a}):P)},oe=({modKey:e})=>{const{assets:t}=(0,d.S)(),a=e.includes(x)?e:`${e}.${O}`,n=(0,y.Yl)(a),s=Boolean(n.childModKeys.length),[{oneTimePaymentLineItems:l,bnpl30LineItems:i}]=(0,y.lE)(e),o=(0,y.Yl)(`${e}.${P}`),c=g().split(o.childModKeys[0],".").pop(),m=(0,y.Yl)(`${e}.${P}.${c}`),[u]=(0,y.Ej)(`${e}.loyaltyPaymentSpinner`,"showSpinner"),p=m.properties.isLoadingSubmit||u,v={...(0,y.TP)(`${e}.${O}`,"selectedInstallment").props,label:t.selectPaymentMethod,"data-autom":"creditInstalmentDropdownField"},h=s&&n.childModKeys.map((e=>r().createElement(X,{key:n.childModKeys.length-1,modKey:e})));return r().createElement("div",{className:"large-12 rf-creditinstallment-options","data-autom":"creditInstalmentOptions"},!p&&r().createElement(ie,{creditInstallmentData:n.data,creditInstallmentsModId:n.properties.key,installmentOptionsDropdownProps:v,installmentItems:h,hasCreditInstallmentsItems:s,oneTimePaymentLineItems:l,bnplLineItems:i}))},ce=r().memo(oe);var me=a(6884);const de=({isFullWidth:e,cardNumberRightRail:t,cardNumberRightRailOverlay:a})=>{const{assets:n,fragments:s}=(0,d.S)(),l=m()("column","small-12","rf-creditcard-cardnumberrightrail",{"large-6":!e,"large-12":e}),[i,c]=r().useState(!1);return r().createElement(r().Fragment,null,r().createElement("div",{"aria-live":"polite",className:l},r().createElement("div",{className:e?"":"as-supplementalinfo"},t&&r().createElement("div",(0,u.OH)(t)),a&&r().createElement("div",{className:`rf-creditcard-${a.toLowerCase()}`},r().createElement("span",(0,o.A)({className:"rf-creditcard-overlaylabel"},(0,u.OH)(n[`rightRailLabel${a}`]))),r().createElement("button",{type:"button",onClick:()=>c(!0),className:"as-buttonlink icon icon-after icon-pluscircle","data-autom":`creditcard-${a.toLowerCase()}`},n[`rightRailLinkText${a}`])))),a&&r().createElement(me.A,{visible:i,onClose:()=>c(!1),ariaLabel:`as-creditcard-header-${a.toLowerCase()}`,fixedWidth:!0},r().createElement("div",(0,o.A)({className:"rf-creditcard-overlay-content rf-overlay-content typography-body"},(0,u.OH)(s[`rightRailOverlayContent${a}`])))))},ue=({isSecondaryCard:e})=>{const{modKey:t,isFullWidth:a}=i(),n=(0,y.Yl)(`${t}.${P}`),s=e?1:0,l=g().split(n.childModKeys[s],".").pop(),[o]=(0,y.lE)(`${t}.${P}.${l}`),{cardNumberRightRail:c,cardNumberRightRailOverlay:m,grAnnounceCardNumberRightRail:d}=o,u=Boolean(c||m||d),p=d||c;return r().createElement(r().Fragment,null,u&&r().createElement(de,{isFullWidth:a,cardNumberRightRail:p,cardNumberRightRailOverlay:m}))},pe=r().memo(ue),ge=({secondaryCardModKey:e,hasSplitPayment:t,hasSecondaryCard:a,title:n,showAppleCardhelper:s,hasCreditInstallment:l,splitPaymentToggleProps:c,splitMessage:u,splitLabel:p})=>{const{modKey:g}=i(),{assets:y,viewport:v}=(0,d.S)(),h=s&&"small"!==v,E="small"===v&&a&&s,b=c["aria-describedby"],[f,A]=r().useState(a||!1),w=m()("rf-creditcard-splittoggle icon icon-after",{"icon-chevrondown":!f,"icon-chevronup":f});return r().createElement("div",{className:"rf-creditcard-split"},r().createElement("div",{className:"row"},r().createElement("div",{className:"column large-6 small-12"},r().createElement("button",(0,o.A)({className:w,type:"button"},c,{onClick:e=>{A(!f),c.onClick(e)}}),p)),r().createElement("div",{className:"column large-6 small-12"},r().createElement("div",{id:b,className:"as-supplementalinfo"},u))),r().createElement("div",{className:"rf-creditcard-split-input"},r().createElement(ee.x,{in:f},a?r().createElement("div",{className:"rf-util-fadeaccordion-content"},n,r().createElement("div",{className:"rf-creditcard-splitcard row"},r().createElement("div",{className:"rf-creditcard-split-cardinputs large-6 small-12"},r().createElement(R,{isSecondaryCard:t})),h&&r().createElement(pe,{isSecondaryCard:!0})),E&&r().createElement("div",{className:"row"},r().createElement(pe,{isSecondaryCard:!0})),l&&r().createElement("div",{className:"row"},r().createElement(ce,{modKey:`${g}.${P}.${e}`}))):r().createElement("div",{role:"img",className:"waitindicator waitindicator24-gray rf-creditcard-moduleloading","aria-label":y.processing}))))},ye=()=>{const{assets:e}=(0,d.S)(),{modKey:t}=i(),a=(0,y.sW)(),n=(0,y.Yl)(`${t}.${P}`),s=g().split(n.childModKeys[0],".").pop(),l=g().split(n.childModKeys[1],".").pop(),o=(0,y.Yl)(`${t}.${P}.${l}`),[c]=(0,y.lE)(`${t}.${P}.${s}`),m=o.modExists,{splitLabel:u,splitMessage:p}=c,[h]=(0,y.Ej)(t,"title"),E="AppleCardHelp"===o.data.cardNumberRightRailOverlay,b=(0,y.M1)(`${t}.${P}.${l}.${O}`),f=(0,y.W4)(`${t}.${P}.${s}`,T),A=f.binding.bindExists,[w,N]=(0,y.Ej)(`${t}.${P}.${s}`,T),S={...f.props,onClick:()=>{N(!f.props.value),a({type:v.Ru.CLICK,modKey:`${t}.${P}.${s}`,bindName:T})},"data-autom":"pay-with-single-card","aria-describedby":`${f.props.id}-info`};return r().createElement(ge,{secondaryCardModKey:l,hasSplitPayment:A,hasSecondaryCard:m,title:h||e.cardTitle,showAppleCardhelper:E,hasCreditInstallment:b,splitPaymentToggleProps:S,splitMessage:p||e.splitMessage,splitLabel:u})},ve=r().memo(ye),he=({info:e,sectionWidth:t})=>{const a=m()("column","small-12",{sectionWidth:t});return r().createElement("div",{className:"rf-creditcard-servicemessage"},r().createElement("div",{className:a},e))};var Ee=a(4217),be=a(9573);const fe=({isLoadingOverlay:e,overlayProps:t,editButtonProps:a,saveButtonProps:n,editAddressLabel:s,billingAddressForm:l})=>{const{assets:i}=(0,d.S)();return r().createElement("div",{className:"rf-creditcard-addressoverlay"},e?r().createElement("div",{role:"img",className:"waitindicator waitindicator-inline waitindicator16-gray","aria-label":i.processing}):r().createElement("button",(0,o.A)({type:"button"},a),r().createElement("span",{"aria-label":i.editAddressOverlayHeader},s)),r().createElement(me.A,(0,o.A)({},t,{fixedWidth:!0}),r().createElement("div",{className:"row"},r().createElement("div",{className:"column large-12"},r().createElement("h2",{className:"rf-creditcard-addressoverlay-subheader typography-headline-reduced",id:"rf-creditcard-addressoverlay-subheader"},i.editAddressOverlayHeader),r().createElement("div",{className:"column small-12 large-9 large-centered"},r().createElement("p",{className:"rf-creditcard-address-para typography-body"},i.addressInfo),l,r().createElement(j.A,(0,o.A)({className:"rf-creditcard-savebutton"},n),i.saveChanges))))))},Ae=()=>{const{modKey:e}=i(),t=(0,y.Yl)(`${e}.editSavedBillingAddress`),a=(0,y.W4)(`${e}.savedBillingAddress`,"editBillingAddress"),n=(0,y.W4)(`${e}.editSavedBillingAddress`,"saveBillingAddress"),[s,l]=(0,y.lf)(`${e}.editSavedBillingAddress`),[o]=(0,y.Ej)(`${e}.savedBillingAddress`,"editAddressLabel"),c={...a.props,className:"as-buttonlink rf-creditcard-editaddress"},m={...n.props,isLoading:t.properties.isLoadingSubmit,"data-autom":"address-savebutton"},d={...s,returnFocusRef:c.ref,onClose:l,ariaLabel:"rf-creditcard-addressoverlay-subheader"};return r().createElement(fe,{isLoadingOverlay:a.binding.properties.isLoadingSubmit,overlayProps:d,editButtonProps:c,saveButtonProps:m,editAddressLabel:o,billingAddressForm:r().createElement(Ee.A,{isFullWidth:!0,modKey:`${e}.editSavedBillingAddress.address`})})},we=({sections:e})=>{const{modKey:t}=i(),{assets:a,viewport:n}=(0,d.S)(),s=(0,y.Yl)(t),l=e.map((e=>{const l=(0,y.M1)(`${t}.${e}.address`),i="small"===n,o="billingAddress"===e&&s.properties.isLoadingSubmit;return r().createElement("div",{key:e},l&&o?r().createElement("div",{role:"img",className:"rf-creditcard-moduleloading waitindicator waitindicator-inline waitindicator24-gray","aria-label":a.processing}):r().createElement(Ee.A,{modKey:`${t}.${e}.address`,isFullWidth:i,classes:{layout:"as-util-fadein"}}))}));return r().createElement(r().Fragment,null,l)},Ne=({shouldUseShippingAddress:e,useShippingAddressCheckboxProps:t,useShippingAddressLabel:a,headingTag:n,hasZiniaInstallments:s})=>{const{assets:l}=(0,d.S)(),i=(0,be.A)();return r().createElement("div",{className:"rf-creditcard-addressfields large-12 small-12","data-autom":"billingAddressForm"},r().createElement("div",{className:"rf-creditcard-credit-address"},r().createElement(n,{className:"rf-creditcard-address-subheader large-6 small-12"},s?l.ziniaBillingHeader:l.addressHeader),e&&r().createElement("div",{className:"form-checkbox"},r().createElement("input",(0,o.A)({},t,{id:i,type:"checkbox",className:"form-checkbox-input","data-autom":"shippingAddressCheckbox"})),r().createElement("label",{htmlFor:i,className:"form-label"},r().createElement("span",{className:"form-checkbox-indicator"}),a)),r().createElement("div",{className:"rf-address-edit"},r().createElement(we,{sections:["billingAddress","billingContact"]}))))},Se=({canEditSavedBillingAddress:e,headingTag:t})=>{const{assets:a}=(0,d.S)();return r().createElement("div",{className:"large-12 small-12 rf-creditcard-addressfields"},r().createElement("div",{className:"rf-creditcard-savedcard-address"},r().createElement("div",{className:"row large-6 small-12"},r().createElement("div",{className:"column large-6 small-6"},r().createElement(t,{className:"rf-creditcard-address-subheader"},a.addressHeader)),e&&r().createElement("div",{className:"column large-6 small-6"},r().createElement(Ae,null))),r().createElement("div",{className:"rf-creditcard-savedcard-addressview"},r().createElement(we,{sections:["savedBillingAddress","billingContact"]}))))},Ce=({hasCountryOption:e,hasBillingAddress:t,hasSavedBillingAddress:a,canEditSavedBillingAddress:n,hasBillingContact:s,shouldUseShippingAddress:l,useShippingAddressCheckboxProps:i,useShippingAddressLabel:o,addressCountryFormLayout:c,headingTag:m,hasZiniaInstallments:d})=>{const u=e||t||a||s,p=t||s&&!a;return r().createElement("div",{className:"rf-creditcard-address"},u&&r().createElement("div",{className:"rf-creditcard-keyline large-6 small-12"}),e&&r().createElement("div",{className:"column large-6 small-12 rf-creditcard-addresscountry"},c),p&&r().createElement(Ne,{shouldUseShippingAddress:l,useShippingAddressCheckboxProps:i,useShippingAddressLabel:o,headingTag:m,hasZiniaInstallments:d}),a&&r().createElement(Se,{canEditSavedBillingAddress:n,headingTag:m}))},ke=()=>{const{modKey:e}=i(),t=e.includes(x),a=(0,y.DZ)(e,"isUseShippingAddress"),[n]=(0,y.Ej)(e,"useShippingAddressLabel"),s=(0,y.LZ)(`${e}.savedBillingAddress`,"editBillingAddress"),l={...a.props,className:"form-checkbox-input"},[o]=(0,y.lE)(`${M}.displayGroups.group-PAY_IN_FULL`),{title:c,header:m}=o,d=c||m?"h3":"h2";return r().createElement(Ce,{hasCountryOption:(0,y.M1)(`${e}.countryOption`),hasBillingAddress:(0,y.M1)(`${e}.billingAddress`),hasSavedBillingAddress:(0,y.M1)(`${e}.savedBillingAddress`),canEditSavedBillingAddress:s.bindExists,hasBillingContact:(0,y.M1)(`${e}.billingContact`),shouldUseShippingAddress:a.binding.bindExists,useShippingAddressCheckboxProps:l,useShippingAddressLabel:n,addressCountryFormLayout:r().createElement(Ee.A,{modKey:`${e}.countryOption.address`}),headingTag:(0,y.M1)(M)&&!t?d:"h3",hasZiniaInstallments:t})},Ie=r().memo(ke),Pe=()=>{const{fragments:e}=(0,d.S)(),{modKey:t,ziniaKey:a,isFullWidth:n,initialProps:s}=i(),l=a||t,{renderFinanceOverlay:c}=s,p=(0,y.M1)(`${l}.${P}`),v=(0,y.M1)(`${l}.${L}`),h=l.includes(x)?l:`${l}.${O}`,E=(0,y.M1)(h),[b]=(0,y.Ej)(l,"title"),[f]=(0,y.lE)(l),{enableFinancingCalculatorLink:A,financeOverlayLinkBelowText:w,isCciEnabled:N}=f,S=(0,y.Yl)(`${l}.${P}`),C=g().split(S.childModKeys[0],".").pop(),k=(0,y.M1)(`${l}.${P}.${C}.${O}`),I=(0,y.LZ)(`${l}.${P}.${C}`,T),[D]=(0,y.Ej)(`${l}.${P}.${C}`,"subscriptionBillingInfo"),M=n?" large-12":" large-6",F=m()("column","small-12",M),B=A&&c&&!w&&!N,_=c&&w,$=c&&N&&r().createElement("div",{className:"rf-creditcard-financing-cancel-section large-6 small-12"},e.paymentCancellationPolicyText&&r().createElement("span",(0,o.A)({className:"rf-creditcard-cancel-policy"},(0,u.OH)(e.paymentCancellationPolicyText))),c(l));return r().createElement("div",{className:"rf-creditcard"},B&&r().createElement("div",{className:"rf-creditcard-financing-overlay"},c(l)),b&&r().createElement("div",{className:F},r().createElement("div",{className:"rf-creditcard-title"},b)),_&&r().createElement("div",{className:"rf-creditcard-financing-overlay"},c(l)),r().createElement("div",{className:"row"},r().createElement("div",{className:F},p&&r().createElement(R,{isSecondaryCard:!1})),r().createElement(pe,{isSecondaryCard:!1}),k&&r().createElement(ce,{modKey:`${l}.${P}.${C}`})),D&&r().createElement(he,{info:D,sectionWidth:M}),I.bindExists&&r().createElement(ve,null),v&&r().createElement(U,null),E&&r().createElement(ce,{modKey:l}),$,r().createElement(Ie,null))},Le=r().memo(Pe),Te=({modKey:e,isFullWidth:t,initialProps:a,ziniaKey:n})=>r().createElement(l,{modKey:e,ziniaKey:n,isFullWidth:t,initialProps:a},r().createElement(Le,null)),Oe=r().memo(Te),De=({emiMessage:e,renderFinanceOverlay:t,cashbackOverlayLink:a,cashbackMessage:n,renderCashbackOverlay:s,payInFullModKey:l,isNcemiPromoText:i,message:c})=>r().createElement("div",{className:m()("rf-creditcard-supplementalinfo",{"rf-creditcard-supplementalinfo-ncemiPromoText":i})},e&&r().createElement(r().Fragment,null,r().createElement("div",(0,o.A)({className:"rf-creditcard-emimessage"},(0,u.OH)(e))),r().createElement("div",{className:"rf-creditcard-finanancing-overlay"},t(l))),a&&r().createElement(r().Fragment,null,r().createElement("div",(0,o.A)({className:"rf-creditcard-cashbackmessage"},(0,u.OH)(n))),s(l)),i&&r().createElement(r().Fragment,null,r().createElement("div",(0,o.A)({className:"rf-creditcard-ncemiPromoText"},(0,u.OH)(c))))),xe=({initialProps:e,isCreditEmi:t})=>{const a=(0,y.Yl)(`${M}.selectedBillingOptions`),{emiMessage:n}=a.data,[s]=(0,y.lE)(t?`${M}.displayGroups.group-PAY_OVER_TIME`:`${M}.displayGroups.group-PAY_IN_FULL`),{cashBackOverlayLink:l,cashBackMessage:i,messageType:o,message:c}=s,{renderFinanceOverlay:m,renderCashbackOverlay:d}=e,u=a.modExists&&(l||i),p=o&&"ncemiPromoText"===o;return r().createElement(r().Fragment,null,u&&r().createElement(De,{emiMessage:n,renderFinanceOverlay:m,cashbackOverlayLink:l,cashbackMessage:i,renderCashbackOverlay:d,payInFullModKey:t?`${M}.displayGroups.group-PAY_OVER_TIME`:`${M}.displayGroups.group-PAY_IN_FULL`,isNcemiPromoText:p,message:c}))},Me=r().memo(xe),Fe=({cardType:e,cardTypeLabel:t})=>r().createElement("span",{"data-logo":e,className:"rf-creditcardlogo-amp"},r().createElement("span",{className:"visuallyhidden"},t))},4505:(e,t,a)=>{"use strict";a.d(t,{h:()=>l,x:()=>i});var n=a(1594),r=a.n(n);const s=r().createContext({isFullWidth:!1,classes:{},provinceSelectorProps:{},sectionHeadingTag:"h2",displayMapModKey:null}),l=({isFullWidth:e,classes:t,provinceSelectorProps:a,sectionHeadingTag:n,children:l,displayMapModKey:i=null})=>r().createElement(s.Provider,{value:{isFullWidth:e,classes:t,provinceSelectorProps:a,sectionHeadingTag:n,displayMapModKey:i}},l),i=()=>r().useContext(s)},6817:(e,t,a)=>{"use strict";a.d(t,{L:()=>i,z:()=>l});var n=a(1594),r=a.n(n);const s=r().createContext({isSublayout:!1,isPostalCodeLayout:!1}),l=({isSublayout:e,isPostalCodeLayout:t,children:a})=>r().createElement(s.Provider,{value:{isSublayout:e,isPostalCodeLayout:t}},a),i=()=>r().useContext(s)},9391:(e,t,a)=>{"use strict";a.d(t,{A:()=>y});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(3701),c=a(7841),m=a(6637),d=a(840),u=a(2224),p=a.n(u),g=a(9877);const y=({modKey:e,displayMapModKey:t,field:a,tooltip:l=null,showUseManualFieldOption:u=!1,handleTypeAheadField:y=(()=>{})})=>{const v=(0,o.W4)(e,a.actionName),h=(0,o.W4)(t,"updateMap"),E=v.binding.bindExists,{assets:b}=(0,m.S)(),{props:f,binding:A}=(0,o.gx)(e,a.name,{debounce:150}),[w,N]=(0,r.useState)([{}]),S=!A.properties.optional,{options:C}=f;let k={};const{name:I,label:P}=a,L=`form-field-${I}`,T=(0,o.sW)(),O=e.includes("localitySearchTypeAhead")&&"searchString"===I,[,D]=(0,o.Ej)(e,"typeAheadEnabled"),x=E&&"find"===a.actionName,M=p().get(window,"asMetrics.sendUserInteraction",p().noop);(0,r.useEffect)((()=>{u?N([...C,{city:null,street2:null,street3:null,street:b.useManualEntry,district:null}]):O&&N(C)}),[u,C,b.useManualEntry]),u?k={options:w,className:"rs-street-typeahead-autocomplete-dropdown",getOptionValue:e=>e.street,getOptionDisabled:e=>!e.street,renderOption:e=>s().createElement(s().Fragment,null,s().createElement("p",{className:"form-dropdown-option-title"},e.street&&e.street),e.district&&e.countryCode&&s().createElement("p",{className:"form-dropdown-option-text"},`${e.district} ${e.countryCode}`))}:O&&(k={options:w,className:"rs-locationsearch-autocomplete-dropdown",getOptionValue:e=>e.searchString,renderOption:e=>e.searchString});const F={...f,...k,name:I,label:P,search:x,required:S,onSelection:(t,a)=>{let n="";if(O){const t=f.options[a],n=e.split(".").slice(0,-1).join(".");D(!1),Object.keys(t).map((e=>{e!==I&&T({type:c.Ru.SET_MOD_DATA,modKey:n,key:e,value:t[e]})})),T({type:c.Ru.ACTION,modKey:e,name:"localitySelected"})}t===b.useManualEntry?(n=b.useManualEntry.toLowerCase(),y(b.useManualEntry)):(n=`${a+1}/${Array.isArray(C)&&O?C.length:w.length-1} selected`,f.onSelection(t,a),u&&h.props.onClick()),(e=>{M({name:"metrics",data:{eVar21:`${['D=pageName+"'," |ShippingAddress",e].join("|")}"`}})})(n)},onChange:e=>{e.target.value.length<4&&u&&y(),O&&D(!0),N([]),f.onChange(e)},onKeyDown:e=>{!O&&E&&v.props.ref.current&&e.keyCode===d.HP.Return&&v.props.ref.current.click(),f.onKeyDown(e)},"data-autom":L,"aria-required":S,"aria-invalid":!!f.error},B=i()({"form-tooltip-textbox-wrapper":!!l});return s().createElement("div",{className:B},s().createElement(g.A,(0,n.A)({field:a,hasAction:E,actionFieldProps:v.props},F)),l)}},9877:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(8168),r=a(1594),s=a.n(r),l=a(5911),i=a(6490),o=a(8595);const c=e=>e?{width:e.width,left:0}:{},m=s().forwardRef(((e,t)=>s().createElement(i.A,(0,n.A)({},e,{ref:t,getPosition:c})))),d=({field:e,hasAction:t,actionFieldProps:a,...r},i)=>s().createElement("div",{className:"rf-form-layout-autocomplete"},s().createElement(m,(0,n.A)({ref:i},r,{renderInput:r=>s().createElement(o.A,r,t&&s().createElement(o.M,a,s().createElement("span",(0,n.A)({"aria-label":e.actionLabelA11y},(0,l.OH)(e.actionLabel)))))}))),u=s().forwardRef(d)},4675:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(1594),r=a.n(n),s=a(103),l=a(3701);const i=({modKey:e,field:t,tooltip:a})=>{const{props:n,binding:i}=(0,l.DZ)(e,t.name),o=!i.properties.optional,{name:c}=t,m=`form-field-${c}`,d={...n,name:c,required:o,"data-autom":m,"aria-required":o,"aria-invalid":!!n.error};return r().createElement(s.A,d,t.label,a)}},5667:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(1594),r=a.n(n),s=a(4067),l=a(9138),i=a(3701),o=a(1300);const c=({modKey:e,field:t})=>{const a=(0,i.EL)(),{props:n,binding:c}=(0,i.TP)(e,t.name),m=!c.properties.optional,d=c.properties.autofill,{name:u,label:p}=t,g=`form-field-${u}`,y=(0,o.wZ)(a,e,t),v={...n,name:u,label:p,required:m,autoComplete:d,"data-autom":g,"aria-required":m,"aria-invalid":!!n.error};return r().createElement(s.A,v,y.map((e=>r().createElement(l.A,{key:`${e.value}-${e.label}`,value:e.value},e.label))))}},7703:(e,t,a)=>{"use strict";a.d(t,{A:()=>w});var n=a(1594),r=a.n(n),s=a(6637),l=a(709),i=a(9594),o=a(5911),c=a(3701),m=a(7194),d=a(8673),u=a(5667),p=a(4675),g=a(6581),y=a(7187),v=a(7151),h=a(4831),E=a(673),b=a(9391),f=a(6817),A=a(4505);const w=({modKey:e,section:t,field:a,messageId:n})=>{const w=(0,c.EL)(),{isPostalCodeLayout:N}=(0,f.L)(),{displayMapModKey:S}=(0,A.x)(),{viewport:C,assets:k}=(0,s.S)(),I="small"===C,[P,L]=(0,c.Ej)(e,"showUseManualFieldOption",!1),[T,O]=(0,c.Ej)(e,"typeAheadEnabled",!0);if("sublayout"===a.type){const t=`${e}.${a.name}`;if(!w.moduleExists(t))return null;const n="multiLineSelect"===a.component;if(["fieldList","fieldListForBilling","fieldListForInvoice"].includes(a.name)){const a=w.getModuleData(e,"enterAddressManually");return r().createElement(i.x,{in:a},r().createElement(m.A,{isSublayout:!0,modKey:t}))}return r().createElement(m.A,{isSublayout:!0,isPostalCodeLayout:n,modKey:t})}let D=null;a.tooltipContent&&(D=r().createElement(l.Ay,{labelA11y:a.tooltipLabel,after:!0,autoAlign:!0},r().createElement(l.Ox,null,a.tooltipLabel),r().createElement(l.ZI,(0,o.OH)(a.tooltipContent))));let x=null;switch(a.type){case"text":{const{typeAheadDataKey:t}=w.getBindingProps(e,a.name),s=(e=null)=>{e===k.useManualEntry&&L(!P),O(!T)};x=!!t&&T?r().createElement(b.A,{modKey:e,field:a,tooltip:D,showUseManualFieldOption:P,handleTypeAheadField:s,displayMapModKey:S}):r().createElement(d.A,{modKey:e,field:a,tooltip:D,messageId:n,showUseManualFieldOption:P,handleTypeAheadField:s});break}case"select":x=r().createElement(u.A,{modKey:e,field:a});break;case"checkbox":x=r().createElement(p.A,{modKey:e,field:a,tooltip:D});break;case"radio":x=r().createElement(v.A,{modKey:e,field:a});break;case"link":x=r().createElement(g.A,{modKey:e,field:a,isPostalCodeLayout:N});break;case"multiLineSelect":x=I?r().createElement(E.A,{modKey:e,field:a}):r().createElement(y.A,{modKey:e,field:a});break;case"tabs":x=r().createElement(h.A,{modKey:e,section:t,field:a});break;default:return null}return x}},4688:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(1594),r=a.n(n),s=a(6942),l=a.n(s);const i=({isOpen:e})=>{const t=e?"icon-chevronup":"icon-chevrondown",a=l()("icon icon-after",t);return r().createElement("span",{className:a,"aria-hidden":"true"})}},6581:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(1594),r=a.n(n),s=a(3701),l=a(4688);const i=({modKey:e,field:t,isPostalCodeLayout:a})=>{const n=(0,s.EL)(),{props:i,binding:o}=(0,s.W4)(e,t.name),{name:c,labelA11y:m}=t,d={...i,className:"as-buttonlink","data-autom":`form-field-${c}`,"aria-label":m},u=((e,t)=>t&&"enterAddressManually"===e.name)(t,a),p=o.value;u&&(d["aria-expanded"]=p);const g=t.labelDataKey?n.getModuleData(e,t.labelDataKey):t.label;return r().createElement("button",d,g,u&&r().createElement(l.A,{isOpen:p}))}},7187:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(1594),r=a.n(n),s=a(3701),l=a(710),i=a(5911),o=a(1300);const c=({modKey:e,field:t})=>{const a=(0,s.EL)(),{props:n}=(0,s.TP)(e,t.name,{disableErrorOnBlur:!0}),[c]=(0,s.Ej)(e,"isAutoSelect",!1),{name:m,label:d}=t,u=`form-field-${m}`,p=(0,o.BJ)(a,e),[g,y]=(0,s.Ej)(e,"openMultiLineOptions",!1),v=r().useRef(null);r().useEffect((()=>{g&&v.current&&(v.current.focusAndExpand(!0),y(!1))}),[g,y]);const h={...n,name:m,label:d,"data-autom":u,"aria-invalid":!!n.error,ref:v};return c&&1===p.length&&""===n.value&&n.onChange({target:{value:"0"}}),r().createElement(l.Ay,h,p.map((e=>r().createElement(l.Eb,{key:e.value,value:e.value},r().createElement(l.yH,(0,i.OH)(e.label))))))}},673:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(1594),r=a.n(n),s=a(3701),l=a(9083),i=a(1300);const o=({modKey:e,field:t})=>{const a=(0,s.EL)(),[n,o]=(0,s.Ej)(e,"openMultiLineOptions",!1),[c]=(0,s.Ej)(e,"isAutoSelect",!1),[m,d]=r().useState(n),{props:u,binding:p,state:g}=(0,s.tx)(e,t.name),{name:y,label:v}=t,h=`form-field-${y}`,E=(0,i.BJ)(a,e),b={label:v,id:p.properties.key,onClick:()=>d(!0),"data-autom":h},f={...u,name:y},{error:A}=g;return r().useEffect((()=>{n&&(d(!0),o(!1))}),[n,o]),c&&1===E.length&&""===p.value&&u.onChange({target:{value:"0"}}),r().createElement(l.A,{field:t,isOpen:m,error:A,options:E,optionProps:f,buttonProps:b,onOverlayClose:()=>{d(!1)},selectedOption:p.value,onSelection:e=>{d(!1),p.setValue(e.value),p.runSetEvents()}})}},9083:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(5911),c=a(6884);const m=({field:e,isOpen:t,error:a,buttonProps:r,optionProps:l,onOverlayClose:m,selectedOption:d,options:u,onSelection:p})=>{const g=`${e.name}-overlay-header`,y=!r.value&&!r.placeholder,v=i()("form-dropdown",{"is-error":!!a}),h=i()({"form-dropdown-multiline":!0,"is-expanded":t}),E=i()("form-dropdown-select",{"form-dropdown-selectnone":y}),b=`${r.id}-error`;return s().createElement("div",{className:"rf-form-layout-overlayselector"},s().createElement("div",{className:v},s().createElement("div",{className:h},s().createElement("button",(0,n.A)({},r,{className:E,"aria-describedby":b}),s().createElement("span",{className:"visuallyhidden"},r.label),s().createElement("span",{className:"form-dropdown-title"},r.value||r.placeholder)),s().createElement("span",{className:"form-dropdown-chevron","aria-hidden":"true"}),s().createElement("span",{className:"form-dropdown-label","aria-hidden":"true"},r.label)),a&&s().createElement("div",{id:b,className:"form-message-wrapper"},s().createElement("span",{className:"form-message"},a))),s().createElement(c.A,{isFullscreen:!0,appear:!0,visible:t,onClose:m,ariaLabel:g},s().createElement("fieldset",null,s().createElement("legend",{className:"form-label rf-form-layout-overlayselector-legend"},s().createElement("h2",{id:g},e.label))),s().createElement("ul",{className:"rf-form-layout-overlayselector-list",role:"list"},u.map((e=>s().createElement("li",{className:"rf-form-layout-overlayselector-item",key:e.value,onClick:()=>{p(e)}},s().createElement("input",(0,n.A)({},l,{type:"radio",className:"form-selector-input",checked:d===e.value,id:e.value,value:e.value})),s().createElement("label",(0,n.A)({htmlFor:e.value,className:"form-label"},(0,o.OH)(e.label)))))))))}},4831:(e,t,a)=>{"use strict";a.d(t,{A:()=>h});var n=a(8168),r=a(1594),s=a.n(r),l=a(840),i=a(246),o=a(3701),c=a(7841),m=a(9733),d=a(1300),u=a(4505);const p="provinceCityDistrictTabs",g="tabSelected",y=(e,t,a)=>e.getModuleData(t,a.options)||[],v="linkText",h=({modKey:e,section:t,field:a})=>{const r=(0,o.EL)(),h=(0,o.sW)(),{data:E,properties:b}=(0,o.Yl)(e),f=(0,o.W4)(e,m.e.STATE),A=(0,o.W4)(e,m.e.CITY),w=(0,o.W4)(e,m.e.DISTRICT),N=(0,o.sb)(e,a.name,{disableErrorOnBlur:!0}),{provinceSelectorProps:S}=(0,u.x)(),{locationConsent:C,onChange:k}=S,I=b.isLoadingSubmit,{[p]:P,[g]:L,[v]:T,showGeoLocationDisclaimer:O=!1}=E,D=t.fields[1].filter((t=>((e,t,a)=>y(e,t,a).length>0&&(0,d.fI)(e,t,a))(r,e,t))),x=D.map((t=>({name:t.name,label:t.label||t.name,options:y(r,e,t)}))),M=x.findIndex((e=>e.name===L)),F={state:f.binding.value,city:A.binding.value,district:w.binding.value},B=N.state.error,{name:R,label:_}=a,$=`form-field-${R}`,H={...N.props,name:R,"data-autom":$,"aria-expanded":P},K=s().useRef(null);s().useEffect((()=>{if(K.current){const e=K.current.querySelectorAll(".rc-province-selector-tab");e.length&&M&&e[M].focus()}}),[L]),(0,i.A)((()=>{k&&k(N.binding.value)}),[N.binding.value]);const V=e=>{e.keyCode!==l.HP.Space&&e.keyCode!==l.HP.Return||(N.binding.runClickEvents(),H.ref.current&&H.ref.current.focus())},U=!!T;return U||(H.label=_,H.readOnly=!0,H.onKeyDown=V),s().createElement(m.A,(0,n.A)({},S,{isOpen:P,isLoading:I,tabs:x,error:B,activeTab:M,selection:F,selectorInputProps:H,onClose:()=>{const e=N.binding.properties.valid;N.state.setError(e),H.ref.current&&H.ref.current.focus()},onTabChange:t=>{h({type:c.Ru.SET_MOD_DATA,modKey:e,key:g,value:x[t].name})},onSelection:(e,t)=>{switch(e){case m.e.STATE:f.binding.setValue(t),f.binding.runSetEvents();break;case m.e.CITY:A.binding.setValue(t),A.binding.runSetEvents();break;case m.e.DISTRICT:w.binding.setValue(t),w.binding.runSetEvents()}},stateTabProps:f.props,cityTabProps:A.props,districtTabProps:w.props,locationConsent:C,showAsButtonLink:U,showGeoLocationDagger:O,buttonLinkText:T,buttonLinkLabel:_,tabsRef:K}))}},9640:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(6637),c=a(9573),m=a(8595),d=a(7634);const u=({isOpen:e,isLoading:t,showAsButtonLink:a,showGeoLocationDagger:r,buttonLinkText:l,buttonLinkLabel:u,value:p,error:g,...y},v)=>{const h=(0,c.A)(),{assets:E}=(0,o.S)(),{processing:b,geoLocationDagger:f}=E,A=!e&&t,w=i()("icon icon-after",{"form-dropdown-chevron":!a,"icon-chevrondown":!e,"icon-chevronup":e});if(a){const e=`${h}-error`;return s().createElement("div",{className:i()({"is-error":g})},s().createElement("span",null,u," "),A&&s().createElement("div",{role:"img",className:"waitindicator waitindicator-inline waitindicator16-gray as-address-accordion","aria-label":b}),s().createElement("button",(0,n.A)({},y,{ref:v,type:"button",className:"as-buttonlink","aria-describedby":e}),p||l,r&&f,s().createElement("span",{"aria-hidden":"true",className:w})),g&&s().createElement(d.A,{id:e,error:g,className:"form-layout-ps-buttonlinkerror"}))}return s().createElement(m.A,(0,n.A)({},y,{ref:v,error:g,value:p||"",classes:{root:"form-dropdown",input:"rf-form-layout-ps-input",label:"rf-form-layout-ps-input-label"}}),s().createElement("span",{"aria-hidden":"true",className:w}))},p=s().forwardRef(u)},9733:(e,t,a)=>{"use strict";a.d(t,{A:()=>m,e:()=>c});var n=a(8168),r=a(1594),s=a.n(r),l=a(8294),i=a(9594),o=a(9640);const c={STATE:"state",CITY:"city",DISTRICT:"district"},m=({isOpen:e,isLoading:t,tabs:a,activeTab:r,selection:m,onTabChange:d,onClose:u,selectorInputProps:p,error:g,onSelection:y,stateTabProps:v,cityTabProps:h,districtTabProps:E,locationConsent:b,showAsButtonLink:f,showGeoLocationDagger:A,buttonLinkText:w,buttonLinkLabel:N,hideInput:S,tabsRef:C,...k})=>{const I=s().useRef(!1);return!I.current&&e&&(I.current=!0),s().createElement("div",{className:"rf-form-layout-ps-container"},!S&&s().createElement(o.A,(0,n.A)({error:g,isOpen:e,isLoading:t,showAsButtonLink:f,showGeoLocationDagger:A,buttonLinkText:w,buttonLinkLabel:N},p)),s().createElement(i.x,{in:e,onExited:u},I.current&&s().createElement(s().Fragment,null,b,s().createElement(l.au,(0,n.A)({tabs:a,selection:m,activeTab:r,onTabChange:d,onSelection:y,desktopColumns:4,mobileColumns:2,ref:C},k),s().createElement(l.lD,null,a.map(((e,t)=>{let a;switch(e.name){case c.STATE:a=v;break;case c.CITY:a=h;break;case c.DISTRICT:a=E;break;default:a=null}return s().createElement(l.v6,(0,n.A)({index:t,key:e.name,name:e.name,label:e.label},a))}))),s().createElement(l.ot,null,a.map(((e,t)=>s().createElement(l.JX,{index:t,key:e.name,name:e.name,"aria-label":e.label,optionsLength:e.options.length},e.options.map(((t,a)=>s().createElement(l.vN,{key:t.value,name:e.name,value:t.value,index:a},t.label)))))))))))}},7151:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(8168),r=a(1594),s=a.n(r),l=a(7725),i=a(3701),o=a(1300);const c=({modKey:e,field:t})=>{const a=(0,i.EL)(),{props:r,binding:c}=(0,i.tx)(e,t.name),m=c.value,d=(0,o.Y7)(a,e,t),{name:u}=t,p={...r,name:u,"data-autom":`form-field-${u}`};return s().createElement("div",{className:"rf-form-layout-radio-fieldset"},s().createElement("fieldset",{className:"form-label"},s().createElement("legend",null,t.label),s().createElement("div",{className:"rf-form-layout-radio-options"},d.map((e=>{const t=`${u}-${e.value}`;return s().createElement(l.A,(0,n.A)({key:e.value,id:t},p,{value:e.value,checked:e.value===m}),e.label)})))))}},8673:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var n=a(1594),r=a.n(n),s=a(6942),l=a.n(s),i=a(2224),o=a.n(i),c=a(7841),m=a(3701),d=a(840),u=a(6637),p=a(5723);const g=({modKey:e,field:t,tooltip:a=null,messageId:s,showUseManualFieldOption:i=!1,handleTypeAheadField:g=(()=>{})})=>{const y=(0,m.W4)(e,t.actionName),{assets:v}=(0,u.S)(),{properties:h}=(0,m.Yl)(e),E=h.isLoadingSubmit,b=y.binding.bindExists,f=!(!t.attributes||!t.attributes.prefix),A=e.includes("localitySearchTypeAhead")&&"searchString"===t.name,w=b&&y.binding.properties.key.toLowerCase().includes("verify"),{binding:N}=(0,m.sb)(e.replace("addressLookupForPostalCode","fieldList"),"postalCode"),{props:S,binding:C}=(0,m.Pf)(e,t.name),k=!C.properties.optional,I=C.properties.autofill,P=!C.properties.valid,L=C.properties.format,T=L&&!o().isEmpty(L),[O,D]=(0,m.Ej)(`${e}.verificationModule`,"isVerified",!1),[x]=(0,m.Ej)(`${e}.verificationModule`,"verifiedValue"),M=b&&O&&P,{name:F,label:B,labelA11y:R,autoCapitalization:_}=t,$=`form-field-${F}`,H=b&&"find"===t.actionName,K={...S,name:F,label:B,labelA11y:R,search:H,required:k,onKeyDown:e=>{!A&&b&&y.props.ref.current&&e.keyCode===d.HP.Return&&y.props.ref.current.click(),S.onKeyDown(e)},onChange:e=>{e.target.value.length>3&&i&&g(),w&&(e.target.value===x?D(!0):D(!1)),S.onChange(e),_&&!T&&C.setValue(e.target?.value?.toString?.().toUpperCase?.())},autoComplete:I,valid:M,validA11y:M&&v.validA11y,"data-autom":$,"aria-required":k,"aria-invalid":!!S.error,errorAttrs:{"data-autom":`${$}-error`},"aria-describedby":s,countryCode:f&&t.attributes?.prefix,classes:t.attributes?.forceDirection?{input:"form-textbox-number-input"}:void 0},V={...y.props,disabled:!(K.value&&P),onClick:e=>{N.bindExists?N.clearMessages():w&&C.clearMessages(),y.props.onClick(e)}},U=(0,m.sW)(),[W,G]=(0,n.useState)("");e.includes("loanApplicationAddressesContainer")&&"moveInDate"===F&&(K.onFocus=e=>{G(e.target.value),S.onFocus(e)},K.onBlur=t=>{const a=t.target.value;P&&W!==a&&U({type:c.Ru.COMMIT,modKey:e,bindName:"moveInDate"}),S.onBlur(t)});const j=l()({"form-tooltip-textbox-wrapper":!!a});return r().createElement("div",{className:j},r().createElement(p.A,{field:t,textFieldProps:K,hasAction:b,actionComplete:M,actionFieldProps:V,isLoadingAction:E,loadingAriaLabel:v.processing}),a)}},5723:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(8168),r=a(1594),s=a.n(r),l=a(5911),i=a(8595);const o=({field:e,textFieldProps:t,hasAction:a,actionComplete:r,actionFieldProps:o,isLoadingAction:c,loadingAriaLabel:m})=>{const d=`${e.actionName}-button-${e.name}`;return s().createElement(i.A,t,a&&!r&&(c?s().createElement("div",{role:"img",className:"rf-form-layout-field-spinner waitindicator waitindicator16-gray","aria-label":m}):s().createElement(i.M,(0,n.A)({"data-autom":d},o),s().createElement("span",(0,n.A)({"aria-label":e.actionLabelA11y},(0,l.OH)(e.actionLabel))))))}},5888:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(1594),r=a.n(n),s=a(3701),l=a(1595),i=a(7194),o=a(4505);const c=({modKey:e,isFullWidth:t=!1,layoutKey:a="layout",classes:n={},provinceSelectorProps:c={},sectionHeadingTag:m="h2",...d})=>{const u=(0,s.M1)(`${e}.displayMap`)?`${e}.displayMap`:null;return r().createElement(o.h,{isFullWidth:t,classes:n,provinceSelectorProps:c,sectionHeadingTag:m,displayMapModKey:u},r().createElement(l.A,d,r().createElement(i.A,{modKey:e,isSublayout:!1,layoutKey:a})))}},153:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(5911),c=a(7845),m=a(1300),d=a(4505);const u=({layout:e,data:t,className:a,sectionHeadingTag:r="h2"})=>{const{isFullWidth:l}=(0,d.x)();return e&&t?s().createElement("div",{className:i()("rf-form-layout","rf-form-layout-viewmode",a)},e.map(((e,a)=>{const{sectionHeader:i="",sectionSubHeader:d="",sectionMessage:u=""}=e,p=e.fields,g=(0,m.wg)(p,a);return s().createElement("div",{key:g,className:"rf-form-layout-section"},i&&s().createElement(c.A,{isFullWidth:l,isSublayout:!1,header:i,subHeader:d,headingTag:r,isViewMode:!0}),p.map((e=>{const a=e[0].name;return s().createElement("div",{key:a,className:"rf-form-layout-row"},e.map((e=>{if(!t[e.name])return null;const a=`${t[e.name]}`,n=e.showLabelViewMode?`${e.label}`:"";return s().createElement("span",{key:e.name,className:"rf-form-layout-field-viewmode","data-autom":`form-field-${e.name}`},n&&s().createElement("span",{className:"rf-form-layout-field-label-viewmode"},`${n.trim()}: `),a.trim())})))})),u&&s().createElement("div",{className:"rf-form-layout-section-message as-supplementalinfo large-6 small-12"},s().createElement("p",(0,n.A)({className:"rf-form-layout-section-message-content"},(0,o.OH)(u)))))}))):null}},1595:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l);const o=({className:e,children:t,...a})=>{const r=i()("rf-form-layout-root",e);return s().createElement("div",(0,n.A)({className:r},a),t)}},4217:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A,V:()=>r.A});var n=a(5888),r=a(153)},7194:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var n=a(1594),r=a.n(n),s=a(3701),l=a(3673),i=a(1300),o=a(5120),c=a(9440),m=a(153),d=a(4505),u=a(6817);const p=({modKey:e,isSublayout:t=!1,layoutKey:a="layout",isPostalCodeLayout:n=!1})=>{const p=(0,s.EL)(),{isFullWidth:g,classes:y,sectionHeadingTag:v}=(0,d.x)(),[h,E]=(0,s.fL)(e),b=(0,s.Yl)(e);if(!b.modExists)return null;const f=(0,i.bP)(p,e,a);if(!f)return null;if("VIEW"===b.data.mode)return r().createElement(m.A,{layout:f,data:b.data,sectionHeadingTag:v});const A=f.map(((t,a)=>{const n=(0,i.wg)(t.fields,a),s=`rf-form-layout-section--${n}`;return r().createElement(c.A,{sectionId:s,key:n,modKey:e,section:t})}));return r().createElement(r().Fragment,null,r().createElement(l.A,{messages:h,lastUpdated:E}),r().createElement(u.z,{isSublayout:t,isPostalCodeLayout:n},r().createElement(o.A,{isSublayout:t,isFullWidth:g,sections:A,classes:y})))}},5120:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(1594),r=a.n(n),s=a(6942),l=a.n(s);const i=({isSublayout:e,isFullWidth:t,sections:a,classes:n})=>{const s=e?"":n.layout,i=l()("rf-form-layout",s,{"rf-form-layout-sublayout":e,"rf-form-layout--fullwidth":t});return r().createElement("div",{className:i},a)}},1648:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var n=a(1594),r=a.n(n),s=a(6942),l=a.n(s),i=a(3701),o=a(1300),c=a(9546),m=a(7703),d=a(4505),u=a(6817);const p=({modKey:e,row:t,section:a})=>{const n=(0,i.EL)(),{message:s,messageId:p}=(0,o.S4)(n,e,t),{isFullWidth:g,classes:y}=(0,d.x)(),{isSublayout:v}=(0,u.L)(),h=t.filter((t=>(0,o.fI)(n,e,t))).length;if(0===h)return null;const E=t.map((t=>{const s=`rf-form-layout-field--${t.name}`,i=`large-${12/h} small-12`,c=l()("column",i,s),d=l()("rf-form-layout-field",y.field);return(0,o.fI)(n,e,t)?r().createElement("div",{key:t.name,className:c},r().createElement("div",{className:d},r().createElement(m.A,{modKey:e,section:a,field:t,messageId:p||""}))):null})),b="rf-form-layout-row-combo--"+t.reduce(((e,t,a)=>0===a?t.name:`${e}-and-${t.name}`),"");return r().createElement(c.A,{row:t,fieldCombinationClass:b,isFullWidth:g,isSublayout:v,message:s||"",messageId:p||"",classes:y,fields:E})}},1299:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(5911);const c=({message:e,isFullWidth:t,messageId:a})=>{const r=t?"large-12":"large-6",l=i()("rf-form-layout-row-message column small-12",r);return s().createElement("div",{className:l},s().createElement("div",(0,n.A)({className:"as-supplementalinfo typography-body-reduced"},(0,o.OH)(e),{id:a})))}},9546:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(1594),r=a.n(n),s=a(6942),l=a.n(s),i=a(6637),o=a(1299);const c=({row:e,isFullWidth:t,isSublayout:a,fields:n,fieldCombinationClass:s,classes:c,message:m,messageId:d})=>{const{viewport:u}=(0,i.S)(),p="small"===u,g=a||t?"large-12":"large-6",y=l()("rf-form-layout-row",s,c.row),v=l()("rf-form-layout-row-fields","column","small-12",g,{"form-textbox-sidebyside":!p&&e.length>1});return r().createElement("div",{className:y},r().createElement("div",{className:v},r().createElement("div",{className:"row"},n)),m&&r().createElement(o.A,{isFullWidth:t,message:m,messageId:d}))}},9440:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(1594),r=a.n(n),s=a(6938),l=a(1648),i=a(4505),o=a(6817);const c=({modKey:e,section:t,sectionId:a})=>{const{isFullWidth:n,classes:c,sectionHeadingTag:m}=(0,i.x)(),{isSublayout:d}=(0,o.L)(),u=t.fields.map((a=>{const n=a.map((e=>e.name)).join("-");return r().createElement(l.A,{key:n,modKey:e,section:t,row:a})}));return r().createElement(s.A,{sectionId:a,section:t,sectionHeadingTag:m,rows:u,classes:c,isFullWidth:n,isSublayout:d})}},7845:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(1594),r=a.n(n),s=a(6942),l=a.n(s);const i=({header:e,subHeader:t,isSublayout:a,isFullWidth:n,isViewMode:s,headingTag:i})=>{const o=a||n?"large-12":"large-6",c=l()("column","small-12",o);return r().createElement(r().Fragment,null,s?r().createElement("div",{className:"row"},r().createElement("div",{className:c},r().createElement(i,{className:"rf-form-layout-section-header typography-label"},e),t&&r().createElement("div",{className:"rf-form-layout-section-subheader typography-body"},t))):r().createElement(r().Fragment,null,r().createElement("legend",null,r().createElement(i,{className:"rf-form-layout-section-header typography-label"},e)),r().createElement("div",{className:c},t&&r().createElement("div",{className:"rf-form-layout-section-subheader typography-body"},t))))}},6938:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(5911),c=a(7845);const m=({section:e,sectionId:t,sectionHeadingTag:a,rows:r,classes:l,isFullWidth:m,isSublayout:d})=>{const{sectionHeader:u,sectionMessage:p,sectionSubHeader:g=""}=e,y=i()("rf-form-layout-section",l.section,t);return s().createElement("div",{className:y},u?s().createElement("fieldset",null,s().createElement(c.A,{isFullWidth:m,isSublayout:d,header:u,subHeader:g,headingTag:a,isViewMode:!1}),r,p&&s().createElement("div",{className:"rf-form-layout-section-message as-supplementalinfo large-6 small-12"},s().createElement("p",(0,n.A)({className:"rf-form-layout-section-message-content"},(0,o.OH)(p))))):s().createElement(s().Fragment,null,r,p&&s().createElement("div",{className:"rf-form-layout-section-message as-supplementalinfo large-6 small-12"},s().createElement("p",(0,n.A)({className:"rf-form-layout-section-message-content"},(0,o.OH)(p))))))}},1300:(e,t,a)=>{"use strict";a.d(t,{BJ:()=>m,S4:()=>o,Y7:()=>d,bP:()=>i,fI:()=>s,wZ:()=>c,wg:()=>l});var n=a(2224),r=a.n(n);const s=(e,t,a)=>{if("sublayout"===a.type)return!0;const{visible:n}=e.getBindingProps(t,a.name);return!1!==n},l=(e,t)=>`${r().get(e.flat(),"[0].name",t)}`,i=(e,t,a)=>e.getModuleData(t,a),o=(e,t,a)=>{const n=a.find((a=>{if(!!a.fieldLevelMessage){const{active:n,visible:r}=e.getBindingProps(t,a.name);return n&&r}return!1}));return n?{message:n.fieldLevelMessage||"",messageId:`${e.getBindingProps(t,n.name).key}-fieldMessage`||""}:{message:"",messageId:""}},c=(e,t,a)=>e.getModuleData(t,a.options)||[],m=(e,t)=>e.getModuleData(t,"addressLookupSelectorOptions")||[],d=(e,t,a)=>{let n=[];if(!a.options)return n;const r=a.options;return n="string"==typeof r?e.getModuleData(t,a.options)||[]:r,n}},7795:(e,t,a)=>{"use strict";a.d(t,{K:()=>n.A});var n=a(1352);a(8802)},7887:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(8168),r=a(1594),s=a.n(r),l=a(2224),i=a.n(l),o=a(3808),c=a(6490),m=a(166);const d=({inputRef:e,textField:t,applyButton:a})=>{const[r,l]=s().useState([]),d=(0,o.A)("InlineEditor/InlineEditorAutoComplete");return s().createElement(c.A,{classes:{root:"rf-inlineeditor-autocomplete"},value:t.props.value,options:r,onChange:e=>{t.props.onChange&&t.props.onChange(e),fetch(`${t.autoCompleteUrl}?value=${e.target.value}`).then((e=>e.json())).then((e=>i().get(e,"body.matches",[]))).then((e=>l(e))).catch((e=>d.error(e)))},onSelection:e=>{t.setValue(e)},renderInput:r=>(r.ref.current=e.current,s().createElement(m.A,(0,n.A)({applyButton:a,inputRef:e,textField:t},r)))})}},1352:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(1594),r=a.n(n),s=a(6637),l=a(3701),i=a(7841),o=a(840),c=a(8802);const m=({modKey:e,isCollapsible:t=!0,visibleKey:a,className:n,triggerRef:m,textField:d,applyButton:u,cancelButton:p={},children:g,isSubmitting:y=!1,disableErrorOnBlur:v=!0,isVisible:h=!1})=>{const{viewport:E}=(0,s.S)(),[b,f]=(0,l.Ej)(e,a),A=(0,l.Pf)(e,d.bindName,{disableErrorOnBlur:v}),{props:w}=A,N=(0,l.W4)(e,u.bindName),S=(0,l.W4)(e,p.bindName),{properties:C}=A.binding,k=!C.optional,I="number"===C.subtype&&("small"===E||"medium"===E)?"tel":C.type,{properties:{isLoadingSubmit:P}}=(0,l.Yl)(e),L=A.binding.bindExists,T=(0,l.sW)(),O={visible:!a||b||h,className:n,triggerRef:m,isCollapsible:t,textField:{autoCompleteUrl:d.autoCompleteUrl,setValue:e=>{f(e)},props:{...A.props,"data-autom":d["data-autom"],label:d.label,type:I||"text",disabled:d.disabled,required:k,"aria-required":k,errorAttrs:d.errorAttrs,onKeyDown:e=>{L&&d.postalCancelBtnRef&&d.postalCancelBtnRef.current&&e.keyCode===o.HP.Esc&&d.postalCancelBtnRef.current.click(),L&&d.postalApplyBtnRef&&d.postalApplyBtnRef.current&&e.keyCode===o.HP.Return&&d.postalApplyBtnRef.current.click(),w.onKeyDown(e)},classes:d.classes}},applyButton:{label:u.label,loading:P||y,processingText:u.processingText,props:{...N.props,disabled:d.disabled||P||!A.props.value,"data-autom":u["data-autom"],"aria-label":u.ally,ref:u.triggerRef,onClick:t=>{T({type:i.Ru.COMMIT,modKey:e,bindName:d.bindName}),N.props.onClick(t)}}},cancelButton:{label:p.label,props:{...S.props,"data-autom":p["data-autom"],"aria-label":p.ally,ref:p.triggerRef,onClick:()=>{var e;f(!1),p.metrics&&(e=p.metrics,window.asMetrics&&e&&window.asMetrics.fireMicroEvent(e))}}}};return r().createElement(c.A,O,g)}},166:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(8168),r=a(1594),s=a.n(r),l=a(7427),i=a(8595);const o=({applyButton:e,textField:t,inputRef:a,...r})=>s().createElement(i.A,(0,n.A)({ref:a},t.props,r),s().createElement("button",(0,n.A)({type:"button",className:"rf-inlineeditor-apply form-textbox-button"},e.props),e.loading?s().createElement(s().Fragment,null,s().createElement("div",{role:"img",className:"rf-inlineeditor-loading waitindicator waitindicator16-gray"}),s().createElement(l.Jg,{isPending:e.loading,messages:{pending:e.processingText}})):s().createElement("span",null,e.label)))},8802:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(9594),c=a(6637),m=a(166),d=a(7887);const u=e=>{const{visible:t,triggerRef:a,isCollapsible:l,className:u,textField:p,applyButton:g,cancelButton:y,children:v}=e,h=(0,r.useRef)(null),E=p.props.ref||h,{viewport:b}=(0,c.S)(),f="small"===b,A=i()("rf-inlineeditor",{"rf-inlineeditor-collapsible":l}),w=i()("rf-inlineeditor-content row",{"form-textbox-widebutton":f&&g.label&&g.label.length>5});return s().createElement(o.x,{in:t,onEntering:()=>{E&&E.current&&(E.current.focus(),E.current.select())},onExited:()=>{a&&a.current&&a.current.focus()},className:u},s().createElement("div",{className:A},s().createElement("div",{className:w},s().createElement("div",{className:"rf-inlineeditor-input column"},p.autoCompleteUrl?s().createElement(d.A,{inputRef:E,textField:p,applyButton:g}):s().createElement(m.A,{applyButton:g,inputRef:E,textField:p})),l&&y&&s().createElement("div",{className:"rf-inlineeditor-cancel-wrapper column"},s().createElement("button",(0,n.A)({type:"button",className:"rf-inlineeditor-cancel form-textbox-sidebutton"},y.props),y.label))),v))}},4811:(e,t,a)=>{"use strict";a.d(t,{EL:()=>m,it:()=>c});var n=a(1594),r=a.n(n),s=a(2224),l=a.n(s),i=a(7841);const o=(0,n.createContext)((0,i.S6)({})),c=({initData:e,onInit:t=l().noop,customFetcher:a,children:s})=>{const c=(0,n.useRef)((0,i.S6)(e,null,{customFetcher:a}));return(0,n.useEffect)((()=>{t(c.current)})),r().createElement(o.Provider,{value:c.current},s)},m=()=>(0,n.useContext)(o)},4474:(e,t,a)=>{"use strict";a.d(t,{$J:()=>r.A,DZ:()=>y.A,Ej:()=>o.A,LZ:()=>u.A,M1:()=>l.A,Pf:()=>v.A,TP:()=>E.A,W4:()=>g.A,X8:()=>m.A,Yl:()=>s.A,_x:()=>A.A,ab:()=>S.A,eH:()=>v.A,fL:()=>c.A,gv:()=>b.A,gx:()=>N.A,lE:()=>i.A,lf:()=>w.A,qB:()=>n.A,sW:()=>d.A,sb:()=>p.A,tx:()=>h.A,vh:()=>f.A});var n=a(6131),r=a(8160),s=a(5237),l=a(9558),i=a(1737),o=a(2065),c=a(8021),m=a(9930),d=a(3295),u=a(5448),p=a(7917),g=a(8441),y=a(4312),v=a(7531),h=a(1270),E=a(84),b=a(2745),f=a(8772),A=a(1434),w=a(2309),N=a(3440),S=a(9383)},3440:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(1594),r=a.n(n),s=a(4811),l=a(7531);const i=(e,t,a={})=>{const n=(0,s.EL)(),{binding:i,state:o,props:c}=(0,l.A)(e,t,a),{setValue:m,runSetEvents:d,clearMessages:u}=i,{setError:p}=o,{typeAheadDataKey:g}=i.properties,y=g?n.getModuleData(e,g):null,[v,h]=r().useState(y||[]);r().useEffect((()=>{g&&y&&h(y)}),[y,g]);const E="clientData"===g;r().useEffect((()=>{if(E){const e=y.filter((e=>e.toLowerCase().startsWith(c.value.toLowerCase())));h(e)}}),[c.value,E,y]);return{binding:i,state:o,props:{...c,options:v,onSelection:e=>{m(e),d(),u(),p("")},autoComplete:"off"}}}},5448:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(8160),r=a(4622);const s=(e,t)=>{const a=(0,n.A)([e]);return(0,r.Q)(a,e,t)}},8441:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(7917);const r=(e="",t="",a={})=>(0,n.A)(e,t,a)},4312:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(7917);const r=(e="",t="",a={})=>{const{binding:r,state:s,props:l}=(0,n.A)(e,t,a),{setValue:i,runSetEvents:o,clearMessages:c,setProperty:m}=r,{error:d,setError:u}=s,{id:p,value:g,ref:y,disabled:v,onClick:h,onFocus:E,onBlur:b}=l;return{binding:r,state:s,props:{id:p,onClick:h,onFocus:E,onBlur:b,onChange:e=>{i(e.target.checked),o(),c(),m("wasSubmitted",!1),u("")},ref:y,disabled:v,error:d,checked:Boolean(g)}}}},9930:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(4811),r=a(4622),s=a(8160);const l=e=>{const t=(0,n.EL)(),a=t.getModuleChildren(e);return(0,s.A)([e,...a]),a.map((e=>(0,r.l)(t,e)))}},1737:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(2224),r=a.n(n),s=a(8160);const l=e=>{const t=(0,s.A)([e]),a=t.getModuleData(e),n=t.getModuleMeta(e);return[a,r().get(n,"lastUpdated.d","")]}},2065:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(7841),r=a(8160);const s=(e,t,a)=>{const s=(0,r.A)([e]);return[s.getModuleData(e,t,a),a=>{s.dispatch({type:n.Ru.SET_MOD_DATA,modKey:e,key:t,value:a})}]}},3295:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(4811);const r=()=>(0,n.EL)().dispatch},84:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(7917);const r=(e="",t="",a={})=>{const{binding:r,state:s,props:l}=(0,n.A)(e,t,a),{setValue:i,runSetEvents:o,clearMessages:c,setProperty:m}=r,{error:d,setError:u}=s,{id:p,ref:g,disabled:y,onFocus:v,onBlur:h}=l;return{binding:r,state:s,props:{id:p,onFocus:v,onBlur:h,onChange:e=>{i(e.target.value),o(),c(),m("wasSubmitted",!1),u("")},ref:g,disabled:y,error:d,value:null!==l.value?String(l.value):""}}}},2309:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(2745);const r=e=>{const{setModWillPersist:t,persistMod:a,modActive:r,deleteMod:s}=(0,n.A)(e);return[{visible:r,onEnter:t,onExited:s,onClose:a,mountOnEnter:!0,unmountOnExit:!0},a]}},8772:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(1594),r=a(7841),s=a(8160);const l=(e,t)=>{const a=(0,s.A)([e]),l=t||a.getModuleChildren(e),{createdAt:i}=a.getModuleMeta(e);(0,n.useEffect)((()=>{l.forEach((e=>{a.moduleShouldPersist(e)}))}),[i]);return l.map((e=>({modKey:e,modExists:a.moduleExists(e),modActive:a.moduleActive(e),props:{appear:!1,onExited:()=>{(e=>{a.dispatch({type:r.Ru.DELETE_MOD,modKey:e})})(e),(e=>{a.dispatch({type:r.Ru.RUN_DEFERRED_DATA_UPDATES,filters:{modKey:e}})})(e)}}})))}},7917:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(1594),r=a(2224),s=a.n(r),l=a(4622),i=a(8160);const o=!1,c=(e="",t="",a={})=>{const r=(0,i.A)([e]),c=r.moduleExists(e),m=(0,l.Q)(r,e,t,a),{value:d=null,properties:u={},errors:p=[],setProperty:g=s().noop,runClickEvents:y=s().noop,runFocusEvents:v=s().noop,runBlurEvents:h=s().noop,maybeSetFocus:E=s().noop}=m;(0,n.useEffect)(E);const b=(0,n.useRef)(),f=a.ref||b,A=a.focusDelay||0,w=!1===u.active||!1===u.enabled,[N,S]=(0,n.useState)(o),[C,k]=(0,n.useState)(""),I=p.map((e=>e.text)).join(" "),P=!a.disableErrorOnBlur,L=!a.disableFocusSync;(0,n.useEffect)((()=>{if(!C&&!u.focused)if(I)k(I);else if(u.valid){const e=u.optional&&!d,t=N&&P||u.wasValidated;!e&&t&&k(u.valid)}})),(0,n.useEffect)((()=>{I||u.valid||k("")}),[I,u.valid]),(0,n.useEffect)((()=>{c||(N!==o&&S(o),""!==C&&k(""))}),[c,N,C]),(0,n.useEffect)((()=>{L&&u.focused&&f.current&&(A>0?setTimeout((()=>{f.current&&f.current.focus()}),A):f.current.focus())}),[u.focused,L,f]);return{binding:m,state:{error:C,setError:k,touched:N,setTouched:S},props:{id:u.key,onClick:()=>{y()},onFocus:()=>{S(!0),L&&g("focused",!0),v()},onBlur:()=>{L&&g("focused",!1),h()},ref:f,disabled:w,value:d}}}},9383:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(1594),r=a(2224),s=a.n(r),l=a(7841),i=a(246),o=a(4474);const c=["image/jpeg","image/png"],m=(e="",t="",a={})=>{const[r,m]=(0,n.useState)(null),{fileTypeDataKey:d="",fileSizeDataKey:u="",...p}=a,{binding:g,state:y,props:v}=(0,o.sb)(e,t,p),h=(0,o.sW)(),{setValue:E,runSetEvents:b,clearMessages:f,setProperty:A}=g,{error:w,setError:N}=y,{id:S,ref:C,disabled:k,onFocus:I,onBlur:P}=v,{accept:L="",encryption:T}=g.properties,O=Boolean(T),D=Boolean(d||u),x=e=>(async(e,{compressed:t=!1}={})=>new Promise((a=>{const n=new FileReader;n.addEventListener("load",(()=>{const e=n.result;if(!t)return a(e);const r=new Image;r.src=e,r.addEventListener("load",(()=>{const e=document.createElement("canvas");e.width=r.width,e.height=r.height;const t=e.getContext("2d");if(t){t.drawImage(r,0,0,r.width,r.height);const e=t.canvas.toDataURL("image/jpeg",.4);a(e)}}))})),n.readAsDataURL(e)})))(e,{compressed:O&&c.includes(e.type)});(0,i.A)((()=>{let t=0,a="";r?(t=r.size,a=r.type,(async()=>{const e=await x(r);E(e)})()):E(""),D&&(h({type:l.Ru.SET_MOD_DATA,modKey:e,key:u,value:t}),h({type:l.Ru.SET_MOD_DATA,modKey:e,key:d,value:a}))}),[r]);const M={id:S,ref:C,error:w,accept:L,disabled:k,file:r,onFocus:I,onBlur:P,onFileChange:e=>{const t=s().get(e,"target.files[0]",null);t&&(m(t),b(),f(),A("wasSubmitted",!1),N(""))},onFileRemove:()=>{m(null),f(),A("wasSubmitted",!1),N("")},onFileDrop:e=>{const t=s().get(e,"dataTransfer.files[0]",null);t&&((e,t)=>!t||t.split(",").includes(e.type))(t,L)&&(m(t),b(),f(),A("wasSubmitted",!1),N(""))}};return{binding:g,state:y,props:M}}},6131:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(4811);const r=()=>(0,n.EL)().getHeaders()},8021:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(2224),r=a.n(n),s=a(8160);const l=e=>{const t=(0,s.A)([e]),a=t.getModuleMessages(e),n=t.getModuleMeta(e);return[a,r().get(n,"lastUpdated.m","")]}},9558:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(8160);const r=e=>(0,n.A)([e]).moduleExists(e)},5237:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(8160),r=a(4622);const s=e=>{const t=(0,n.A)([e]);return(0,r.l)(t,e)}},2745:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(7841),r=a(8160);const s=e=>{const t=(0,r.A)([e]);return{setModWillPersist:()=>t.moduleShouldPersist(e),persistMod:()=>t.moduleWasPersisted(e),modActive:t.moduleActive(e),deleteMod:()=>t.dispatch({type:n.Ru.DELETE_MOD,modKey:e})}}},1270:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(1594),r=a(4622),s=a(8160);const l=(e="",t="")=>{const a=(0,s.A)([e]),l=(0,r.Q)(a,e,t),{errors:i,properties:o,setValue:c,runSetEvents:m,clearMessages:d}=l,[u,p]=(0,n.useState)(!1),[g,y]=(0,n.useState)(""),v=i.map((e=>e.text)).join(" ");g||(v?y(v):u&&o.valid&&y(o.valid));return{binding:l,state:{touched:u,setTouched:p,error:g,setError:y},props:{value:"",checked:!1,onChange:e=>{p(!0),c(e.target.value),m(),d(),y("")}}}}},1434:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(7841),r=a(1737),s=a(3295);const l=(e,t)=>{const[a]=(0,r.A)(e),l=(0,s.A)(),i=a=>{l({type:n.Ru.SET_MOD_DATA,modKey:e,key:t,value:a})};return[{visible:Boolean(a[t]),onClose:()=>i(!1),mountOnEnter:!0,unmountOnExit:!0},i]}},8160:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(1594),r=a(4811);const s=e=>{const t=(0,r.EL)(),[a,s]=(0,n.useReducer)((e=>e+1),0);return(0,n.useEffect)((()=>{const a=e.map((e=>t.subscribe(e,s)));return()=>{a.forEach((e=>e()))}}),[e,t]),t}},7531:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(1594),r=a(2224),s=a.n(r),l=a(840),i=a(4792),o=a(2662),c=a(7917);const m=[l.HP.ArrowUp,l.HP.ArrowDown,l.HP.ArrowLeft,l.HP.ArrowRight,l.HP.Home,l.HP.PageUp,l.HP.PageDown],d="number",u=(e="",t="",a={})=>{const{binding:r,state:l,props:u}=(0,c.A)(e,t,a),{properties:p,setValue:g,runSetEvents:y,clearMessages:v,setProperty:h}=r,{error:E,setError:b}=l,{debounce:f=0}=a,A=f?s().debounce(y,f):y,w=(0,n.useCallback)(A,[f]),{id:N,ref:S,disabled:C,onClick:k,onFocus:I,onBlur:P}=u,L=null!==u.value?String(u.value):"",T=Boolean(p.optional),O=p.autofill||"off",D=a.format||p.format,x=Boolean(D),M=(0,o.Ay)({value:L,format:D,ref:u.ref}),F=!x&&p.maxLen?`${p.maxLen}`:null,B=L.includes(""),R=p.focused;(0,n.useEffect)((()=>{R&&B&&S.current&&S.current.select()}),[R]);const _=((e,{isMaskedValue:t,shouldFormat:a})=>{const n=i.Ez().isHandheldPhone,{type:r,subtype:s}=e;return s?(n||a||t)&&s===d?"tel":s:r||"text"})(p,{isMaskedValue:B,shouldFormat:x}),$=e=>{B&&R&&e.preventDefault()};return{binding:r,state:l,props:{id:N,type:_,onClick:k,onFocus:I,onBlur:P,onChange:e=>{const t=x&&M.onChange(e);let a;a=t?t.value:_===d&&F?e.target.value.substr(0,Number(F)):e.target.value,g(a),w(),v(),h("wasSubmitted",!1),b("")},onMouseDown:$,onMouseMove:$,onKeyDown:e=>{const t=m.includes(e.keyCode);B&&t&&e.preventDefault()},ref:S,disabled:C,maxLength:F,required:!T,"aria-required":!T,"aria-invalid":Boolean(E),autoComplete:O,error:E,value:L}}}},3701:(e,t,a)=>{"use strict";a.d(t,{$J:()=>r.$J,DZ:()=>r.DZ,EL:()=>n.EL,Ej:()=>r.Ej,LZ:()=>r.LZ,M1:()=>r.M1,Pf:()=>r.Pf,TP:()=>r.TP,W4:()=>r.W4,X8:()=>r.X8,Yl:()=>r.Yl,_x:()=>r._x,ab:()=>r.ab,eH:()=>r.eH,fL:()=>r.fL,gv:()=>r.gv,gx:()=>r.gx,it:()=>n.it,lE:()=>r.lE,lf:()=>r.lf,qB:()=>r.qB,sW:()=>r.sW,sb:()=>r.sb,tx:()=>r.tx,vh:()=>r.vh});var n=a(4811),r=a(4474);a(4622)},6155:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(7841);const r=(e,t,a,r={})=>{const{dispatch:s,bindingExists:l,getBindingValue:i,getBindingProps:o,getBindingMessages:c}=e,{deferLoadWithDelete:m}=r;return{bindExists:l(t,a),value:i(t,a),properties:o(t,a),errors:c(t,a,{level:n.AW.ERROR}),setValue:e=>{s({type:n.Ru.SET_BIND_VALUE,modKey:t,bindName:a,value:e})},runSetEvents:()=>{s({type:n.Ru.SET,modKey:t,bindName:a})},setProperty:(e,r)=>{s({type:n.Ru.SET_BIND_PROPERTY,modKey:t,bindName:a,key:e,value:r})},clearMessages:()=>{s({type:n.Ru.CLEAR_BIND_MESSAGES,modKey:t,bindName:a})},maybeSetFocus:()=>{s({type:n.Ru.MAYBE_SET_FOCUS,modKey:t,bindName:a})},runClickEvents:()=>{const e={};m&&(e.deferDataUpdate=["l"],e.expectedDataUpdate=["x","l"]),s({type:n.Ru.CLICK,modKey:t,bindName:a,fwdOptions:e})},runFocusEvents:()=>{s({type:n.Ru.FOCUS,modKey:t,bindName:a})},runBlurEvents:()=>{s({type:n.Ru.BLUR,modKey:t,bindName:a})}}}},3212:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n=(e,t)=>{const{createdAt:a}=e.getModuleMeta(t);return{modExists:e.moduleExists(t),modCreatedAt:a,data:e.getModuleData(t),properties:e.getModuleProps(t),childModKeys:e.getModuleChildren(t)}}},4622:(e,t,a)=>{"use strict";a.d(t,{Q:()=>r.A,l:()=>n.A});var n=a(3212),r=a(6155)},1048:(e,t,a)=>{"use strict";a.d(t,{Ur:()=>Ne,iT:()=>Jt,e2:()=>Zt,Q7:()=>Ut,Ge:()=>Kt,SG:()=>Gt,if:()=>Wt,fx:()=>jt});var n=a(1594),r=a.n(n),s=a(2224),l=a.n(s);let i,o,c,m,d;!function(e){e.CanBuyVppLicenses="UnsupportedAccountTypeForWeb_CanBuyVppLicenses",e.CanManageVppLicenses="UnsupportedAccountTypeForWeb_CanManageVppLicenses",e.CanShopInVolumeEducationStore="UnsupportedAccountTypeForWeb_CanShopInVolumeEducationStore",e.CanShopInVolumeEnterpriseStore="UnsupportedAccountTypeForWeb_CanShopInVolumeEnterpriseStore",e.ConversionRequired="UnsupportedAccountTypeForWeb_ConversionRequired",e.IsManagedAppleId="UnsupportedAccountTypeForWeb_IsManagedAppleId",e.IsSpecialEduAccount="UnsupportedAccountTypeForWeb_IsSpecialEduAccount",e.SecurityUpgradeRequired="UnsupportedAccountTypeForWeb_SecurityUpgradeRequired",e.LiteAccount="UnsupportedAccountTypeForWeb_LiteAccount",e.NoAccountFound="NoAccountFound",e.IneligibleStorefront="IneligibleStoreFront",e.Unauthorized="Unauthorized",e.IsDormant="UnsupportedAccountTypeForWeb_IsDormant"}(i||(i={})),function(e){e.DefaultWeb="web",e.WebService="ws",e.GrandSlam="gs"}(o||(o={})),function(e){e.Inline="inline",e.Modal="modal"}(c||(c={})),function(e){e.AccountCardType="accountCardType",e.AccountCreateWeb="account-create-web",e.AccountRecoveryCandidates="account-recovery-candidates",e.AccountSettingsAppleIdSiteUrl="appleIdSiteUrl",e.AccountSettingsChangeStorefrontUrl="changeStoreFrontUrl",e.AccountSettingsGraphqlUrl="accountSummaryGraphQL",e.AccountSummaryUrl="modifyAccount",e.AcknowledgeMessage="acknowledge-message",e.AddFundsInfo="addFundsInfoSrv",e.AddFundsOther="addFundsOtherSrv",e.AddFundsSuccess="addFundsSuccessSrv",e.AddFundsUrl="AddFundsUrl",e.ApplePayClassicSettingsUrl="apple-pay-classic-settings-url",e.ApplePayEnroll="applePayEnroll",e.ApplePaySession="applePayPaymentSession",e.AssignSubscriptionBeneficiary="assignSubscriptionBeneficiary",e.AurumEditAddress="aurumEditAddress",e.AutoReloadCancel="addFundsCancelAutoReloadSrv",e.AutoReloadSuccess="addFundsAutoReloadInfoSrv",e.BankTokenUrl="bankTokenUrl",e.BuySubscription="buySubscription",e.BuySubscriptionExit="buySubscriptionExit",e.CancelPreorders="cancelPreorderItemsSrv",e.CancelSegmentVerificationState="cancelSegmentVerificationState",e.CheckForCarrierOffers="checkChannelOffers",e.CommerceAppFallbackUrl="commerceAppFallbackUrl",e.CommerceBaseUrl="commerceAppBaseUrl",e.CommerceUiUrls="commerce-ui-urls",e.ContentBonusOfferRedemptionEnabled="contentBonusOfferRedemptionEnabled",e.CreateSegmentVerificationSession="createSegmentVerificationSession",e.DeauthAllMachines="deauthAllMachines",e.DeleteSegmentVerificationSession="deleteSegmentVerificationSession",e.DeviceProfileTrustedDomains="psd2-device-profile-trusted-domains",e.EditAccountFieldsSrvV2="editAccountFieldsSrvV2",e.EmailTermsSrv="emailTermsSrv",e.ExternalVerificationStatus="getExternalVerificationStatus",e.FinanceAppBaseUrl="financeApp.baseUrl",e.FinanceManagePayments="paymentInformationUrl",e.GenerateEmailConfirmationCode="generateEmailConfirmationCode",e.GetAccountPreferences="getSubscriptionAccountPreferences",e.GetCardType="getCardType",e.GetCarmConfigure="getCarmConfigure",e.GetSegmentVerificationSession="getSegmentVerificationSession",e.GetSegmentVerificationStateAuthdbCountryList="getSegmentVerificationStateAuthdbCountryList",e.GetSegmentVerificationStateAuthdbForm="getSegmentVerificationStateAuthdbFormMetadata",e.GetStudentVerificationStateAuthdbSchoolList="getStudentVerificationStateAuthdbSchoolList",e.GetSubscriptionOffersSrv="getSubscriptionOffersSrv",e.GetSubscriptionsInfoSrv="getSubscriptionInfoSrv",e.GetSubscriptionsSrv="getSubscriptionsSrv",e.GetTermsByCountryAndTypeSrv="getTermsByCountryAndTypeSrv",e.GetVerificationSessionHelpUrl="getVerificationSessionHelpUrl",e.GetVerificationUrl="getVerificationUrl",e.IdVerificationFieldsSrv="idVerificationFieldsSrv",e.InitiateChallenge="initiateChallenge",e.InitiateIdVerification="initiateIdVerification",e.InvoiceReductionSrv="invoiceReductionSrv",e.IsBundleEnabled="isBundleEnabled",e.IsInvoiceReductionEnabled="isInvoiceReductionEnabled",e.IsKoreaAgeVerificationEnabled="isKoreaAgeVerificationEnabled",e.IsManageIcloudStorageEnabled="isManageIcloudStorageEnabled",e.IsManagePaymentsEnabled="isManagePaymentsEnabled",e.IsPsd2LoggingEnabled="isPsd2LoggingEnabled",e.IsPreferredRenewalOptionEnabled="is-winback-offer-enabled",e.Language="language",e.LanguageTag="language-tag",e.LegacyEditBillingInfo="legacyEditBillingInfoSrvV2",e.LegacyEditBillingInfoSrvV2="legacyEditBillingInfoSrvV2",e.LoadCreateAccountFieldsSrv="createAccountFieldsSrv",e.ManagePaymentsUrl="managePaymentsUrl",e.Metrics="metrics",e.ModifyAccountWk1="modifyAccountWk1",e.PaymentAdd="addBillingInfoSrv",e.PaymentAddV2="addBillingInfoSrvV2",e.PaymentEdit="editBillingInfoSrv",e.PaymentEditV2="editBillingInfoSrvV2",e.PaymentInfos="paymentInfos",e.PaymentInfosAdd="paymentInfosAdd",e.PaymentInfosEdit="paymentInfosEdit",e.PaymentInfosRemove="paymentInfosRemove",e.PaymentInfosRemoveApplePayClassic="paymentInfosRemoveApplePayClassic",e.PaymentLegacyEditV2="legacyEditBillingInfoSrvV2",e.PaymentOptions="paymentOptionsSrv",e.PaymentsAndShippingUrl="paymentsAndShippingUrl",e.PostSegmentVerificationStateAuthdbForm="postSegmentVerificationStateAuthdbForm",e.PostSegmentVerificationStateDocumentReviewForm="postSegmentVerificationStateDocumentReviewForm",e.PostSegmentVerificationStateEmailCode="postSegmentVerificationStateEmailCode",e.PostSegmentVerificationStateEmailForm="postSegmentVerificationStateEmailForm",e.PostSegmentVerificationStateSingleSignOnForm="postSegmentVerificationStateSingleSignOnForm",e.PreferredRenewalOption="preferredRenewalOption",e.Preorders="preorderItemsSrv",e.PreordersUrl="preordersUrl",e.PrivacyConsentConsent="pipl-urls/apple/consent",e.PrivacyConsentDissent="pipl-urls/apple/dissent",e.PrivacyConsentQueryConsent="pipl-urls/apple/queryConsent",e.ProductInfo="productInfo",e.Psd2LoggingUrl="psd2LoggingUrl",e.PurchaseHistoryUrl="purchaseHistoryUrl",e.PvkAddPmofUrl="pvkAddPmofUrl",e.PvkBiometricsOnlyAuth="pvkBiometricsOnlyAuth",e.PvkEmailGenerateCodeUrl="pvkEmailGenerateCodeUrl",e.PvkEmailValidateCodeUrl="pvkEmailValidateCodeUrl",e.PvkEmailWaterfallUrl="pvkEmailWaterfallUrl",e.RedeemCodeSrv="redeemCodeSrv",e.RedeemDeclineBonus="declineBonus",e.RedeemInfo="redeemInfo",e.RedeemLandingUrl="redeemCodeLanding",e.RedeemMarketingUrl="redeemMarketingUrl",e.RedeemValidateIdUrl="redeemValidateIdUrl",e.Redirect3dSecureUrl="redirect3DSecureUrl",e.RefundRequest="inAppRefund",e.RefundTransactionDetails="inAppRefundReasons",e.ReinitiateIdVerification="reinitiateIdVerification",e.RepairSubscriptionUsingExternalVerification="repair-subscription-using-external-verification",e.ResendCarmOtp="resendCarmOtp",e.ReverifySegmentStatus="reverifySegmentStatus",e.SandboxClearPurchaseHistory="sandboxClearPurchaseHistory",e.SandboxGetIntroOfferStatus="sandboxIntroOfferStatus",e.SandboxResetIntroOffer="sandboxResetIntroOffer",e.SandboxSubscriptionRenewalRate="sandboxSubscriptionRenewalRate",e.SendCarmOtp="sendCarmOtp",e.SendSegmentVerificationStateDocumentReviewLink="sendSegmentVerificationStateDocumentReviewLink",e.ShippingAddressDelete="deleteShippingAddress",e.ShippingAddressEdit="editShippingAddressSrv",e.SpeedybuyConfirmationDialog="speedybuyConfirmationDialog",e.StackableApplePayClassicSubscriptions="apple-pay-classic-subscription-infos-url",e.StackableDeletePayment="deleteStackablePaymentSrv",e.StackablePayments="getStackablePaymentsSrv",e.StackablePaymentsWithApplePay="paymentInfoWithApplePay",e.StackablePaymentsWithApplePayClassic="apple-pay-classic-payment-infos-url",e.StackableReorderPayments="reorderStackablePaymentsSrv",e.StartExternalVerification="startExternalVerification",e.SubscriptionDetailsV3="getSubscriptionDetails",e.SubscriptionImpactMessaging="impactMessaging",e.SubscriptionUnbundleOptionsV3="getUnbundleOptions",e.SubscriptionsListV3="getSubscriptionList",e.TermsCheck="terms-check",e.ToggleAccountFamilySharing="toggle-account-family-sharing",e.ToggleFamilySharing="toggle-family-sharing",e.UnbundleSubscriptionOptionsSrv="unbundleSubscriptionOptionsSrv",e.UnbundleSubscriptionSrv="unbundleSubscriptionSrv",e.UnlinkSegmentStatus="unlinkSegmentStatus",e.UpdateAutoRenewStateSrv="updateAutoRenewStateSrv",e.UpdateIcloudStorageSrv="updateIcloudStorageSrv",e.ValidateAccountForChangeCountrySrvV2="validateAccountForChangeCountrySrvV2",e.ValidateCarm="validateCarm",e.ValidateEmailConfirmationCode="validateEmailConfirmationCode",e.VerificationKitInit="verification_kit_init",e.VerificationUrl="verificationUrl",e.VerifyChallenge="verifyChallenge",e.VerifyIdVerification="verifyIdVerification",e.VerifyPayment="verifyPayment"}(m||(m={})),function(e){e.AcknowledgeMessageWeb="acknowledgeMessage",e.Auth="auth",e.Logout="logout",e.LogoutAll="logoutAll",e.AccountCreateOptions="accountCreateOptions",e.AccountConversionInit="accountConversionInit",e.AccountConversionSetSignedup="accountConversionSetSignedup",e.AccountPodSrv="accountPodSrv",e.AccountSettingsSrv="accountSettingsSrv",e.AcknowledgePrivacy="acknowledgePrivacy",e.AndroidMusicRedeemReferrerUrl="androidMusicRedeemReferrerUrl",e.AosOrderDetailsUrl="aosOrderDetailsUrl",e.AppAccessRequest="appAccessRequest",e.AuthGrandSlam="authGrandSlam",e.AuthWebService="authWebService",e.AuthWebServiceRefresh="authWebServiceRefresh",e.AmpTermsGetUrl="ampTermsGetUrl",e.AmpTermsVerifyUrl="ampTermsVerifyUrl",e.BuySubscription="buySubscription",e.CarrierLinkSrv="carrierLinkSrv",e.CreateAccountFieldsSrv="createAccountFieldsSrv",e.ChannelSendSms="sendSMSCode",e.ChannelVerifySms="verifySMSCode",e.GetChannelSubscriptionOfferParameters="getChannelSubscriptionOfferParameters",e.CreateAccountSrv="createAccountSrv",e.DeviceLinkValidate="deviceLinkValidate",e.EditBillingInfoSrv="editBillingInfoSrv",e.GenerateAndSendSecCodeSrv="generateAndSendSecCodeSrv",e.GenerateEmailConfirmationCodeSrv="generateEmailConfirmationCodeSrv",e.GetPayPalUrl="getPayPalUrl",e.GetTermsByCountryAndTypeSrv="getTermsByCountryAndTypeSrv",e.IdVerificationFieldsSrv="idVerificationFieldsSrv",e.InitiateIdVerification="initiateIdVerification",e.linkChannelSubscription="linkChannelSubscription",e.NuDataSyncResponseSrv="nuDataSyncResponseSrv",e.ParentalControlsDisable="parentalControlsDisable",e.ParentalControlsEdit="parentalControlsEdit",e.ParentalControlsPinEdit="parentalControlsPinEdit",e.ParentalControlsPinVerify="parentalControlsPinVerify",e.ParentalControlsVideo="parentalControlsVideo",e.ParentalControlsMusic="parentalControlsMusic",e.ParentalControlsRecoveryEmailEdit="parentalControlsRecoveryEmailEdit",e.ParentalControlsRecoveryEmailSend="parentalControlsRecoveryEmailSend",e.ParentalControlsSetup="parentalControlsSetup",e.PaymentOptionsSrv="paymentOptionsSrv",e.RedeemCodeInfo="redeemCodeInfo",e.RedeemSubscription="redeemSubscription",e.ReInitiateIdVerification="reInitiateIdVerification",e.SendCarmOtp="sendCarmOtp",e.CarrierBillingOtpInitiate="dcbManualOtpInitiate",e.CarrierBillingOtpReinitiate="dcbManualOtpReinitiate",e.CarrierBillingValidateOtp="dcbManualOtpValidate",e.CarrierChannelLinkSrv="carrierChannelLinkSrv",e.CarrierChannelSendSmsSrv="carrierChannelSendSmsSrv",e.CarrierChannelVerifySmsSrv="carrierChannelVerifySmsSrv",e.SubscriptionConfirmation="subscriptionConfirmation",e.SubscriptionOffers="subscriptionOffers",e.SubscriptionStatus="subscriptionStatus",e.SubscriptionsSrv="subscriptionsSrv",e.TermsAndConditions="termsAndConditions",e.TermsCheckSrv="termsCheckSrv",e.ThirdPartyLogin="thirdPartyLogin",e.TvAgeVerifyPayment="tvAgeVerifyPayment",e.ValidateAccountFieldsSrv="validateAccountFieldsSrv",e.ValidateAccountNameSrv="validateAccountNameSrv",e.InitializeSessionSrv="initializeSessionSrv",e.ValidateCarm="validateCarm",e.ValidateEmailConfirmationCodeSrv="validateEmailConfirmationCodeSrv",e.ValidateSecCodeSrv="validateSecCodeSrv",e.VerifyIdVerification="verifyIdVerification",e.PaymentChallengeInitiate="paymentChallengeInitiate",e.PaymentChallengeVerify="paymentChallengeVerify",e.WatchListSettings="watchListSettings",e.WebAccountInfo="webAccountInfo",e.WebAccountInfoRefresh="webAccountInfoRefresh",e.QrAuthValidate="qrAuthValidate",e.QrAuthLink="qrAuthLink",e.QrAuthRoute="qrAuthRoute",e.RegisterDeviceFpdi="registerDeviceFpdi",e.IdmsSignin="idmsSignin",e.IdmsSigninUAT="idmsSigninUAT",e.StoreFrontId="storeFrontId",e.GetRestrictedCreateAccountOptions="getRestrictedCreateAccountOptions",e.ValidateOauthLinkCode="validateOauthLinkCode",e.QrAuthWeb="qrAuthWeb",e.InitializeOauthLinkFlow="initializeOauthLinkFlow",e.CancelBuy="cancelBuy",e.MercuryBaseUrlTv="mercuryBaseUrlTv",e.MercuryBaseUrlMusic="mercuryBaseUrlMusic",e.LinkReturnUrl="linkReturnUrl",e.InboxMessages="inboxMessages"}(d||(d={}));const u={...d,...m},p=function(e,t){let a,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!1;return function(){for(var s=arguments.length,l=new Array(s),i=0;i<s;i++)l[i]=arguments[i];r||(r=!0,a&&clearTimeout(a),n&&e.call(null,...l),a=setTimeout((()=>{r=!1,n||e.call(null,...l)}),t))}};let g,y;!function(e){e.Apps="apps",e.Tv="tv",e.Music="music",e.PodcastsConnect="podcastsconnect",e.Podcasts="podcasts",e.Activate="activate"}(g||(g={})),function(e){e.Prod="",e.Carry="carry",e.Beta="beta",e.Nightly="nightly",e.Itms5="itms5",e.Itms7="itms7",e.Itms8="itms8",e.Itms11="itms11",e.ContentPreview="cp",e.Pddev="pddev",e.Dev="dev"}(y||(y={}));const v={"web-app":{basePath:"/includes/commerce"},"cwa-app":{basePath:"/includes/cwa"}},h=()=>{const e=window.parent;return window!==e},E=e=>!!e&&"object"==typeof e&&!Array.isArray(e);let b;!function(e){e.Light="light",e.Dark="dark"}(b||(b={}));const f={modalOptions:{containerSelector:"body"},fetchOptions:{shouldEnableFetchProxy:!1,proxyContainerSelector:"body"},authOptions:{type:o.DefaultWeb,displayType:c.Inline},shouldDetectUserActivity:!1,userActivityOptions:{detectionIntervalInMs:1e3,eventsToDetect:["scroll","keydown","pointerdown"]},productVersion:(()=>{if("undefined"==typeof document||!document.querySelector)return"";const e=document.querySelector("meta[name=version]");return e&&e.content||""})(),hostedAppMetadata:{subdomain:g.Apps,environment:y.Prod},useRelativeIframeSrc:!1,logLevel:"warning"};let A=f;const w=(e,t)=>E(e)?t(e):Array.isArray(e)?Array.from(e):e,N=e=>{const t={};for(const a in e)t[a]=w(e[a],N);return t},S=(e,t)=>{const a=N(e);for(const n in t){const r=t[n],s=e[n];n in e&&E(r)&&E(s)?a[n]=S(s,r):a[n]=w(r,N)}return a},C=e=>(A=S(f,e),A),k=()=>A,I="add-payment",P="age-verification",L="authenticate",T="buy",O="buy-v2",D="buy-v2-interrupt",x="buy-v2-interrupt-error-already-subscribed",M="buy-v2-error-storefront-mismatch",F="buy-v2-interrupt-terminal-dialog",B="buy-v2-success",R="carrier-linking",_="content-restricted",$="create-account",H="device-link",K="edit-billing",V="edit-payment",U="edit-shipping",W="gdpr",G="korea-age-verification",j="logout",q="manage-payments",Y="manage-subscriptions",z="subscription-edit",Z="parental-controls",J="plan-cancel",X="plan-reactivate",Q="plan-subscribe",ee="contextual-podcasts-upsell",te="privacy",ae="redeem",ne="settings",re="subscribe",se="subscribe-carrier",le="subscription-impact-messaging",ie="subscription-price-increase",oe="subscription-privacy",ce="subscription-cancellation-success",me="subscription-selection",de="terms",ue="verify-payment",pe="fetch-proxy";let ge={[I]:{routeName:I,hostedAppId:"web-app",path:"/stackable-payments/add"},[P]:{routeName:P,hostedAppId:"web-app",path:"/account/verification"},[L]:{routeName:L,hostedAppId:"web-app",path:"/authenticate"},[T]:{routeName:T,hostedAppId:"cwa-app",path:"/buy"},[O]:{routeName:O,hostedAppId:"web-app",path:"/buy"},[D]:{routeName:D,hostedAppId:"web-app",path:"/buy-interrupt"},[x]:{routeName:x,hostedAppId:"web-app",path:"/buy/error/already-subscribed"},[F]:{routeName:F,hostedAppId:"web-app",path:"/buy/error/dialog"},[M]:{routeName:M,hostedAppId:"web-app",path:"/buy/error/storefront-mismatch"},[B]:{routeName:B,hostedAppId:"web-app",path:"/buy/success"},[R]:{routeName:R,hostedAppId:"web-app",path:"/account/carrier-linking"},[_]:{routeName:_,hostedAppId:"web-app",path:"/content-restricted"},[$]:{routeName:$,hostedAppId:"web-app",path:"/account/create"},[H]:{routeName:H,hostedAppId:"web-app",path:"/device-link"},[K]:{routeName:K,hostedAppId:"web-app",path:"/account/edit-billing"},[V]:{routeName:V,hostedAppId:"web-app",path:"/stackable-payments/edit"},[U]:{routeName:U,hostedAppId:"web-app",path:"/stackable-payments/shipping/edit"},[pe]:{routeName:pe,hostedAppId:"web-app",path:"/fetch-proxy.html"},[W]:{routeName:W,hostedAppId:"web-app",path:"/account/privacy"},[G]:{routeName:G,hostedAppId:"web-app",path:"/age-verification/landing"},[j]:{routeName:j,hostedAppId:"web-app",path:"/logout"},[q]:{routeName:q,hostedAppId:"web-app",path:"/stackable-payments"},[Y]:{routeName:Y,hostedAppId:"web-app",path:"/subscriptions"},[z]:{routeName:z,hostedAppId:"web-app",path:"/subscription/edit"},[Z]:{routeName:Z,hostedAppId:"web-app",path:"/account/settings#parental-controls",fragment:"#parental-controls"},[J]:{routeName:J,hostedAppId:"web-app",path:"/plan/cancel"},[X]:{routeName:X,hostedAppId:"web-app",path:"/plan/reactivate"},[Q]:{routeName:Q,hostedAppId:"web-app",path:"/plan/subscribe"},[ee]:{routeName:ee,hostedAppId:"web-app",path:"/subscribe/podcasts"},[te]:{routeName:"privacy",hostedAppId:"web-app",path:"/account/privacy"},[ae]:{routeName:ae,hostedAppId:"web-app",path:"/redeem"},[ne]:{routeName:ne,hostedAppId:"web-app",path:"/account/settings"},[re]:{routeName:"subscribe",hostedAppId:"web-app",path:"/subscribe"},[se]:{routeName:se,hostedAppId:"web-app",path:"/subscribe/carrier"},[ie]:{routeName:ie,hostedAppId:"web-app",path:"/subscription/price-increase"},[me]:{routeName:me,hostedAppId:"web-app",path:"/subscription/selection"},[le]:{routeName:le,hostedAppId:"web-app",path:"/subscription/impact-messaging"},[ce]:{routeName:ce,hostedAppId:"web-app",path:"/subscription/cancellation-success"},[oe]:{routeName:oe,hostedAppId:"web-app",path:"/subscription/privacy"},[de]:{routeName:de,hostedAppId:"web-app",path:"/terms-agreement"},[ue]:{routeName:ue,hostedAppId:"web-app",path:"/verify-payment"}};const ye=(e,t)=>{const a=v[e.hostedAppId],{useRelativeIframeSrc:n,hostedAppMetadata:r}=t,s=n?window.location.origin:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.Apps,t=arguments.length>1?arguments[1]:void 0;return t?"https://".concat(t,".").concat(e,".apple.com"):"https://".concat(e,".apple.com")}(null==r?void 0:r.subdomain,null==r?void 0:r.environment);return"".concat(s).concat(a.basePath)},ve=e=>{const t=ge[e];if(!t)throw new Error("Could not resolve routeName '".concat(e,"'"));return t},he=(e,t)=>{const a=(null==t?void 0:t.config)||k();return new URL("".concat(ye(e,a)).concat(e.path,"?").concat((e=>{const t=Object.entries(e).filter((e=>{let[,t]=e;return null!=t&&""!==t})).reduce(((e,t)=>{let[a,n]=t;return{...e,[a]:n}}),{});return new URLSearchParams(t).toString()})(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{queryParams:a,isModal:n}=t,{theme:r,product:s,devToken:l,productVersion:i,authOptions:o,locale:c,storefront:m,useRelativeIframeSrc:d,hostedAppMetadata:u}=e,p=m?3===m.length?{iso3code:m}:{iso2code:m}:{};return{...s&&{product:s},...l&&{devToken:l},...i&&{productVersion:i},...r&&{theme:r},...(null==o?void 0:o.type)&&{authType:o.type},...(null==o?void 0:o.displayType)&&{authDisplayType:o.displayType},...c&&{locale:c},...void 0!==d&&{useRelativeIframeSrc:d.toString()},...p,...n?{isModal:"true",modalMode:"overlay"}:{isFullscreen:"true"},...u&&{hostedAppSubdomain:u.subdomain,hostedAppEnvironment:u.environment},...a}}(a,{queryParams:null==t?void 0:t.queryParams,isModal:null==t?void 0:t.isModal}))))},Ee=(()=>{const e={};return{addListener:(t,a)=>{var n;e[t]||(e[t]=[]),null==(n=e[t])||n.push(a)},removeListener:(t,a)=>{e[t]||(e[t]=[]),e[t]=e[t].filter((e=>e!==a))},emit:(t,a,n)=>{const r=e[t];null==r||r.forEach((e=>e(a,n)))}}})(),be="__cm_event",fe="__cm_sender",Ae="__cm_consuming-product",we="__cm_data";let Ne;!function(e){e.AgeVerificationFlowComplete="ageverificationflowcomplete",e.DidAgeVerify="ageverified",e.DidGdprAcknowledge="gdpracknowledged",e.DidSignIn="signedin",e.DidSignOut="signedout",e.DidTransition="transitioned",e.SubscriptionDidChange="subscriptionchanged",e.RequiresTransition="requirestransition",e.RequiresContextualUpsell="requirescontextualupselldata",e.RequiresKoreaAgeVerification="requireskoreaageverificationdata",e.ContextualUpsell="contextualupselldata",e.KoreaAgeVerification="koreaageverificationdata",e.MediaData="mediadata",e.InitializedHosted="__cm_initialized_hosted",e.OpenModal="openmodal",e.CloseModal="closemodal",e.PushModal="pushmodal",e.PopModal="popmodal",e.ModalWasShown="modalwasshown",e.ModalDidClose="modaldidclose",e.ModalDidPop="modaldidpop",e.ReadyToBeShown="readytobeshown",e.BootWithConfig="bootwithconfig",e.ShowSportsScoresChange="showsportsscoreschange",e.AutoPlayNextVideoChange="autoplaynextvideochange",e.ContentResize="contentresize",e.UserActivity="useractivity",e.FetchRequest="fetchrequest",e.FetchResponse="fetchresponse"}(Ne||(Ne={}));let Se="",Ce="warning";const ke=["error"],Ie=["error","warn"],Pe=function(e){if("off"===Ce||"error"===Ce&&!ke.includes(e)||"warning"===Ce&&!Ie.includes(e))return;for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];const[r,...s]=a;"dir"!==e?(console[e]||console.log)("%cCommerceKit v".concat("2.5.0"," %c(").concat(Se,")%c: ").concat(r),...s,"background-color: lightgray; color: green","background-color: lightgray; color: blue",""):console.dir(r,...s)},Le=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Pe("info",...t)},Te=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Pe("warn",...t)},Oe=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Pe("dir",...t)},De=e=>{const t=e[fe]||e[Ae];return{eventName:e[be],data:e[we],sender:t}},xe=e=>{const t=new URL(e);return t.host.endsWith(".apple.com")&&"https:"===t.protocol},Me=e=>xe(e.origin),Fe=e=>{const{[be]:t}=e.data;return!!t},Be=e=>{const{[be]:t,[fe]:a,[Ae]:n}=e.data;return!(!t||!a&&!n)},Re=(e,t,a)=>{Le(t),a&&(Le("Data for '".concat(e,"' message:")),Oe(a))},_e=class extends Error{constructor(e){super();const t=Object.keys(e).filter((t=>!e[t])).join(", ");this.name="MISSING_DEPENDENCIES",this.message="Missing dependencies: ".concat(t)}};let $e,He,Ke,Ve;!function(e){e[e.Auth=401]="Auth",e[e.ServerUnknown=5002]="ServerUnknown"}($e||($e={})),function(e){e[e.AMSErrorCodeCancelled=6]="AMSErrorCodeCancelled"}(He||(He={})),function(e){e.Auth="Authentication",e.TermsAuth="MZFinance.TermsCheckLoginRequired",e.MediaLinkInvalidSession="MEDIA_LINK_INVALID_SESSION"}(Ke||(Ke={})),function(e){e.NoAuthorization="MZCommerce.NoAuthorization",e.AlreadyClaimed="MZCommerce.HardBundleAlreadyClaimed"}(Ve||(Ve={}));let Ue={};const We="data-ck-target-id",Ge=()=>{var e;e=Ye(),Se=e,h()&&Xe(ze(),{targetWindow:window.parent,targetId:"parent",isReady:!0}),Xe(window.location.origin,{targetId:"self",targetWindow:window,isReady:!0})},je=e=>{const t=new URLSearchParams(e);return{parentOrigin:t.get("parentOrigin")||"",targetId:t.get("targetId")||"",parentCommerceKitVersion:t.get("parentCommerceKitVersion")||"",logLevel:t.get("logLevel")||""}},qe=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=a>0?"-".concat(a):"",r="".concat(e?"".concat(e,"->"):"").concat(t).concat(n);return Ue[r]?qe(e,t,a+1):r},Ye=()=>{if(window.name&&window.name.includes("targetId")){const{targetId:e}=je(window.name);return e}return"root"},ze=()=>{if(window.name&&window.name.includes("parentOrigin")){const{parentOrigin:e}=je(window.name);return e}return window.location.origin},Ze=e=>Ue[e],Je=()=>Ue,Xe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isReady:!1};const{targetWindow:a,targetId:n,isReady:r,initialRouteName:s}=t;if(!n&&!s)throw new _e({targetId:n,initialRouteName:s});const l=n||qe(Ye(),s||"");return Ue[l]={id:l,targetOrigin:e,targetWindow:a,isReady:r,queue:[]},Le("Added message target with ID: '".concat(l,"' and origin: '").concat(e,"'")),l},Qe=(e,t)=>{const a=Ze(e);if(!a)return void Te("Unknown message target ID. Discarding message.");const{targetWindow:n,targetOrigin:r,isReady:s,queue:l}=a;xe(r)?s&&n?(n.postMessage(t,r),((e,t)=>{const{eventName:a,data:n}=De(t),r="Sent message '".concat(a,"' to '").concat(e,"'");Re(a,r,n)})(e,t)):(l.push(t),((e,t)=>{const{eventName:a,data:n}=De(t),r="Queued message '".concat(a,"' to '").concat(e,"'");Re(a,r,n)})(e,t)):function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];Pe("error",...t)}("Failed to send message: Unexpected origin '".concat(r,"'"))},et=(e,t,a)=>{const n=((e,t,a)=>({[fe]:e,[Ae]:e,[be]:t,[we]:a}))(Ye(),t,a);Qe(e,n)},tt=e=>{const t=Ze(e);t?t.isReady?t.targetWindow?(Le("Flushing message queue for targetId: ".concat(e)),t.queue.forEach((t=>{Qe(e,t)})),t.queue=[]):Le("Attempted to flush message queue before target ".concat(e," iframe was loaded.")):Le("Attempted to flush message queue before target ".concat(e," was marked as ready.")):Te("Unknown message target ID. Unable to flush queue.")},at=(e,t)=>{const a=Je();Object.keys(a).forEach((a=>{et(a,e,t)}))};let nt;const rt=new Map,st=(e,t)=>{const{queryParams:a,onReadyToBeShown:n,shouldAutoResize:r,data:s,isModal:l}=t||{},i=document.createElement("iframe"),{useRelativeIframeSrc:o}=k(),c=he(e,{queryParams:a,isModal:l}),m=Xe(c.origin,{initialRouteName:e.routeName,isReady:!1}),d=()=>{var e,t;Le("iframe for target ".concat(m," loaded")),e=m,t=i.contentWindow,Ue[e].targetWindow=t||void 0,et(m,Ne.BootWithConfig,{data:s,parentConfig:JSON.parse(JSON.stringify(k()))}),tt(m)};var u;i.addEventListener("load",d),i.src=o?"".concat(c.pathname).concat(c.search):c.href,i.name=(u=window.location.origin,new URLSearchParams({parentOrigin:u,targetId:m,parentCommerceKitVersion:"2.5.0",logLevel:Ce}).toString()),i.allow="publickey-credentials-get ".concat(c.origin),i.setAttribute("data-is-ck-managed",""),i.setAttribute(We,m),i.setAttribute("role","presentation"),i.style.border="0",i.style.width="100%",i.style.height="100%";const p=function(e,t){if(e===m&&(null==n||n(),t)){const{pageTitle:e}=t;i.title=e}};Ee.addListener(Ne.ReadyToBeShown,p);const g=(e,t)=>{let{height:a}=t;e!==m&&"root"!==e||(i.style.height="".concat(a,"px"))};return r&&Ee.addListener(Ne.ContentResize,g),rt.set(m,(()=>{Ee.removeListener(Ne.ReadyToBeShown,p),r&&Ee.removeListener(Ne.ContentResize,g),(e=>{Ue[e]&&delete Ue[e],Le("Removed message target with ID: '".concat(e,"'"))})(m),i.removeEventListener("load",d),i.remove()})),{messageTargetId:m,iframeEl:i}},lt=(e,t)=>st(ve(e),t),it=(e,t)=>{e.style.display="inherit",et(t,Ne.ModalWasShown)},ot=e=>{e.style.display="none"},ct=e=>{let t;t=e instanceof HTMLIFrameElement?(e=>{const t=e.getAttribute(We);if(!t)throw new Error("Unable to retrieve target ID for iframe");return t})(e):e;const a=rt.get(t);if(!a)throw new Error("Failed to destroy iframe with ID '".concat(t,"'. Cleanup function not found."));a(),rt.delete(t),Le("Destroyed iframe with ID '".concat(t,"'"))};let mt=[];const dt=e=>{const{modalOptions:t}=k();return{...t,...e}},ut=(e,t)=>{const{containerSelector:a,onModalReadyToBeShown:n,onModalWasShown:r,onModalRequested:s,queryParams:l,data:i}=t,o=document.querySelector(a||"body");if(!o)throw new Error("Modal container element not found with selector '".concat(a,"'"));null==s||s();const{iframeEl:c,messageTargetId:m}=st(e,{queryParams:l,onReadyToBeShown:()=>{null==n||n(),it(c,m),null==r||r()},data:i,isModal:!0});return ot(c),c.style.position="fixed",c.style.top="0",c.style.right="0",c.style.bottom="0",c.style.left="0",{iframeEl:c,messageTargetId:m,container:o}},pt=e=>new Promise((t=>{const a=(n,r)=>{0===mt.length&&(null==e||e()),Ee.removeListener(Ne.ModalDidPop,a),Ee.removeListener(Ne.ModalDidClose,a),((e,t)=>{const a=Je();Object.keys(a).filter((e=>"self"!==e&&"parent"!==e)).forEach((a=>{et(a,e,t)}))})(Ne.ModalDidClose,r),t(r)};Ee.addListener(Ne.ModalDidPop,a),Ee.addListener(Ne.ModalDidClose,a)})),gt=()=>"root"!==Ye(),yt=(e,t,a)=>{const n=dt(a),{onModalClose:r,queryParams:s,data:l}=n;if(gt())return et("parent",Ne.OpenModal,{routeName:e,routeConfig:{...t,expectsModalLayout:!0},queryParams:s,data:l}),pt(r);const{container:i,iframeEl:o,messageTargetId:c}=ut(t,n);return mt=[{iframeEl:o,messageTargetId:c}],i.replaceChildren(o),pt(r)},vt=(e,t)=>yt(e,ve(e),t),ht=e=>{gt()?et("parent",Ne.CloseModal,e):(mt.forEach((e=>{ct(e.messageTargetId)})),mt=[],at(Ne.ModalDidClose,e))},Et=(e,t,a)=>{const n=dt(a),{onModalClose:r,queryParams:s,data:l}=n;if(gt())return et("parent",Ne.PushModal,{routeName:e,routeConfig:{...t,expectsModalLayout:!0},queryParams:s,data:l}),pt(r);const{container:i,iframeEl:o,messageTargetId:c}=ut(t,n);if(mt.length>0){const e=mt[mt.length-1];ot(e.iframeEl)}return mt.push({iframeEl:o,messageTargetId:c}),i.appendChild(o),pt(r)},bt=(e,t)=>Et(e,ve(e),t),ft=e=>{if(gt())return void et("parent",Ne.PopModal,e);const t=mt.pop();if(!t)return;if(mt.length<=0)return ct(t.messageTargetId),void at(Ne.ModalDidClose,e);const a=mt[mt.length-1];et(a.messageTargetId,Ne.ModalDidPop,e),Ee.addListener(Ne.ReadyToBeShown,(function e(n){n===a.messageTargetId&&(ct(t.messageTargetId),it(a.iframeEl,a.messageTargetId),Ee.removeListener(Ne.ReadyToBeShown,e))}))},At=()=>nt?Promise.resolve(nt):new Promise((e=>{Le("Waiting for boot config");const t=setTimeout((()=>{Te("Still waiting for boot config. Page may fail to load.")}),5e3);Ee.addListener(Ne.BootWithConfig,(function a(n,r){Ee.removeListener(Ne.BootWithConfig,a),Le("Boot config received"),clearTimeout(t),e(r)}))}));let wt;const Nt=e=>({httpStatus:e.httpStatus,body:e.body,error:e.error}),St={},Ct=(e,t)=>{const{httpStatus:a,error:n,requestId:r}=t;St[r]&&(!a&&n?St[r].reject(Nt(t)):St[r].resolve(Nt(t)),delete St[r])},kt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a=t>0?"".concat(e,"-").concat(t):"".concat(e);return St[a]?kt(e,t+1):a},It=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((n,r)=>{wt||Te("Fetch was called, but proxy iframe was not rendered. Ensure fetchOptions.shouldEnableFetchProxy is set to true.");const s=kt(e);St[s]={resolve:n,reject:r};const{devToken:l}=k();a.shouldIncludeAuthorizationHeader&&l&&(t.headers={...t.headers,Authorization:"Bearer ".concat(l)}),et(wt,Ne.FetchRequest,{bagKey:e,requestId:s,requestOptions:t})}))},Pt=async e=>It(u.InboxMessages,{queryParams:e?{subscriptionType:e.subscriptionType,messageType:e.messageType}:void 0},{shouldIncludeAuthorizationHeader:!0});var Lt={createIframe:lt,destroyIframe:ct,openModal:vt,closeModal:ht,pushModal:bt,popModal:ft,getBootConfig:At,send:et,getMessageTarget:Ze,getMessageTargets:Je,eventEmitter:Ee,fetch:It,buy:(e,t)=>{const a="string"==typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=new RegExp("([^?=&]+)(=([^&]*))","g"),n=e.match(a);return n?n.reduce(((e,a)=>{const n=a.split("="),r=n[0],s=n[1];return e[r]=t?decodeURIComponent(s):s,e}),{}):{}}(e):e;return vt(O,{data:{...t||{},buyParams:a}})},authenticate:async function(){let{attemptSilentAuth:e,queryParams:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{attemptSilentAuth:!1};const{result:a}=await bt(L,{queryParams:{...t,...e&&{attemptSilentAuth:e},shouldPopModal:!0}});return a?{result:a}:void 0},logout:()=>vt(j),openPriceIncreaseAgreement:(e,t)=>vt(ie,{data:{acknowledgeData:t},queryParams:{subscriptionId:e}}),getInboxMessages:Pt,getPriceIncreaseMessages:async e=>Pt({subscriptionType:e,messageType:"PRICE_INCREASE"}),version:"2.5.0"};let Tt=!1;const Ot=e=>{var t;Ue[t=e]&&(Ue[t].isReady=!0,Le("Message target '".concat(t,"' now ready"))),tt(e)},Dt=(e,t)=>{const{routeName:a,routeConfig:n,queryParams:r,data:s}=t;n?yt(n.routeName,n,{queryParams:r,data:s}):a&&vt(a,{queryParams:r,data:s})},xt=(e,t)=>{const{routeName:a,routeConfig:n,queryParams:r,data:s}=t;n?Et(n.routeName,n,{queryParams:r,data:s}):a&&bt(a,{queryParams:r,data:s})},Mt=(e,t)=>{ht(t)},Ft=(e,t)=>{ft(t)},Bt=(e,t)=>{(e=>{nt=e})(t)},Rt=(e,t)=>{"root"!==Ye()&&et("parent",Ne.UserActivity,t)},_t=e=>{if(!(e=>{const t=[Me,Fe,Be];for(let a=0;a<t.length;a++){const n=t[a];if(!n(e))return n!==Fe&&(Te("Message not verified. Failed on ".concat(n.name,".")),Oe(e)),!1}return!0})(e))return;const{eventName:t,sender:a,data:n}=De(e.data);((e,t,a)=>{const n="Received message '".concat(e,"' from '").concat(t,"'");Re(e,n,a)})(t,a,n),Ee.emit(t,a,n)},$t=()=>{Tt||(window.addEventListener("message",_t),Ee.addListener(Ne.InitializedHosted,Ot),Ee.addListener(Ne.OpenModal,Dt),Ee.addListener(Ne.CloseModal,Mt),Ee.addListener(Ne.BootWithConfig,Bt),Ee.addListener(Ne.PushModal,xt),Ee.addListener(Ne.PopModal,Ft),Ee.addListener(Ne.UserActivity,Rt),Ee.addListener(Ne.FetchResponse,Ct),Tt=!0,Le("Started listening"))},Ht=e=>{var t;const a=C(e);var n;return function(){let{configLogLevel:e,iframeNameLogLevel:t,localStorageLogLevel:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ce=a||t||e||"warning"}({configLogLevel:a.logLevel,iframeNameLogLevel:je(window.name).logLevel,localStorageLogLevel:localStorage.getItem("ckLogLevel")}),a.routeMap&&(n=a.routeMap,ge={...ge,...n}),Ge(),$t(),h()?(new ResizeObserver(p((e=>{if(0===e.length)return;const{borderBoxSize:t}=e[0];if(null==t||!t.length)return;const a=t[0],n=a.blockSize,r=a.inlineSize;n>0&&et("parent",Ne.ContentResize,{width:r,height:n})}),100)).observe(document.body),(async()=>{const e=await At();if(null!=e&&e.parentConfig.shouldDetectUserActivity){var t;const{userActivityOptions:a}=e.parentConfig,n=p((()=>{et("parent",Ne.UserActivity)}),void 0!==(null==a?void 0:a.detectionIntervalInMs)?a.detectionIntervalInMs:1e3);null==a||null==(t=a.eventsToDetect)||t.forEach((e=>{document.addEventListener(e,n)}))}})(),null==a.onBeforeBoot||a.onBeforeBoot(Lt),et("parent",Ne.InitializedHosted)):null!=(t=a.fetchOptions)&&t.shouldEnableFetchProxy&&(()=>{var e;const{messageTargetId:t,iframeEl:a}=lt(pe);a.style.width="0",a.style.height="0",a.style.display="none";const{fetchOptions:n}=k();null==(e=document.querySelector((null==n?void 0:n.proxyContainerSelector)||"body"))||e.appendChild(a),wt=t})(),Lt},Kt=()=>Lt;let Vt=null;const Ut=()=>{if(Vt){Kt().destroyIframe(Vt),Vt=null}},Wt=({mount:e,ampReferenceNumbers:t,onReady:a=l().noop})=>{const n=Kt(),{iframeEl:r}=n.createIframe(q,{onReadyToBeShown:a,queryParams:{hideShippingAddress:!0,ampReferenceNumbers:t,mtPageRef:"BE-FGD"},shouldAutoResize:!0});e.prepend(r),Vt=r},Gt=({buyParams:e,pageContext:t,onSuccess:a=l().noop})=>{Kt().buy(e,{metricsData:{topic:"xp_retail_applestore_cs_identified",pageContext:t}}).then((e=>{e&&e.success&&a()}))},jt=({idmsAppIdKey:e,modalSelector:t,onClose:a=l().noop,isCarry:n=!0})=>{const r=document.querySelector(t),s=document.querySelector("html"),i={modalOptions:{containerSelector:t,onModalRequested:()=>{r.style.display="initial"},onModalClose:()=>{r.style.display="none",s.removeAttribute("data-core-overlay-open"),a()},onModalReadyToBeShown:()=>{s.setAttribute("data-core-overlay-open",!0)}},theme:b.Light,authOptions:{type:o.WebService},hostMetadata:{idmsAppIdKey:e,origin:window.location.origin},product:"other",shouldDetectUserActivity:!0,userActivityOptions:{detectionIntervalInMs:1e3,eventsToDetect:["touchstart","keydown","mousedown","scroll"]}};return n&&(i.hostedAppMetadata={environment:y.Carry}),Ht(i)};var qt=a(6942),Yt=a.n(qt);const zt=({show:e,headerLabel:t,continueLabel:a,onContinue:n})=>r().createElement("div",{className:Yt()("as-l-container","rf-cmk-mp",{"rf-cmk-mp-ready":e})},r().createElement("h1",{className:"rf-cmk-mp-header"},t),r().createElement("div",{className:"rf-cmk-mp-ready-content"},r().createElement("button",{type:"button",role:"link",className:"button button-block large-6 small-12",onClick:()=>n()},a))),Zt=({show:e,headerLabel:t,continueLabel:a,onClose:n=l().noop})=>r().createElement(zt,{headerLabel:t,continueLabel:a,show:e,onContinue:()=>{Ut(),n()}}),Jt={INIT:"init",OPEN:"open",READY:"ready",CLOSE:"close"}},3673:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(5505)},5505:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(8168),r=a(1594),s=a.n(r),l=a(6942),i=a.n(l),o=a(5911),c=a(4668);const m=s().forwardRef(((e,t)=>{const{messages:a,lastUpdated:l,className:m,dataAutom:d}=e,u=(0,r.useRef)(),p=t||u,g=Boolean(a.length),y=a.length>1,v=a.sort(((e,t)=>e.level>t.level?1:-1));return(0,r.useEffect)((()=>{g&&p.current&&p.current.focus()}),[p,g,l]),g&&s().createElement("div",{className:i()("rt-messages",m),"data-autom":d,tabIndex:"-1",ref:p,role:y?"list":void 0},v.map((({level:e,text:t})=>{const a="ERROR"===e;let r=y?"listitem":void 0;return a&&(r="alert"),s().createElement(c.A,{key:t,error:a,role:r},s().createElement("div",(0,n.A)({className:"rt-messages-text"},(0,o.OH)(t))))})))}))},1836:()=>{const e=window.asMetrics||{};window.as=window.as||{},window.as.mvt=e.Mvt,window.apple=window.apple||{},window.apple.metrics=window.apple.metrics||{},window.apple.metrics.Metrics=e.Metrics,window.Event.onLoad=()=>{}},8120:(e,t,a)=>{"use strict";a.d(t,{$D:()=>ut,Ai:()=>ht,Ao:()=>he,Aw:()=>me,CI:()=>q,CJ:()=>w,CN:()=>Nt,Ch:()=>Ke,Cx:()=>X,D9:()=>At,Eb:()=>Tt,Eo:()=>le,Eu:()=>S,F0:()=>qt,Fm:()=>Ct,Fu:()=>Bt,Fw:()=>Se,G$:()=>N,GA:()=>Ot,Gt:()=>$e,HH:()=>yt,IM:()=>r,IZ:()=>Yt,I_:()=>c,J0:()=>i,Jc:()=>Mt,K1:()=>ye,K2:()=>m,KH:()=>b,KN:()=>$,L8:()=>et,L9:()=>l,LL:()=>ee,Lf:()=>Ht,Lk:()=>J,Lq:()=>Et,Lv:()=>k,M8:()=>O,Ms:()=>St,N9:()=>M,NB:()=>st,OP:()=>y,Oc:()=>s,Pe:()=>x,QF:()=>ie,Qv:()=>oe,RQ:()=>A,RS:()=>se,Rt:()=>Te,S4:()=>de,SD:()=>ne,ST:()=>u,TK:()=>Rt,Tl:()=>gt,U$:()=>He,UH:()=>lt,Ub:()=>bt,V4:()=>Ne,VB:()=>H,VO:()=>W,Vp:()=>Wt,Vs:()=>Kt,WC:()=>ue,WL:()=>Ye,WX:()=>f,Wg:()=>Ve,Wy:()=>Ae,X0:()=>ke,X1:()=>qe,XA:()=>Y,XB:()=>$t,YW:()=>I,Yd:()=>ae,Yg:()=>Pt,Yy:()=>K,Yz:()=>_t,Z1:()=>pe,ZB:()=>Le,ZK:()=>Xe,ZS:()=>rt,Zg:()=>B,Zk:()=>zt,_9:()=>pt,_H:()=>We,_X:()=>D,aH:()=>be,aM:()=>Ge,aq:()=>ve,b1:()=>Vt,b4:()=>Ie,bW:()=>wt,c:()=>V,cI:()=>Je,co:()=>d,db:()=>je,dz:()=>j,e3:()=>xt,fq:()=>Pe,fs:()=>Ee,ge:()=>ce,hL:()=>T,hY:()=>Me,hu:()=>Re,i$:()=>R,iV:()=>_,if:()=>C,il:()=>Dt,jD:()=>It,jJ:()=>Fe,jL:()=>Ue,jP:()=>ct,k1:()=>Ce,kH:()=>dt,kJ:()=>p,lK:()=>xe,lN:()=>Gt,lQ:()=>Ze,lc:()=>at,lg:()=>Qe,li:()=>Lt,mO:()=>mt,mu:()=>ft,nO:()=>re,nP:()=>o,nW:()=>_e,nd:()=>vt,nn:()=>n,ns:()=>G,ot:()=>Z,pN:()=>Ut,pU:()=>Q,pZ:()=>jt,p_:()=>te,pu:()=>fe,qE:()=>kt,qM:()=>U,q_:()=>h,t:()=>De,uE:()=>Zt,vM:()=>it,vS:()=>P,vZ:()=>E,vo:()=>tt,wx:()=>ze,xA:()=>F,xI:()=>g,xU:()=>v,xZ:()=>we,xn:()=>Ft,xt:()=>L,y5:()=>ge,ye:()=>nt,zQ:()=>Be,zY:()=>z,zj:()=>Oe,zw:()=>ot});const n="checkout",r="checkout.session",s="checkout.init",l="checkout.fulfillment",i="checkout.fulfillment.xMerch",o="checkout.fulfillment.toolbar",c="checkout.fulfillment.fulfillmentMessages",m="checkout.fulfillment.fulfillmentOptions",d="checkout.fulfillment.deliveryTab.termsAndConditions",u="checkout.fulfillment.deliveryTab.delivery",p="checkout.fulfillment.deliveryTab.delivery.deliveryLocation",g="checkout.fulfillment.deliveryTab.delivery.shipmentGroups",y="checkout.fulfillment.deliveryTab.pickupForced",v="checkout.fulfillment.deliveryTab.pickupForced.pickupOnlyGroup",h="checkout.fulfillment.deliveryTab.electronic",E="checkout.fulfillment.deliveryTab.electronic.electronicGroups",b="checkout.fulfillment.deliveryTab.ePPPlus",f="checkout.fulfillment.deliveryTab.buyFlowInstallmentsOrderSummary",A="checkout.fulfillment.deliveryTab.deviceTradeInServicesSummary",w="checkout.fulfillment.pickupTab.pickup",N="checkout.fulfillment.pickupTab.deliveryForced",S="checkout.fulfillment.pickupTab.deliveryForced.deliveryLocation",C="checkout.fulfillment.pickupTab.pickup.storeLocator",k="checkout.fulfillment.pickupTab.electronic",I="checkout.fulfillment.faq",P="checkout.fulfillment.footnotes",L="checkout.shipping",T="checkout.shipping.toolbar",O="checkout.pickupContact",D="checkout.pickupContact.toolbar",x="checkout.pickupContact.pickupContactMessages",M="checkout.pickupContact.pickupContactOptions",F="checkout.pickupContact.faq",B="checkout.pickupContact.footnotes",R="checkout.pickupContact.selfPickupContact.carrierContact.address",_="checkout.pickupContact.selfPickupContact.carrierContact",$="checkout.pickupContact.selfPickupContact.selfContact.address",H="checkout.pickupContact.selfPickupContact.pickupInstructions",K="checkout.pickupContact.selfPickupContact.billingContact",V="checkout.pickupContact.selfPickupContact.billingContact.address",U="checkout.pickupContact.selfPickupContact.nationalIdSelf",W="checkout.pickupContact.thirdPartyPickupContact.nationalIdThirdParty",G="checkout.pickupContact.thirdPartyPickupContact.thirdPartyContact",j="checkout.pickupContact.thirdPartyPickupContact.thirdPartyContact.address",q="checkout.pickupContact.thirdPartyPickupContact.pickupInstructions",Y="checkout.pickupContact.thirdPartyPickupContact.billingContact",z="checkout.pickupContact.thirdPartyPickupContact.billingContact.address",Z="checkout.pickupContact.buyFlowInstallmentsOrderSummary",J="checkout.pickupContact.termsAndConditions",X="checkout.pickupContact.ePPPlus",Q="checkout.billing",ee="checkout.billing.billingOptions",te="checkout.billing.billingMessages",ae="checkout.billing.invoiceSelector",ne="checkout.billing.invoiceOverlay",re="checkout.billing.xMerch",se="checkout.billing.toolbar",le="checkout.billing.bankTransfer",ie="checkout.billing.appleFinancing",oe="checkout.billing.vatID",ce="checkout.loanApplication",me="checkout.loanApplicationTermsAndConditions",de="checkout.acLoanApplication",ue="checkout.appleCardFinancingThrottle",pe="checkout.applePayWebMessages",ge="checkout.acLoanApplication.webApplyThankYou",ye="checkout.billing.billingOptions.selectedBillingOptions.creditCard",ve="checkout.billing.billingOptions.selectedBillingOptions.savedCard",he="checkout.billing.billingOptions.selectedBillingOptions.ideal",Ee="checkout.billing.faq",be="checkout.billing.footnotes",fe="checkout.billing.ePPPlus",Ae="checkout.billing.barclaysCreditCard",we="checkout.billing.barclaysCreditCard.cardInputs",Ne="checkout.billing.barclaysCreditCard.billingAddress.address",Se="checkout.billing.barclaysCreditCard.billingContact.address",Ce="checkout.billing.barclaysCreditCard.giftCard",ke="checkout.billing.taxInformation",Ie="checkout.billing.billingOptions.selectedBillingOptions.appleCardMonthlyInstallments",Pe="checkout.billing.downPaymentSummary",Le="checkout.paymentRequest",Te="checkout.billing.iphoneUpgrade",Oe="checkout.billing.iphoneUpgrade.upgradeCreditCard.billingAddress.address.zipLookup",De="checkout.review",xe="checkout.review.toolbar",Me="checkout.review.messages",Fe="checkout.review.xMerch",Be="checkout.review.placeOrder",Re="checkout.review.billingReview",_e="checkout.review.footnotes",$e="checkout.review.faq",He="checkout.review.fulfillmentReview",Ke="checkout.review.summary",Ve="checkout.review.shippingReview",Ue="checkout.review.shipmentFlipOverlay",We="checkout.review.shippingFlipLoanOverlay",Ge="checkout.review.fapiaoReview",je="checkout.review.eFapiaoReview",qe="checkout.review.pickupContactReview",Ye="checkout.review.tradeInReview",ze="checkout.review.tradeInReview.tradeInDropOffReview",Ze="checkout.review.tradeInReview.tradeInShippingReview",Je="checkout.review.tradeInReview.tradeInShippingReview.address",Xe="checkout.review.invoiceReview",Qe="checkout.review.account",et="checkout.review.account.checkoutAccountCreation",tt="checkout.review.account.checkoutAccountSignIn",at="checkout.review.account.checkoutAccountMessage",nt="checkout.review.placeOrder.termsAndConditions",rt="checkout.review.placeOrder.termsAndConditions.cciTerms",st="checkout.review.placeOrder.optInReview",lt="checkout.review.placeOrder.financingBundleTermsAndConditions",it="checkout.review.placeOrder.financingBundleBuyParams",ot="checkout.review.recurringServicesSummary",ct="checkout.review.cashBackReview",mt="checkout.review.deviceTradeInServicesSummary",dt="checkout.review.placeOrderErrorOverlay",ut="checkout.review.deliveryTimeSlotErrorOverlay",pt="checkout.review.deliveryTimeSlotErrorOverlay.deliveryTimePicker.deliveryDateTimeSlots",gt="checkout.review.placeOrderErrorOverlay",yt="checkout.review.placeOrderErrorOverlay.placeOrderInErrorOverlay",vt="checkout.review.placeOrderErrorOverlay.placeOrderInErrorOverlay.timeSlot",ht="checkout.review.placeOrderErrorOverlay.changeToFulfillment",Et="checkout.review.placeOrderErrorOverlay.changeStore",bt="checkout.review.placeOrderErrorOverlay.changeToDelivery",ft="checkout.locationConsent",At="checkout.review.billingReview.iUPEligibilityReview",wt="checkout.review.summary.carrierFinancePromoSummary",Nt="checkout.review.billingReview.address",St="checkout.review.billingReview.ziniaReview.address",Ct="checkout.review.billingReview.ziniaReview",kt="checkout.review.billingReview.cc-0.address",It="checkout.review.billingReview.appleAccountBalanceReview",Pt="checkout.review.billingReview.buyFlowInstallmentsReview",Lt="checkout.review.billingReview.momoInstallmentsReview",Tt="checkout.review.billingReview.vatID",Ot="checkout.review.billingReview.financeReview",Dt="checkout.review.billingReview.giftCardReview",xt="checkout.review.billingReview.bundle",Mt="checkout.review.billingReview.enterpriseInvoiceReview",Ft="checkout.review.iUPTradeInSummary",Bt="checkout.tradeIn",Rt="checkout.tradeIn.tradeInHeader",_t="checkout.tradeIn.shipping",$t="checkout.tradeIn.tradeInDropOff",Ht="checkout.tradeIn.buyFlowInstallmentsOrderSummary",Kt="checkout.tradeIn.deviceTradeInServicesSummary",Vt="checkout.tradeIn.termsAndConditions",Ut="checkout.tradeIn.faq",Wt="checkout.tradeIn.footnotes",Gt="checkout.companionBar",jt="checkout.companionBar.orderSummary",qt="checkout.companionBar.orderDetails",Yt="checkout.companionBar.orderDetails.fulfillmentCompanionBar",zt="ziniaReview",Zt="tamaraReview"},7302:(e,t,a)=>{"use strict";a.d(t,{BN:()=>E,Uz:()=>d,Zb:()=>p,bb:()=>h,br:()=>y,cf:()=>u,di:()=>v,fp:()=>c,kA:()=>m,lN:()=>o,rO:()=>g});var n=a(2224),r=a.n(n);const s="eVar21",l=(window.acStoreApplePaySetup.RELAY_EVENT_ID,r().get(window,"asMetrics.fireMicroEvent",r().noop)),i=r().get(window,"asMetrics.sendUserInteraction",r().noop),o=(r().get(window,"asMetrics.relay.sendBeacon",r().noop),r().get(window,"asMetrics.triggerPageHasLoaded",r().noop),()=>{l({eVar:s,slot:"",feature:"ShipCompleteModal",action:"Cancel"})}),c=(e,t)=>{i({name:"metrics",data:{prop37:`${['D=pageName+"',"",e,t].join("|")}"`,eVar21:`${['D=pageName+"',"",e,"ShipCompleteModal"].join("|")}"`}})},m=()=>{l({eVar:"prop37",feature:"EditAddressOverlay",action:"Cancel"})},d=()=>{l({eVar:"eVar25",feature:"Shipping Address",action:"ThisIsABusinessAddress"})},u=e=>{if(l({eVar:"prop37",feature:"CompanionBar",action:"ShowOrderSummary"}),e){const e="aos:checkout";i({name:"metrics",data:{hier1:e,channel:e,prop3:["expand","companion bar","show order summary"].join("|")}})}},p=()=>{l({eVar:"prop37",feature:"CompanionBar",action:"HideOrderSummary"})},g=e=>{l({eVar:"eVar21",feature:e||"",action:"ViewDetails"})},y=e=>{l({eVar:"eVar1",feature:"link",part:e?"change payment information":"update payment information",action:"selected"})},v=()=>{i({name:"metrics",data:{eVar6:`${['D=pageName+"',"go back and update my GSTIN|Selected"].join("||")}"`}})},h=()=>{i({name:"metrics",data:{prop37:`${['D=pageName+"',"ShippingAddress||map|Selected"].join("|")}"`}})},E=()=>{i({name:"metrics",data:{prop37:`${['D=pageName+"',"ShippingAddress||map|view address"].join("|")}"`}})}},5497:(e,t,a)=>{"use strict";a.d(t,{PT:()=>s,hK:()=>r,j0:()=>n});const n="getReadyCheckout.paymentAndReview.placeOrder",r="getReadyCheckout.paymentAndReview.bundle",s="getReadyCheckout.paymentAndReview.placeOrder"},3130:(e,t,a)=>{"use strict";a.d(t,{$I:()=>u,$Y:()=>m});var n=a(2224),r=a.n(n),s=a(6028),l=a(7841),i=a(2423),o=a(4771),c=a(3808);const m=({url:e,referenceID:t})=>{const a=(0,s.makePersonalizedEngagementRequest)(e,{clientData:{input:{referenceID:t,context:{}}}});return(0,s.presentEngagementRequest)(a)},d=e=>{const t={input:{entryPoint:"full-retail-fulfillment",bagAssessment:{},retailInitToken:e["aos-init-token"],mcRetailBootstrapUrl:e["aos-init-url"],urls:{modelSelection:"",welcome:""}}},a=(0,s.makePersonalizedEngagementRequest)(e["ams-invoke-url"],{clientData:t});return(0,s.presentEngagementRequest)(a)},u=({store:e,modKey:t,amsContainer:a,state:n,setState:s})=>{const m=(0,c.A)("ams-container/handleAmsPlaceOrder"),u=()=>{e.dispatch({modKey:t,type:l.Ru.ACTION,name:"continueFromReviewToProcess"})};if(a["ams-invoke-url"]&&a["aos-init-url"])(({state:e,submitFrom:t})=>(0,i.g)({state:e,submitFrom:t,setWasSubmitted:t=>{t.forEach((({modKey:t,bindName:a})=>{(0,o.hZ)(e,[t,l.HC,a,l.yI,l.MJ],!0)}))},setWasValidated:t=>{t.forEach((({modKey:t,bindName:a})=>{(0,o.hZ)(e,[t,l.HC,a,l.yI,l.XM],!0)}))}}))({submitFrom:t,state:e.debug().state}).then((()=>{d(a).finally(u)})).catch((({error:e})=>{m.error(e),s({...n,amsLoading:!1})}));else{const{value:a}=e.getAtSpecPath(t,"a.validate.action.url");e.fetchOrbit({url:a,modKey:t,submit:!0},(({data:e,isError:a})=>{let l=!1;if(!a){const a=r().get(e,`${t}.d.amsContainer`,{});a["ams-invoke-url"]&&a["aos-init-url"]&&(l=!0,d(a).finally(u))}l||s({...n,amsLoading:!1})}))}}},9826:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(1594),r=a.n(n),s=a(5206),l=a(6637);const i=({label:e})=>{const{assets:t}=(0,l.S)();return(0,n.useLayoutEffect)((()=>{window.scrollTo(window.pageXOffset,0)}),[]),(0,s.createPortal)(r().createElement("div",{className:"rs-fullscreen-spinner"},r().createElement("div",{role:"img",className:"waitindicator waitindicator40-gray","aria-label":e||t.processing})),document.getElementById("portal")||document.body)}},922:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(4243);function r(e,t){e.classList?e.classList.add(t):(0,n.A)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}},4243:(e,t,a)=>{"use strict";function n(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}a.d(t,{A:()=>n})},8995:(e,t,a)=>{"use strict";function n(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function r(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=n(e.className,t):e.setAttribute("class",n(e.className&&e.className.baseVal||"",t))}a.d(t,{A:()=>r})},5127:()=>{!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,a=r(t);a;)a=r(t=a.ownerDocument);return t}(),t=[],a=null,n=null;l.prototype.THROTTLE_TIMEOUT=100,l.prototype.POLL_INTERVAL=null,l.prototype.USE_MUTATION_OBSERVER=!0,l._setupCrossOriginUpdater=function(){return a||(a=function(e,a){n=e&&a?d(e,a):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),a},l._resetCrossOriginUpdater=function(){a=null,n=null},l.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},l.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},l.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},l.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},l.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,a){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==a[t-1]}))},l.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},l.prototype._monitorIntersections=function(t){var a=t.defaultView;if(a&&-1==this._monitoringDocuments.indexOf(t)){var n=this._checkForIntersections,s=null,l=null;this.POLL_INTERVAL?s=a.setInterval(n,this.POLL_INTERVAL):(i(a,"resize",n,!0),i(t,"scroll",n,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in a&&(l=new a.MutationObserver(n)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(s&&e.clearInterval(s),o(e,"resize",n,!0)),o(t,"scroll",n,!0),l&&l.disconnect()}));var c=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=c){var m=r(t);m&&this._monitorIntersections(m.ownerDocument)}}},l.prototype._unmonitorIntersections=function(t){var a=this._monitoringDocuments.indexOf(t);if(-1!=a){var n=this.root&&(this.root.ownerDocument||this.root)||e,s=this._observationTargets.some((function(e){var a=e.element.ownerDocument;if(a==t)return!0;for(;a&&a!=n;){var s=r(a);if((a=s&&s.ownerDocument)==t)return!0}return!1}));if(!s){var l=this._monitoringUnsubscribes[a];if(this._monitoringDocuments.splice(a,1),this._monitoringUnsubscribes.splice(a,1),l(),t!=n){var i=r(t);i&&this._unmonitorIntersections(i.ownerDocument)}}}},l.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},l.prototype._checkForIntersections=function(){if(this.root||!a||n){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(n){var r=n.element,l=c(r),i=this._rootContainsTarget(r),o=n.entry,m=e&&i&&this._computeTargetAndRootIntersection(r,l,t),d=null;this._rootContainsTarget(r)?a&&!this.root||(d=t):d={top:0,bottom:0,left:0,right:0,width:0,height:0};var u=n.entry=new s({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:l,rootBounds:d,intersectionRect:m});o?e&&i?this._hasCrossedThreshold(o,u)&&this._queuedEntries.push(u):o&&o.isIntersecting&&this._queuedEntries.push(u):this._queuedEntries.push(u)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},l.prototype._computeTargetAndRootIntersection=function(t,r,s){if("none"!=window.getComputedStyle(t).display){for(var l,i,o,m,u,g,y,v,h=r,E=p(t),b=!1;!b&&E;){var f=null,A=1==E.nodeType?window.getComputedStyle(E):{};if("none"==A.display)return null;if(E==this.root||9==E.nodeType)if(b=!0,E==this.root||E==e)a&&!this.root?!n||0==n.width&&0==n.height?(E=null,f=null,h=null):f=n:f=s;else{var w=p(E),N=w&&c(w),S=w&&this._computeTargetAndRootIntersection(w,N,s);N&&S?(E=w,f=d(N,S)):(E=null,h=null)}else{var C=E.ownerDocument;E!=C.body&&E!=C.documentElement&&"visible"!=A.overflow&&(f=c(E))}if(f&&(l=f,i=h,o=void 0,m=void 0,u=void 0,g=void 0,y=void 0,v=void 0,o=Math.max(l.top,i.top),m=Math.min(l.bottom,i.bottom),u=Math.max(l.left,i.left),g=Math.min(l.right,i.right),v=m-o,h=(y=g-u)>=0&&v>=0&&{top:o,bottom:m,left:u,right:g,width:y,height:v}||null),!h)break;E=E&&p(E)}return h}},l.prototype._getRootRect=function(){var t;if(this.root&&!g(this.root))t=c(this.root);else{var a=g(this.root)?this.root:e,n=a.documentElement,r=a.body;t={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},l.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,a){return"px"==t.unit?t.value:t.value*(a%2?e.width:e.height)/100})),a={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return a.width=a.right-a.left,a.height=a.bottom-a.top,a},l.prototype._hasCrossedThreshold=function(e,t){var a=e&&e.isIntersecting?e.intersectionRatio||0:-1,n=t.isIntersecting?t.intersectionRatio||0:-1;if(a!==n)for(var r=0;r<this.thresholds.length;r++){var s=this.thresholds[r];if(s==a||s==n||s<a!=s<n)return!0}},l.prototype._rootIsInDom=function(){return!this.root||u(e,this.root)},l.prototype._rootContainsTarget=function(t){var a=this.root&&(this.root.ownerDocument||this.root)||e;return u(a,t)&&(!this.root||a==t.ownerDocument)},l.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},l.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=l,window.IntersectionObserverEntry=s}function r(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function s(e){this.time=e.time,this.target=e.target,this.rootBounds=m(e.rootBounds),this.boundingClientRect=m(e.boundingClientRect),this.intersectionRect=m(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,a=t.width*t.height,n=this.intersectionRect,r=n.width*n.height;this.intersectionRatio=a?Number((r/a).toFixed(4)):this.isIntersecting?1:0}function l(e,t){var a,n,r,s=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(s.root&&1!=s.root.nodeType&&9!=s.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(a=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){a(),r=null}),n))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(s.rootMargin),this.thresholds=this._initThresholds(s.threshold),this.root=s.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function i(e,t,a,n){"function"==typeof e.addEventListener?e.addEventListener(t,a,n||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,a)}function o(e,t,a,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,a,n||!1):"function"==typeof e.detachEvent&&e.detachEvent("on"+t,a)}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function m(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function d(e,t){var a=t.top-e.top,n=t.left-e.left;return{top:a,left:n,height:t.height,width:t.width,bottom:a+t.height,right:n+t.width}}function u(e,t){for(var a=t;a;){if(a==e)return!0;a=p(a)}return!1}function p(t){var a=t.parentNode;return 9==t.nodeType&&t!=e?r(t):(a&&a.assignedSlot&&(a=a.assignedSlot.parentNode),a&&11==a.nodeType&&a.host?a.host:a)}function g(e){return e&&9===e.nodeType}}()},5338:(e,t,a)=>{"use strict";var n=a(5206);t.H=n.createRoot,n.hydrateRoot},3510:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var n=a(8168),r=a(8587),s=a(7387),l=a(922),i=a(8995),o=a(1594),c=a.n(o),m=a(5067),d=a(2403),u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.A)(e,t)}))},p=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,a){var n=t.resolveArguments(e,a),r=n[0],s=n[1];t.removeClasses(r,"exit"),t.addClass(r,s?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,a)},t.onEntering=function(e,a){var n=t.resolveArguments(e,a),r=n[0],s=n[1]?"appear":"enter";t.addClass(r,s,"active"),t.props.onEntering&&t.props.onEntering(e,a)},t.onEntered=function(e,a){var n=t.resolveArguments(e,a),r=n[0],s=n[1]?"appear":"enter";t.removeClasses(r,s),t.addClass(r,s,"done"),t.props.onEntered&&t.props.onEntered(e,a)},t.onExit=function(e){var a=t.resolveArguments(e)[0];t.removeClasses(a,"appear"),t.removeClasses(a,"enter"),t.addClass(a,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var a=t.resolveArguments(e)[0];t.addClass(a,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var a=t.resolveArguments(e)[0];t.removeClasses(a,"exit"),t.addClass(a,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,a){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,a]},t.getClassNames=function(e){var a=t.props.classNames,n="string"==typeof a,r=n?""+(n&&a?a+"-":"")+e:a[e];return{baseClassName:r,activeClassName:n?r+"-active":a[e+"Active"],doneClassName:n?r+"-done":a[e+"Done"]}},t}(0,s.A)(t,e);var a=t.prototype;return a.addClass=function(e,t,a){var n=this.getClassNames(t)[a+"ClassName"],r=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===a&&r&&(n+=" "+r),"active"===a&&e&&(0,d.F)(e),n&&(this.appliedClasses[t][a]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,l.A)(e,t)}))}(e,n))},a.removeClasses=function(e,t){var a=this.appliedClasses[t],n=a.base,r=a.active,s=a.done;this.appliedClasses[t]={},n&&u(e,n),r&&u(e,r),s&&u(e,s)},a.render=function(){var e=this.props,t=(e.classNames,(0,r.A)(e,["classNames"]));return c().createElement(m.Ay,(0,n.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(c().Component);p.defaultProps={classNames:""},p.propTypes={};const g=p},5067:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>b,_K:()=>y,ns:()=>g,ze:()=>v});var n=a(8587),r=a(7387),s=a(1594),l=a.n(s),i=a(5206),o=a.n(i),c=a(3642),m=a(7241),d=a(2403),u="unmounted",p="exited",g="entering",y="entered",v="exiting",h=function(e){function t(t,a){var n;n=e.call(this,t,a)||this;var r,s=a&&!a.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?s?(r=p,n.appearStatus=g):r=y:r=t.unmountOnExit||t.mountOnEnter?u:p,n.state={status:r},n.nextCallback=null,n}(0,r.A)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:p}:null};var a=t.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var a=this.state.status;this.props.in?a!==g&&a!==y&&(t=g):a!==g&&a!==y||(t=v)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,a,n=this.props.timeout;return e=t=a=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,a=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:a}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===g){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:o().findDOMNode(this);a&&(0,d.F)(a)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===p&&this.setState({status:u})},a.performEnter=function(e){var t=this,a=this.props.enter,n=this.context?this.context.isMounting:e,r=this.props.nodeRef?[n]:[o().findDOMNode(this),n],s=r[0],l=r[1],i=this.getTimeouts(),m=n?i.appear:i.enter;!e&&!a||c.A.disabled?this.safeSetState({status:y},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,l),this.safeSetState({status:g},(function(){t.props.onEntering(s,l),t.onTransitionEnd(m,(function(){t.safeSetState({status:y},(function(){t.props.onEntered(s,l)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,a=this.getTimeouts(),n=this.props.nodeRef?void 0:o().findDOMNode(this);t&&!c.A.disabled?(this.props.onExit(n),this.safeSetState({status:v},(function(){e.props.onExiting(n),e.onTransitionEnd(a.exit,(function(){e.safeSetState({status:p},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:p},(function(){e.props.onExited(n)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,a=!0;return this.nextCallback=function(n){a&&(a=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var a=this.props.nodeRef?this.props.nodeRef.current:o().findDOMNode(this),n=null==e&&!this.props.addEndListener;if(a&&!n){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],s=r[0],l=r[1];this.props.addEndListener(s,l)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,a=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,n.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l().createElement(m.A.Provider,{value:null},"function"==typeof a?a(e,r):l().cloneElement(l().Children.only(a),r))},t}(l().Component);function E(){}h.contextType=m.A,h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:E,onEntering:E,onEntered:E,onExit:E,onExiting:E,onExited:E},h.UNMOUNTED=u,h.EXITED=p,h.ENTERING=g,h.ENTERED=y,h.EXITING=v;const b=h},7241:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1594);const r=a.n(n)().createContext(null)},3642:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={disabled:!1}},2403:(e,t,a)=>{"use strict";a.d(t,{F:()=>n});var n=function(e){return e.scrollTop}},8450:e=>{"use strict";e.exports='<svg width="21" height="21" class="as-svgicon as-svgicon-close as-svgicon-tiny as-svgicon-closetiny" role="img" aria-hidden="true"><path fill="none" d="M0 0h21v21H0z"/><path d="m12.12 10 4.07-4.06a1.5 1.5 0 1 0-2.11-2.12L10 7.88 5.94 3.81a1.5 1.5 0 1 0-2.12 2.12L7.88 10l-4.07 4.06a1.5 1.5 0 0 0 0 2.12 1.51 1.51 0 0 0 2.13 0L10 12.12l4.06 4.07a1.45 1.45 0 0 0 1.06.44 1.5 1.5 0 0 0 1.06-2.56Z"/></svg>'},1594:e=>{"use strict";e.exports=React},5206:e=>{"use strict";e.exports=ReactDOM},2224:e=>{"use strict";e.exports=_},6942:(e,t)=>{var a;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=l(e,s(a)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)n.call(e,a)&&e[a]&&(t=l(t,a));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},8168:(e,t,a)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n.apply(null,arguments)}a.d(t,{A:()=>n})},7387:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(3662);function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.A)(e,t)}},8587:(e,t,a)=>{"use strict";function n(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}a.d(t,{A:()=>n})},3662:(e,t,a)=>{"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}a.d(t,{A:()=>n})},4440:(e,t,a)=>{"use strict";a.d(t,{RP:()=>p,Wz:()=>d,f3:()=>u});const n="data-ariafocusable",r="data-ariasaved-tabindex",s="data-ariasaved-disabled",l="data-ariasaved-ariadisabled",i="data-ariasaved-href";const o=e=>"BUTTON"===e.tagName||"INPUT"===e.tagName,c=(e,t=document)=>Array.from(t.querySelectorAll(e)),m=e=>{const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)||t>=0},d=(e,t,a=!0)=>{const n=c("a,input,select,button,textarea,iframe,*[tabindex]",e).filter(m),r=a?n.filter((e=>"none"!==e.style.display)):n;return t?r.slice(0,t):r},u=e=>{e.forEach((e=>{if(e.setAttribute(n,"true"),o(e)){const t=e.disabled,a=Boolean(e.getAttribute(s))||t?"true":"";e.setAttribute(s,a),e.disabled=!0}const t=e.getAttribute("aria-disabled")||"",a=e.getAttribute(l)||"";e.setAttribute(l,a||t),e.setAttribute("aria-disabled","true");const c=e.getAttribute("href")||"",m=e.getAttribute(i)||"";c&&(e.setAttribute(i,m||c),e.removeAttribute("href"));const d=e.getAttribute("tabindex")||"",u=e.getAttribute(r)||"";e.setAttribute(r,u||d),e.setAttribute("tabindex","-1")}))},p=e=>{e.forEach((e=>{if(e.removeAttribute(n),o(e)){const t=e.disabled,a=e.getAttribute(s);t&&(e.disabled=Boolean(a)),e.removeAttribute(s)}const t=e.getAttribute("aria-disabled")||"",a=e.getAttribute(l)||"";"true"===t&&(a?e.setAttribute("aria-disabled",a):e.removeAttribute("aria-disabled")),e.removeAttribute(l);const c=e.getAttribute("href")||"",m=e.getAttribute(i)||"";""===c&&m&&e.setAttribute("href",m),e.removeAttribute(i);const d=e.getAttribute("tabindex")||"",u=e.getAttribute(r)||"";parseInt(d,10)<0&&(u?e.setAttribute("tabindex",u):e.removeAttribute("tabindex")),e.removeAttribute(r)}))}},184:(e,t,a)=>{"use strict";a.d(t,{_:()=>n});const n={userAgent:e=>{const t=/(AppleWebkit)/i.test(e),a=/Chrome/.test(e)&&/Google Inc/.test(navigator.vendor),n=/Android.*Mobile|Mobile.*Android/i.test(e),r=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(e),s=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(e),l=r&&r[1]||s&&s[1],i=/(ipad)/i.test(e),o=/(iphone|ipod)/i.test(e)&&t,c=o||i?e.match(/os ([\d_]*)/i):null,m=/CriOS/.test(e)&&o,d=c&&c[1]||"0";return{isMobileIos:o,isIpad:i,isAndroidMobile:n,isIosChrome:m,userAgent:e,isPhantom:/Phantom/i.test(e),isFirefox:/(Firefox)/i.test(e),isChrome:/(Chrome)/i.test(e),isSafari:/(Safari)/i.test(e)&&!/(Chrome)/i.test(e),isHandheldPhone:o||n,iosVersion:parseFloat(d.replace("_",".")),isIe:Boolean(l),ieVersion:parseFloat(l||"0"),isAndroidInternet:n&&!a&&t,androidVersion:n?parseFloat(e.slice(e.indexOf("Android")+8)):0}},getReferrer:()=>document.referrer,getUrlHash:()=>window.location.hash,setUrlHash:e=>{window.location.hash=e},doRedirect:e=>{window.location.href=e},isOnline:()=>window.navigator.onLine,getWindowQueryString:()=>window.location.search,getCurrentPathname:()=>window.location.pathname,getViewportScrollX:()=>window.scrollX,getViewportScrollY:()=>window.scrollY,getViewportHeight:()=>window.innerHeight||document.documentElement.clientHeight,getViewportWidth:()=>window.innerWidth||document.documentElement.clientWidth,submit:e=>{(e&&"get"in e?e.get(0):e).submit()},getFocused:()=>document.activeElement,focus:e=>e.focus(),pixelRatio:window.devicePixelRatio,devicePixelRatio:e=>(n.pixelRatio=void 0!==e?e:n.pixelRatio,n.pixelRatio),selectedText:()=>{const e=window.getSelection();return e?e.toString():""},getCookies:()=>document.cookie||"",setCookie:e=>{document.cookie=e}}},840:(e,t,a)=>{"use strict";a.d(t,{HP:()=>n,uP:()=>r});const n={Backspace:8,Tab:9,Clear:12,Return:13,Shift:16,Ctrl:17,Alt:18,Esc:27,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Delete:46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45,CapsLock:20,LeftCommand:91,RightCommand:93,MozillaCommand:224,RightWindowsStart:92,Pause:19,Space:32,Help:47,LeftWindow:91,Select:93,NumPad0:96,NumPad1:97,NumPad2:98,NumPad3:99,NumPad4:100,NumPad5:101,NumPad6:102,NumPad7:103,NumPad8:104,NumPad9:105,NumPadMultiply:106,NumPadPlus:107,NumPadEnter:108,NumPadMinus:109,NumPadPeriod:110,NumPadDivide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NumLock:144,ScrollLock:145},r={};Object.entries(n).forEach((([e,t])=>r[t]=e))},5284:(e,t,a)=>{"use strict";a.d(t,{hI:()=>o,u9:()=>i});var n=a(3808);class r extends Error{constructor(e,t){const a=e.status||0===e.status?e.status:"",n=`${a} ${e.statusText||""}`.trim(),r=n?`response.status: ${n}`:"an unknown error";t.options&&delete t.options.body,t.options&&delete t.options.headers,super(`Request failed with ${r}, response.type: ${e.type}, response.redirected: ${e.redirected}, request.options: ${JSON.stringify(t.options)}, content-type: ${e.headers&&e.headers.get("Content-Type")}, x-request-id: ${e.headers&&e.headers.get("x-request-id")}`),this.name="HTTPError",this.code=a}}class s extends Error{constructor(e,t,a){const n=e.status||0===e.status?e.status:"",r=`${n} ${e.statusText||""}`.trim(),s=r?`response.status: ${r}`:"an unknown error";t.options&&delete t.options.body,t.options&&delete t.options.headers,super(`Received non-JSON response from JSON API with error.message: ${a&&a.message}, ${s}, response.type: ${e.type}, response.redirected: ${e.redirected}, request.options: ${JSON.stringify(t.options)}, content-type: ${e.headers&&e.headers.get("Content-Type")}, x-request-id: ${e.headers&&e.headers.get("x-request-id")}`),this.name="JSONError",this.code=n}}class l extends Error{constructor(e){e.options&&delete e.options.body,e.options&&delete e.options.headers,super(`Request timed out after ${e.options&&e.options.timeout} ms, request.options: ${JSON.stringify(e.options)}`),this.name="TimeoutError",this.code=408}}const i=async(e,t={})=>{let a;t.timeout=t.timeout||1e4;let s=new AbortController;const i={url:e,options:{method:"GET",credentials:"same-origin",signal:s.signal,...t}},o=fetch(i.url,i.options).then((e=>e)),c=new Promise(((e,n)=>{a=setTimeout((()=>{s.abort(),n(new l(i))}),t.timeout)}));try{const e=window.performance&&window.performance.now(),t=await Promise.race([o,c]);if(t.ok){const a=window.performance&&window.performance.now();return window.performance&&function({request:e,response:t,start:a,end:r}){const s=(0,n.A)("as-utilities/measureFetch");try{let n={};n=new URL(t.url);const s=new CustomEvent("echoCustomEvent",{detail:{type:"fetchTimer",message:`hostname: ${n.hostname}, pathname: ${n.pathname}, duration: ${r-a}, request.options: ${JSON.stringify(e.options)}, response.status: ${t.status}, response.type: ${t.type}, content-type: ${t.headers&&t.headers.get("Content-Type")}, x-request-id: ${t.headers&&t.headers.get("x-request-id")}`}});window.dispatchEvent(s)}catch(e){s.error(e)}}({request:i,response:t,start:e,end:a}),t}throw new r(t,i)}catch(e){throw e}finally{clearTimeout(a)}},o=async(e,t={})=>{let a;const n={url:e,options:t};try{a=await i(n.url,n.options)}catch(e){throw e}try{return await a.json()}catch(e){throw new s(a,n,e)}}},7920:(e,t,a)=>{"use strict";a.d(t,{L:()=>i});var n=a(184);const r=/"/g,s="&quot;",l=(e,t,a)=>{const n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",t.replace(r,s)),n.setAttribute("value",a.replace(r,s)),e.appendChild(n)},i=e=>{if(!e)return null;const t=e.head&&e.head.data||{},a=t.method?(t.method+"").toLowerCase():"get",r=parseInt((e.head&&e.head.status)+"",10),s=r>=301&&r<=307,i=r>=400&&r<600;return s&&("get"===a||"delete"===a||"put"===a)?((e,t)=>{if(!e)return;const a=[];if(t){for(const e in t)a.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]+""));e+=(e.indexOf("?")>-1?"&":"?")+a.join("&")}n._.doRedirect(e)})(t.url,t.args):s&&"post"===a&&((e,t)=>{if(!e)return;const a=document.createElement("form"),n={};if(a.setAttribute("id","AsJsonRpcForm"),a.setAttribute("action",e),a.setAttribute("method","post"),t)for(const e in t){const r=t[e];if(Array.isArray(r))for(let e=0;e<r.length;e++)n[e]!==r[e]&&(l(a,e+"",r[e]+""),n[e]=r[e]);else n[e]!==r&&(l(a,e,r+""),n[e]=r)}a.style.display="none",document.body.appendChild(a),a.submit()})(t.url,t.args),i||s?null:e.body||null}},3808:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n=e=>{if(!e)throw new Error("moduleName parameter required for Logger");const t={TRACE:4,DEBUG:3,INFO:2,WARN:1,ERROR:0};let a,n;const r=r=>s=>{if(n=window.sessionStorage.getItem("AS_LOG_LEVEL")||window.AS_LOG_LEVEL||t.ERROR,a=n in t?t[n]:t.ERROR,t[r]<=a)try{let t;t="string"==typeof s||"number"==typeof s||"boolean"==typeof s||"bigint"==typeof s?{message:s}:Array.isArray(s)?{message:s.toString()}:function(e){const t={message:e.message,colno:e.colno,lineno:e.lineno,stack:e.stack||e.error&&e.error.stack,name:e.name,code:e.code};return{...e,...t}}(s),(e=>{const t=new CustomEvent("echoLogEvent",{detail:e});window.dispatchEvent(t)})({...t,id:e,type:r.toLowerCase()}),console[r.toLowerCase()](s)}catch(e){console.error("as-utilities/logger: could not log message",e)}};return{error:r("ERROR"),warn:r("WARN"),info:r("INFO"),debug:r("DEBUG"),trace:r("TRACE")}}},2684:(e,t,a)=>{"use strict";a.d(t,{Dl:()=>m,GP:()=>g,Gm:()=>d,JO:()=>c,LU:()=>i,fX:()=>o,k0:()=>u});let n=null;const r="[\\s!\\?\\.\\,:;_\\-~`'\"#\\$&\\*@\\^\\|\\/]",s=(new RegExp("^"+r+"+"),new RegExp(r+"+$")),l=/\+/g,i=e=>e.replace(s,""),o=e=>Object.keys(e).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(""+e[t]))).join("&"),c=e=>{const t={};return(e="?"===e.charAt(0)||"#"===e.charAt(0)?e.substring(1):e).split("&").forEach((e=>{const a=e.indexOf("="),n=-1!==a,r=n?e.substring(0,a):e,s=n?e.substring(a+1):"",i=decodeURIComponent(s.replace(l," ")),o=t[r];if(i&&o){const e=Array.isArray(o)?o:[o];e.push(i),t[r]=e}else i&&(t[r]=i)})),t},m=e=>{const t=n||document.createElement("a");n=t,t.href=e;const{protocol:a,hostname:r,search:s,hash:l}=t;return{protocol:a,hostname:r,pathname:"/"===(t.pathname||"").charAt(0)?t.pathname:"/"+t.pathname,port:"0"===t.port?"":t.port,search:s,hash:l}},d=e=>{const{protocol:t,hostname:a,pathname:n,port:r,search:s,hash:l}=e;return(a?t+"//"+a+(r?":"+r:""):"")+n+s+l},u=(e,t)=>{const a=m(e),n=c(a.search);return Object.keys(t).forEach((e=>n[e]=t[e])),a.search="?"+o(n),d(a)},p=e=>e.replace(/([[\\^$.|?*+(){}])/g,"\\$1"),g=(e,t,a="{",n="}")=>{if(null==e)return String(e);const r=p(a),s=p(n);return e.replace(new RegExp(`${r}([\\w-]+)${s}`,"g"),((e,a)=>{return 0===(n=t[a])||n?t[a]+"":"";var n}))}},4792:(e,t,a)=>{"use strict";a.d(t,{Ez:()=>y,mj:()=>v});var n=a(184);const r=["","-webkit-","-moz-","-o-","-ms-","-khtml-"],s=["","Webkit","Moz","O","ms","Khtml"];let l=null,i=null;const o=()=>{const e=i||document.createElement("div");return i=e,e},c=(e,t)=>{if("length"===e||"parentRule"===e)return null;const a=o();a.style[e]="";const n=a.style[e],s=r.find((r=>{a.style[e]=r+t;const s=a.style[e]!==n;return a.style[e]="",s}));return"string"==typeof s?s:null},m=e=>{const t=document&&document.documentElement.style,a=e.charAt(0).toUpperCase()+e.slice(1);return s.map((t=>t?t+a:e)).find((e=>e in t))||null},d=(e,t)=>{return!!(t&&m(e))||(a=o().style[e],Boolean(a||""===a));var a},u=(e,t,a,n)=>{const r=document.createElement(t);return r.id=a,r.textContent=n,e.appendChild(r),r},p=()=>{const e=Object.prototype.hasOwnProperty;try{if(e.call(window,"styleMedia")&&window.styleMedia.matchMedium("(-webkit-transform-3d)"))return!0;{const e=document.getElementById("supportsThreeDStyle")||u(document.head,"style","supportsThreeDStyle","@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-ms-transform-3d),(-webkit-transform-3d) { #supportsThreeD { height:3px } }");return 3===(document.getElementById("supportsThreeD")||u(document.body,"div","supportsThreeD","")).offsetHeight||"MozTransform"in e.style||"WebkitTransform"in e.style}}catch(e){return!1}},g=()=>{try{const e=document.createElement("a");return!!e.relList&&e.relList.supports("ar")}catch(e){return!1}},y=()=>{if(l)return l;const e=document.createElement("input"),t=document.createElement("textarea"),a=n._.userAgent(navigator.userAgent),r=a.userAgent,s=a.isMobileIos,i=a.isIpad,u=a.iosVersion,y=a.isIe,v=a.ieVersion,h=a.isPhantom,E=a.isAndroidMobile,b=a.isAndroidInternet,f=a.androidVersion,A=a.isHandheldPhone,w=a.isSafari,N=navigator.appVersion,S=document&&document.documentElement.style,C=o(),k=r.match(/AppleWebKit\/(\d+)/),I=k&&k[1]||"",P=parseFloat(I)||null,L=-1!==N.indexOf("Mac")?"macosx":-1!==N.indexOf("X11")||-1!==N.indexOf("Linux")?"linux":-1!==N.indexOf("SunOS")?"sunos":"windows",T=Boolean(window.ontransitionend),O=("transition"in S||"MozTransition"in S)&&(!E||E&&T),D=O?"transitionend":"msTransition"in S?"MSTransitionEnd":"WebkitTransition"in S?"webkitTransitionEnd":null,x=O?"animationend":"msTransition"in S?"MSAnimationEnd":"WebkitTransition"in S?"webkitAnimationEnd":null;try{C.style.height="100vh"}catch(e){}const M="100vh"===C.style.height;try{C.style.height=""}catch(e){}const F={cssPropertyName:m,cssPropertyValuePrefix:c,inputPlaceholder:"placeholder"in e,maxlengthTextarea:"maxLength"in t,onInput:"oninput"in e,touch:!!("ontouchstart"in window)&&!h,overflowScrolling:d("overflowScrolling",!0),textOverflow:d("textOverflow",!0),transform:d("transform",!0),boxShadow:d("boxShadow",!0),opacity:d("opacity",!1),animation:d("animationName",!0),transition:d("transitionProperty",!0),transformProperty:m("transform"),positionSticky:null!==c("position","sticky"),gradient:null!==c("backgroundImage","linear-gradient(top, black, white)"),backgroundSvg:Boolean(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),threeDTransforms:p(),supportsAR:g(),webkitVersion:P,iosVersion:u,ieVersion:v,androidVersion:f,os:L,vhHeight:M,transitionEndName:D,animationEndName:x,isMobileIos:s,isIpad:i,isSafari:w,isIe:y,isAndroidMobile:E,isAndroidInternet:b,isHandheldPhone:A,rtl:!1,isMobileOptimized:!1};return l=F,F},v=()=>{const e=document.documentElement,t=y();e.classList.add(t.backgroundSvg?"svg":"no-svg"),e.classList.add(t.touch?"touch":"no-touch"),e.classList.add(t.isIe&&t.ieVersion>=9?"ie":"no-ie"),e.classList.add(t.isIe&&t.ieVersion<9?"oldie":"no-oldie"),e.classList.add(t.isMobileIos||t.isIpad?"ios":"no-ios"),e.classList.add(t.animation?"supports-animation":"no-supports-animation"),e.classList.add(d("columns",!0)?"supports-columns":"no-supports-columns"),e.classList.add(d("backdropFilter",!0)?"supports-backdrop-filter":"no-supports-backdrop-filter"),e.classList.add(t.isSafari&&t.supportsAR?"supports-ar":"no-supports-ar"),t.rtl="rtl"===window.getComputedStyle(document.body).direction}}},__webpack_module_cache__={},inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var a=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](a,a.exports,__webpack_require__),a.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var a in t)__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,a)=>(__webpack_require__.f[a](e,t),t)),[])),__webpack_require__.u=e=>"billing-review-bundle-container.chunk.js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="rs-checkout:",__webpack_require__.l=(e,t,a,n)=>{if(inProgress[e])inProgress[e].push(t);else{var r,s;if(void 0!==a)for(var l=document.getElementsByTagName("script"),i=0;i<l.length;i++){var o=l[i];if(o.getAttribute("src")==e||o.getAttribute("data-webpack")==dataWebpackPrefix+a){r=o;break}}r||(s=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,__webpack_require__.nc&&r.setAttribute("nonce",__webpack_require__.nc),r.setAttribute("data-webpack",dataWebpackPrefix+a),r.src=e),inProgress[e]=[t];var c=(t,a)=>{r.onerror=r.onload=null,clearTimeout(m);var n=inProgress[e];if(delete inProgress[e],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((e=>e(a))),t)return t(a)},m=setTimeout(c.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=c.bind(null,r.onerror),r.onload=c.bind(null,r.onload),s&&document.head.appendChild(r)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=a[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{var e={251:0};__webpack_require__.f.j=(t,a)=>{var n=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var r=new Promise(((a,r)=>n=e[t]=[a,r]));a.push(n[2]=r);var s=__webpack_require__.p+__webpack_require__.u(t),l=new Error;__webpack_require__.l(s,(a=>{if(__webpack_require__.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",l.name="ChunkLoadError",l.type=r,l.request=s,n[1](l)}}),"chunk-"+t,t)}};var t=(t,a)=>{var n,r,[s,l,i]=a,o=0;if(s.some((t=>0!==e[t]))){for(n in l)__webpack_require__.o(l,n)&&(__webpack_require__.m[n]=l[n]);if(i)i(__webpack_require__)}for(t&&t(a);o<s.length;o++)r=s[o],__webpack_require__.o(e,r)&&e[r]&&e[r][0](),e[r]=0},a=globalThis.webpackChunkrs_checkout=globalThis.webpackChunkrs_checkout||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{AmountChargedToday:()=>at,CashBackLabel:()=>nt,CompanionBarSummaryRow:()=>Ze,EmiDetails:()=>rt,InstallmentsAmountDue:()=>tt,OneTimeChargeLabel:()=>st,OrderInstallmentPrice:()=>et,SegmentSavings:()=>ct,TaxExclusiveTax:()=>lt,Terms:()=>pt,TotalAmountAuthorized:()=>it,TotalListSavings:()=>ot,TotalRow:()=>mt,TotalTaxSubValue:()=>dt,TradeInRefund:()=>ut,WebInstallmentSummary:()=>Xe});__webpack_require__(3797);var t=__webpack_require__(1594),a=__webpack_require__.n(t),n=__webpack_require__(5338),r=__webpack_require__(3808),s=__webpack_require__(840);const l=/^(\S+)\s*(.+)?$/,i="data-trigger";let o=!1;const c={},m=(e,t,a)=>{const n=(e=>{if(e=e.trim(),!c[e]){const t=e.split(",").map((e=>e.trim())).filter((e=>!!e)).map((e=>{const t=e.match(l);return{type:t&&t[1],sel:t&&t[2]}}));c[e]=t}return c[e]})(t);let r=null;n.forEach((({type:t,sel:n})=>{if("preventDefault"===t)a.preventDefault();else if("focus"===t||"click"===t){r=r||(e=>{for(let t=e;t;t=t.parentElement)if(t.hasAttribute("data-trigger-context"))return t;return document.body})(e);const a=n?((e,t=document)=>Array.from(t.querySelectorAll(e)))(n,r):[e];a.forEach((e=>e[t]?e[t]():null))}}))},d=e=>{const t=e.target,a=e&&"keyCode"in e?e.keyCode:null,n=null!==a,r=null!==a&&s.uP[a];for(let s=t;s;s=s.parentElement){if(s&&s.hasAttribute("data-trigger-stoppropagation"))return;const t=!n&&s.getAttribute(`${i}-${e.type}`)||n&&s.getAttribute(`${i}-${a}`)||n&&s.getAttribute(`${i}-${r}`);t&&m(s,t,e)}};var u=__webpack_require__(4792);const p="as-keyboarduser",g=[s.HP.Tab,s.HP.Esc,s.HP.Alt,s.HP.Ctrl,s.HP.ArrowDown,s.HP.ArrowLeft,s.HP.ArrowRight,s.HP.ArrowUp];let y=null,v=!1,h=!1,E=!1;const b=()=>{y&&(y.classList.toggle("as-mouseuser",v),y.classList.toggle(p,h))},f=()=>{v||(v=!0,h=!1,b())},A=e=>{!h&&g.indexOf(e.keyCode)>-1&&(v=!1,h=!0,b())};var w=__webpack_require__(8654);const N=e=>{if(window.sessionStorage.setItem("as-crypto.ces",e.result),!1===e.result){const t=`canExportSpki_failed,exportedspki=${e.exportedSpki}`,a=new CustomEvent("echoCustomEvent",{detail:{message:t,id:"as-crypto.tests.canExportSpki",type:"as-crypto fn call"}});window.dispatchEvent(a)}};__webpack_require__(1836);var S=__webpack_require__(2224),C=__webpack_require__.n(S),k=__webpack_require__(3701);const I="Browser History Button",P=C().get(window,"asMetrics.fireMicroEvent",C().noop),L=C().get(window,"asMetrics.triggerPageHasLoaded",C().noop),T=(0,t.createContext)({page:{}}),O=({children:e})=>{const n=(0,k.EL)(),r=(0,t.useRef)(!1),s=(0,t.useRef)(!1),[l,i]=(0,t.useState)(n.getPage());return(0,t.useEffect)((()=>n.addPageListener((e=>i(e)))),[n]),(0,t.useEffect)((()=>{if(!l)return;const{title:e,htmlUrl:t,metricName:a,metric:n}=l;if(r.current&&!s.current&&window.history.pushState({orbitPage:l},e,t),e&&(window.document.title=e),a&&(L({beacon:{pageName:a}}),s.current&&a&&P({eVar:"prop37",slot:a,feature:I,action:I})),n){const e=C().get(window,"asMetrics.fireMicroEventCollection",C().noop),{microEvents:t,macroEvents:a,products:r}=n;if(a||r||t){const n={microEvents:t||[],macroEvents:C().toString(a)};r&&(n.products=C().toString(r)),e({"meta.page":n},(()=>{}))}}s.current=!1}),[l,s,r]),(0,t.useEffect)((()=>{l&&!r.current&&(window.history.replaceState({orbitPage:l},l.title,l.htmlUrl),r.current=!0)}),[l,r]),(0,t.useEffect)((()=>{const e=e=>{const t=C().get(e,"state.orbitPage.url","");t&&(s.current=!0,n.fetchOrbit({url:t}))};return window.addEventListener("popstate",e),function(){window.removeEventListener("popstate",e)}}),[s,n]),a().createElement(T.Provider,{value:{page:l||{}}},e)};var D,x,M=__webpack_require__(7387),F=__webpack_require__(5067),B=__webpack_require__(7241);var R="out-in",_="in-out",$=function(e,t,a){return function(){var n;e.props[t]&&(n=e.props)[t].apply(n,arguments),a()}},H=((D={})[R]=function(e){var t=e.current,n=e.changeState;return a().cloneElement(t,{in:!1,onExited:$(t,"onExited",(function(){n(F.ns,null)}))})},D[_]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,a().cloneElement(r,{in:!0,onEntered:$(r,"onEntered",(function(){n(F.ns)}))})]},D),K=((x={})[R]=function(e){var t=e.children,n=e.changeState;return a().cloneElement(t,{in:!0,onEntered:$(t,"onEntered",(function(){n(F._K,a().cloneElement(t,{in:!0}))}))})},x[_]=function(e){var t=e.current,n=e.children,r=e.changeState;return[a().cloneElement(t,{in:!1,onExited:$(t,"onExited",(function(){r(F._K,a().cloneElement(n,{in:!0}))}))}),a().cloneElement(n,{in:!0})]},x),V=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={status:F._K,current:null},t.appeared=!1,t.changeState=function(e,a){void 0===a&&(a=t.state.current),t.setState({status:e,current:a})},t}(0,M.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===F.ns&&e.mode===_?{status:F.ns}:!t.current||(n=t.current,r=e.children,n===r||a().isValidElement(n)&&a().isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:a().cloneElement(e.children,{in:!0})}:{status:F.ze};var n,r},n.render=function(){var e,t=this.props,n=t.children,r=t.mode,s=this.state,l=s.status,i=s.current,o={children:n,current:i,changeState:this.changeState,status:l};switch(l){case F.ns:e=K[r](o);break;case F.ze:e=H[r](o);break;case F._K:e=i}return a().createElement(B.A.Provider,{value:{isMounting:!this.appeared}},e)},t}(a().Component);V.propTypes={},V.defaultProps={mode:R};const U=V;var W=__webpack_require__(7841),G=__webpack_require__(246),j=__webpack_require__(9594);const q=({doFade:e,doFadeOnAppear:n,doScrollToTop:r,children:s})=>{const l=(0,k.EL)(),i=[];let o=null,c="";const m=(0,t.useRef)([]);a().Children.forEach(s,(e=>{const t=C().get(e,"props.modKey","");!o&&l.moduleActive(t)&&(o=e,c=t,c!==m.current[0]&&m.current.unshift(c)),i.push(t)})),(0,k.$J)(i),(0,G.A)((()=>{!e&&r&&window.scrollTo(0,0)}),[c]);const{modCreatedAt:d}=(0,k.Yl)(c);(0,t.useEffect)((()=>{e&&l.moduleShouldPersist(c)}),[c,d]);const u=(0,t.useCallback)((()=>{r&&window.scrollTo(0,0),l.dispatch({type:W.Ru.DELETE_MOD,modKey:m.current[1]})}),[m,r,l]),p=(0,t.useRef)(!1),g=!p.current&&n;return(0,t.useEffect)((()=>{p.current=!0}),[]),e?a().createElement(U,{mode:"out-in"},a().createElement(j.A,{key:c,onExited:u,enter:!1,appear:g},o)):o};var Y=__webpack_require__(6637),z=__webpack_require__(6942),Z=__webpack_require__.n(z),J=__webpack_require__(7427);var X=__webpack_require__(791);var Q=__webpack_require__(9573);const ee=function(){return null},te="eVar1",ae="eVar5",ne="eVar6",re="eVar21",se="prop37",le=C().get(window,"acStoreApplePaySetup.RELAY_EVENT_ID",""),ie=C().get(window,"asMetrics.relay.sendBeacon",C().noop),oe=C().get(window,"asMetrics.fireMicroEvent",C().noop),ce=C().get(window,"asMetrics.sendUserInteraction",C().noop),me=C().get(window,"asMetrics.appleCard",C().noop),de=C().get(window,"asMetrics.triggerPageHasLoaded",C().noop),ue=C().get(window,"asMetrics.dude2",C().noop),pe=({isLightning:e,feature:t})=>{oe({action:e?"CompareCoverageOptionsSelected":"LearnMoreSelected",feature:t,eVar:ae})},ge=()=>{oe({eVar:se,feature:"bag",action:"continue checking out"})},ye=()=>{oe({eVar:re,feature:"Pickup",action:"ShowMoreStores"})},ve=e=>{oe({eVar:se,slot:"Pickup",feature:"StoreLocator",part:"map",action:e?"expanded":"collapsed"})},he=e=>{me({name:"eVar35 Metrics",status:e})},Ee=()=>{oe({eVar:"eVar21",feature:"TradeIn",action:"LearnMore"})},be=()=>{oe({eVar:re,feature:"in-home setup",action:"see how in-home setup works"})},fe=()=>{oe({eVar:re,slot:"Payment",feature:"Invoice",action:"HowtoFindTaxPayerInformation"})},Ae=e=>{oe({eVar:re,slot:e,feature:"ExploreAllMonthlyPaymentOffers",action:"Selected"})},we=C().get(window,"acStoreApplePaySetup",C().noop),Ne=a().createContext({}),Se=({paymentRequestModKey:e,children:n})=>{const[s]=(0,k.Ej)(e,"paymentRequestData"),[l,i]=(0,t.useState)(!1),[o,c]=(0,t.useState)({acStatus:null,supportsInstallments:!1,appleCardState:null,acAvailable:!1,acSupported:!1,setCheckState:i,paymentRequestData:s}),m=s&&s.paymentRequest,{merchantIdentifier:d,signature:u,signedFields:p}=m||{},g=d&&u&&p,y={config:{merchantIdentifier:d,signature:u,signedFields:p}};return(0,t.useEffect)((()=>{!g||!l&&o.acStatus||(((e,t,a)=>{const n=(0,r.A)("checkout-apple-card/getApplePaySetup/1"),s=(0,r.A)("checkout-apple-card/getApplePaySetup/2");try{we.getState(e).then((e=>{const n=window.acStoreApplePaySetup.AppleCardState,{supportsInstallments:r,appleCardState:s}=e,l=s===n.SUPPLEMENTARY_SUPPORTED||s===n.COMPLETED,i=s===n.SUPPORTED;if(r){const e=`${Object.keys(n).find((e=>n[e]===s)).toLowerCase()}_installments`;he(e)}else{const e=((e,t)=>{switch(t){case e.SUPPORTED:return{eVar35:"supported"};case e.SUPPLEMENTARY_SUPPORTED:return{eVar35:"supplementary supported"};case e.COMPLETED:return{eVar35:"completed"};case e.UNSUPPORTED:return{eVar35:"denied | api:unsupported"};case e.OLD_DEVICE:return{eVar35:"denied | pre:old device"};case e.OLD_SAFARI:return{eVar35:"denied | pre:old safari"};case e.NOT_SAFARI:return{eVar35:"denied | pre:not safari"};case e.NIL:return{eVar35:"denied | api:nil"};case e.DISABLED_COUNTRY:return{eVar35:"denied | pre:wrong country"};default:return{}}})(n,s);he(e.eVar35)}a({...t,acStatus:e,supportsInstallments:r,appleCardState:s,acAvailable:l,acSupported:i})})).catch((e=>{n.error(e),a({...t,error:e})}))}catch(e){s.error(e),a({...t,error:e})}})(y,o,c),i(!1))}),[g,l]),a().createElement(Ne.Provider,{value:o},n)},Ce=()=>a().useContext(Ne);var ke=__webpack_require__(3673),Ie=__webpack_require__(8168),Pe=__webpack_require__(184),Le=__webpack_require__(5911);const Te=e=>e.getBoundingClientRect().top+window.scrollY,Oe=e=>parseInt(window.getComputedStyle(e).getPropertyValue("margin-top"),10),De=(e,t,a)=>{if("string"==typeof e){const n=document.querySelector(e);return n?Te(n)-(a?Oe(n):0):t}return void 0===e?t:e},xe=(e,t)=>{const a=u.Ez(),n=a.iosVersion>0||a.androidVersion>0,r=Boolean(e||t&&n);return!a.positionSticky||r},Me=(e,t,a)=>({"data-core-sticky":"","data-core-sticky-css":t?void 0:"","data-core-sticky-stuck":t&&e?"":void 0,"data-core-sticky-endpin":t&&a?"":void 0}),Fe=e=>{const{noCss:n,mobileNoCss:r,minHeight:s,maxHeight:l,onStickyChange:i,children:o,...c}=e,[m,d]=(0,t.useState)({min:0,max:0,scrollTop:0,offsetTop:0}),[u,p]=(0,t.useState)(!1),[g,y]=(0,t.useState)(!1),[v,h]=(0,t.useState)(xe(n,r)),[E,b]=(0,t.useState)({top:v?m.offsetTop:""}),[f,A]=(0,t.useState)(Me(g,v,u)),w=(0,t.useRef)(null),N=(0,t.useRef)(0);(0,t.useEffect)((()=>{h(xe(n,r))}),[n,r]);const S=(0,t.useCallback)((()=>{if(v&&w.current){const e=w.current,t=Pe._.getViewportScrollY(),a=N.current||Te(e)-Oe(e);N.current=a;const n=De(s,a,!1),r=De(l,1/0,!0)-(e=>{const t=window.getComputedStyle(e);return e.offsetHeight+parseInt(t.getPropertyValue("margin-top"),10)+parseInt(t.getPropertyValue("margin-bottom"),10)})(e),i=Math.max((0,Le.qE)(t,n,r)-a,0);d({min:n,max:r,scrollTop:t,offsetTop:i});const o=t>n&&t<r;y(o);p(!o&&t>r)}}),[l,s,v]);return(0,X.A)("scroll",S),(0,t.useLayoutEffect)((()=>{const e=Me(g,v,u);A(e)}),[g,v,u]),(0,t.useLayoutEffect)((()=>{v&&b(g?{top:""}:{top:m.offsetTop})}),[g,v,m.offsetTop]),(0,G.A)((()=>{i&&i(g)}),[i,g]),a().createElement("div",(0,Ie.A)({},c,f,{ref:w,style:E}),o)},Be=({orderSummaryLabel:e,orderSummaryAmount:t,orderSummaryAmountAriaLabel:n,setCompanionBarVisible:r,hasRCCToolbar:s,isNotificationBannerShown:l})=>{const{assets:i,viewport:o}=(0,Y.S)(),c="small"===o,m=Z()("rs-companionbar-button-label",{visuallyhidden:c}),d=Z()("rs-checkout-headerbar-content row as-l-container",{"rs-review-nokeyline":s});return a().createElement(Fe,{className:"rs-checkout-headerbar rs-companionbar-sticky",noCss:!0,maxHeight:".as-footnotes"},a().createElement("div",{className:d,"aria-hidden":l},a().createElement("div",{className:"column large-6"},a().createElement("div",{className:"rs-checkout-headerbar-title typography-label"},i.checkout)),e&&a().createElement("div",{className:"column small-6 large-last rs-companionbar-button typography-body-reduced"},a().createElement("button",{type:"button",id:"companionbar-button",className:"as-buttonlink","data-autom":"companionbar-button",onClick:()=>r(!0),tabIndex:l?-1:0},a().createElement("span",{className:m},`${e} `),t&&a().createElement("span",(0,Ie.A)({className:"rs-companionbar-button-amount","aria-label":n},(0,Le.OH)(t)))))))};var Re=__webpack_require__(8120),_e=__webpack_require__(7302);const $e=({isNotificationBannerShown:e})=>{const[t]=(0,k.lE)(Re.lN),[n]=(0,k.Ej)(Re.pZ,"iUPOrInstallments"),[r]=(0,k.lE)(Re.nn),s=r.acmiFromBag||r.partnerFinanceFromBag,[,l]=(0,k._x)(Re.lN,"showCompanionBar"),i=(0,k.M1)(Re.lK),{label:o,amount:c,installmentAmountDue:m,amountAriaContent:d}=t,u=n?m:c;return a().createElement(Be,{orderSummaryLabel:o,orderSummaryAmount:u,orderSummaryAmountAriaLabel:d,setCompanionBarVisible:e=>{(0,_e.cf)(s),l(e)},hasRCCToolbar:i,isNotificationBannerShown:e})},He=a().memo($e);var Ke=__webpack_require__(6884);const Ve=({showOverlay:e,setShowOverlay:t,returnToBagLink:n,hasBundle:r})=>{const{assets:s}=(0,Y.S)();return a().createElement(Ke.A,{visible:e,onClose:()=>{oe({feature:"bag",eVar:se,action:"close"}),t(!1)},doublePadding:!0,fixedWidth:!0,ariaLabel:"rs-leaving-securecheckout-header"},a().createElement("section",{className:"rs-leavingsecurecheckout-overlay"},a().createElement("h2",{id:"rs-leaving-securecheckout-header",className:"typography-headline-reduced"},s.leavingSecureCheckout),!r&&a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-leavingsecurecheckout-message"},s.secureCheckoutMessage),a().createElement("div",{className:"rs-leavingsecurecheckout-action"},Boolean(n)&&a().createElement("a",{href:n,className:"button rs-leavingsecurecheckout-button","data-prop37":'D=pageName+"|bag|leave secure checkout"',"data-autom":"leaveSecureCheckoutButton"},a().createElement("span",null,s.leaveSecureCheckoutCTA)),a().createElement("div",{className:"rs-leavingsecurecheckout-link"},a().createElement("button",{type:"button",className:"as-buttonlink","data-autom":"stay-and-continue-link",onClick:()=>{ge(),t(!1)}},s.stayInCheckoutCTA)))),r&&a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-leavingsecurecheckout-message"},s.bundleSecureCheckoutMessage),a().createElement("div",{className:"rs-leavingsecurecheckout-action"},a().createElement("button",{type:"button",className:"button rs-leavingsecurecheckout-button","data-autom":"stay-and-continue-link",onClick:()=>{ge(),t(!1)}},s.stayInCheckoutCTA),Boolean(n)&&a().createElement("div",{className:"rs-leavingsecurecheckout-link"},a().createElement("a",{href:n,"data-prop37":'D=pageName+"|bag|leave secure checkout"',"data-autom":"leaveSecureCheckoutButton"},a().createElement("span",null,s.leaveSecureCheckoutCTA)))))))},Ue="shoppingCart",We="shoppingCart.cartMessages",Ge="shoppingCart.summary",je="shoppingCart.pricingOptions",qe=(()=>{const e=(0,r.A)("utils/financeSupported");try{const{iosVersion:e,isIpad:t}=u.Ez();return window.ApplePaySession&&window.ApplePaySession.supportsVersion(14)&&e>0&&!t}catch(t){return e.error(t),!1}})(),Ye=({modKey:e})=>{const[n,r]=(0,t.useState)(""),[s,l]=(0,t.useState)(!1),[i,o]=(0,k.Ej)(e,"showSecureCheckoutOverlay"),c=(0,k.M1)(e),[m]=(0,k.Ej)(Re.pZ,"continueBagLink"),[d]=(0,k.Ej)(Re.nn,"hasBundle");let u,p;return(0,t.useEffect)((()=>{document.addEventListener("leavecheckout",(e=>{c?o(!0):l(!0);const t=e.detail.href||(e=>{const t=window.document.querySelector(`[data-globalnav-item-name="${e}"]`);return t?t.href||t.getAttribute("data-ariasaved-href"):""})("bag");r(t)}),!0)}),[i,n]),c?(u=i,p=o):(u=s,p=l),a().createElement(Ve,{showOverlay:u,setShowOverlay:p,returnToBagLink:n||m,hasBundle:d})},ze=a().memo(Ye),Ze=({field:e})=>{const t=e.name&&`rs-companionbar-summary-${e.name.toLowerCase()}`,{classes:n=""}=e,r=`bag${t}label`,s=`bag${t}value`,l=`checkout${t}subValue`,i=Z()("row",t,n);return a().createElement("li",{className:i},e.label&&("string"==typeof e.label?e.labela11y&&a().createElement("div",{className:`column large-6 ${t}label`,"data-autom":r},a().createElement("span",(0,Ie.A)({"aria-hidden":"true"},(0,Le.OH)(e.label))),a().createElement("span",(0,Ie.A)({className:"visuallyhidden","aria-live":"polite"},(0,Le.OH)(e.labela11y))))||a().createElement("span",(0,Ie.A)({className:`column large-6 ${t}label`,"data-autom":r},(0,Le.OH)(e.label))):a().createElement("span",{className:`column large-6 ${t}label`,"data-autom":r},e.label)),e.value&&("string"==typeof e.value?a().createElement(a().Fragment,null,e.valuea11y&&a().createElement("div",{className:`column large-6 large-last as-text-right ${t}value`,"data-autom":s},a().createElement("span",(0,Ie.A)({"aria-hidden":"true"},(0,Le.OH)(e.value))),a().createElement("span",(0,Ie.A)({className:"visuallyhidden","aria-live":"polite"},(0,Le.OH)(e.valuea11y))))||a().createElement("span",(0,Ie.A)({className:`column large-6 large-last as-text-right ${t}value`,"data-autom":s},(0,Le.OH)(e.value))),e.subValue&&a().createElement("div",(0,Ie.A)({className:"rs-companionbar-summary-subvalue large-6 large-last as-text-right","data-autom":l},(0,Le.OH)(e.subValue)))):a().createElement("span",{className:"column large-6 large-last as-text-right","data-autom":s},e.value)))},Je=({classes:e="",name:t,labelRed:n,label:r,value:s,valuea11y:l,subLabel:i,subValue:o,monthlyValue:c,useLedgerSummary:m})=>{const d=t&&`rs-summary-${t.toLowerCase()}`,u=`bag${d}label`,p=`bag${d}value`,g=`bag${d}sublabel`,y=`bag${d}subvalue`,v=`bag${d}monthlyValue`,h=`bag${d}labelRed`,E=Z()("rs-summary-content",d,e),b=Z()("rs-summary-label",{"rs-webinstallment-monthlyinstallmentlabel":"monthlyTotal"===t});return a().createElement("div",{className:E},a().createElement("div",{className:"rs-summary-labelandvaluecontainer"},r&&("string"==typeof r?a().createElement("div",(0,Ie.A)({className:b,"data-autom":u},(0,Le.OH)(r))):a().createElement("div",{className:b,"data-autom":u},r)),s&&("string"==typeof s?l&&a().createElement("div",{className:"rs-summary-value","data-autom":p},a().createElement("span",(0,Ie.A)({role:"text","aria-label":l},(0,Le.OH)(s))))||a().createElement("div",(0,Ie.A)({className:"rs-summary-value","data-autom":p},(0,Le.OH)(s))):a().createElement("div",{className:"rs-summary-value","data-autom":p},s))),i&&("string"==typeof i?a().createElement("div",(0,Ie.A)({className:Z()("rs-summary-sublabel",{"rs-review-monthly-installment":m}),"data-autom":g},(0,Le.OH)(i))):a().createElement("div",{className:Z()("rs-summary-sublabel",{"rs-review-monthly-installment":m}),"data-autom":g},i)),c&&("string"==typeof c?a().createElement("div",(0,Ie.A)({className:"rs-summary-value","data-autom":v},(0,Le.OH)(c))):a().createElement("div",{className:"rs-summary-value","data-autom":v},c)),o&&("string"==typeof o?a().createElement("div",(0,Ie.A)({className:"rs-summary-subvalue large-last large-6 small-12","data-autom":y},(0,Le.OH)(o))):a().createElement("div",{className:"rs-summary-subvalue large-last large-6 small-12","data-autom":y},o)),n&&("string"==typeof n?a().createElement("div",(0,Ie.A)({className:"rs-summary-labelred","data-autom":h},(0,Le.OH)(n))):n.length>0&&a().createElement("div",{className:"rs-summary-labelred","data-autom":h},n.map((e=>a().createElement("div",(0,Ie.A)({key:e,className:"rs-summary-labelred-item"},(0,Le.OH)(e))))))))},Xe=({orderSummaryData:e,field:t={}})=>{const{buyFlowInstallmentsFinancing:n,installmentsFinancing:r,fullPriceProducts:s,headerLabel:l}=e,i=n||r,o=Z()("rs-companionbar-webinstallment",{"rs-companionbar-acmi":t.acmiFromBag,"rs-companionbar-buyflow":!t.acmiFromBag}),c=t=>a().createElement("li",{className:o},a().createElement("div",{className:"rs-companionbar-webinstallment-subheader"},t.headerLabel),t.row.map((({name:e,label:t,value:n,labelRed:r,subValue:s,subLabel:l})=>a().createElement(Je,{key:e,name:e,label:t,labelRed:r,value:n,subValue:s,subLabel:l}))),l&&a().createElement("div",{className:"rs-companionbar-webinstallment-subheader"},e.headerLabel));return a().createElement(a().Fragment,null,i&&c(i),s&&c(s))};var Qe=__webpack_require__(2684);const et=({orderSummaryData:e})=>{const{fragments:t}=(0,Y.S)();return!(t.orderInstallmentWithTerms&&e.terms)&&a().createElement("li",{className:"row rs-companionbar-orderinstallmentprice-row"},a().createElement("span",(0,Ie.A)({className:"column large-10 large-last as-text-right"},(0,Le.OH)(Qe.GP(t.orderInstallmentPriceLabel,{orderInstallmentPrice:e.orderInstallmentPrice})))))},tt=({orderSummaryData:e})=>{const{assets:t}=(0,Y.S)();return e.installmentsAmountDue&&a().createElement("li",{className:"row rs-companionbar-total-row"},a().createElement("span",{className:"column large-6"},t.dueTodayLabel),a().createElement("span",{className:"column large-6 large-last as-text-right"},e.installmentsAmountDue))},at=({orderSummaryData:e})=>{const t=e.amountChargedToday;return a().createElement("li",{className:"rs-companionbar-summary-amountchargedtoday row"},a().createElement("ul",{className:"large-12 rs-companionbar-summary-wrapper"},e.amountCharged&&a().createElement("li",{className:"rs-companionbar-summary-subheader typography-body-reduced"},e.amountCharged),t&&t.row.map((e=>{const t={name:e.name,label:e.label,value:e.value,subValue:e.subValue||"",valuea11y:e.valuea11y||""};return a().createElement(Ze,{key:t.name,field:t})}))))},nt=({orderSummaryData:e})=>a().createElement("li",(0,Ie.A)({className:"rs-companionbar-cashback"},(0,Le.OH)(e.buyFlowInstallmentsCashBackLabel))),rt=({orderSummaryData:e})=>{const{emiDetailsData:t}=e;return a().createElement("li",{className:"rs-companionbar-summary-emidetails row"},a().createElement("ul",{className:"large-12 rs-companionbar-summary-wrapper"},t.headerLabel&&a().createElement("li",{className:"rs-companionbar-summary-subheader typography-body-reduced"},t.headerLabel),t&&t.row.map((e=>{const t={name:e.name,label:e.label,value:e.value,labela11y:e.labela11y||""};return a().createElement(Ze,{key:t.name,field:t})}))))},st=()=>{const{assets:e}=(0,Y.S)();return a().createElement("li",(0,Ie.A)({className:"rs-companionbar-onetimecharge"},(0,Le.OH)(e.oneTimeCharge)))},lt=({orderSummaryData:e})=>{const{assets:t}=(0,Y.S)();return a().createElement("li",{className:"row rs-companionbar-tax-row"},Qe.GP(t.taxExclusiveTax,e))},it=({orderSummaryData:e})=>{const{assets:t}=(0,Y.S)();return a().createElement("li",{className:"row rs-companionbar-summary-totalamountauthorized"},a().createElement("div",{className:"column large-last"},e.totalAmountAuthorized),e.tradeinLabelWithDeposit?a().createElement("div",{className:"column large-last"},t.authorizedAmountInfoWithDeposit):a().createElement("div",{className:"column large-last"},t.authorizedAmountInfo))},ot=({orderSummaryData:e})=>{const{assets:t}=(0,Y.S)();return a().createElement("li",(0,Ie.A)({className:"row row-reverse rs-companionbar-summary-segmentsavings"},(0,Le.OH)(Qe.GP(t.totalLoyaltySavings,e))))},ct=({orderSummaryData:{segmentSavingsMessages:e}})=>e&&e.map((e=>a().createElement("li",{key:e,className:"row row-reverse rs-companionbar-summary-segmentsavings"},e))),mt=({orderSummaryData:e,field:t})=>{const{assets:n,fragments:r}=(0,Y.S)(),{acmiFromBag:s=!1}=t,l=Z()("row","rs-companionbar-total-row",{"rs-companionbar-webinstallment-total":e.pickupSummary||e.buyFlowInstallmentsCashBackLabel&&!s}),i=!(e.iUPOrInstallments||e.amountChargedToday||r.orderInstallmentWithTerms&&e.terms),o=Boolean(e.totalSubLabel);return a().createElement(a().Fragment,null,i&&a().createElement("li",{className:l},a().createElement("span",{className:"column large-6"},n.total),a().createElement("span",{className:"column large-6 large-last as-text-right","data-autom":"orderTotalValue"},e.total||"")),o&&a().createElement("li",{className:"row rs-companionbar-totalsublabel-row"},a().createElement("span",{className:"column large-6 large-last as-text-right","data-autom":"totalSubLabel"},e.totalSubLabel)))},dt=({orderSummaryData:e})=>a().createElement(a().Fragment,null,e.totalTaxSubLabel&&a().createElement("li",(0,Ie.A)({className:"row rs-companionbar-tax-rowlabel typography-body-reduced"},(0,Le.OH)(e.totalTaxSubLabel))),e.totalTaxSubValue&&a().createElement("li",(0,Ie.A)({className:"row rs-companionbar-tax-row"},(0,Le.OH)(e.totalTaxSubValue)))),ut=({orderSummaryData:e})=>{const{assets:t}=(0,Y.S)();return a().createElement("li",{className:"row rs-companionbar-tradeinrefund-row"},a().createElement("span",{className:"column large-6"},t.tradeUpValueLabel),a().createElement("span",{className:"column large-6 large-last as-text-right rs-companionbar-tradeinrefund-row-value"},a().createElement("span",(0,Le.OH)(`- ${e.tradeInRefund}`)),a().createElement("span",{className:"visuallyhidden"},t.footnoteText),a().createElement("span",(0,Le.OH)(t.tradeInValueDagger))))},pt=({orderSummaryData:e})=>{const{assets:t,fragments:n}=(0,Y.S)();return a().createElement("li",{className:"row rs-companionbar-total-row"},a().createElement("span",{className:"column large-6"},t.total),a().createElement("span",(0,Ie.A)({className:"column large-6 large-last as-text-right","data-autom":"terms"},(0,Le.OH)(Qe.GP(n.orderInstallmentWithTerms,{orderInstallmentPrice:e.orderInstallmentPrice,terms:e.terms,total:e.total})))))},gt=e=>{const{assets:t,fragments:n}=(0,Y.S)(),r=e.buyFlowInstallmentsFinancing||e.installmentsFinancing,s=a().createElement(a().Fragment,null,a().createElement("span",null,e.totalAfterTradeIn),a().createElement("span",{className:"visuallyhidden"},t.footnoteText),a().createElement("span",null,"*"));let l="";return e.shipping&&(l=e.shipping.free?t.freeLabel:e.shipping.cost),[{showField:!!r,type:"WebInstallmentSummary"},{showField:!(!e.hasFlexibleTradeIn||!e.iUPOrInstallments),type:"OneTimeChargeLabel"},{showField:!!e.outstandingLoan&&!e.pickupSummary,type:"summaryRow",name:"outstandingLoan",label:t.tradeinOutstandingAmtLabel,value:e.outstandingLoan},{showField:!!e.subtotal,type:"summaryRow",name:"subtotal",label:t.subtotal,value:e.subtotal},{showField:!!e.instantCredit,type:"summaryRow",name:"instantCredit",label:t.instantCredit,value:e.instantCredit},{showField:!!e.installmentSubTotal,type:"summaryRow",name:"installmentSubTotal",label:t.installmentSubTotal,value:e.installmentSubTotal},{showField:!(!e.tradeInValue||r),type:"summaryRow",name:"tradeInValue",label:t.instantCreditTradeInValueLabel,value:e.tradeInValue},{showField:!!e.installmentTotal,type:"summaryRow",name:"installmentTotal",label:t.installmentorderTotalLabel,value:e.installmentTotal},{showField:!!e.installmentTotalFinanced,type:"summaryRow",name:"installmentTotalFinanced",label:t.installmentTotalFinanced,value:e.installmentTotalFinanced},{showField:!!e.downPayment,type:"summaryRow",name:"downPayment",label:t.installmentdownPaymentLabel,value:e.downPayment},{showField:!!e.shipping,type:"summaryRow",name:"shipping",label:t.shipping,value:l},{showField:!!e.totalCardCharge,type:"summaryRow",name:"totalCardCharge",label:t.total,value:e.totalCardCharge},{showField:!(!e.totalAmountAuthorized||!e.psd2Enabled||"TRADE_IN_GREATER_THAN_LOAN"!==e.tradeInType),type:"TotalAmountAuthorized"},{showField:!!e.paymentFullDiscount,type:"summaryRow",name:"payfulldiscount",label:t.paymentFullDiscount,value:e.paymentFullDiscount},{showField:!!e.stateDeliveryFee,type:"summaryRow",name:"statedeliveryfee",label:t.stateDeliveryFeeLabel,value:e.stateDeliveryFee},{showField:!!e.tax,type:"summaryRow",name:"tax",label:t.tax,value:e.tax},{showField:!!e.appleBalanceApplied,type:"summaryRow",name:"accountbalance",label:t.accountBalance,value:e.appleBalanceApplied},{showField:!!e.totalGCsApplied,type:"summaryRow",name:"giftcardamount",label:t.giftCardBalance,value:e.totalGCsApplied},{showField:!!e.recycleFee,type:"summaryRow",name:"recycleFee",label:t.recycleFee,value:e.recycleFee},{showField:!(!e.fees||!e.fees.cod),type:"summaryRow",name:"codFee",label:t.codFeeLabel,value:e.fees?e.fees.cod:""},{showField:!(!e.iUPOrInstallments||!e.installmentsremainingpayments),type:"summaryRow",name:"installmentsremainingpayments",label:t.installmentsremainingpayments,value:e.installmentsremainingpayments},{showField:!!e.upgrade,type:"summaryRow",name:"upgrade",label:e.upgrade?e.upgrade.upgradePaymentLabel:"",value:e.upgrade?e.upgrade.upgradeProgramBalance:""},{showField:!(!e.instantCashback||!e.totalSavingsInclusiveTax),type:"summaryRow",name:"discountSavings",label:t.savingsLabel,value:e.totalSavingsInclusiveTax},{showField:!!e.instantCashback,type:"summaryRow",name:"instantCashback",label:t.instantcashback,value:e.instantCashback},{showField:!!e.amountChargedToday,type:"AmountChargedToday"},{showField:!!e.iUPOrInstallments&&!e.amountChargedToday,type:"TotalRow"},{showField:!(!e.iUPOrInstallments||!e.installmentsAmountDue),type:"InstallmentsAmountDue"},{showField:!e.iUPOrInstallments&&!e.amountChargedToday,type:"TotalRow"},{showField:!!e.orderInstallmentPrice,type:"OrderInstallmentPrice"},{showField:!!e.tradeInRefund,type:"TradeInRefund"},{showField:!(!e.totalAfterTradeIn||!e.tradeInRefund),type:"summaryRow",name:"totalaftertradein",label:t.orderTotalAfterTradeUpLabel,value:s},{showField:!(!e.totalAfterInstantTradeIn||!e.totalAfterInstantTradeIn),type:"summaryRow",name:"totalAfterInstantTradeIn",label:t.totalAfterInstantTradeIn,value:e.totalAfterInstantTradeIn},{showField:Boolean(e.segmentSavingsMessages),type:"SegmentSavings"},{showField:!!e.buyFlowInstallmentsCashBackLabel,type:"CashBackLabel"},{showField:!(!e.showTaxInclusivePrices||!e.taxExclusiveTax),type:"TaxExclusiveTax"},{showField:!(!e.totalTaxSubValue&&!e.totalTaxSubLabel),type:"TotalTaxSubValue"},{showField:!!e.totalListSavings,type:"TotalListSavings"},{showField:!(!e.totalSavings&&!e.totalSavingsInclusiveTax),type:"summaryRow",name:"savings",label:t.totalSavings,value:e.totalSavings||e.totalSavingsInclusiveTax},{showField:!!e.emiDetails,type:"EmiDetails"},{showField:!!e.terms&&n.orderInstallmentWithTerms,type:"Terms"}]},yt=()=>{const[t]=(0,k.lE)(Re.pZ),[n]=(0,k.lE)(Re.nn),r=n.acmiFromBag||n.partnerFinanceFromBag;return gt(t).map((n=>{if(!n.showField)return null;if("summaryRow"===n.type){const e={name:n.name,label:n.label,value:n.value};return a().createElement(Ze,{key:n.name,field:e})}if(e[n.type]){const s=e[n.type],l={acmiFromBag:r};return a().createElement(s,{key:n.name,orderSummaryData:t,field:l})}return null}))},vt=a().memo(yt),ht=({header:e,buyFlowInstallments:t,numberOfItems:n,showEditBagButton:r,editBagButtonProps:s})=>{const{assets:l}=(0,Y.S)(),i=Z()("row rs-companionbar-bagitemrow",{"rs-companionbar-webinstallment-bagitemrow":t});return a().createElement("div",{className:"rs-companionbar-ordertotal"},a().createElement("header",null,a().createElement("div",{className:"rs-companionbar-section"},a().createElement("span",{id:"rs-companionbar-ordersummarya11y",className:"visuallyhidden"},l.orderSummaryA11y),a().createElement("h2",{id:"rs-companionbar-section-header",className:"rs-companionbar-section-header typography-body"},e))),a().createElement("ul",null,a().createElement("li",{className:i},a().createElement("span",{className:"column large-6 rs-companionbar-items"},n),r&&a().createElement("button",(0,Ie.A)({},s,{type:"button",className:"as-buttonlink large-last as-text-right","data-autom":"editBag"}),l.editBagLink)),a().createElement(vt,null)))},Et=()=>{const[e]=(0,k.lE)(Re.pZ),t=(0,k.W4)(Re.pZ,"editBagLink"),[n]=(0,k.Ej)(Re.nn,"buyFlowInstallments"),{title:r,items:s,iUPOrInstallments:l,showEditBag:i}=e,o=!l&&!n&&i;return a().createElement(ht,{header:r,buyFlowInstallments:n,numberOfItems:s,showEditBagButton:o,editBagButtonProps:t.props})},bt=a().memo(Et),ft=({title:e,orderDetailsSections:t})=>{const n=Boolean(t.length);return a().createElement(a().Fragment,null,a().createElement("header",null,a().createElement("div",{className:"rs-companionbar-section"},a().createElement("h2",{className:"rs-companionbar-section-header typography-body"},e))),a().createElement("ul",{className:"rs-companionbar-section-container"},n&&t))},At=({isEnabled:e,isFulfillmentSection:t,shouldShowDetails:n,editButtonLabel:r,editButtonLabelA11y:s,editButtonProps:l,editButtonDataAutom:i,fapiaoType:o,invoiceCompanyName:c,sectionTitle:m,sectionTitleFapiao:d,sectionTitleInvoice:u,sectionDetails:p,fulfillmentSection:g,invoiceLabel:y})=>{const v=Z()("rs-companionbar-section",{"rs-companionbar-active":e,"rs-companionbar-inactive":!e});return a().createElement("li",{className:v},t?g:a().createElement("div",{className:"row rs-companionbar-section-row"},a().createElement("div",{className:"column large-9"},m,n&&p),n&&r&&a().createElement("div",{className:"column large-last"},a().createElement("div",{className:"row"},a().createElement("button",(0,Ie.A)({},l,{type:"button","data-autom":i,className:"as-buttonlink as-companionbar-edit column large-last","aria-label":s}),r)))),n&&o&&a().createElement("div",{className:"row rs-companionbar-section-row fap"},a().createElement("div",{className:"column large-9"},d,a().createElement("div",{className:"row rs-companionbar-detailsrow"},o))),n&&u&&y&&a().createElement("div",{className:"row rs-companionbar-section-row fap"},a().createElement("div",{className:"column large-9"},u,c&&a().createElement("div",{className:"row rs-companionbar-detailsrow"},c))))},wt=({title:e,labelAutom:t})=>a().createElement("div",{className:"row rs-companionbar-section-title","data-autom":t},e),Nt=({modKey:e,shouldShowDetails:t,titleText:n})=>{const[r]=(0,k.lE)(e);let s;const l=e.split(".").pop(),i=r.dropOffLabel||r.shippingLabel;switch(l){case"shippingCompanionBar":s=r.shipsToLabel;break;case"pickupContactCompanionBar":s=r.pickupContactLabel;break;case"tradeInCompanionBar":s=i;break;case"billingCompanionBar":s=r.paymentLabel;break;case"servicesBillingCompanionBar":s=r.monthlyPaymentLabel;break;default:s=r.label}const o=n||(t?s:r.label);return a().createElement(wt,{title:o,labelAutom:`checkout-${l}-title`})},St=a().memo(Nt),Ct=({detailsRow:e})=>a().createElement("div",{className:"row rs-companionbar-detailsrow"},e);var kt=__webpack_require__(6777);const It=({multipleMethodsLabel:e,paymentListData:t,imageHeight:n,imageWidth:r,imageSrc:s,imageAlt:l})=>a().createElement(a().Fragment,null,e&&a().createElement("div",{className:"column large-9"},e),t&&t.map((e=>{const t=Array.isArray(e)?e[0].key:e.key;return a().createElement("div",{key:`pay-method-${t}`,className:"rs-companionbar-payment-method"},s&&a().createElement("div",{className:"rs-companionbar-payment-img"},a().createElement(kt.Ay,{src:s,height:n,width:r,alt:l})),Array.isArray(e)?e.map((e=>{const{paymentTypeLabel:t,cardNumber:n,size:r}=e;return a().createElement("div",{key:`pay-method-item-${e.key}`,className:"rs-companionbar-paymentmethod-item"},`${t} ${n||""}${r?`(${r})`:""}`)})):a().createElement("div",{className:"rs-companionbar-paymentmethod-item"},`${e.paymentTypeLabel} ${e.cardNumber||""}${e.size?`(${e.size})`:""}`))}))),Pt=({modKey:e})=>{const[t]=(0,k.lE)(e),{multipleMethodsLabel:n,labelImageUrl:r}=t,{height:s,width:l,src:i,alt:o}=r||{},c=t.paymentList.map((e=>Array.isArray(t[e])?t[e].map(((t,a)=>({...t,key:`${e}-${a}`}))):{...t[e],key:e}));return a().createElement(It,{multipleMethodsLabel:n,paymentListData:!n&&c,imageHeight:s,imageWidth:l,imageSrc:i,imageAlt:o})},Lt=a().memo(Pt),Tt=({modKey:e})=>{const[t]=(0,k.lE)(e),{modExists:n,data:r}=(0,k.Yl)(`${e}.address`);let s=null;switch(e.split(".").pop()){case"shippingCompanionBar":s=n?r.street||r.city||r.district:"";break;case"pickupContactCompanionBar":s=n?`${r.firstName} ${r.lastName}`:"";break;case"tradeInCompanionBar":s=n?r.street:t.storeName||"";break;case"billingCompanionBar":case"servicesBillingCompanionBar":s=a().createElement(Lt,{modKey:e});break;case"invoiceCompanionBar":s=t.invoiceTypeLabel;break;case"reviewCompanionBar":s=""}return a().createElement(Ct,{detailsRow:s})},Ot=a().memo(Tt),Dt=({sectionTitle:e,shouldShowDetails:t,hasPickupMod:n,hasDeliveryMod:r,pickupDetails:s,deliveryPickupDetails:l,pickupStoreName:i,pickupTimeSlotInfo:o,pickupRetailDeliveryDates:c,deliveryTimeSlot:m,deliveryTimeSlotInfo:d,homeDeliveryDates:u})=>a().createElement(a().Fragment,null,t&&a().createElement("div",{className:"rs-companionbar-fulfillment-rows"},n&&a().createElement("div",{className:"row rs-companionbar-fulfillment-row"},a().createElement("div",{className:"column large-9"},s.title,a().createElement("div",{className:"row rs-companionbar-detailsrow"},s&&a().createElement("div",{className:"rs-companionbar-details-pickup"},a().createElement("div",{className:"rs-companionbar-pickup-storename"},i),a().createElement("div",(0,Ie.A)({className:"rs-companionbar-pickup-timeslotinfo"},(0,Le.OH)(o||c)))))),a().createElement("div",{className:"column large-last"},s.editButtonLabel&&a().createElement("button",(0,Ie.A)({},s.editButtonProps,{type:"button",className:"as-buttonlink as-companionbar-edit column large-last","aria-label":s.editButtonLabelA11y,"data-autom":s.editButtonDataAutom}),s.editButtonLabel))),r&&a().createElement("div",{className:"row rs-companionbar-fulfillment-row"},a().createElement("div",{className:"column large-9"},l.title,a().createElement("div",{className:"row rs-companionbar-detailsrow"},r&&l&&a().createElement("div",{className:"rs-companionbar-details-delivery"},a().createElement("span",{className:"rs-companionbar-delivery-dates"},u,m&&a().createElement("span",{className:"row"},m)),d&&a().createElement("span",{className:"rs-companionbar-fulfillment-timeslot"},d)))),a().createElement("div",{className:"column large-last"},l.editButtonLabel&&a().createElement("button",(0,Ie.A)({},l.editButtonProps,{type:"button",className:"as-buttonlink as-companionbar-edit column large-last","aria-label":l.editButtonLabelA11y,"data-autom":l.editButtonDataAutom}),l.editButtonLabel)),!t&&e)),!t&&e),xt=({shouldShowDetails:e})=>{const t=`${Re.IZ}.pickupSummary`,n=`${Re.IZ}.deliverySummary`,{modExists:r,data:s}=(0,k.Yl)(t),{modExists:l,data:i}=(0,k.Yl)(n),o=(0,k.W4)(t,"edit"),c=(0,k.W4)(n,"edit"),m="checkout-fulfillmentCompanionBar-editLink",d=e=>a().createElement(St,{modKey:Re.IZ,titleText:e}),{pickupLabel:u,store_name:p,timeSlotInfo:g,retailDeliveryDates:y,editPickupLabel:v,editPickupLabelA11y:h}=s,{homeDeliveryLabel:E,deliveryTimeSlot:b,timeSlot:f,homeDeliveryDates:A,editDeliveryLabel:w,editDeliveryLabelA11y:N}=i;let S,C,I;return r&&(C={title:d(u),editButtonProps:o.props,editButtonLabel:v,editButtonLabelA11y:h,editButtonDataAutom:m}),l&&(I={title:d(E),editButtonProps:c.props,editButtonLabel:w,editButtonLabelA11y:N,editButtonDataAutom:m}),e||(S=a().createElement(St,{modKey:Re.IZ,shouldShowDetails:!1,titleText:""})),a().createElement(Dt,{sectionTitle:S,shouldShowDetails:e,hasPickupMod:r,hasDeliveryMod:l,pickupDetails:C,deliveryPickupDetails:I,pickupStoreName:p,pickupTimeSlotInfo:g,pickupRetailDeliveryDates:y,deliveryTimeSlot:b,deliveryTimeSlotInfo:f,homeDeliveryDates:A})},Mt=a().memo(xt),Ft=({modKey:e})=>{const{data:{hideDetails:t,editLabel:n,editLabelA11y:r,fapiaoType:s,fapiaoLabel:l,invoiceLabel:i,invoiceCompanyName:o},properties:{enabled:c}}=(0,k.Yl)(e),m=c&&!t,d=e.includes("fulfillmentCompanionBar"),u=(0,k.W4)(e,"edit"),p=`checkout-${e.split(".").pop()}-editLink`,g=a().createElement(St,{modKey:e,shouldShowDetails:m,titleText:""}),y=a().createElement(St,{modKey:e,shouldShowDetails:!1,titleText:s&&l}),v=a().createElement(St,{modKey:e,shouldShowDetails:!1,titleText:i}),h=a().createElement(Ot,{modKey:e}),E=d&&a().createElement(Mt,{shouldShowDetails:m});return a().createElement(At,{isEnabled:c,isFulfillmentSection:d,shouldShowDetails:m,editButtonLabel:n,editButtonLabelA11y:r,editButtonProps:u.props,editButtonDataAutom:p,fapiaoType:s,invoiceCompanyName:o,sectionTitle:g,sectionTitleFapiao:y,sectionTitleInvoice:v,invoiceLabel:i,sectionDetails:h,fulfillmentSection:E})},Bt=a().memo(Ft),Rt=()=>{const{data:{title:e},childModKeys:t}=(0,k.Yl)(Re.F0),n=t.map((e=>a().createElement(Bt,{key:e,modKey:e})));return a().createElement(ft,{title:e,orderDetailsSections:n})},_t=a().memo(Rt),$t=({overlayProps:e})=>{const{viewport:t}=(0,Y.S)(),n="small"===t;return a().createElement(Ke.A,(0,Ie.A)({},e,{classes:{root:"rs-companionbar-overlay-container",close:"rs-companionbar-icon-close"},isFullscreen:n,fixedWidth:!1,ariaLabel:"rs-companionbar-section-header"}),a().createElement("div",{className:"rs-companionbar-overlay-wrapper"},a().createElement("section",{className:"rs-companionbar-ordersummary-section"},a().createElement(bt,null)),a().createElement("section",{className:"rs-companionbar-orderdetails-section"},a().createElement(_t,null))))},Ht=()=>{const[e]=(0,k._x)(Re.lN,"showCompanionBar"),[n]=(0,k.Ej)(Re.lN,"label"),r=a().createRef(),s={...e,ref:r,onClose:()=>{e.onClose(),(0,_e.Zb)()}};return(0,t.useEffect)((()=>{const e=document.getElementById("ac-globalnav"),t=e?e.offsetTop+e.offsetHeight:0,a=(document.documentElement.scrollTop<t?t-document.documentElement.scrollTop:0)+"px";if(r.current){const e=r.current.querySelector("[data-core-overlay-content]");a!==e.style.top&&(e.style.top=a,e.style.paddingBottom=a)}})),n?a().createElement(a().Fragment,null,n&&a().createElement(ze,{modKey:Re.lN}),a().createElement($t,{overlayProps:s})):null},Kt=a().memo(Ht),Vt=()=>{const[e,a]=(0,t.useState)({supported:!1});return(0,t.useEffect)((()=>{(()=>{const{iosVersion:e,isIpad:t,isSafari:n,isIosChrome:r}=Pe._.userAgent(window.navigator.userAgent),s={supportedMethods:"https://apple.com/ams-ui",data:{engagementRequest:{}}};try{if(!n||t||r||e<17||!window.ApplePaySession)return void a({supported:!1});new PaymentRequest([s],{total:{label:"label",amount:{currency:"USD",value:"0"}}}).canMakePayment().then((e=>{e&&(a({supported:!0}),document.body.classList.toggle("rf-bundles-enabled"))}))}catch{a({supported:!1})}})()}),[]),[e]};var Ut=__webpack_require__(1048),Wt=__webpack_require__(7466);const Gt=({acSupported:e,btnPlacement:t,showContinueButton:n,hasContinueWithApplePay:r,showOtherPaymentAsButton:s,apwErrorOverlayContent:l,webInstallmentSummary:i,checkoutAndApplyLabel:o,showSignInForAppleAccountBalanceButton:c,showCheckoutWithOtherPaymentOptionsButton:m,applePayContinueButtonProps:d,applePayMessage:u})=>{const{fragments:p,viewport:g}=(0,Y.S)(),y="small"===g,v=Z()({"rs-checkout-applepay-wrapper":s,"large-6 small-12":c}),h=Z()({"rs-checkout-applepay-button":!e,"rs-checkout-continue-applepay-button":r});return a().createElement("div",{className:v},m&&l,u&&a().createElement("div",(0,Ie.A)({className:"rs-checkout-continue-applepay-message typography-body-reduced"},(0,Le.OH)(u))),n&&a().createElement(Wt.A,(0,Ie.A)({},d,{className:h}),o||(r?a().createElement("div",(0,Ie.A)({className:"rs-checkout-continue-applepay-buttoninner"},(0,Le.OH)(p.applePayContinueWithLabel))):a().createElement("div",{className:"rs-checkout-applepay-buttoninner"}))),!y&&!s&&(p.continueApplePayPolicy||i)&&a().createElement("div",(0,Ie.A)({className:"rs-checkout-continuedisclaimer typography-caption",id:`rs-checkout-continuedisclaimer${t}`},(0,Le.OH)(i?p.acContinueApplePayPolicy:p.continueApplePayPolicy))))},jt=({btnPlacement:e,showOtherPaymentAsButton:t,webInstallmentSummary:n,eInvoiceAvailMessage:r,showCheckoutWithOtherPaymentOptionsButton:s,checkoutWithOtherPaymentOptionsButtonProps:l})=>{const{assets:i,fragments:o,viewport:c}=(0,Y.S)(),m="small"===c,d=Z()({"rs-checkout-otherpayment-wrapper":t});return s&&!n&&a().createElement("div",{className:d},t?a().createElement(Wt.A,l,i.checkoutWithOtherPaymentOptionsButton):i.checkoutWithOtherPaymentOptions&&a().createElement("button",(0,Ie.A)({type:"button"},l,{className:"more rs-checkout-applepay-other typography-body as-buttonlink"}),a().createElement("span",null,i.checkoutWithOtherPaymentOptions)),m&&t&&a().createElement("div",(0,Ie.A)({className:"rs-checkout-continuedisclaimer typography-caption",id:`rs-checkout-continuedisclaimer${e}`},(0,Le.OH)(o.continueApplePayPolicy))),r&&a().createElement("p",{id:`rs-checkout-continuewithotheroptions${e}`,className:"rs-checkout-invoice-message typography-caption"},r))},qt=({checkoutWithOtherPaymentOptionsButtonProps:e,showSignInForAppleAccountBalanceButton:t,signInForAppleAccountBalanceButtonProps:n})=>{const{assets:r}=(0,Y.S)();return t&&a().createElement(a().Fragment,null,a().createElement("div",{className:"row large-12 rs-checkout-otherpayment"},a().createElement("button",(0,Ie.A)({type:"button"},e,{className:"column large-6 small-12 more rs-checkout-applepay-other typography-body as-buttonlink"}),a().createElement("span",null,r.checkoutWithOtherPaymentOptions)),a().createElement("div",(0,Ie.A)({className:"column large-6 small-12 as-supplementalinfo typography-body-reduced"},(0,Le.OH)(r.checkoutWithOtherPaymentOptionsMsg)))),a().createElement("div",{className:"row large-12"},a().createElement("button",(0,Ie.A)({type:"button"},n,{className:"column large-6 small-12 more rs-checkout-applepay-other typography-body as-buttonlink"}),a().createElement("span",null,r.signInForAppleAccountBalanceButton)),a().createElement("div",(0,Ie.A)({className:"column large-6 small-12 as-supplementalinfo typography-body-reduced"},(0,Le.OH)(r.signInForAppleAccountBalanceMsg)))))},Yt=({apwErrorOverlay:e,setApwErrorOverlay:t,showCheckoutWithOtherPaymentOptionsButton:n,checkoutWithOtherPaymentOptionsButtonProps:r})=>{const{assets:s,viewport:l}=(0,Y.S)(),i="small"===l;return a().createElement(Ke.A,{className:"rs-erroroverlay-wrapper",visible:e,onClose:()=>t(!1),fixedWidth:!i,doublePadding:!0,noCloseButton:!0,disableClickAway:!0,disableEsc:!0},a().createElement("div",{className:"rs-erroroverlay"},a().createElement("h2",(0,Ie.A)({className:"rs-erroroverlay-header typography-headline-reduced"},(0,Le.OH)(s.apwNotAvailableHeader))),a().createElement("p",(0,Ie.A)({className:"rs-erroroverlay-text"},(0,Le.OH)(s.apwNotAvailableText))),n&&a().createElement(Wt.A,(0,Ie.A)({},r,{className:"rs-erroroverlay-button"}),s.apwNotAvailableContinue)))},{isHandheldPhone:zt}=u.Ez(),Zt=({showOtherPaymentAsButton:e,buttonRight:t,buttonCenter:n,isApplePayWeb:r,showContinueButton:s,showExternalPaymentBlockerScreen:l,continueButtonMergeProps:i,btnPlacement:o,continueButtonLabel:c,isContinueLoad:m,btnDisclaimer:d,appleCareAccLinkingDisclaimer:u,rxLensPaymentMessage:p,showSignInForAppleAccountBalanceButton:g,continueButtonWithApplePay:y,continueButtonWithOtherPayment:v,continueWithAppleAccountBalance:h,scrolledToFederalDisclosureSection:E},b)=>{const{assets:f,viewport:A}=(0,Y.S)(),w=Z()({"large-9 small-12":e,"large-12":g,"large-10 small-12":n,"column large-4 large-last small-12":t,"column large-6 small-12":!e&&!t&&!n,"rs-checkout-action-button-wrapper":!0,"rs-checkout-action-button-wrapper-fixedbottom":zt&&E}),N="small"===A;return a().createElement(a().Fragment,null,l&&a().createElement("div",{className:"rs-payment-options-screen"}),t&&p&&a().createElement("div",{className:"large-9 large-offset-3 small-12 small-offset-0 typography-body-reduced"},p),a().createElement("div",{className:"rs-checkout-action"},a().createElement("div",{className:"row"},a().createElement("div",{className:w},r?a().createElement(a().Fragment,null,a().createElement("div",{className:Z()({"row large-12":!N&&p})},y,!t&&p&&a().createElement("div",{className:Z()("column large-6 small-12",{"rs-fulfillment-rxpayment-message-wrapper":!g})},a().createElement("div",{className:"rs-fulfillment-rxpayment-message typography-body-reduced"},p))),g?h:v):a().createElement(a().Fragment,null,s&&a().createElement(a().Fragment,null,a().createElement(Wt.A,(0,Ie.A)({},i,{ref:b}),a().createElement("span",(0,Le.OH)(c))),a().createElement(J.Jg,{isPending:m,messages:{pending:f.processing}})),d&&a().createElement("div",(0,Ie.A)({className:"rs-checkout-continuedisclaimer typography-caption",id:`rs-checkout-continuedisclaimer${o}`},(0,Le.OH)(d))),u&&a().createElement("div",(0,Ie.A)({className:"rs-checkout-continuedisclaimer typography-caption"},(0,Le.OH)(u))))))))},Jt=(0,t.forwardRef)(Zt);var Xt=__webpack_require__(3130);const Qt=({modKey:e,apwStrongDefault:n,buttonRight:s,buttonCenter:l,webInstallmentSummary:i,buttonDisclaimer:o,placement:c,applicationLabel:m,processingText:d,billingOptionsModKey:u="",applePayRequestModKey:p="",attrs:g={},isParentSubmit:y,setInvalidPaymentMsg:v=S.noop},h)=>{const{data:E,properties:{isLoadingSubmit:b}}=(0,k.Yl)(e),[f]=(0,k.Ej)(u,"selectBillingOption"),{isApplePayWeb:A,hasContinueWithApplePay:w,continueLabel:N,appleCareAccLinkingDisclaimer:C,buttonDisclaimer:I,billingRadioOption:P,eInvoiceAvailMessage:L,financeMessage:T,amsContainer:O,webEnroll:D,serviceKey:x,isCarry:M,hasBundleUpgrade:F,rxLensPaymentMessage:B}=E,[R,_]=(0,k.Ej)(e,"buyFlowInstallmentStatus"),[$,H]=(0,k.Ej)(e,"canStartAPWSession"),[K]=(0,k.Ej)(Re.e3,"validPayment"),[V,U]=(0,k.Ej)(Re.vM,"buyParams",""),{assets:G}=(0,Y.S)(),[j,q]=(0,t.useState)(!1),[z,Z]=(0,t.useState)({apwCheck:!1,apwLoading:!1,loading:!1,posEvar:Boolean(m)||!1,apwPromise:null,amsLoading:!1,webOsloLoading:!1}),{apwCheck:J,apwLoading:X,amsLoading:Q,webOsloLoading:ee,loading:te,apwPromise:ae,posEvar:re}=z,se=(0,k.M1)(`${e}.redirectToExternalPayment`),me=(0,k.M1)(`${e}.checkLoanApplicationStatus`),ue=(0,k.M1)(`${e}.checkLoanApplicationApprovalStatus`),pe=(0,k.M1)(`${e}.webApplyRedirect`),ge=(0,k.W4)(e,"checkoutWithOtherPaymentOptions"),ye=ge.binding.bindExists,ve=(0,k.W4)(e,"signInOtherPaymentOptionsBinding"),he=ve.binding.bindExists,Ee=(0,k.W4)(e,"continue"),be=Ee.binding.properties.enabled,fe=Ee.binding.bindExists,Ae=ye&&n,we=I||o,Ne=`-${c||"bottom"}`,Se=Q||ee||te&&(b||y||se||me||ue||pe),ke=(0,k.EL)(),Ie=(0,Le.v6)(Ee.props,{"aria-describedby":we?`rs-checkout-continuedisclaimer${Ne}`:null,"data-analytics-title":"APPLE_CARD_ON_ACCOUNT_APPLY"===P&&"apply for apple card",type:"button",isLoading:Se,"data-autom":"continue-button-label",id:`rs-checkout-continue-button${Ne}`,disabled:!Ee.binding.properties.enabled||Se,onClick:()=>{Z({...z,loading:!0})}},g),Pe=()=>{Z({...z,loading:!0,webOsloLoading:!0}),ke.dispatch({modKey:e,type:W.Ru.ACTION,name:"continueFromReviewToProcess"})},Te=()=>{v({messages:[{level:"ERROR",text:G.invalidPaymentMessage}],lastUpdated:Date.now()}),ce({name:"metrics",data:{eVar25:"valid payment method needed",events:"event388"}})};O&&(Ie.onClick=()=>{K?(Z({...z,loading:!0,amsLoading:!0}),(0,Xt.$I)({modKey:e,store:ke,amsContainer:O,state:z,setState:Z})):Te()}),(0,t.useEffect)((()=>{if(D){const e=".rs-checkout-cmk-modal-container",t=()=>{Z({...z,loading:!1,webOsloLoading:!1}),U("")};(0,Ut.fx)({idmsAppIdKey:x,modalSelector:e,onClose:t,isCarry:M})}}),[]);const Oe=F?"upgrade":"enroll";(0,t.useEffect)((()=>{V&&(K?(Z({...z,loading:!0,webOsloLoading:!0}),(0,Ut.SG)({buyParams:V,pageContext:Oe,onSuccess:Pe})):Te())}),[V]),(0,t.useEffect)((()=>{K&&v({})}),[K]);const De=re?"apy-430-100-100001":"apy-220-100006",{acSupported:xe}=Ce(),[Me]=(0,k.Ej)(p,"paymentRequestData"),Fe={...Ee.props,id:"co-options-applePay",type:"button",hasDefaultClass:xe,"aria-label":w?G.continueWithApplePayAlly:G.buyWithApplePayAlly,"aria-describedby":`rs-checkout-continuedisclaimer${Ne}`,onClick:e=>{Ee.props.onClick(e),((e,t,a,n)=>{const{acStoreApplePay:r}=window;a&&r&&t({...e,apwLoading:n,apwPromise:r.purchase(a.api,{sessionID:a.apwrft?a.apwrft:"","x-aos-stk":a["x-aos-stk"]},a.paymentRequest,a.h||{})})})(z,Z,Me,i),oe({eVar:ne,feature:"Pay With Apple Pay",action:"continue"}),xe&&((e,t)=>{ie({key:le,element:t.target,callback:()=>{},defaultCampaign:e})})(De,e)}},Be={...ge.props,type:"button","aria-describedby":`rs-checkout-continuewithotheroptions${Ne}`,id:"rs-checkout-applepay-otherbutton"},_e={...ve.props,type:"button"};!R||""!==R&&"existing"!==R||_(xe?"new":"existing");const $e=xe&&(m||G.checkoutAndApplyLabel),He=b&&d?d:N,Ke=["PAYPAL","BARCLAY_FINANCE"].includes(f);return(0,t.useEffect)((()=>{const e=(0,r.A)("continue-button-container/ContinueButtonContainer/canUseApplePay/1"),t=(0,r.A)("continue-button-container/ContinueButtonContainer/canUseApplePay/2");if(!J&&A){const{acStoreApplePay:a}=window;try{a.canUseApplePay().catch((t=>{e.error(t),oe({feature:"ApplePay",action:"UnableToCheckoutWithApplePay",eVar:"eVar25"}),q(!0)}))}catch(e){t.error(e)}Z({...z,apwCheck:!0})}}),[A,J]),(0,t.useEffect)((()=>{ae&&$&&(H(!1),ae.then((e=>{"function"==typeof e&&e(),Z({...z,apwPromise:null,apwLoading:!i})})))}),[X,ae,$]),(0,t.useEffect)((()=>{qe&&T&&de({name:"metrics",data:{events:"event330"}})}),[T]),a().createElement(Jt,{scrolledToFederalDisclosureSection:be,showOtherPaymentAsButton:Ae,buttonRight:s,buttonCenter:l,isApplePayWeb:A,showContinueButton:fe,showExternalPaymentBlockerScreen:b&&Ke,continueButtonMergeProps:Ie,btnPlacement:Ne,continueButtonLabel:He,isContinueLoad:Se,btnDisclaimer:we,appleCareAccLinkingDisclaimer:C,rxLensPaymentMessage:B,ref:h,showSignInForAppleAccountBalanceButton:he,continueButtonWithApplePay:a().createElement(Gt,{acSupported:xe,btnPlacement:Ne,showContinueButton:fe,hasContinueWithApplePay:w,showOtherPaymentAsButton:Ae,showSignInForAppleAccountBalanceButton:he,apwErrorOverlayContent:a().createElement(Yt,{apwErrorOverlay:j,setApwErrorOverlay:q,showCheckoutWithOtherPaymentOptionsButton:ye,checkoutWithOtherPaymentOptionsButtonProps:Be}),webInstallmentSummary:i,checkoutAndApplyLabel:$e,showCheckoutWithOtherPaymentOptionsButton:ye,applePayContinueButtonProps:Fe,applePayMessage:qe&&T}),continueButtonWithOtherPayment:a().createElement(jt,{btnPlacement:Ne,showOtherPaymentAsButton:Ae,webInstallmentSummary:i,eInvoiceAvailMessage:L,showCheckoutWithOtherPaymentOptionsButton:ye,checkoutWithOtherPaymentOptionsButtonProps:Be}),continueWithAppleAccountBalance:a().createElement(qt,{checkoutWithOtherPaymentOptionsButtonProps:Be,showSignInForAppleAccountBalanceButton:he,signInForAppleAccountBalanceButtonProps:_e})})},ea=a().memo((0,t.forwardRef)(Qt)),ta=({rootTag:e="ul",index:n,defaultIndex:r=[],handleChange:l=(()=>{}),isExclusive:i=!1,id:o,children:c,...m})=>{const d=a().useId(),u=o||d,p=a().Children.count(c),{current:g}=(0,t.useRef)(void 0!==n),[y,v]=(0,t.useState)(r),[h,E]=(0,t.useState)(null);return a().createElement(e,(0,Ie.A)({"data-core-accordion":"",id:u},m),a().Children.map(c,((e,t)=>e?a().cloneElement(e,{...e.props,isSelected:g?n&&n.includes(t):y.includes(t),focusedIndex:h,onHandleClick:e=>(e=>{let t=[];const a=g?n||[]:y;t=i?a.includes(e)?[]:[e]:a.includes(e)?a.filter((t=>t!==e)):[...a,e],g||v(t),l(t)})(e),onHandleKeyDown:(e,t)=>((e,t,a,n)=>{let r;const l=a-1;switch(e.keyCode){case s.HP.ArrowDown:return e.preventDefault(),r=t<l?t+1:0,n(r);case s.HP.ArrowUp:return e.preventDefault(),r=t>0?t-1:l,n(r);default:return!1}})(e,t,p,E),id:u,index:t}):null)))},aa=(0,t.forwardRef)((({rootTag:e="li",titleWrapperTag:n=a().Fragment,titleWrapperAttrs:r={},title:s,titleAttrs:l={},contentAttrs:i={},id:o,index:c,isSelected:m,onHandleClick:d=(()=>{}),onHandleKeyDown:u=(()=>{}),focusedIndex:p,children:g,mountOnEnter:y,unmountOnExit:v,...h},E)=>{const b=`title-${o}-${c}`,f=`content-${o}-${c}`,A=(0,t.useRef)(null);(0,t.useEffect)((()=>{c===p&&A.current&&A.current.focus()}),[c,p]);const{onClick:w,...N}=l;return a().createElement(e,(0,Ie.A)({ref:E,"data-core-accordion-item":"","data-core-accordion-item-expanded":m?"":void 0},h),a().createElement(n,r,a().createElement("button",(0,Ie.A)({type:"button","data-core-accordion-button":"","data-core-accordion-button-expanded":m?"":void 0,onClick:e=>{return t=e,d(c),void(w&&w(t));var t},onKeyDown:e=>u(e,c),"aria-expanded":m,"aria-controls":f,id:b,ref:A},N),s)),a().createElement(j.x,{in:m,mountOnEnter:y,unmountOnExit:v},a().createElement("div",(0,Ie.A)({"data-core-accordion-content":"","aria-hidden":!m||void 0,id:f},i),g)))}));aa.displayName="AccordionItem";const na=aa;var ra=__webpack_require__(4768);const sa="15 1.13 8.5 7.72 2 1.13",la="15.85 4.42 8.5 4.42 1.15 4.42",ia="15 7.72 8.5 1.13 2 7.72",oa=({toggleState:e})=>{const n=(0,t.useRef)(null),r=(0,t.useRef)(null),[s,l]=(0,t.useState)(e);return(0,t.useEffect)((()=>{s&&(e?n.current.beginElement():r.current.beginElement()),l(!0)}),[e]),a().createElement("span",{className:"rc-accordion-chevrondown rc-accordion-collapse-icon"},a().createElement("svg",{className:"accordion-icon-svg",viewBox:"0 0 17 8.85",height:"35px",width:"35px"},a().createElement("polyline",{"data-accordion-icon-shape":"",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd",points:sa},a().createElement("animate",{ref:n,"data-accordion-animate":"expand",attributeName:"points",values:`${sa}; ${la}; ${ia}`,dur:"320ms",begin:"indefinite",fill:"freeze",keyTimes:"0; 0.5; 1",calcMode:"spline",keySplines:"0.12, 0, 0.38, 0; 0.2, 1, 0.68, 1"}),a().createElement("animate",{ref:r,"data-accordion-animate":"collapse",attributeName:"points",values:`${ia}; ${la}; ${sa}`,dur:"320ms",begin:"indefinite",fill:"freeze",keyTimes:"0; 0.5; 1",calcMode:"spline",keySplines:"0.2, 0, 0.68, 0; 0.2, 1, 0.68, 1"}))))},ca=({title:e,classes:t={root:"",button:"",icon:""},noPadding:n,className:r,children:s,withPlus:l,withChevron:i=!0,iconAttrs:o,firstItem:c,numbered:m,isSelected:d,titleAttrs:u,...p})=>a().createElement(na,(0,Ie.A)({className:Z()(r,t.root,{"rc-accordion-item":!c}),title:a().createElement(a().Fragment,null,a().createElement("span",{className:Z()({[`icon icon-${p.index+1}circle rc-accordion-numbered`]:m},ra.A.CALLOUT)}),a().createElement("span",(0,Ie.A)({className:Z()("rc-accordion-title large-10",ra.A.CALLOUT)},(0,Le.OH)(e))),a().createElement("span",(0,Ie.A)({className:Z()("icon","rc-accordion-collapse-icon",{"icon-plus rc-accordion-plusicon":l},t.icon)},o)),!l&&i&&a().createElement(oa,{toggleState:d})),titleAttrs:{className:Z()("rc-accordion-button",t.button),...u},isSelected:d},p),a().createElement("div",{className:Z()("rc-accordion-content","large-10",{"rc-accordion-content-nopadding":n,"rc-accordion-content-numbered":m})},s)),ma=({compact:e,centered:t,hideClose:n,classes:r={root:""},className:s,...l})=>a().createElement(ta,(0,Ie.A)({className:Z()("rc-accordion",s,r.root,{"rc-accordion-compact":e,"rc-accordion-centered":t,"rc-accordion-hideclose":n})},l)),da=({content:e,titleTag:n,defaultSelection:r,analyticsId:s,...l})=>{const[i,o]=(0,t.useState)(void 0!==r?[r]:[]),c=s||l.id;return a().createElement(ma,(0,Ie.A)({compact:!0,index:i,handleChange:e=>o(e),role:"list"},l),e.map(((e,t)=>e.question&&e.answer&&a().createElement(ca,{key:e.question,title:e.question,titleWrapperTag:n,onClick:()=>((e,t,a,n)=>{const r=window.asMetrics,s=`${e}-${a} | ${t.question}`,l=n.includes(a)?"collapsed":"expanded";r.fireMicroEvent({part:"FAQ",eVar:"eVar6",feature:s,action:l})})(c,e,t,i),role:"listitem"},a().createElement("div",(0,Le.OH)(e.answer))))))},ua=({modKey:e,metrics:t={}})=>{const[n]=(0,k.lE)(e),[r,s]=a().useState([]),{assets:l}=(0,Y.S)();return n.faq&&n.faq.length?a().createElement(ma,{index:r,handleChange:e=>{s(e),((e=[],t={})=>{const{feature:a="FaqSection",eVar:n=ne}=t,r=e.includes(0)?"collapsed":"expanded";oe({action:r,eVar:n,feature:a})})(r,t)},rootTag:"div",className:"rs-faq"},a().createElement(ca,{title:n.faqTitle||l.faqTitle,titleWrapperTag:"h2",titleWrapperAttrs:{className:"as-l-container"},contentAttrs:{className:"as-l-container"},noPadding:!0,rootTag:"div",titleAttrs:{"data-autom":"faq-button",className:"rc-accordion-button"}},a().createElement(da,{content:n.faq,id:"faq-question",titleTag:"h3"}))):null},pa=({content:e})=>a().createElement("div",{className:"as-chat rs-chat"},a().createElement("div",(0,Ie.A)({className:"as-l-container rs-chat-content"},(0,Le.OH)(e)))),ga=(e={})=>{const{chatConfig:t}=window,{fragments:n}=(0,Y.S)();let r;return e.acmiChat&&t&&t.chat?r=e.acmiChat:n.chatNow&&t&&t.chat?r=n.chatNow:n.chatNowText&&!t&&(r=n.chatNowText),r?a().createElement(pa,{content:r}):null},ya=a().memo(ga);var va=__webpack_require__(4668);const ha=({errorMessage:e,dataAutom:n,buttonLabel:r,buttonProps:s,lastUpdated:l})=>{const i=(0,t.useRef)(null);(0,t.useEffect)((()=>{i.current&&i.current.focus()}),[l]);const o=e.split("{buttonLabel}").map(((e,t)=>a().createElement(a().Fragment,{key:e},e,0===t&&a().createElement("button",(0,Ie.A)({type:"button",className:"as-buttonlink"},s),r))));return a().createElement("div",{className:"rs-trade-in-error",tabIndex:"-1","data-autom":n,ref:i},a().createElement(va.A,{key:e,error:!0},o))},Ea=({modKey:e,dataAutom:t})=>{const[n,r]=(0,k.lE)(e),s=C().get(n,"tradeInErrorMessage.message",""),l=C().get(n,"tradeInErrorMessage.buttonLabel",""),i=(0,k.W4)(e,"removeAllTradeIns");return a().createElement(ha,{errorMessage:s,dataAutom:t,buttonLabel:l,buttonProps:i.props,lastUpdated:r})},ba=a().memo(Ea),fa=Object.freeze({DISABLED_COUNTRY:1,NOT_SAFARI:2,OLD_DEVICE:3,OLD_SAFARI:4,DENIED:5,UNSUPPORTED:6,SUPPORTED:7,COMPLETED:8,SUPPLEMENTARY_SUPPORTED:9}),Aa=(Object.freeze({UNSUPPORTED:1,SUPPORTED:2,COMPLETED:3,SUPPLEMENTARY_SUPPORTED:4,API_NIL:5,NIL:6}),Object.freeze({INSTALLMENT:"_installments",BANNER:"_banner",OVERLAYHEADER:"_overlayHeader",OVERLAYFOOTER:"_overlayFooter",NOACI:"_no_aci"})),wa=Object.freeze({INLINE:0,BANNER:1,OVERLAYHEADER:2,OVERLAYFOOTER:3}),Na=Object.freeze({UPDATE:"update",OPEN_OVERLAY:"open_overlay",CLOSE_OVERLAY:"close_overlay",APPLIED:"ac_apply",UPDATE_CONFIG:"update_config"}),Sa=Object.freeze({NO_CARD:"no_card",WITH_CARD:"with_card"}),Ca=(e,t)=>{switch(t.type){case Na.UPDATE:return{...e,...t.payload};case Na.OPEN_OVERLAY:return{...e,overlayVisible:!0,isCompleted:!1,overlayTriggerSel:t.payload.triggerSel,showOverlayContentForBanner:t.payload.isBanner,overrideShowOverlay:t.payload.overrideShowOverlay,assetVariables:{...t.payload.assetVariables},metricsInfo:t.payload.metricsInfo};case Na.CLOSE_OVERLAY:return{...e,overlayVisible:!1};case Na.APPLIED:return{...e,isCompleted:!0,hasApplied:!0};case Na.UPDATE_CONFIG:return{...e,...t.payload};default:return{...e}}},ka=e=>{const t=window.cookieMap;return t&&"object"==typeof t&&e in t?t[e]:e},Ia=e=>(e=>{let t=null;if(!e)return t;const a=(Pe._.getCookies()||"").split(";");for(let n=0;n<a.length;n++){const r=(a[n]||"").trim();if(r.substring(0,e.length+1)===e+"="){t=decodeURIComponent(r.substring(e.length+1));break}}if(t&&t.match(/^\s*\{/))try{t=JSON.parse(t)}catch(e){}return t})(ka(e));var Pa=__webpack_require__(5284);const La=e=>{document.body.classList.toggle("as-buyflowmessages-applycompleted",e)},Ta=e=>{const t=Ia(e)||"";return 0===t.indexOf("~")?t.slice(1):t},Oa=()=>{const e=window.sessionStorage;e&&e.removeItem("acs")},Da=(e,t,a,n)=>{const r=C().get(e,"appleCardStatusUrl"),s=Ta("as_cn");r&&s&&(0,Pa.hI)(r).then((e=>{const{body:t={}}=e;if(1===t.acs){Object.assign(n,{appleCardState:fa.COMPLETED});const e=!0;a({type:Na.UPDATE,payload:{hasNativeState:e}})}La(Boolean(t.acs)),Oa(),(e=>{const t=window.sessionStorage;if(t){const a=Ta("as_cn");if(a){const n={as_cn_value:a,state:e};t.setItem("acs",JSON.stringify(n))}}})(t.acs)})).catch((e=>{window.console.log("error fetching card status...",e)}))},xa=(e,t,a,n)=>{if((e=>!e||[fa.DISABLED_COUNTRY,fa.NOT_SAFARI,fa.OLD_DEVICE,fa.OLD_SAFARI,fa.DENIED,fa.UNSUPPORTED].includes(e))(n.appleCardState)){const t=(()=>{const e=window.sessionStorage;let t=null;if(e){const a=Ta("as_cn");let n=e.getItem("acs");n=n&&JSON.parse(n),n&&n.as_cn_value===a?t=n.state:Oa()}return t})();if([0,1].includes(t)){if(1===t){Object.assign(n,{appleCardState:fa.COMPLETED});const e=!0;a({type:Na.UPDATE,payload:{hasNativeState:e}})}}else Da(e,0,a,n);La(Boolean(t))}else{const e=!0;a({type:Na.UPDATE,payload:{hasNativeState:e}})}},Ma=(e,t=!1,a=!1,n=!1,r={},s=!1)=>{const l=s?"web apply | ":"";switch(e){case fa.DISABLED_COUNTRY:return{key:"disabledcountry",overlay:!1,showExisting:!0,evarGroupText:`${l}denied | pre:wrong country`};case fa.NOT_SAFARI:return{key:"notonsafari",overlay:!1,showExisting:!0,evarGroupText:`${l}denied | pre:not safari`};case fa.OLD_DEVICE:return{key:"devicenotcapable",overlay:!1,showExisting:!0,evarGroupText:`${l}denied | pre:unsupported device`};case fa.OLD_SAFARI:return{key:"osunsupported",overlay:a,showExisting:!0,evarGroupText:`${l}denied | pre:osunsupported`};case fa.DENIED:{const e=C().get(r,"apiStates.applePay","nil");return{key:"denied",overlay:!1,showExisting:!0,evarGroupText:l+(r.apiStates&&"nil"===r.apiStates.appleCard?`denied | api:[${e}, nil]`:"denied | pre:nil")}}case fa.UNSUPPORTED:return{key:"unsupported",overlay:!1,showExisting:!0,evarGroupText:`${l}denied | api:unsupported`};case fa.SUPPORTED:return{key:"supported",overlay:!0,evarGroupText:(t?"":l)+t&&a?"supported_installments":"supported"};case fa.COMPLETED:return{key:"completed",overlay:a&&n,evarGroupText:t&&a?"completed_installments":"completed"};case fa.SUPPLEMENTARY_SUPPORTED:return{key:"supplementarysupported",overlay:a&&n,evarGroupText:t&&a?"supplementarysupported_installments":"supplementarysupported"};default:return null}},Fa=({status:e,asset:t,isInstallmentSupported:a,messageType:n=wa.INLINE,isBFIEnabled:r,showBFILink:s,showOverlayContentForBanner:l,isACIXEnabled:i=!1,assetVariables:o={},templateId:c,isBag:m})=>{const{key:d}=Ma(e,r,s),u=(e=>{switch(e){case fa.DISABLED_COUNTRY:case fa.NOT_SAFARI:case fa.OLD_DEVICE:case fa.OLD_SAFARI:case fa.DENIED:case fa.UNSUPPORTED:case fa.SUPPORTED:return Sa.NO_CARD;case fa.COMPLETED:case fa.SUPPLEMENTARY_SUPPORTED:return Sa.WITH_CARD;default:return null}})(e);let p=d;const g=[fa.COMPLETED,fa.SUPPORTED,fa.SUPPLEMENTARY_SUPPORTED];if(r&&(a&&-1!==g.indexOf(e)&&(p=`${d}${Aa.INSTALLMENT}`),m||s||n!==wa.INLINE||(i||-1!==g.indexOf(e))&&(p=`${d}${Aa.NOACI}`)),n===wa.BANNER&&(p+=Aa.BANNER),n===wa.OVERLAYHEADER||n===wa.OVERLAYFOOTER){const e=n===wa.OVERLAYHEADER,a=e?`${p}${Aa.OVERLAYHEADER}`:`${p}${Aa.OVERLAYFOOTER}`,i=e?"overlayHeader":"overlayFooter",o=e?`overlayHeader${Aa.NOACI}`:`overlayFooter${Aa.NOACI}`;p=r&&(s||l||m)?t&&t[a]&&r?a:t&&t[i]?i:"":!r||s||l?i:t&&t[o]?o:""}n===wa.INLINE&&(t&&t[`${p}_${c}`]?p=`${p}_${c}`:t&&t[`${u}_${c}`]?p=`${u}_${c}`:t&&t[u]&&(p=u));const y=C().get(t,p,"");return C().isEmpty(o)?y:Qe.GP(y,{...o})},Ba="cid%3Dapy-220-100002",Ra="cid%3Dapy-220-100004",_a={desktop:{buyflowDefaultValue:"cid%3Dapy-220-100013",defaultValue:"cid%3Dapy-220-100014"},handheld:{buyflowDefaultValue:"cid%3Dapy-220-100016",defaultValue:"cid%3Dapy-220-100017"}},$a=e=>e?Ba:Ra,Ha=e=>{const{isHandheldPhone:t}=u.Ez(),a=t?"handheld":"desktop";return e?C().get(_a,`${a}.buyflowDefaultValue`):C().get(_a,`${a}.defaultValue`)},Ka={bagLearnMoreLink:{hier1:"aos:bag",prop3:"modal open|ribbon|learn more about acmi",evar6:'D=pageName+"|ribbon|learn more about acmi|open modal"'},bagLearnMoreWebApply:{evar6:"aos:bag|learn more about acmi|apply for apple card"},bagSummaryLink:{evar6:'D=pageName+"|summary|get 3% daily cash|open modal"'},bagSummaryWebApply:{evar6:'D=pageName+"|modal|info - get 3% daily cash|apply for apple card"'}},Va=e=>{try{window.asMetrics&&window.asMetrics.sendUserInteraction({name:"metrics",data:e})}catch(e){window.console.log(e)}},Ua=e=>{try{window.asMetrics&&!C().isEmpty(e)&&window.asMetrics.fireMicroEvent({eVar:"eVar6",page:window.s.pageName,...e})}catch(e){window.console.log(e)}},Wa=(e="apple card modal",t=!1)=>{Ua({feature:`${e} - ${t?"web apply":"native apply"}`,action:"apply now"})},Ga=(e,t,a=!1)=>{const n=window.acStoreApplePaySetup.RELAY_EVENT_ID,r=a?Ha(t):$a(t);window.asMetrics&&window.asMetrics.relay&&window.asMetrics.relay.sendBeacon({key:n,element:e,callback:()=>{},defaultCampaign:r})},ja=(e,t,a=(e=>e),n)=>{const r=C().get(e,"messages.additionalData.namedAssets",{}),{isBFIEnabled:s,isACIXEnabled:l}=r,i=Boolean(e.acmiEnabled);let o={},c="";const m={},d=window.asMetrics&&window.asMetrics.relay,u={config:{merchantIdentifier:t.merchantIdentifier||"",signature:t.signature||"",signedFields:t.signedFields||null}};d&&d.getOne&&(u.config.referrerIdentifier=d.getOne(window.acStoreApplePaySetup.RELAY_EVENT_ID));const p=u.config.referrerIdentifier||Ha(t.fireWithBuyflowReferrer);let g={};p&&(g=Qe.JO(decodeURIComponent(p)));const y=C().get(e,"appleCardApplyUrl");if(m.appleCardApplyUrl=y?Qe.k0(y,g):"",u.config.referrerIdentifier||(u.config.referrerIdentifier=$a(t.fireWithBuyflowReferrer)),window.acStoreApplePaySetup&&window.acStoreApplePaySetup.getState)try{window.acStoreApplePaySetup.getState(u).then((d=>{if(d&&(o=Ma(d.appleCardState,d.supportsInstallments,s,t.showBFILink,{apiStates:d.apiStates},e.webApplyEnabled),m.supportsInstallments=t.buyflowInstallmentsOverrideEnabled||d.supportsInstallments),m.objStatusMessage=d,!d||!r[o.key]&&o.showExisting)m.showDefaultFinancing=!0;else{m.showDefaultFinancing=!1;const e=t.defaultFinancingSelector||".as-productdecision-selectionarea";if(e){const t=document.querySelector(e);t&&(t.classList+=" as-buyflow-messages-hidedefaultfinancing")}c=r?Fa({status:d.appleCardState,assets:r,isInstallmentsSupported:t.supportsInstallments,messageType:wa.INLINE,isBFIEnabled:s,showBFILink:t.showBFILink,isACIXEnabled:l,templateId:t.templateId}):c,m.linkText=c}m.isSupplementaryLink=(e=>e===fa.SUPPLEMENTARY_SUPPORTED)(d.appleCardState),m.canNativeApply=(e=>e===fa.SUPPORTED)(d.appleCardState,t.showBFILink);const u=(l?i:s)&&o.key?Fa({status:d.appleCardState,asset:r,isInstallmentsSupported:t.supportsInstallments,messageType:wa.BANNER,isBFIEnabled:s,isACIXEnabled:l}):null;if(m.bannerMessage=u,document.body.classList.toggle("rf-acmibanner-enabled",Boolean(u)),n){xa(e,0,a,d);const r=((e=[],{supportsInstallments:t,appleCardState:a})=>{let n=0;if(0===e.length){const e=[fa.COMPLETED,fa.SUPPORTED,fa.SUPPLEMENTARY_SUPPORTED];t?n=1:-1!==e.indexOf(a)&&(n=2)}else{const r=t?1:0,s=C().find(e,(e=>{const{state:t=[],inst:n=[]}=e;return-1!==t.indexOf(a)&&-1!==n.indexOf(r)}));n=s.key||0}return n})(t.aciConfigMap||[],d);n({messagingState:d.appleCardState,...o,linkText:c,isSupplementaryLink:t.isSupplementaryLink,supportsInstallments:t.supportsInstallments,hasApplied:t.hasApplied,acmiLevel:r,bannerMessage:u})}a({type:Na.UPDATE,payload:{...m}}),window.acmState={...m},o&&o.evarGroupText&&(e=>{window.asMetrics&&window.asMetrics.appleCard&&window.asMetrics.appleCard({name:"Step 1",status:e})})(o.evarGroupText)}))}catch(e){window.console.log(e)}},qa=(e,t,{isBanner:a=!1,evarParam:n="",triggerSel:r,assetVariables:s={},metricsInfo:l="apple card",metricsKey:i,overrideShowOverlay:o=!1,part:c=""}={})=>{t({type:Na.OPEN_OVERLAY,payload:{isBanner:a,triggerSel:r,assetVariables:s,metricsInfo:l,overrideShowOverlay:o}}),i?(e=>{Va(Ka[e])})(i):(({evarParam:e,metricsInfo:t,part:a})=>{Ua({slot:e,feature:t||"apple card",part:a,action:"open modal"})})({evarParam:n,metricsInfo:l,part:c})},Ya=(e,t,a={})=>{const n=!0,{fireWithBuyflowReferrer:r,appleCardApplyUrl:s,metricsInfo:l}=e,{metricsKey:i}=a;(s||i)&&(t.preventDefault&&t.preventDefault(),i?(e=>{let t;const a=window.asMetrics&&window.asMetrics.relay;a&&a.getOne&&(t=a.getOne(window.acStoreApplePaySetup.RELAY_EVENT_ID));const n=t||Ha();Va({...Ka[e],evar17:n,events:"event287"})})(i):(Wa(l,n),Ga(t,r,n)),Oa(),s&&(window.location.href=s))},za=(e,t,a={})=>{window.acStoreApplePaySetup&&window.acStoreApplePaySetup.setup&&(window.acStoreApplePaySetup.setup(e.objStatusMessage),t({type:Na.APPLIED}),Wa(e.metricsInfo),Ga(a,e.fireWithBuyflowReferrer))},Za=(e,t,a,n)=>{a({type:Na.CLOSE_OVERLAY}),ja(e,t,a,n),Ua({feature:"apple card modal",action:"thank you"})},Ja=({bootstrap:e,onCompleted:a=(e=>e),additionalState:n={}})=>{const{merchantIdentifier:r="",signature:s="",signedFields:l=null}=e,[i,o]=(0,t.useReducer)(Ca,{merchantIdentifier:r,signature:s,signedFields:l,overlayVisible:!1,onCompleted:a,...n});(0,t.useEffect)((()=>{ja(e,i,o,a)}),[]);return{state:i,handleOpenOverlay:e=>qa(0,o,e),handleCloseOverlay:()=>((e,t,a,n)=>{a({type:Na.CLOSE_OVERLAY}),t.isCompleted&&ja(e,t,a,n)})(e,i,o,a),handleApplyClick:e=>za(i,o,e),handleWebApplyClick:(e,t)=>Ya(i,e,t),handleInlineApplyClick:e=>((e,t,a)=>{e.canNativeApply?za(e,t,a):Ya(e,a)})(i,o,e),handleContinueClick:()=>Za(e,i,o,a),handleConfigUpdate:t=>((e,t,a,n,r)=>{const s=C().has(n,"showBFILink"),l=C().get(t,"objStatusMessage.appleCardState"),i={merchantIdentifier:n.merchantIdentifier||t.merchantIdentifier,signature:n.signature||t.signature,signedFields:n.signedFields||t.signedFields,showBFILink:s?n.showBFILink:t.showBFILink,shouldHideLinks:C().has(n,"shouldHideLinks")?n.shouldHideLinks:t.shouldHideLinks};if(a({type:Na.UPDATE_CONFIG,payload:{...i}}),l&&r&&s){const a=C().get(e,"messages.additionalData.namedAssets",{}),s=Ma(l,t.supportsInstallments,a.isBFIEnabled,t.showBFILink);r({linkText:Fa({status:l,asset:a,isInstallmentsSupported:t.supportsInstallments,messageType:wa.INLINE,isBFIEnabled:a.isBFIEnabled,showBFILink:n.showBFILink,isACIXEnabled:a.isACIXEnabled,assetVariables:t.assetVariables,templateId:t.templateId}),...s,isConfigUpdated:!0})}})(e,i,o,t,a),handleSupplementarySetup:e=>((e,t={})=>{t.preventDefault&&t.preventDefault(),window.acStoreApplePaySetup&&window.acStoreApplePaySetup.setup&&(window.acStoreApplePaySetup.setup(e.objStatusMessage),Ga(t,e.fireWithBuyflowReferrer))})(i,e)}},Xa=({bootstrap:e,state:t,webApplyButtonProps:n,onClose:r=(e=>e),handleApplyClick:s=(e=>e),handleWebApplyClick:l=(e=>e),handleContinueClick:i=(e=>e),dataAutomForOverlay:o})=>{const c=C().get(e,"messages.additionalData.namedAssets",{}),{isBFIEnabled:m,isACIXEnabled:d}=c,u=t&&t.objStatusMessage?t.objStatusMessage:{},p=!m||!t.supportsInstallments||t.overrideShowBFILink||!t.showBFILink&&!t.showOverlayContentForBanner,{appleCardApplyUrl:g,isBag:y}=e,v=!t.overrideShowBFILink&&t.showBFILink,h=t.isCompleted&&m&&c.appliedOverlayHeader?c.appliedOverlayHeader:Fa({status:u.appleCardState,asset:c,isInstallmentSupported:t.supportsInstallments,messageType:wa.OVERLAYHEADER,isBFIEnabled:m,showBFILink:v,showOverlayContentForBanner:t.showOverlayContentForBanner,assetVariables:t.assetVariables,isACIXEnabled:d,isBag:y}),E=t.isCompleted&&m&&c.appliedOverlayFooter?c.appliedOverlayFooter:Fa({status:u.appleCardState,asset:c,isInstallmentSupported:t.supportsInstallments,messageType:wa.OVERLAYFOOTER,isBFIEnabled:m,showBFILink:v,showOverlayContentForBanner:t.showOverlayContentForBanner,assetVariables:t.assetVariables,isACIXEnabled:d,isBag:y});return a().createElement("div",null,a().createElement(Ke.A,{visible:t.overlayVisible,isFullscreen:t.isHandheldPhone,className:"rf-acmessages-overlay",onClose:()=>r(),contentAttrs:{className:"rf-acmessages-overlay-content","data-autom":o},ariaLabel:"buyflowmessages-overlay-header"},a().createElement("div",(0,Ie.A)({className:Z()("rf-acmessages-overlayheader",{"rf-acmessages-noproductprice":C().isEmpty(t.assetVariables)||t.showOverlayContentForBanner})},(0,Le.OH)(h))),t.canNativeApply&&!t.isCompleted&&p?a().createElement("button",{onClick:e=>s(e),className:"form-button",type:"button"},c.apply):"",t.hasNativeState||t.isCompleted||!g?"":a().createElement("a",{href:g,onClick:e=>l(e),className:"rf-acmessages-web-apply form-button","data-autom":"Apply Now","aria-label":C().get(c,"applyAllyText")},c.apply),!t.hasNativeState&&n&&a().createElement(Wt.A,(0,Ie.A)({},n,{onClick:e=>{l(e,{metricsKey:"bagSummaryWebApply"}),n.onClick()}}),n.label),t.hasNativeState&&t.isCompleted?a().createElement("button",{onClick:i,className:"form-button",type:"button"},c.continue):"",a().createElement("div",(0,Ie.A)({className:"rf-acmessages-overlayfooter"},(0,Le.OH)(E)))))},Qa=({bootstrap:e,state:t,overlayAttrs:n})=>{const r=C().get(e,"messages.additionalData.namedAssets")||{},{isBFIEnabled:s}=r,l=t&&t.objStatusMessage?t.objStatusMessage:{},i=Ma(l.appleCardState,t.supportsInstallments,s,t.showBFILink);if(!i)return"";const o=i.overlay||t.showOverlayContentForBanner||t.overrideShowOverlay;return a().createElement(a().Fragment,null,s||o?a().createElement(Xa,n):null)};var en=__webpack_require__(4440);const tn=e=>{const t=a().useRef(null),n=a().useRef(null);return a().useEffect((()=>{t.current&&(e?(n.current=en.Wz(t.current),en.f3(n.current),n.current.forEach((e=>e.setAttribute("aria-disabled",!0)))):n.current&&(en.RP(n.current),n.current.forEach((e=>e.removeAttribute("aria-disabled")))))}),[e]),t},an=({disabled:e,classes:t={},children:n,...r})=>{const s=tn(e);return a().createElement("div",(0,Ie.A)({ref:s,className:Z()(t.root,{[t.disabled||""]:e}),"data-core-disabled":e},r),n)},nn=({bootstrap:e,state:t,handleOpenOverlay:n,handleSupplementarySetup:r,assetVariables:s={},templateId:l,isDisabled:i})=>{const o=C().get(e,"messages.additionalData.namedAssets")||{},{isBFIEnabled:c,isACIXEnabled:m}=o,d=t&&t.objStatusMessage?t.objStatusMessage:{},u=Ma(d.appleCardState,t.supportsInstallments,c,t.showBFILink);if(!u)return"";const{isBag:p,webApplyEnabled:g,bagWebApplyStates:y}=e,v=g&&y&&-1!==y.indexOf(d.appleCardState),h=Fa({status:d.appleCardState,asset:o,isInstallmentsSupported:t.supportsInstallments,messageType:wa.INLINE,isBFIEnabled:c,isACIXEnabled:m,showBFILink:t.showBFILink,assetVariables:s,templateId:l,isBag:p}),E=e=>{if(e.target&&e.target.matches('[data-buyflow-messages-overlay = "button"]')){const t=e.target,a=t.getAttribute("data-buyflow-messages-metrics-info"),r=t.closest("[data-messages-part]"),l=r?r.getAttribute("data-messages-part"):"";e.preventDefault(),n({assetVariables:s,evarParam:l?"":"summary",metricsInfo:a,overrideShowOverlay:!0,part:l?`select mac - ${l}`:""})}},b={onClick:E},f=t.isSupplementaryLink&&r?{onClick:r}:{onClick:E},A=p?"bagSummaryLink":"";return a().createElement(a().Fragment,null,c&&t.showBFILink&&!t.shouldHideLinks?a().createElement("div",(0,Ie.A)({className:"rf-acmessages-defaultlink"},b,(0,Le.OH)(h))):null,!c||t.showBFILink||t.shouldHideLinks?null:a().createElement("div",null,v||u.overlay&&!t.isSupplementaryLink?a().createElement("button",{className:"as-buttonlink",onClick:()=>n({metricsKey:A}),type:"button"},a().createElement("span",(0,Le.OH)(h))):a().createElement(an,{disabled:i},a().createElement("div",(0,Ie.A)({className:"rf-acmessages-defaultlink"},f,(0,Le.OH)(h))))),c||t.shouldHideLinks?null:a().createElement("div",(0,Ie.A)({className:"rf-acmessages-defaultlink"},f,(0,Le.OH)(h))))},rn=({bootstrap:e,state:t,handleOpenOverlay:n,handleCloseOverlay:r,handleApplyClick:s,handleWebApplyClick:l,handleContinueClick:i,handleSupplementarySetup:o,assetVariables:c={},templateId:m,webApplyButtonProps:d,dataAutom:u,dataAutomForOverlay:p,isDisabled:g})=>{const y={state:t,bootstrap:e,webApplyButtonProps:d,onClose:r,handleApplyClick:s,handleWebApplyClick:l,handleContinueClick:i,dataAutomForOverlay:p};return a().createElement("div",{"data-autom":u},a().createElement(nn,{bootstrap:e,state:t,handleOpenOverlay:n,handleSupplementarySetup:o,assetVariables:c,templateId:m,isDisabled:g}),a().createElement(Qa,{state:t,bootstrap:e,overlayAttrs:y}))},sn=(e,a)=>{(0,t.useEffect)((()=>{const t=t=>{if(t.target.matches('[data-buyflow-messages-overlay="ribbon"]')){const a=t.target;t.preventDefault();const n="data-analytics-region",r=a.closest(`[${n}]`),s=r?r.getAttribute(n):"ribbon";e({isBanner:!0,evarParam:s,metricsInfo:a.getAttribute("data-buyflow-messages-metrics-info")})}else t.target.matches("[data-buyflow-messages-apply]")&&(t.preventDefault&&t.preventDefault(),a(t))},n=e=>{e.keyCode!==s.HP.Return&&e.keyCode!==s.HP.Space||t(e)};return document.addEventListener("click",t),document.addEventListener("keydown",n),()=>{document.removeEventListener("click",t),document.removeEventListener("keydown",n)}}),[])},ln=({bootstrap:e={},showDefaultFinancing:n=!1,shouldHideLinks:r=!1,fireWithBuyflowReferrer:s=!1,onCompleted:l=(e=>e),acConfig:i=null,aciConfigMap:o=[],children:c,webApplyButtonProps:m,dataAutom:d,dataAutomForOverlay:u,isDisabled:p=!1})=>{const{buyflowMessagesEnabled:g}=e,{assetVariables:y,templateId:v}=i||{},{state:h,handleOpenOverlay:E,handleCloseOverlay:b,handleApplyClick:f,handleWebApplyClick:A,handleInlineApplyClick:w,handleContinueClick:N,handleConfigUpdate:S,handleSupplementarySetup:k}=Ja({bootstrap:e,onCompleted:l,additionalState:{showDefaultFinancing:n,shouldHideLinks:r,fireWithBuyflowReferrer:s,assetVariables:y,aciConfigMap:o,hasNativeState:!1,templateId:v}}),I=C().get(h,"showDefaultFinancing")||!g;return sn(E,w),(0,t.useEffect)((()=>{i&&S&&S(i)}),[i]),a().createElement("div",{id:"buyflow-message-container",className:"rf-ac-messages"},h&&g?a().createElement(rn,{bootstrap:e,state:h,handleOpenOverlay:E,handleCloseOverlay:b,handleApplyClick:f,handleWebApplyClick:A,handleContinueClick:N,handleSupplementarySetup:k,assetVariables:y,templateId:v,webApplyButtonProps:m,dataAutom:d,isDisabled:p,dataAutomForOverlay:u}):"",I&&a().createElement("div",{"data-autom":d,className:"rf-acmessages-defaultmessage"},c))},on=a().createContext(),cn=(on.Consumer,C().get(window,"asMetrics.sendUserInteraction",C().noop),a().createContext({viewReady:!1,acState:null,acAvailable:!1,acEnabledInstallment:!1,acSupportInstallment:!1,acShowInstallment:!1})),mn=()=>(0,t.useContext)(cn);var dn=__webpack_require__(5206);const un=({footnotes:e=[]})=>{const{assets:t}=(0,Y.S)(),n=e.join(""),r=document.getElementById("footnotes-portal")||document.querySelector("footer");return r&&(0,dn.createPortal)(a().createElement("ul",(0,Ie.A)({"aria-label":t.footnotesA11y,role:"list"},(0,Le.OH)(n))),r)},pn=({modKey:e,buyFlowInstallments:t=!1,paymentsBuyFlowInstallments:n=!1,buyflowMessageFootNote:r=!1,webapplyLoan:s=!1,hasAcmiPaymentOption:l=!1,appleCardApply:i=!1,returnToShopForAcmi:o=!1,acmiSelected:c=!1,partnerFinancedInstallment:m=!1,acmiCheckout:d=!1,acmiFromBag:u=!1,partnerFinanceFromBag:p=!1,thankYouacmiSelected:g=!1,hasTradeIn:y=!1,webapplyInstallmentsFootnote:v=!1,webapplyInstallmentsApprovedFootnote:h=!1,hasTradeinTopics:E=!1,hasMonthlyPricing:b=!1,getReadyAcmi:f=!1,verificationFootnote:A})=>{const[w]=(0,k.lE)(e),{assets:N,fragments:S}=(0,Y.S)(),I=C().get(w,"carrierFinancePromo.carrierId","").toUpperCase(),P=`carrierFinanceFootNote_${I}`,L=`carrierPromoTaxDisclaimer_${I}`,{acShowInstallment:T}=mn(),O=w.bugattiTradeInFootNotes&&Array.isArray(w.bugattiTradeInFootNotes),D=w.financingMessageEnabled&&qe,x=[];return D&&S.financeFootnote&&x.push(`<li class="as-footnotes-finance" role="listitem">${S.financeFootnote}</li>`),S.webapplyLegacyACCFooter&&x.push(`<li role="listitem">${S.webapplyLegacyACC}</li>`),s&&S.webapplyLoan&&x.push(`<li role="listitem">${S.webapplyLoan}</li>`),r&&S.buyflowMessageFootNote&&x.push(`<li role="listitem">${S.buyflowMessageFootNote}</li>`),S.bagGenericFootNote&&x.push(`<li role="listitem">${S.bagGenericFootNote}</li>`),S.checkoutGenericFootNote&&x.push(`<li role="listitem">${S.checkoutGenericFootNote}</li>`),n&&S.paymentsBuyFlowInstallments&&x.push(`<li role="listitem">${S.paymentsBuyFlowInstallments}</li>`),(t||p)&&S.buyFlowInstallmentsFootnotes&&x.push(`<li role="listitem">${S.buyFlowInstallmentsFootnotes}</li>`),!O&&w.carrierFinanceNoPromo&&S.carrierFinanceNoPromoFootNote&&x.push(`<li role="listitem">${Qe.GP(S.carrierFinanceNoPromoFootNote,{carrierName:w.carrierFinanceNoPromo.carrierName,monthlyPayments:w.carrierFinanceNoPromo.monthlyPayments,tradeInProductName:w.carrierFinanceNoPromo.tradeInProductName,productName:w.carrierFinanceNoPromo.productName,superScript:w.carrierFinanceNoPromo.superScript,apr:w.carrierFinanceNoPromo.apr})}</li>`),i&&S.appleCardApplyFootnote&&x.push(`<li role="listitem">${S.appleCardApplyFootnote}</li>`),!w.tradeInDisclaimerEnabled&&(T||u||m||f)&&(c||f||!S.acmiBagFootnote?(c||f)&&S.acmiIphoneBagFootnote&&x.push(`<li role="listitem">${S.acmiIphoneBagFootnote}</li>`):x.push(`<li role="listitem">${S.acmiBagFootnote}</li>`)),T||u||!S.acmiIneligibleFootnote||x.push(`<li role="listitem">${S.acmiIneligibleFootnote}</li>`),d&&S.acmiCheckoutFootnote&&x.push(`<li role="listitem">${S.acmiCheckoutFootnote}</li>`),u&&x.push(`<li role="listitem">${S.acmiDeliveryPickupFootnote}</li>`),l&&S.acmiPaymentFootnote&&x.push(`<li role="listitem">${S.acmiPaymentFootnote}</li>`),(i||l)&&S.appleCardPaymentFootnote&&x.push(`<li role="listitem">${S.appleCardPaymentFootnote}</li>`),o&&S.acmiFulfillmentFootnote&&x.push(`<li role="listitem">${S.acmiFulfillmentFootnote}</li>`),w.hasPartnerFinanceInstallment&&S.paymentPartnerFinanceFootnote&&x.push(`<li role="listitem">${S.paymentPartnerFinanceFootnote}</li>`),w.tradeInDisclaimerEnabled&&S.tradeInDisclaimerFootnote&&x.push(`<li role="listitem">${S.tradeInDisclaimerFootnote}</li>`),!O&&w.carrierFinancePromo&&S[P]&&(x.push(`<li role="listitem">${Qe.GP(S[P],{superScript:w.carrierFinancePromo.superScript})}</li>`),w.carrierFinancePromo.taxDisclaimer&&S[L]&&x.push(`<li role="listitem">${S[L]}</li>`)),w.totalAfterTradeInEnabled&&N.priceAfterTradeInDisclaimer&&x.push(`<li role="listitem">${N.priceAfterTradeInDisclaimer}</li>`),w.tradeInRefundEnabled&&N.tradeInRefundDisclaimer&&x.push(`<li role="listitem">${N.tradeInValueDagger} ${N.tradeInRefundDisclaimer}</li>`),N.giftCardDisclaimer&&x.push(`<li role="listitem">${N.giftCardDisclaimer}</li>`),N.loanDisclaimer&&!m&&x.push(`<li role="listitem">${N.loanDisclaimer}</li>`),v&&!h&&S.webapplyInstallmentsFootnote&&x.push(`<li role="listitem">${S.webapplyInstallmentsFootnote}</li>`),h&&S.webapplyInstallmentsApprovedFootnote&&x.push(`<li role="listitem">${S.webapplyInstallmentsApprovedFootnote}</li>`),w.showInstantTradeUpValueDisclaimer&&N.instantTradeInRefundDisclaimer&&x.push(`<li role="listitem">${N.instantTradeInRefundDisclaimer}</li>`),w.showLoanDisclaimer&&S.showLoanDisclaimer&&x.push(`<li role="listitem">${S.showLoanDisclaimer}</li>`),N.footerPricing&&x.push(`<li role="listitem">${N.footerPricing}</li>`),g&&S.thankyouacmiSelected&&x.push(`<li role="listitem">${S.thankyouacmiSelected}</li>`),N.footerEncryptionMsg&&x.push(`<li role="listitem">${N.footerEncryptionMsg}</li>`),N.signInFooterEncryptionMsg&&x.push(`<li role="listitem">${N.signInFooterEncryptionMsg}</li>`),w.exitWithBuyUp&&x.push(`<li role="listitem">${N.dynamicFootnotes}</li>`),w.isMonthlyProminent&&x.push(`<li role="listitem">${S.isMonthlyProminentFootnotes}</li>`),y&&x.push(`<li role="listitem">${S.isTradeInFootnotes}</li>`),O&&w.bugattiTradeInFootNotes.map((e=>x.push(`<li role="listitem">${e}</li>`))),E&&x.push(`<li role="listitem">${S.tradeinTopicsFootnotes}</li>`),S.monthlyPricingFootnotes&&b&&x.push(`<li role="listitem">* ${S.monthlyPricingFootnotes}</li>`),S.installmentUpgradeOfferFootnotes&&w.isInstallmentsUpgradeAvailable&&x.push(`<li role="listitem">${S.installmentUpgradeOfferFootnotes}</li>`),A&&x.push(`<li role="listitem">${A}</li>`),x.length?a().createElement(un,{footnotes:x}):null},gn=({acShowInstallment:e,shipping:t,epptext:n,subtotal:r,instantCredit:s,amountChargedToday:l,instantCashback:i,emiDetails:o,loyaltyPointsAmount:c,downPayment:m,paymentFullDiscount:d,tax:u,appleBalanceApplied:p,totalGCsApplied:g,noOfGiftCards:y,taxCalculatorEnabled:v,hasTaxCalculator:h,recycleFee:E,fees:b,hasPromoCode:f,hidePromoModule:A,upgrade:w,installmentTerm:N,installmentAmount:S,total:C,monthlyTotalPricing:k,monthlyTotalPricingLabel:I,mixedTradeInMonthlyInstallmentAmount:P,showPayInFullFirst:L,buyFlowInstallmentsCashBackLabel:T,tradeInRefund:O,totalAfterTradeIn:D,totalAfterInstantTradeIn:x,paymentSubLabel:M,showTotalAfterTradeinAsTotal:F,showTaxInclusivePrices:B,taxExclusiveTax:R,creditInstallmentAmount:_,totalSavings:$,totalSavingsInclusiveTax:H,totalListSavings:K,segmentSavingsMessages:V,financingMessage:U,enableFinancingCalculatorLink:W,financeOverlayLinkLeftAlignment:G,buyflowMessages:j,installmentSummary:q,cashBackOverlayLink:Y,hasPinCodeEligibility:z,cashBackSuperscript:Z,monthlyTotal:J,partnerFinancedInstallments:X,paymentBreakdown:Q,hasFlexibleTradeIn:ee,tradeInCredit:te,outstandingLoan:ae,iUPOrInstallments:ne,paymentDetails:re,totalTaxSubValue:se,totalTaxSubLabel:le,acmiMonthlyPayment:ie,acmiPayTextEnabled:oe,assets:ce,iupEstCredit:me,iupEstAfterCredit:de,totalSavingsWithCard:ue,stateDeliveryFee:pe,displayNetOfAllSavings:ge,hasPartnerFinance:ye,savingsLabel:ve,hideVatText:he})=>{const Ee=a().createElement(a().Fragment,null,a().createElement("span",(0,Le.OH)(`- ${O}`)),a().createElement("span",{className:"visuallyhidden"},ce.footnoteText),a().createElement("span",(0,Le.OH)(ce.tradeInValueDagger))),be=a().createElement(a().Fragment,null,a().createElement("span",(0,Le.OH)(D)),a().createElement("span",{className:"visuallyhidden"},ce.footnoteText),a().createElement("span",null,"*")),fe=a().createElement(a().Fragment,null,a().createElement("span",(0,Le.OH)(`- ${me}${ce.tradeInValueDagger}`)),a().createElement("span",{className:"visuallyhidden"},ce.footnoteText)),Ae=a().createElement(a().Fragment,null,a().createElement("span",(0,Le.OH)(`${de}*`)),a().createElement("span",{className:"visuallyhidden"},ce.footnoteText)),we=a().createElement("div",null,a().createElement("span",{className:"rs-summary-totalaftertradeiLabel"},`${M} `),a().createElement("span",{className:"rs-summary-totalaftertradeinvalue"},F?C:D));let Ne="";return t&&(Ne=t.free?ce.freeLabel:t.cost),[{showField:!!n,type:"ePPPlusSummary"},{showField:!!te&&!ne,type:"summaryRow",name:"tradeInCredit",label:ce.tradeinInstantCreditLabel,value:te},{showField:!!(ne&&ee&&re),type:"oneTimeChargeLabel"},{showField:!!ae,type:"summaryRow",name:"outsandingLoan",label:ce.tradeinOutstandingAmtLabel,value:ae},{showField:!!r,type:"summaryRow",name:"subtotal",label:ce.subtotal,value:r},{showField:!!s,type:"summaryRow",name:"instantCredit",label:ce.instantCredit,value:s},{showField:!!l,type:"amountChargedToday"},{showField:!!o,type:"emiDetails"},{showField:!!c,type:"summaryRow",name:"loyaltypointsAmount",label:ce.loyaltyPointsLabel,value:c},{showField:!!m,type:"summaryRow",name:"downpayment",label:ce.downPaymentLabel,value:m},{showField:!!t,type:"summaryRow",name:"shipping",label:ce.shipping,value:Ne},{showField:!(!i||!H||ge),type:"summaryRow",name:"discountSavings",label:ve||ce.savingsLabel,value:H},{showField:!!i&&!ge,type:"summaryRow",name:"instantCashback",label:ce.instantcashback,value:i},{showField:!!d,type:"summaryRow",name:"paymentFullDiscount",label:ce.paymentFullDiscount,value:d},{showField:!!pe,type:"stateDeliveryFeeDetails"},{showField:!!u,type:"taxReview"},{showField:!!p,type:"summaryRow",name:"accountbalance",label:ce.accountBalance,value:p},{showField:!!g,type:"summaryRow",name:"giftcardamount",label:y?Qe.GP(ce.giftCardAmount,{quantity:y}):ce.giftCardBalance,value:g},{showField:!(!v||!h),type:"taxWithTaxCalculator"},{showField:!!E,type:"recycleFee"},{showField:!(!b||!b.cod),type:"summaryRow",name:"codfee",label:ce.codFeeLabel,value:b&&b.cod},{showField:!!f&&!A,type:"promoCodeRow"},{showField:!!w,type:"summaryRow",name:"upgrade",label:w&&w.upgradePaymentLabel,value:w&&w.upgradeProgramBalance},{showField:!(!N||!S),type:"summaryRow",name:"installmentTerm",label:N,value:S},{showField:!(L||!k&&!P),type:"monthlyInstallmentsRow",name:"monthlyInstallmentsRow"},{showField:!!C,type:"totalAmountRow"},{showField:!e&&!!L&&!(!D||!M),type:"summaryRow",name:"totalAfterTradeInSub",label:we},{showField:!!L&&!!k&&!G,type:"monthlyInstallmentsRow",name:"monthlyInstallmentsLabelValueAfterTotal"},{showField:!(!L||!k&&!I||!G),type:"monthlyInstallmentsRow",name:"monthlyInstallmentsLabelValueAfterTotal"},{showField:ge&&!(!i&&!H),type:"summaryRow",name:"discountSavings",label:ce.followingSavingsLabel},{showField:!!(i&&H&&ge),type:"summaryRow",name:"discountSavings",label:ve||ce.savingsLabel,value:H},{showField:!!i&&ge,type:"summaryRow",name:"instantCashback",label:ce.instantcashback,value:i},{showField:!(!$&&!H),type:"summaryRow",name:"savings",label:ce.totalSavings,value:$||H||""},{showField:!!J,type:"summaryRow",name:"monthlyPayment",label:ce.monthlyTotal,value:J},{showField:!!ue,type:"summaryRow",name:"totalSavingsWithCard",value:ue},{showField:!!O,type:"summaryRow",name:"tradeInRefund",label:ce.tradeUpValueLabel,value:Ee},{showField:!(!D||!O),type:"summaryRow",name:"totalAfterTradeIn",label:ce.orderTotalAfterTradeUpLabel,value:be},{showField:me,type:"summaryRow",name:"iupCredit",label:ce.iupEstCreditValueLabel,value:fe},{showField:de,type:"summaryRow",name:"iupEstAfterCredit",label:ce.iupEstAfterCreditLabel,value:Ae},{showField:!(!x||!x),type:"summaryRow",name:"totalAfterInstantTradeIn",label:ce.totalAfterInstantTradeIn,value:x},{showField:(!e||ye)&&!L&&!(!D||!M),type:"summaryRow",name:"totalAfterTradeInSub",label:we},{showField:Boolean(V),type:"segmentSavings"},{showField:!!T,type:"summaryRow",name:"cashback",label:T+(Z||""),value:""},{showField:!(!B||!R||he),type:"showTaxInclusivePrices",name:L&&"taxLeftAligned"},{showField:!(!se&&!le),type:"totalTaxSubValue"},{showField:!!_,type:"creditInstallmentAmount"},{showField:!!K,type:"totalListSavings"},oe?{showField:!!ie,type:"summaryRow",name:"acmiMontlhyPayment",label:ie}:{showField:!!ie,type:"summaryRow",name:"acmiMontlhyPayment",label:ce.acmiPaymentLabel,value:ie},oe?{showField:!ie&&(!!U||!!Q||!!W||j&&j.buyflowMessagesEnabled||!!q),type:"financingMessagesMarkup"}:{showField:!!U||!!Q||!!W||j&&j.buyflowMessagesEnabled&&!ie||!!q,type:"financingMessagesMarkup"},{showField:!!Y,type:"cashbackMessagesMarkup"},{showField:!!z,type:"pinCodeEligibility"},{showField:!!L&&!k&&!G,type:"monthlyInstallmentsRow",name:"monthlyInstallmentsLabelAfterTotal"},{showField:!!X,type:"partnerFinancedInstallmentsMarkup"}]},yn=({orderTotal:e,subtotal:t,installmentSubTotal:a,subTotalExclusiveTax:n,tradeInValue:r,installmentTotal:s,orderTotalExclusiveTax:l,installmentTotalFinanced:i,downPayment:o,shipping:c,tradeinCreditSecured:m,tax:d,hasTaxCalculator:u,recycleFee:p,fees:g,hasPromoCode:y,hidePromoModule:v,installmentsremainingpayments:h,firstInstallmentAmount:E,upgrade:b,totalCardCharge:f,amountAuthorized:A,totalAmountAuthorized:w,psd2Enabled:N,financingMessage:S,enableFinancingCalculatorLink:C,buyflowMessages:k,installmentSummary:I,cashBackOverlayLink:P,tradeInCredit:L,iUPOrInstallments:T,hasFlexibleTradeIn:O,outstandingLoan:D,tradeInType:x,stateDeliveryFee:M,assets:F})=>{let B="";return c&&(B=c.free?F.freeLabel:c.cost),[{showField:!!L&&!T,type:"summaryRow",name:"tradeInCredit",label:F.tradeinInstantCreditLabel,value:L},{showField:!!e,type:"summaryRow",name:"ordertotal",label:F.orderTotal,value:e},{showField:!(!T||!O),type:"oneTimeChargeLabel"},{showField:!!D&&O,type:"summaryRow",name:"outstandingLoan",label:F.tradeinOutstandingAmtLabel,value:D},{showField:!!t,type:"summaryRow",name:"subtotal",label:F.subtotal,value:t},{showField:!!a,type:"summaryRow",name:"installmentsubtotal",label:F.installmentSubTotal,value:a},{showField:!(!a||!n),type:"subTotalExclusiveTax"},{showField:!!r,type:"summaryRow",name:"tradeinvalue",label:F.instantCreditTradeInValueLabel,value:r},{showField:!!s,type:"summaryRow",name:"installmenttotal",label:F.installmentTotal,value:s},{showField:!(!s||!l),type:"orderTotalExclusiveTax"},{showField:!!i,type:"summaryRow",name:"installmenttotalfinanced",label:F.installmentTotalFinanced,value:i},{showField:!!o,type:"summaryRow",name:"downpayment",label:F.installmentdownPaymentLabel,value:o},{showField:!!c,type:"summaryRow",name:"shipping",label:F.shipping,value:B},{showField:!!m,type:"summaryRow",name:"trade-in",label:F.instantCreditTradeInValueLabel,value:m},{showField:!!M,type:"stateDeliveryFeeDetails"},{showField:!!d,type:"taxReview",name:"taxandfees"},{showField:!!u,type:"taxWithTaxCalculator"},{showField:!!p,type:"recycleFee"},{showField:!(!g||!g.cod),type:"summaryRow",name:"codfee",label:F.codFeeLabel,value:g&&g.cod},{showField:!!y&&!v,type:"promoCodeRow"},{showField:!!h,type:"summaryRow",name:"installmentsremainingpayments",label:F.installmentsremainingpayments,value:h},{showField:!!E,type:"summaryRow",name:"firstinstallmentamount",label:F.firstInstallmentAmountLabel,value:E},{showField:!!b,type:"summaryRow",name:"upgrade",label:b&&b.upgradePaymentLabel,value:b&&b.upgradeProgramBalance},{showField:!!f,type:"summaryRow",name:"totalcardcharge",label:F.total,value:f},{showField:!!A,type:"summaryRow",name:"amountauthorized",label:F.authorizedAmount,value:A},{showField:!(!w||!N||"TRADE_IN_GREATER_THAN_LOAN"!==x),type:"totalAmountAuthorizedRow"},{showField:!!S||!!C||k&&k.buyflowMessagesEnabled||!!I,type:"financingMessagesMarkup"},{showField:!!P,type:"cashbackMessagesMarkup"}]},vn=({carrierSummaryClasses:e,deviceCarrierHeaderLabel:t,productLabel:n,monthlyPayment:r,monthlyPaymentAlly:s,monthlyPayments:l,productPrice:i,priceMessage:o,instantCredit:c,downPayment:m,totalCarrierFinancedLabel:d,totalCarrierFinancedAmount:u,carrierCredit:p,monthlyPaymentBeforeCredit:g,monthlyPaymentAfterCredit:y})=>{const{assets:v}=(0,Y.S)();return a().createElement("div",{className:`rs-summary-carrierfinance ${e}`},a().createElement("div",{className:"rs-carrierfinance-paymentheader"},t),n&&a().createElement(Je,{name:"productinfo",label:n,value:r,valuea11y:s,subLabel:i}),(c||m)&&a().createElement(a().Fragment,null,a().createElement("div",(0,Ie.A)({className:"rs-summary-instantcredit"},(0,Le.OH)(c))),m&&a().createElement("div",{className:"rs-summary-sublabel large-12"},m)),o&&a().createElement("div",(0,Ie.A)({className:"rs-summary-pricemessage"},(0,Le.OH)(o))),u&&a().createElement(Je,{name:"totalCarrierFinance",label:d,value:u}),l&&a().createElement(Je,{name:"monthlyPayments",label:v.monthlyPaymentsLabel,value:l}),g&&a().createElement(Je,{name:"monthlyPaymentBeforeCredit",label:v.monthlyPaymentBeforeCreditLabel,value:g}),p&&a().createElement("div",{className:"rs-summary-labelred rs-summary-carriercredit"},a().createElement("div",(0,Le.OH)(p))),y&&a().createElement(Je,{name:"monthlyPaymentAfterCredit",label:v.monthlyPaymentAfterCreditLabel,value:y}))},hn=({classes:e,modKey:t})=>{const[n]=(0,k.Ej)(t,"carrierFinancePromoSummary"),{productLabel:r,productPrice:s,priceMessage:l,instantCredit:i,downPayment:o,totalCarrierFinancedLabel:c,totalCarrierFinancedAmount:m,carrierCredit:d,monthlyPaymentBeforeCredit:u,monthlyPaymentAfterCredit:p,deviceCarrierHeaderLabel:g,monthlyPayment:y,monthlyPaymentAlly:v,monthlyPayments:h}=n;return a().createElement(vn,{carrierSummaryClasses:e,deviceCarrierHeaderLabel:g,productLabel:r,monthlyPayment:y,monthlyPaymentAlly:v,monthlyPayments:h,productPrice:s,priceMessage:l,instantCredit:i,downPayment:o,totalCarrierFinancedLabel:c,totalCarrierFinancedAmount:m,carrierCredit:d,monthlyPaymentBeforeCredit:u,monthlyPaymentAfterCredit:p})},En=a().memo(hn),bn=({supplementalInfo:e,iUpSummaryField:t,classes:n,installmentsAmountDue:r,authorizedAmount:s,totalSavings:l,showSupplementalDisclaimer:i})=>{const{assets:o}=(0,Y.S)(),c=Z()(n,{"large-9 large-offset-3 small-12 small-offset-0":!n});return a().createElement(a().Fragment,null,a().createElement("div",{className:"row"},a().createElement("div",{className:c},t)),a().createElement("div",{className:"row"},r&&(s?a().createElement("div",{className:c},a().createElement(Je,{name:"installmentsamountdue",label:o.dueTodayLabel,classes:"rs-summary-withauthorizedamount",value:r})):a().createElement(Je,{name:"installmentsamountdue",label:o.dueTodayLabel,classes:c,value:r})),i&&a().createElement("div",{className:`rs-summary-installmentsamountdue rs-summary-supplementalinfo ${c}`},e.installmentsAmountDue),l&&a().createElement(Je,{name:"savings",label:o.totalSavings,value:l})))},fn=({modKey:e,supplementalInfo:t,iUpSummaryField:n,classes:r,showFinancingMessages:s})=>{const[l]=(0,k.lE)(e),{installmentsAmountDue:i,authorizedAmount:o,totalSavings:c}=l,m=i&&t&&t.installmentsAmountDue;return a().createElement(bn,{supplementalInfo:t,iUpSummaryField:n,classes:r,installmentsAmountDue:i,authorizedAmount:o,totalSavings:c,showSupplementalDisclaimer:m,showFinancingMessages:s})},An=a().memo(fn),wn=({summaryClasses:e,wrapperClass:t,webInstallmentSummary:n,fullPriceProductSummary:r,summaryDetails:s,hasCarrierFinancePromoSummary:l,hasIUPOrInstallments:i,summaryModKey:o,supplementalInfo:c,summaryField:m,iUpSummaryField:d,showFinancingMessages:u,xMerchSummary:p})=>a().createElement("div",{className:`rs-summary ${t}`},l&&a().createElement(En,{classes:e,modKey:o}),n,r,s,i?a().createElement(An,{modKey:o,supplementalInfo:c,iUpSummaryField:d,classes:e,showFinancingMessages:u}):a().createElement("div",{className:e},m),p&&a().createElement("div",(0,Ie.A)({className:"rs-summary-xmerch"},(0,Le.OH)(p)))),Nn=({epptext:e,showEPPPlusSummaryButton:t,ePPPlusSummaryButtonProps:n})=>{const{assets:r}=(0,Y.S)();return a().createElement(a().Fragment,null,a().createElement("span",null,e," "),t&&a().createElement(Wt.A,n,r.remove))},Sn=({modKey:e})=>{const{data:t,properties:n}=(0,k.Yl)(`${e}.ePPPlusSummary`),{epptext:r,showRemove:s}=t,l=(0,k.W4)(`${e}.ePPPlusSummary`,"remove-binding"),i=s&&l.binding.bindExists,o={...l.props,isLoading:n.isLoadingSubmit,hasDefaultClass:!1,className:"as-buttonlink"};return a().createElement(Nn,{epptext:r,showEPPPlusSummaryButton:i,ePPPlusSummaryButtonProps:o})},Cn=a().memo(Sn),kn=({recycleFeeInfo:e})=>{const{assets:n,viewport:r}=(0,Y.S)(),s="small"===r,[l,i]=(0,t.useState)(!1);return a().createElement(a().Fragment,null,n.recycleFee,e&&a().createElement(a().Fragment,null," ",a().createElement("button",{id:"recyclefee-help",className:"as-buttonlink icon icon-after icon-pluscircle","aria-label":n.recycleFeesLearnMoreA11y,type:"button",onClick:()=>{i(!0),oe({eVar:se,feature:"",part:"Recycling",action:"LearnMore"})}},a().createElement("span",(0,Le.OH)(n.learnMore))),a().createElement(Ke.A,{visible:l,onClose:()=>i(!1),isFullscreen:s,ariaLabel:"rs-recyclefee-overlayHeading",fixedWidth:!0},a().createElement("div",(0,Ie.A)({className:"rs-recyclefee-overlay"},(0,Le.OH)(e))))))},In=({modKey:e})=>{const[t]=(0,k.lE)(e),{recycleFee:n,recycleFeeHelp:r}=t;return a().createElement(Je,{name:"recycleFee",label:a().createElement(kn,{recycleFeeInfo:r}),value:n})},Pn=a().memo(In);var Ln=__webpack_require__(7795);const Tn=({couponAppliedMessage:e,promoMessage:t})=>{const{assets:n}=(0,Y.S)();return a().createElement("div",null,a().createElement("div",{"aria-live":"polite",className:"rs-summary-promocodelabel"},e||n.promoCodeApplied),t&&a().createElement("div",{className:"rs-summary-promocodemessage"},t))},On=({promoSaving:e,showRemovePromoCodeButton:t,removePromoCodeButtonProps:n})=>{const{assets:r}=(0,Y.S)();return a().createElement(a().Fragment,null,e&&a().createElement("div",{className:"rs-summary-promocodevalue"},e),t&&a().createElement(Wt.A,n,a().createElement("span",null,r.remove),a().createElement("span",{className:"visuallyhidden"},r.promoEnterLabel)))},Dn=({showEditPromoCodeButton:e,editPromoCodeButtonProps:t})=>{const{assets:n}=(0,Y.S)();return a().createElement("div",null,a().createElement("span",null,n.promoCodeLabel," "),e&&a().createElement("button",(0,Ie.A)({},t,{type:"button"}),a().createElement("span",null,n.promoEnterItNow),a().createElement("span",{className:"icon icon-after icon-chevrondown","aria-hidden":"true"})))},xn=({modKey:e,messages:t,promoApplied:n,couponAppliedMessage:r,promoMessage:s,promoSaving:l,showEditPromoCodeButton:i,editPromoCodeButtonProps:o,showRemovePromoCodeButton:c,removePromoCodeButtonProps:m,cancelMetricsForPromo:d})=>{const{assets:u}=(0,Y.S)(),p=Boolean(t.length);return n?a().createElement(Je,{name:"promoCodeSaving",label:a().createElement(Tn,{couponAppliedMessage:r,promoMessage:s}),value:a().createElement(On,{promoSaving:l,showRemovePromoCodeButton:c,removePromoCodeButtonProps:m})}):a().createElement(a().Fragment,null,a().createElement(Je,{name:"promoCode",label:a().createElement(Dn,{showEditPromoCodeButton:i,editPromoCodeButtonProps:o})}),a().createElement(Ln.K,{modKey:e,className:"rs-summary-promo-inlineeditor",triggerRef:o.ref,visibleKey:"_editing",textField:{label:u.promoEnterLabel,bindName:"promoCode","data-autom":"bag-promocode-input"},applyButton:{label:u.apply,ally:u.applyPromoCodeA11y,processingText:u.processing,bindName:"applyPromoCode","data-autom":"bag-promocode-apply"},cancelButton:{label:u.cancel,ally:u.cancelPromoCodeA11y,bindName:p?"removePromoCode":void 0,"data-autom":"bag-promocode-cancel",metrics:d}}))},Mn=({modKey:e})=>{const{data:t,properties:n}=(0,k.Yl)(`${e}.promoCode`),[r]=(0,k.Ej)(`${e}.promoCode`,"_editing"),s=(0,k.W4)(`${e}.promoCode`,"edit"),l=!r&&s.binding.bindExists,i=(0,k.W4)(`${e}.promoCode`,"removePromoCode"),o=!r&&i.binding.bindExists,{assets:c}=(0,Y.S)(),[m]=(0,k.fL)(`${e}.promoCode`),{promoApplied:d,couponAppliedMessage:u,promoMessage:p,promoSaving:g}=t,y={...s.props,id:"rs-summary-enterpromocode",className:"as-buttonlink","aria-label":c.promoEnterLabel,"aria-controls":n.key,"data-autom":"bag-promocode-enteritnow"},v={...i.props,isLoading:n.isLoadingSubmit,hasDefaultClass:!1,className:"as-buttonlink"};return a().createElement(xn,{modKey:n.key,messages:m,promoApplied:d,couponAppliedMessage:u,promoMessage:p,promoSaving:g,showEditPromoCodeButton:l,editPromoCodeButtonProps:y,showRemovePromoCodeButton:o,removePromoCodeButtonProps:v,cancelMetricsForPromo:{eVar:"eVar6",feature:"PromoCode",action:"CancelPromoCode"}})},Fn=a().memo(Mn);var Bn=__webpack_require__(709);const Rn=({showTooltip:e,label:t,isEditing:n,postalCode:r,showGeoLocationDisclaimer:s,showTaxCalc:l,editButtonProps:i})=>{const{assets:o,viewport:c}=(0,Y.S)(),m="small"===c,d=r?`${r} ${o.estimatedTaxZipA11y}`:o.taxZipCodeA11y;return a().createElement("div",{className:"rs-summary-tax"},a().createElement("span",{className:"rs-summary-tax-label"},t),e&&a().createElement(Bn.Ay,{className:"rs-summary-tooltip",labelA11y:o.taxEstimateLabelIconA11y,before:!m,after:m,autoAlign:!0},a().createElement(Bn.Ox,null,o.taxTooltipTitle),a().createElement(Bn.ZI,null,o.taxTooltipContent)),l&&!n&&a().createElement("button",(0,Ie.A)({},i,{className:"as-buttonlink icon icon-after icon-chevrondown","aria-label":d,type:"button","data-autom":"enterzipcode-checkoutpage"}),r?a().createElement(a().Fragment,null,r,s&&o.geoLocationDagger):o.taxZipCode))},_n=({modKey:e})=>{const[t]=(0,k.lE)(e),{tax:n,taxSubLabel:r,bundleTaxSubLabel:s,showTooltip:l=!1}=t,{assets:i}=(0,Y.S)(),o=s?`${s}<br/>${r}`:r;return a().createElement(Je,{name:"tax",label:a().createElement(Rn,{showTooltip:l,label:i.tax}),value:n,subLabel:o})},$n=a().memo(_n),Hn={modExists:!1,data:{},properties:{},childModKeys:[]},Kn="_editing";var Vn=__webpack_require__(103);const Un=({checkboxProps:e})=>{const{assets:t}=(0,Y.S)();return a().createElement("div",{className:"rs-location-consent"},a().createElement(Vn.A,e,t.locationConsentMessage))},Wn=({isBagApp:e=!1,isCheckoutApp:t=!1})=>{let n="";e?n="shoppingCart.locationConsent":t&&(n=Re.mu);const r=(0,k.M1)(n),s={...(0,k.DZ)(n,"locationConsent",{disableFocusSync:!0}).props,id:(0,Q.A)()};return r&&a().createElement(Un,{checkboxProps:s})},Gn=a().memo(Wn),jn={eVar:"eVar6",feature:"TaxCalculator",action:"CancelZipCode"},qn=({modKey:e})=>{const{assets:t}=(0,Y.S)(),{modExists:n,data:r}=(0,k.Yl)(`${e}.taxCalculator`),{showVatLabel:s,tax:l}=r,[i]=(0,k.Ej)(e,"showTooltip"),[o]=(0,k.lE)(`${e}.taxCalculator.address`),{showGeoLocationDisclaimer:c,_editing:m}=o,d=C().get(o,"was.postalCode",""),u={...(0,k.W4)(`${e}.taxCalculator.address`,"edit").props,id:"rs-summary-enterzipcode","aria-controls":`${e}.taxCalculator.address`},p=s?t.tax:a().createElement(Rn,{showTooltip:i,showTaxCalc:n,label:t.taxEstimateLabel,isEditing:m,postalCode:d,showGeoLocationDisclaimer:c,editButtonProps:u});return a().createElement(a().Fragment,null,a().createElement(Je,{name:"tax",label:p,value:l}),n&&a().createElement(Ln.K,{modKey:`${e}.taxCalculator.address`,className:"rs-summary-enterzipcode",triggerRef:u.ref,visibleKey:Kn,textField:{label:t.zipCodeLabel,bindName:"postalCode","data-autom":"bag-zipcode-input"},applyButton:{label:t.apply,ally:t.applyZipCodeA11y,processingText:t.processing,bindName:"calculate","data-autom":"bag-zipcode-apply"},cancelButton:{label:t.cancel,ally:t.cancelTaxCalculatorA11y,"data-autom":"bag-zipcode-cancel",metrics:jn}},a().createElement(Gn,{isBagApp:!0})))},Yn=a().memo(qn),zn=({was:e,pinCodeAddressKey:t,showEditPinCodeAddresButton:n,editPinCodeAddresButtonProps:r,cancelMetricsForZipcode:s})=>{const{assets:l}=(0,Y.S)(),i=e&&e.postalCode,o=Z()({"rs-summary-pincode-warm-inline":e.postalCode,"rs-summary-pincode-cold-inline":!e.postalCode});return a().createElement("div",{className:o},a().createElement("h2",{className:"visuallyhidden"},l.pinCodeAvailibilityLabelA11y),i&&a().createElement("div",{className:"rs-summary-pincode"},a().createElement("span",null,`${l.deliveryPostalLabelWarmStart} `),n&&a().createElement("button",(0,Ie.A)({},r,{type:"button"}),a().createElement("span",null,e.postalCode),a().createElement("span",{className:"icon icon-after icon-chevrondown","aria-hidden":"true"}))),a().createElement("div",null,!i&&a().createElement("div",{className:"rs-summary-pincode"},l.pinCodeAvailibilityLabel),a().createElement(Ln.K,{modKey:t,className:"rs-summary-pincode-inlineeditor",triggerRef:r.ref,isCollapsible:Boolean(i),visibleKey:"_editing",textField:{label:l.zipCodeLabel,bindName:"postalCode","data-autom":"bag-pincode-input"},applyButton:{label:l.apply,ally:l.applyZipCodeA11y,processingText:l.processing,bindName:"calculate","data-autom":"bag-pincode-apply"},cancelButton:{label:l.cancel,ally:l.cancelZipCodeA11y,"data-autom":"bag-pincode-cancel",metrics:s}},a().createElement(Gn,{isBagApp:!0}))))},Zn=({modKey:e})=>{const[t]=(0,k.lE)(`${e}.pinCodeEligibility.address`),{was:n,_editing:r}=t,s=(0,k.W4)(`${e}.pinCodeEligibility.address`,"edit"),l=!r&&s.binding.bindExists,i=(0,k.Yl)(`${e}.pinCodeEligibility.address`).properties.key,o={...s.props,id:`${i}-enterpincode`,className:"as-buttonlink","data-autom":"bag-pincode-edit-cold","aria-controls":i};return a().createElement(zn,{was:n,pinCodeAddressKey:i,showEditPinCodeAddresButton:l,editPinCodeAddresButtonProps:o,cancelMetricsForZipcode:{eVar:"eVar6",feature:"Delivery",action:"CancelZipCode"}})},Jn=a().memo(Zn),Xn=({messages:e})=>a().createElement("div",{className:"rs-summary-segmentsavings"},e.map((e=>a().createElement("div",{key:e,className:"rs-summary-segmentsavingsmessage"},e)))),Qn=({modKey:e})=>{const[t]=(0,k.Ej)(e,"segmentSavingsMessages",[]);return t.length>0&&a().createElement(Xn,{messages:t})},er=a().memo(Qn),tr=({totalLoyaltySavings:e,totalListSavings:t})=>a().createElement("div",{className:"rs-summary-loyaltysavings-message"},a().createElement("div",{className:"rs-summary-value"},a().createElement("p",{className:"rs-total-loyalty-savings"},a().createElement("span",(0,Le.OH)(Qe.GP(e,{totalListSavings:t})))))),ar=({modKey:e})=>{const[t]=(0,k.Ej)(e,"totalListSavings"),{assets:n}=(0,Y.S)();return a().createElement(tr,{totalLoyaltySavings:n.totalLoyaltySavings,totalListSavings:t})},nr=a().memo(ar),rr=({creditInstallmentsContent:e,creditInstallmentTerm:t,creditInstallmentAmount:n})=>a().createElement("div",(0,Ie.A)({className:"rs-credit-installments"},(0,Le.OH)(Qe.GP(e,{creditInstallmentTerm:t,creditInstallmentAmount:n})))),sr=({modKey:e})=>{const[t]=(0,k.lE)(e),{creditInstallmentTerm:n,creditInstallmentAmount:r}=t,{fragments:s}=(0,Y.S)();return a().createElement(rr,{creditInstallmentsContent:s.creditInstallments,creditInstallmentTerm:n,creditInstallmentAmount:r})},lr=a().memo(sr),ir=({totalAmountAuthorized:e,tradeinLabel:t,tradeinLabelWithDeposit:n})=>{const{assets:r}=(0,Y.S)(),s=n?r.authorizedAmountInfoWithDeposit:r.authorizedAmountInfo;return a().createElement(a().Fragment,null,a().createElement(Je,{name:"totalAmountAuthorized",label:"",value:e}),t&&a().createElement(Je,{name:"totalAmountAuthorized",label:"",value:s}))},or=({modKey:e})=>{const[t]=(0,k.lE)(e),{totalAmountAuthorized:n,tradeinLabel:r,tradeinLabelWithDeposit:s}=t;return a().createElement(ir,{totalAmountAuthorized:n,tradeinLabel:r,tradeinLabelWithDeposit:s})},cr=a().memo(or),mr=({className:e,headerLabel:t,row:n})=>{const r=Z()(e,"row");return a().createElement("div",{className:r},a().createElement("div",{className:"large-12"},t&&a().createElement("div",{className:"rs-summary-subheader"},t),n&&n.map((e=>a().createElement(Je,{key:`amount-${e.name}`,name:e.name,label:e.label,value:e.value,subValue:e.subValue,valuea11y:e.valuea11y||""})))))},dr=({modKey:e})=>{const[t]=(0,k.Ej)(e,"amountChargedToday"),{headerLabel:n,row:r}=t;return a().createElement(mr,{className:"rs-summary-amountchargedtoday",headerLabel:n,row:r})},ur=a().memo(dr),pr=({modKey:e})=>{const[t]=(0,k.Ej)(e,"emiDetails"),{headerLabel:n,row:r}=t;return a().createElement(mr,{className:"rs-summary-emidetails",headerLabel:n,row:r})},gr=a().memo(pr),yr=({taxLabel:e,taxValue:t,name:n})=>{const r=Z()("rs-tax-section",{"rs-tax-alignleft":"taxLeftAligned"===n});return a().createElement("div",(0,Ie.A)({className:r},(0,Le.OH)(Qe.GP(e,{taxExclusiveTax:t}))))},vr=({modKey:e})=>{const[t]=(0,k.Ej)(e,"subTotalExclusiveTax"),{assets:n}=(0,Y.S)();return a().createElement(yr,{taxLabel:n.subTotalExclusiveTax,taxValue:t})},hr=a().memo(vr),Er=({totalTaxSubValue:e,totalTaxSubLabel:t})=>a().createElement("div",{className:"rs-summary-content"},t&&a().createElement("div",(0,Ie.A)({className:"rs-summary-tax-sublabel"},(0,Le.OH)(t))),e&&a().createElement("div",(0,Ie.A)({className:"rs-summary-subvalue"},(0,Le.OH)(e)))),br=({modKey:e})=>{const[{totalTaxSubValue:t,totalTaxSubLabel:n}]=(0,k.Ej)(e);return a().createElement(Er,{totalTaxSubValue:t,totalTaxSubLabel:n})},fr=a().memo(br),Ar=({modKey:e,name:t})=>{const[n]=(0,k.Ej)(e,"taxExclusiveTax"),{assets:r}=(0,Y.S)();return a().createElement(yr,{taxLabel:r.taxExclusiveTax,taxValue:n,name:t})},wr=a().memo(Ar),Nr=({modKey:e})=>{const[t]=(0,k.Ej)(e,"orderTotalExclusiveTax"),{assets:n}=(0,Y.S)();return a().createElement(yr,{taxLabel:n.orderTotalExclusiveTax,taxValue:t})},Sr=a().memo(Nr),Cr=({totalClassName:e,label:t,total:n,orderInstallmentPriceVal:r})=>{const{assets:s}=(0,Y.S)();return a().createElement(a().Fragment,null,a().createElement("div",{className:e},t&&(t&&"string"==typeof t?a().createElement("div",(0,Ie.A)({className:"rs-summary-label","data-autom":"bagtotallabel"},(0,Le.OH)(t))):a().createElement("div",{className:"rs-summary-label","data-autom":"bagtotalvalue"},t)),n&&(n&&"string"==typeof n?a().createElement("div",(0,Ie.A)({className:"rs-summary-value","data-autom":"bagtotalvalue"},(0,Le.OH)(n))):a().createElement("div",{className:"rs-summary-value","data-autom":"bagtotalvalue"},n))),r&&a().createElement("div",{className:"column large-10 large-last rs-summary-emiinstallmenttotal"},a().createElement("span",{"aria-hidden":"true"},Qe.GP(s.orderInstallmentPriceLabel,{orderInstallmentPrice:r})),a().createElement("span",{className:"visuallyhidden","aria-live":"polite"},Qe.GP(s.orderInstallmentPriceLabelA11y,{orderInstallmentPrice:r}))))},kr=({modKey:e})=>{const{assets:t}=(0,Y.S)(),[n]=(0,k.lE)(e),{suppressDefaultInstallmentDisplays:r,partnerFinancedInstallments:s,buyFlowInstallmentsFinancing:l,carrierFinancePromoSummary:i,totalAfterTradeIn:o,paymentSubLabel:c,showTotalAfterTradeinAsTotal:m,hasSubscription:d,orderInstallmentPrice:u,total:p,monthlyTotalPricing:g,totalLabel:y,showPayInFullFirst:v}=n,h=Z()("rs-summary-labelandvaluecontainer","rs-summary-total",{"rs-webinstallment-summary-total":l&&!s,"rs-carrierfinance-summary-total":i,"rs-monthlyprice-summary-total":g&&!v,"rs-monthlyprice-summary-total rs-monthlyprice-border":v}),{acShowInstallment:E}=mn();let b;return b=y||(o&&c&&!E?t.tradeInDueTodayLabel:d?t.totalToday:t.total),a().createElement(Cr,{totalClassName:h,label:b,total:m?o:p,orderInstallmentPriceVal:r?"":u})},Ir=a().memo(kr),Pr=()=>{const{fragments:e}=(0,Y.S)();return C().get(window,"chatConfig.chat",null)&&a().createElement("div",{className:"rs-chatspecialist-wrapper"},a().createElement("div",{className:"as-chat rs-chat rs-chatspecialist"},a().createElement("div",(0,Ie.A)({className:"rs-chat-content"},(0,Le.OH)(e.chatSpecialist)))))},Lr=({cashBackOffersData:e,cashBackHeader:t,cashBackLegalFooter:n})=>a().createElement("div",{className:"rs-cashbackoverlay"},a().createElement("h2",{id:"cashbackOptions",className:"rs-cashbackoverlay-header"},t),a().createElement("div",{className:"rs-cashbackoverlay-options-wrapper"},a().createElement("ul",{className:"rs-cashbackoverlay-options-list row small-12"},e.map((t=>{const n=Z()("rs-cashbackoverlay-options-item column",{"rs-cashbackoverlay-centered-item":1===e.length});return a().createElement("li",{className:n,id:t.id,key:t},a().createElement("div",{className:"rs-cashbackoverlay-option-list"},a().createElement("h3",{className:"rs-cashbackoverlay-option-image"},a().createElement(kt.Ay,{width:t.image.labelImageWidth,height:t.image.labelImageHeight,src:t.image.labelImageUrl,alt:t.image.labelImageAlt,"aria-hidden":"true"}),a().createElement("span",{className:"visuallyhidden rs-cashbackoverlay-imagealt-span"},t.image.labelImageAlt)),a().createElement("p",(0,Ie.A)({className:"rs-cashbackoverlay-offermessage-keyline"},(0,Le.OH)(t.offerMessage))),a().createElement("div",(0,Ie.A)({className:"rs-cashbackoverlay-offerdetails"},(0,Le.OH)(t.offerDetails.content)))))})))),a().createElement("div",(0,Ie.A)({className:"rs-cashbackoverlay-legalfooter"},(0,Le.OH)(n)))),Tr=({cashBackOffersData:e,cashBackHeader:t,cashBackLegalFooter:n,isOpen:r,setIsOpen:s})=>{const{viewport:l}=(0,Y.S)(),i="small"===l;return a().createElement(Ke.A,{visible:r,fixedWidth:!0,noPadding:!0,isFullscreen:i,ariaLabel:"cashbackOptions",footerContent:a().createElement(Pr,null),onClose:()=>s(!1)},a().createElement(Lr,{cashBackOffersData:e,cashBackHeader:t,cashBackLegalFooter:n}))},Or=({cashBackOverlayLinkButtonProps:e,cashBackOverlayLinkText:t,instantLearnMoreLabel:n})=>a().createElement("div",{className:"rs-cashbackoverlay-link"},a().createElement("button",(0,Ie.A)({},e,(0,Le.OH)(t),{type:"button","data-autom":"cashbackoverlay-button","aria-label":n,className:"as-buttonlink"}))),Dr=({modKey:e})=>{const{assets:n}=(0,Y.S)(),r=(0,k.W4)(e,"cashBackOverlayLink"),s=(0,k.Yl)(`${e}.cashBackOverlay`),[l]=(0,k.Ej)(e,"cashBackOverlayLink"),i=(0,k.X8)(`${e}.cashBackOverlay`),[o,c]=(0,t.useState)(!1),{header:m,legalFooter:d}=s.data,u=i.map((e=>({image:e.data.image,offerMessage:e.data.offerMessage,offerDetails:e.data.offerDetails,id:e.data.id}))),p={...r.props,onClick:()=>{c(!0),r.props.onClick()}},g=l&&n.instantLearnMoreLabel?n.instantLearnMoreLabel:"";return a().createElement(a().Fragment,null,s.modExists&&a().createElement(Tr,{cashBackOffersData:u,cashBackHeader:m,cashBackLegalFooter:d,isOpen:o,setIsOpen:c}),a().createElement(Or,{cashBackOverlayLinkButtonProps:p,cashBackOverlayLinkText:l,instantLearnMoreLabel:g}))},xr=a().memo(Dr),Mr=({hasACMessages:e,webApplyButtonProps:t,acMessageBootstrap:n,hideGetDailyCashWithAppleCardText:r,children:s,financeOverlayLinkLeftAlignment:l})=>{const i=Z()("rs-summary-financingmessage-wrapper",{"rs-summary-financingmessage-align-left":l});return a().createElement("div",{className:i},a().createElement("div",{className:"rs-summary-value"},e?a().createElement(ln,{webApplyButtonProps:t,bootstrap:n,shouldHideLinks:r,dataAutom:"rs-financinglink"},s):s))},Fr=({displayDynamicHeader:e,headerMap:t,noInstallmentsResponse:n,errorText:r,legalFooter:s,tradeInAndInstallments:l})=>{const{assets:i}=(0,Y.S)(),o=e?t.compareInstallmentSubHeader:i.installmentInfo;return a().createElement(a().Fragment,null,n?a().createElement("p",{className:"rs-financeoverlay-error"},r):a().createElement(a().Fragment,null,a().createElement("div",null,i.overlayHeader&&a().createElement("p",{className:"rs-finance-overlay-header"},i.overlayHeader),a().createElement("h2",{id:"financingOptions",className:"as-compareplansoverlay-header"},e?t.compareInstallmentHeader:i.compareInstallmentHeader)),o&&a().createElement("div",{className:"as-compareplansoverlay-info"},a().createElement("div",(0,Ie.A)({className:"as-compareplansoverlay-subinfo"},(0,Le.OH)(o)))),l,s&&a().createElement("div",(0,Ie.A)({className:"as-compareplans-information large-10 small-12 large-centered"},(0,Le.OH)(s)))))};var Br=__webpack_require__(3694);const Rr=({items:e,keys:t=[],attrs:n=[],classes:r={root:"",items:"",item:"",link:""},className:s,...l})=>{const{selectedIndex:i}=(0,Br.f2)();return a().createElement("div",{className:Z()("tabnav",s,r.root)},a().createElement(Br.wb,(0,Ie.A)({rootTag:"ul",className:Z()("tabnav-items",r.items)},l),e.map(((e,s)=>{const l=C().get(n,`[${s}]`,{});return a().createElement("li",{className:Z()("tabnav-item",r.item),role:"none",key:t[s]||e},a().createElement(Br.oz,(0,Ie.A)({index:s,className:Z()("tabnav-link",r.link,{current:i===s})},l),e))}))))},_r="base",$r="pill",Hr={[$r]:{itemClass:"rc-tabpills-item",buttonClass:"button rc-tabpills-button",selectedClass:"rc-tabpills-selected",containerClass:"rc-tabpills-container",compactClass:"rc-tabpills-container-compact"},[_r]:{itemClass:"as-buttongroup-item",buttonClass:"as-buttongroup-button",selectedClass:"as-buttongroup-selected",containerClass:"as-buttongroup",compactClass:"as-buttongroup-compact"}},Kr=({items:e,attrs:t=[],view:n=_r,compact:r,classes:s={root:"",item:"",button:""},className:l,prevChildItems:i,nextChildItems:o,...c})=>{const{selectedIndex:m}=(0,Br.f2)(),{itemClass:d,buttonClass:u,selectedClass:p,containerClass:g,compactClass:y}=Hr[n];return a().createElement(Br.wb,(0,Ie.A)({rootTag:"ul",className:Z()(g,{[y]:r},l,s.root)},c),e.map(((e,n)=>{const r=C().get(t,`[${n}]`,{});return a().createElement("li",{className:Z()(d,s.item),role:"presentation",key:e},i&&C().get(i,`[${n}]`),a().createElement(Br.oz,(0,Ie.A)({index:n,className:Z()(u,{[p]:m===n},s.button)},r),e),o&&C().get(o,`[${n}]`))})))},Vr=Br.Ay,Ur=({selectedTab:e,tables:t,showInstallmentsWithTradeinTab:n,columnHeaderLabels:r})=>{const{assets:s}=(0,Y.S)(),l=Z()("as-compareplans-wrapper",{"as-l-container-full-small":!n}),i=e||{tabKey:"nontradeinKey"},o=Z()("as-compareplans-bankname as-compareplans-first",{"rs-compareplans-savings-height":t.some((e=>e.savings))}),c=Z()("as-compareplans-data",{"rs-compareplane-paymentpromo-savings-height":t.some((e=>e.termData.some((e=>e.savingsPaymentPromo))))});return a().createElement("div",{className:"as-compareplans-tablewrapper"},a().createElement("div",{className:l,id:`${i.tabKey}-tab`,role:"tabpanel"},a().createElement("table",{className:"as-compareplans-datatable"},a().createElement("caption",{className:"visuallyhidden"},s.paymentCompareFinanceLink||s.compareFinanceLink),a().createElement("thead",{className:"rs-financeoverlay-compare-plan-table-head"},a().createElement("tr",{className:"rs-financeoverlay-compare-plan-table-heading-row"},a().createElement("th",{scope:"col",className:"as-compareplans-heading"},s.partnerHeading),r.map((e=>a().createElement("th",{scope:"col",className:"as-compareplans-heading",key:`financingcolheader-${e}`},e))))),a().createElement("tbody",null,t.map((e=>{const t=e.imageAttributes,n=t&&t.labelImageAlt?t.labelImageAlt:e.issuerName;return a().createElement("tr",{className:"rs-compareplans-issuer-row",key:`financingbankrow-${n}`},a().createElement("td",{className:o},t&&t.labelImageUrl?a().createElement(kt.Ay,{className:"as-compareplans-bankimage",width:t.labelImageWidth,height:t.labelImageHeight,src:t.labelImageUrl,alt:t.labelImageAlt}):e.issuerName,e.savings&&a().createElement("div",{className:"rs-compareplans-savings"},e.savings)),e.termData.map((e=>{let t="tradeInTabText"===i.tabKey?"netmonthly":"monthly";e[t]||"netmonthly"!==t||(t="monthly");const n="tradeInTabText"===i.tabKey&&"monthly"===t&&e[t]&&"-"!==e[t],r=`dataitem-${e.total}-${e.monthly}`;return a().createElement("td",{className:c,key:`financingbankitems-${r}`},a().createElement("div",{className:"rs-financeoverlay-compare-plan-item-asterisk"},n?a().createElement(a().Fragment,null,a().createElement("span",null,e[t]),a().createElement("span",{className:"visuallyhidden"},s.footnoteText),a().createElement("span",null,"*")):e[t]),e.rate&&a().createElement("div",null,e.rate),e.savingsPaymentPromo&&a().createElement("div",{className:"rs-financeoverlay-compare-plan-promo-savings"},e.savingsPaymentPromo),e.apr&&a().createElement("div",null,e.apr))})))}))))))},Wr=({tradeInTabHeaderMap:e,tables:n,columnHeaderLabels:r,showInstallmentsWithTradeinTab:s})=>{const[l,i]=(0,t.useState)(1),o=Object.entries(e).map((([e,t])=>({title:t,tabKey:e})));return a().createElement("div",{className:"row rs-tradeintab-container"},a().createElement("div",{className:"column large-12 small-12 large-centered rs-tradeintab-options"},a().createElement(Vr,{count:o.length,index:l,handleChange:i,className:"as-l-container-full-small"},a().createElement(Kr,{items:o.map((e=>e.title))})),a().createElement(Ur,{tradeInTabHeaderMap:e,selectedTab:o[l],tables:n,showInstallmentsWithTradeinTab:s,columnHeaderLabels:r})))};var Gr=__webpack_require__(4067);const jr=({cartTotal:e,orderTotalLabel:t,orderTotal:n,columnHeaderLabels:r,tables:s,compareMultipleBanksDropdownProps:l,issuerOptions:i=[],emiTypeOptions:o,emiOptionsRadioProps:c,emiSelectedOption:m,showConsolidatedTerms:d})=>{const{assets:u}=(0,Y.S)(),p=o?u.bankLabel:u.selectOne,g=o?u.selectBankLabel:u.selectOneCreditcard,y=Z()("rs-financeoverlay-multiplebanks as-l-container-full-small",{"rs-financeoverlay-multiplebanks-terms":d});return a().createElement("div",{className:y},d&&a().createElement("div",{className:"column large-12 small-12 large-centered rs-emi-table-header"},u.financeOverlayTableHeader),o&&a().createElement("div",{className:"column large-6 small-12 large-centered rs-emi-options"},a().createElement("fieldset",null,a().createElement("div",{className:"as-buttongroup rs-emiOptionsGroup"},o.map(((e,t)=>a().createElement("div",{className:"as-buttongroup-item large-5 rs-emiOption-item",key:e.value},a().createElement("input",(0,Ie.A)({},c,{type:"radio",value:e.value,checked:m===e.value,id:`emiOptionType${t}`,name:"emiOptionType",className:"as-buttongroup-radio rs-emiOption-radio"})),a().createElement("label",{htmlFor:`emiOptionType${t}`,className:"as-buttongroup-button large-12  rs-emiOption-button"},a().createElement("span",{className:"rs-emiOption-label"},e.label)))))))),i&&!!i.length&&a().createElement("div",{className:"rs-financeoverlay-dropdowns large-12"},a().createElement(Gr.A,(0,Ie.A)({},l,{id:"rs-financeoverlay-issuer",classes:{root:"large-6 small-12 large-centered column"},label:a().createElement("span",{"aria-label":g},p)}),i.map((e=>a().createElement(Gr.n,{key:e.value,value:e.value},e.label))))),n&&a().createElement("div",{className:"rs-emioverlay-ordertotal large-12 small-12"},a().createElement("span",{className:"rs-emioverlay-ordertotal-label"},t),a().createElement("span",{className:"rs-emioverlay-ordertotal-value"},n)),a().createElement("div",{className:"rs-financeoverlay-table"},e&&a().createElement("div",{className:"rs-financeoverlay-table-header as-l-container-full-small"},u.loanAmount,": ",e),a().createElement("div",{className:"rs-financeoverlay-wrapper"},a().createElement("div",{className:"rs-financeoverlay"},a().createElement("div",{className:"rs-financeoverlay-tableinner"},a().createElement("table",{className:"rs-emioverlay-tablewrapper rs-financeoverlay-comparebanks","aria-labelledby":"financingOptions"},a().createElement("thead",null,a().createElement("tr",{className:"rs-financeoverlay-duration"},r.map((e=>a().createElement("th",{scope:"col",className:"rs-emioverlay-headings",key:`financingcolheader-${e}`},e))))),a().createElement("tbody",null,s.map((e=>a().createElement("tr",{className:"rs-emioverlay-tablerow",key:e.termData[0]?`financingbankrow-${e.termData[0].term}`:"financingbankrow"},e.termData.map((e=>{const t=`dataitem-${e.cost}-${e.total}-${e.rate}-${e.monthly}`;return e.total?a().createElement("td",{className:"rs-financeoverlay-data large-6 small-6",key:`financingbankitems-${t}`},e.noCostEMI&&a().createElement("div",{className:"rs-financeoverlay-nocost-emi"},e.noCostEMI),e.topLabel&&a().createElement("div",{className:"rs-emioverlay-special-offers"},e.topLabel),a().createElement("div",{className:"rs-emioverlay-term"},e.term),a().createElement("div",(0,Ie.A)({className:"rs-emioverlay-total large-11 small-12"},(0,Le.OH)(e.total))),o&&e.totalSavings&&a().createElement("div",{className:"rs-emioverlay-totalsavings large-6 small-6"},e.totalSavings)):a().createElement("td",{className:"rs-financeoverlay-data large-6 small-6",key:`financingbankitems-${t}`},a().createElement("div",null,a().createElement("span",{className:"rs-emioverlay-installment"},a().createElement("span",null,e.installmentAmount),e.installmentsa11y&&a().createElement(a().Fragment,null,a().createElement("span",{"aria-hidden":"true"},e.installmentPer),a().createElement("span",{className:"visuallyhidden"},e.installmentsa11y))),e.imageAttributes&&e.imageAttributes.labelImageUrl&&a().createElement(kt.Ay,{className:Z()("rs-compareplans-bankimage",`rs-compareplans-bankimage-${e.imageAttributes.labelImageAlt.toLowerCase()}`),width:e.imageAttributes.labelImageWidth,height:e.imageAttributes.labelImageHeight,src:e.imageAttributes.labelImageUrl,alt:e.imageAttributes.labelImageAlt}),e.term&&a().createElement("span",{className:"rs-emioverlay-nototal-term"},e.term),e.threshold&&a().createElement("span",{className:"rs-emioverlay-threshold"},e.threshold)))}))))))))))))},qr=({tables:e=[],columnHeaderLabels:t,cartTotal:n})=>{const{assets:r}=(0,Y.S)();return a().createElement("div",{className:"as-l-container-full-small"},a().createElement("div",{className:"as-compareplans-tablewrapper"},n&&a().createElement("div",{className:"rs-financeoverlay-table-header as-l-container-full-small"},r.loanAmount,": ",n),a().createElement("div",{className:"as-compareplans-wrapper"},a().createElement("div",{className:"rs-financeoverlay-tableinner"},e.map((e=>{const n=e.imageAttributes,s=n&&n.labelImageAlt?n.labelImageAlt:e.issuerName;return a().createElement("div",{className:"rs-financeoverlay-issuer-tablecontent",key:`financingissuercontent-${s}`},a().createElement("table",{className:"rs-financeoverlay-tablewrapper as-compareplans-datatable",key:`financingtable-${s}`},a().createElement("caption",{className:"visuallyhidden"},`${r.compareInstallmentHeader}\n                                            ${e.thresholdText}`),a().createElement("thead",{className:"rs-financeoverlay-table-head"},a().createElement("tr",{className:"rs-financeoverlay-duration"},a().createElement("th",{scope:"col",className:"as-compareplans-heading"},n&&n.labelImageUrl&&a().createElement(kt.Ay,{className:"rs-compareplans-bankimage",width:n.labelImageWidth,height:n.labelImageHeight,src:n.labelImageUrl,alt:n.labelImageAlt})),t.map((e=>a().createElement("th",{scope:"col",className:"as-compareplans-heading",key:`financingcolheader-${e}`},a().createElement("div",{className:"rs-financeoverlay-compareplans-heading-item"},e)))))),a().createElement("tbody",null,a().createElement("tr",{className:"rs-financeoverlay-tablerow"},a().createElement("th",{scope:"row",className:"rs-financeoverlay-sidelabels rs-financeoverlay-first"},a().createElement("span",(0,Le.OH)(e.sideLabels.monthly))),e.termData.map((e=>{const t=`dataitem-${e.cost}-${e.total}-${e.monthly}`;return a().createElement("td",{className:"rs-financeoverlay-data",key:`financingdataitem-${t}`},a().createElement("div",{className:"rs-financeoverlay-compareplans-item-monthly-cost"},e.monthly),e.rate&&a().createElement("div",{className:"rs-financeoverlay-compareplans-item-rate"},e.rate),a().createElement("div",{className:"rs-financeoverlay-compareplans-item-apr"},e.apr))}))),a().createElement("tr",{className:"rs-financeoverlay-tablerow"},a().createElement("th",{scope:"row",className:"rs-financeoverlay-sidelabels rs-financeoverlay-first"},e.sideLabels.cost),e.termData.map((e=>{const t=`dataitem-${e.cost}-${e.total}-${e.monthly}`;return a().createElement("td",{className:"rs-financeoverlay-data",key:`financingdataitem-${t}`},e.cost)}))),a().createElement("tr",{className:"rs-financeoverlay-tablerow"},a().createElement("th",{scope:"row",className:"rs-financeoverlay-sidelabels rs-financeoverlay-first"},e.sideLabels.total),e.termData.map((e=>{const t=`dataitem-${e.cost}-${e.total}-${e.monthly}`;return a().createElement("td",{className:"rs-financeoverlay-data",key:`financingdataitem-${t}`},e.total)}))))),e.thresholdText&&a().createElement("table",{className:"rs-financeoverlay-thresholdtext-table"},a().createElement("tbody",{className:"rs-financeoverlay-thresholdtext-tablebody"},a().createElement("tr",{className:"rs-financeoverlay-thresholdtext-row"},a().createElement("td",{className:"rs-financeoverlay-thresholdtext-cell"},a().createElement("div",{className:"rs-financeoverlay-thresholdtext","aria-hidden":"true"},e.thresholdText))))))}))))))},Yr=({rows:e,footnotes:n})=>{const[r,s]=(0,t.useState)([]);return a().createElement("div",{className:"rs-payment-breakdown-wrapper"},a().createElement(ma,{index:r,handleChange:s,rootTag:"div"},e.map((e=>a().createElement(ca,{rootTag:"h3",title:`<span class="typography-eyebrow-reduced rs-payment-breakdown-accordian-title"><span>${e.header}</span> <span>${e.total}</span></span>`,iconAttrs:{"aria-hidden":"true"},classes:{root:"rs-payment-breakdown-accordian-item",button:"rs-payment-breakdown-accordian-header"},key:e.header},Array.isArray(e.rangeGroup)&&e.rangeGroup.map((t=>a().createElement("div",{className:"rs-payment-breakdown-data typography-body",key:`${e.header}-${t.label}`},a().createElement("span",{className:"large-8"},t.label),a().createElement("span",(0,Ie.A)({className:"large-last"},(0,Le.OH)(t.value)))))))))),n&&a().createElement("div",{className:"rs-payment-breakdown-footnotes"},n.map((e=>a().createElement("div",(0,Ie.A)({key:e,className:"rs-payment-breakdown-footnote"},(0,Le.OH)(e)))))))},zr=({columnHeaderLabels:e,instalmentData:t})=>a().createElement("table",{className:"rs-financeoverlay-comparebanks","aria-labelledby":"financingOptions"},a().createElement("thead",null,a().createElement("tr",{className:"rs-financeoverlay-duration"},e.map((e=>a().createElement("th",(0,Ie.A)({scope:"col",className:"rs-emioverlay-headings typography-body-reduced",key:`financingcolheader-${e}`},(0,Le.OH)(e))))))),a().createElement("tbody",null,Object.values(t.tables).map((e=>a().createElement("tr",{className:"rs-emioverlay-tablerow",key:e.termData[0]?`financingbankrow-${e.termData[0].term}`:"financingbankrow"},e.termData.map((e=>{const t=`dataitem-${e.cost}-${e.total}-${e.rate}-${e.monthly}`;return a().createElement("td",{className:"rs-financeoverlay-data large-6 small-6",key:`financingbankitems-${t}`},e.term&&a().createElement("div",{className:"rs-emioverlay-special-offers"},e.term),e.apr&&a().createElement("div",{className:"rs-emioverlay-special-offers"},e.apr),e.installmentFee&&a().createElement("div",{className:"rs-emioverlay-special-offers"},e.installmentFee),e.cancellationFee&&a().createElement("div",{className:"rs-emioverlay-special-offers"},e.cancellationFee))}))))))),Zr=({columnHeaderLabels:e,compareMultipleBanksDropdownProps:t,issuerOptions:n=[],modKey:r})=>{const{assets:s}=(0,Y.S)(),l=s.bankLabel,i=s.selectBankLabel,o=Z()("rs-financeoverlay-selectbanks as-l-container-full-small",{}),[c,m]=(0,k.Ej)(r,"issuer"),d=n.filter((e=>c===e.value)).pop(),[u]=(0,k.Ej)(r,`${d.value}`),p={...t,onChange:e=>{m(e.target.value)}};return a().createElement("div",{className:o},s.tableHeader&&a().createElement("div",{className:"rs-financeoverlay-table-header as-l-container-full-small"},s.tableHeader),n&&!!n.length&&a().createElement("div",{className:"rs-financeoverlay-dropdowns large-12"},a().createElement(Gr.A,(0,Ie.A)({},p,{id:"rs-financeoverlay-issuer",value:c,classes:{root:"large-6 small-12 large-centered column"},label:a().createElement("span",{"aria-label":i},l)}),n.map((e=>a().createElement(Gr.n,{key:e.value,value:e.value},e.label))))),a().createElement("div",{className:"rs-financeoverlay-table"},a().createElement("div",{className:"rs-financeoverlay-wrapper"},a().createElement("div",{className:"rs-financeoverlay"},a().createElement("div",{className:"rs-financeoverlay-tableinner"},a().createElement(zr,{columnHeaderLabels:e,instalmentData:u}))))))},Jr=({modKey:e})=>{const[t]=(0,k.lE)(e),n=(0,k.TP)(e,"issuer"),r=(0,k.tx)(e,"emiType"),s=n.props,l=r.props,{displayDynamicHeader:i,headerMap:o,noInstallmentsResponse:c,errorText:m,showInstallmentsWithTradeinTab:d,useInstallmentTableOverlay:u,cartTotal:p,showOnlyMonthlyInstallments:g,legalFooter:y,columnHeaderLabels:v,tables:h,tradeInTabHeaderMap:E,orderTotalLabel:b,orderTotal:f,issuerOptions:A,emiTypeOptions:w,paymentBreakdownTree:N,footnotes:S,showConsolidatedTerms:C,hasIssuerData:I}=t;let P;return P=d?a().createElement(Wr,{tradeInTabHeaderMap:E,tables:h,showInstallmentsWithTradeinTab:d,columnHeaderLabels:v}):g?a().createElement(Ur,{showInstallmentsWithTradeinTab:d,tables:h,columnHeaderLabels:v}):u&&!I?a().createElement(jr,{cartTotal:p,tables:h,columnHeaderLabels:v,orderTotalLabel:b,orderTotal:f,compareMultipleBanksDropdownProps:s,issuerOptions:A,emiTypeOptions:w,emiOptionsRadioProps:l,emiSelectedOption:r.binding.value,showConsolidatedTerms:C}):N?a().createElement(Yr,{rows:N,footnotes:S}):I?a().createElement(Zr,{columnHeaderLabels:v,issuerOptions:A,modKey:e,compareMultipleBanksDropdownProps:s}):a().createElement(qr,{cartTotal:p,columnHeaderLabels:v,tables:h}),a().createElement(Fr,{displayDynamicHeader:i,headerMap:o,noInstallmentsResponse:c,errorText:m,legalFooter:y,tradeInAndInstallments:P})},Xr=a().memo(Jr),Qr=({monthlyInstallmentsExists:e,financeOverlayLink:t,buttonProps:n,overlayProps:r,financeCalculatorExists:s,useInstallmentTableOverlay:l,modKey:i,financingOverlayLoading:o,showChatLink:c,topBanner:m,isCCITermsMod:d,hasIssuerData:u,buttonID:p,hasZiniaReviewExist:g})=>{const{viewport:y,assets:v,fragments:h}=(0,Y.S)(),E="small"===y,b=Z()({"rs-financeoverlay-emioverlay":l,"rs-financeoverlay-monthlyinstallments":e,"rs-financeoverlay-monthlyinstallments-breakdown":!!v.paymentBreakDownInstallmentLink,"rs-financeoverlay-select-banks-dropdown":!!u}),[f,A]=a().useState([]),w=!!t&&a().createElement("button",(0,Ie.A)({},n,(0,Le.OH)(t),{type:"button",className:Z()("as-buttonlink rs-financeoverlay-buttonlink icon icon-after icon-pluscircle",{"ribbon-link more":m}),"data-autom":"bag-installments-financing-options",id:p}));return a().createElement(a().Fragment,null,a().createElement(Ke.A,(0,Ie.A)({},r,{fixedWidth:!0,ariaLabel:"financingOptions",isFullscreen:E,classes:{root:b},footerContent:c?a().createElement(Pr,null):"",contentAttrs:{"data-autom":"financeOptionsOverlay"}}),e&&a().createElement("div",{className:"rs-finance-overlay","aria-labelledby":"aprFinanceLearnMoreveOverlayHeading"},a().createElement("div",(0,Le.OH)(Qe.GP(h.aprFinancingOverlayContent,{headerId:"aprFinanceLearnMoreveOverlayHeading"})))),s&&a().createElement(Xr,{modKey:i}),!c&&e&&a().createElement("div",{className:"rs-acmilearnmore-footnotes"},a().createElement(ya,null),a().createElement("div",null,a().createElement(ma,{rootTag:"div",index:f,handleChange:A,id:"rs-finance-footer",compact:!0},a().createElement(ca,{rootTag:"div",title:v.seeTermsConditions,withPlus:!1,withChevron:!0,role:"listitem",iconAttrs:{"aria-hidden":"true"},classes:{root:"rs-acmilearnmore-footer-item"}},a().createElement("div",(0,Le.OH)(h.aprLearnMoreOverlayNoCardFootnote))))))),!d&&!g&&a().createElement("div",{className:Z()("rs-financeoverlay-link",{"rs-banneroverlay-buttonlink":m})},o?a().createElement("div",{role:"img",className:"waitindicator waitindicator-inline waitindicator16-gray ","aria-label":v.processing}):a().createElement(a().Fragment,null,v.paymentCompareFinanceLinkText&&a().createElement("span",{className:"rs-financeoverlay-link-pretext"},v.paymentCompareFinanceLinkText),w),a().createElement(J.Jg,{isPending:o,messages:{pending:v.processing}})))},es=({modKey:e,topBanner:n})=>{const{assets:r}=(0,Y.S)(),[s]=(0,k.Ej)(e,"showPaymentBreakdownLink"),l=s?`${e}.paymentBreakdownOverlay`:`${e}.financeCalculator`,[i]=(0,k.Ej)(e,"monthlyInstallmentsOptions"),[o]=(0,k.Ej)(e,"momoInstallmentsEnabled"),c=(0,k.W4)(e,"viewFinanceOverlay"),m=c.binding.bindExists,d=(0,k.W4)(e,"viewPaymentBreakdownOverlay"),u=d.binding.bindExists,p=s?d.props:c.props,[g]=(0,k.lf)(l),y=(0,k.Yl)(l),[v]=(0,k.Ej)(e,"financeOverlayLinkText"),[h]=(0,k.Ej)(Re.nn,"partnerFinanceFromBag"),{useInstallmentTableOverlay:E,showChatLink:b,hasIssuerData:f}=y.data,{modExists:A}=(0,k.Yl)(Re.ZS),w=i||o,N=p.id?p.id:"rs-financingOptions-overlay",[S,C]=(0,t.useState)(!1),I=m||u,P=(0,k.M1)(Re.Fm),L=I?{...g,onExited:()=>{g.onExited(),c.props&&c.props.ref.current&&c.props.ref.current.focus()}}:{visible:S,onClose:()=>{C(!1)}},T=I?{...p}:{onClick:()=>{C(!0);Ae("Payment")}};return a().createElement(Qr,{monthlyInstallmentsExists:w,buttonProps:T,financeOverlayLink:i&&r.aprFinancingSummaryLink||w&&r.momoCCIFinanceLink||s&&!h&&r.paymentBreakdownLabel||n&&r.learnMore||v||r.compareFinanceLink||I&&r.paymentCompareFinanceLink,overlayProps:L,financeCalculatorExists:y.modExists,modKey:l,useInstallmentTableOverlay:E,showChatLink:b,financingOverlayLoading:c.binding.properties.isLoadingSubmit,topBanner:n,isCCITermsMod:A,hasIssuerData:f,buttonID:N,hasZiniaReviewExist:P})},ts=a().memo(es),as=({bagSeasonalMessage:e,bagInstallmentRestrictionMessage:t,financingMessage:n,loanOffer:r,installmentSummary:s,enableFinancingCalculatorLink:l,financeCalculatorModKey:i,momoInstallmentsEnabled:o})=>{const c=l&&!o;return a().createElement(a().Fragment,null,e&&a().createElement("p",(0,Le.OH)(e)),t&&a().createElement("p",(0,Le.OH)(t)),n&&a().createElement("div",{className:"large-12 rs-summary-financingmessage"},a().createElement("p",(0,Ie.A)({className:"large-8 small-12"},(0,Le.OH)(n)))),r&&a().createElement("p",(0,Le.OH)(r)),s&&a().createElement("p",(0,Le.OH)(s)),c&&a().createElement(ts,{modKey:i}))},{NOT_SAFARI:ns,OLD_DEVICE:rs,OLD_SAFARI:ss,NIL:ls,UNSUPPORTED:is}=window.acStoreApplePaySetup.AppleCardState,os=[ns,rs,ss,ls,is],cs=({modKey:e,showFinancingMessages:t,hideGetDailyCashWithAppleCardText:n})=>{const[r]=(0,k.lE)(e),s=(0,k.M1)(`${e}.webApplyRedirect`),l=`${e}.webApply`,{data:{applyLabel:i},properties:{isLoadingSubmit:o}}=(0,k.Yl)(l),{fragments:{bagSeasonalMessage:c,bagInstallmentRestrictionMessage:m}}=(0,Y.S)(),{financingMessage:d,buyflowMessages:u,showInstallmentMessage:p,showDynamicFinancing:g,creditOffer:y,loanOffer:v,installmentSummary:h,enableFinancingCalculatorLink:E,showPaymentBreakdownLink:b,financeOverlayLinkLeftAlignment:f,momoInstallmentsEnabled:A}=r,w=(0,k.W4)(l,"apply");C().get(u,"messages.additionalData.namedAssets",{}).isBFIEnabled=u&&u.isBFIEnabled;const N={hasACMessages:Boolean(t&&u),hideGetDailyCashWithAppleCardText:n,financeOverlayLinkLeftAlignment:f,webApplyButtonProps:{...w.props,isLoading:o||s,label:i,role:"link"},acMessageBootstrap:{...u,isBag:!0,bagWebApplyStates:os}};return a().createElement(Mr,N,a().createElement(as,{bagSeasonalMessage:c,installmentSummary:h,financingMessage:t?d:"",loanOffer:g&&y?v:"",bagInstallmentRestrictionMessage:p?m:"",enableFinancingCalculatorLink:E||b,financeCalculatorModKey:e,momoInstallmentsEnabled:A}))},ms=a().memo(cs),{isMobileIos:ds}=u.Ez(),us=({summaryData:e,financingOptionsModkey:n,financeCalculatorExists:r,financingOptionsLinkProps:s,financingOverlayLoading:l,financeOverlayProps:i,isFinanceBindExists:o,hasIssuerData:c,showChatLink:m})=>{const[d,u]=(0,t.useState)(!1),{assets:p,fragments:g,viewport:y}=(0,Y.S)(),v="small"===y,h=o?{...s}:{onClick:()=>{if(u(!0),e.showPayInFullFirst){Ae("Bag")}}},E=o?{...i,onExited:()=>{i.onExited(),s&&s.ref.current&&s.ref.current.focus()}}:null,[b,f]=a().useState([]),A=ds?e.iosURL:e.androidURL,w=Z()("rs-summary-financing-wrapper",{"rs-summary-label":e.showPayInFullFirst&&!e.monthlyTotalPricing,"rs-summary-value":!e.showPayInFullFirst||e.showPayInFullFirst&&e.monthlyTotalPricing}),N=p.aprFinancingSummaryLink||p.momoCCIFinanceLink,S=Z()("rs-installment-overlay",{"rs-financeoverlay-select-banks-dropdown":!!c});return a().createElement("div",{className:w},N&&a().createElement(a().Fragment,null,l?a().createElement("div",{role:"img",className:"waitindicator waitindicator-inline waitindicator16-gray ","aria-label":p.processing}):a().createElement("button",(0,Ie.A)({type:"button",className:"as-buttonlink rs-summary-financing-link"},h,{id:s.id}),a().createElement("span",(0,Ie.A)({"aria-hidden":"true"},(0,Le.OH)(N))),a().createElement("span",(0,Ie.A)({className:"visuallyhidden"},(0,Le.OH)(N))))),a().createElement(Ke.A,(0,Ie.A)({noPadding:!0,visible:d,onClose:()=>u(!1),isFullscreen:v,className:S,fixedWidth:!0,ariaLabel:"aprFinanceLearnMoreveOverlayHeading"},E,{footerContent:m?a().createElement(Pr,null):""}),e.partnerFinancedInstallments&&a().createElement("div",{className:"rs-acmilearnmore-overlay"},a().createElement("div",(0,Le.OH)(Qe.GP(g.aprFinancingOverlayContent,{headerId:"aprFinanceLearnMoreveOverlayHeading",appUrl:A}))),r&&a().createElement(Xr,{modKey:n}),!m&&a().createElement("div",{className:"rs-acmilearnmore-footnotes"},a().createElement(ya,null),a().createElement("div",null,a().createElement(ma,{rootTag:"div",index:b,handleChange:f,id:"rs-finance-footer",compact:!0},a().createElement(ca,{rootTag:"div",title:p.seeTermsConditions,withPlus:!1,withChevron:!0,role:"listitem",iconAttrs:{"aria-hidden":"true"},classes:{root:"rs-acmilearnmore-footer-item"}},a().createElement("div",(0,Le.OH)(g.aprLearnMoreOverlayNoCardFootnote)))))))))},ps=({modKey:e})=>{const[t]=(0,k.lE)(e),n=`${e}.financeCalculator`,r=(0,k.Yl)(n),s=(0,k.W4)(e,"viewFinanceOverlay"),[l]=(0,k.lf)(n),{bindExists:i}=(0,k.LZ)(e,"viewFinanceOverlay"),{hasIssuerData:o,showChatLink:c}=r.data;return a().createElement(us,{summaryData:t,financingOptionsModkey:n,financeCalculatorExists:r.modExists,financingOptionsLinkProps:s.props,financingOverlayLoading:s.binding.properties.isLoadingSubmit,financeOverlayProps:l,isFinanceBindExists:i,hasIssuerData:o,showChatLink:c})},gs=a().memo(ps),ys=()=>{const{assets:e}=(0,Y.S)();return a().createElement("li",(0,Ie.A)({className:"rs-summary-onetimecharge"},(0,Le.OH)(e.oneTimeCharge)))},vs=({monthlyTotalPricing:e,monthlyTotalPricingLabel:t,monthlyLabelDescription:n,orKeyWord:r,downPaymentDue:s,showPayInFullFirst:l,momoInstallmentsEnabled:i,mixedTradeInMonthlyInstallmentAmount:o,mixedTradeInPayMonthlyLabel:c,mixedTradeInDiscountText:m,mixedTradeInConsumptionTax:d,mixedTradeInTotal:u,hasMixedTerms:p,mixedTradeInShippingNonFinancedText:g,mixedTradeInPaymentsTermText:y})=>{const{assets:v}=(0,Y.S)(),h=t||c,E=e||o;return a().createElement("div",{className:"rs-summary-monthlyinstallment-price-section"},l&&a().createElement("div",{className:Z()("rs-summary-label",{"rs-summary-or-label":e||t})},r),a().createElement("div",{className:Z()("rs-summary-labelandvaluecontainer rs-summary-total",{"rs-pricingsummary-noborder":l})},h&&(t&&"string"==typeof t?a().createElement("div",(0,Ie.A)({className:"rs-summary-label","data-autom":"bagtotallabel"},(0,Le.OH)(t))):a().createElement("div",{className:"rs-summary-label","data-autom":"bagtotalvalue"},h)),E&&(e&&"string"==typeof e?a().createElement("div",(0,Ie.A)({className:"rs-summary-value","data-autom":"bagtotalvalue"},(0,Le.OH)(e))):a().createElement("div",(0,Ie.A)({className:"rs-summary-value","data-autom":"bagtotalvalue"},(0,Le.OH)(E))))),a().createElement("div",(0,Ie.A)({className:"rs-summary-label rs-summary-monthly-desc"},(0,Le.OH)(n))),l&&a().createElement("div",{className:"rs-summary-monthlyinstallment-details"},s&&s.map((({label:e,value:t})=>a().createElement(a().Fragment,null,a().createElement(Je,{key:`interest-${e}-${t}`,name:"interest",label:e}),a().createElement(Je,{key:`downpaymentdue-${e}-${t}`,name:"downpaymentdue",value:t})))),!e&&i&&a().createElement("div",{className:"rs-summary-label"},v.choosePreferredTerms)),!l&&!c&&a().createElement("div",{className:"rs-summary-label rs-summary-or-label"},r),p&&a().createElement(Je,{classes:"rs-mixed-terms-row",name:"mixedTradeInDiscount",label:u,value:d}),!p&&m&&a().createElement(Je,{name:"mixedTradeInDiscount",label:m,value:u}),!p&&d&&a().createElement(Je,{name:"mixedTradeInConsumptionTax",value:d}),(g||y)&&a().createElement("div",{className:"rs-summary-label"},p?y:g),p&&a().createElement("div",{className:"rs-summary-label"},m," ",g))},hs=({modKey:e})=>{const[t]=(0,k.lE)(e),{monthlyTotalPricing:n,monthlyTotalPricingLabel:r,monthlyLabelDescription:s,downPaymentDue:l,showPayInFullFirst:i,momoInstallmentsEnabled:o,mixedTradeInMonthlyInstallmentAmount:c,mixedTradeInPayMonthlyLabel:m,mixedTradeInDiscountText:d,mixedTradeInConsumptionTax:u,mixedTradeInTotal:p,hasMixedTerms:g,mixedTradeInShippingNonFinancedText:y,mixedTradeInPaymentsTermText:v}=t,{assets:h}=(0,Y.S)();return a().createElement(vs,{monthlyTotalPricing:n,monthlyTotalPricingLabel:r,monthlyLabelDescription:s,orKeyWord:h.orKeyWord,downPaymentDue:l,showPayInFullFirst:i,momoInstallmentsEnabled:o,mixedTradeInMonthlyInstallmentAmount:c,mixedTradeInPayMonthlyLabel:m,mixedTradeInDiscountText:d,mixedTradeInConsumptionTax:u,mixedTradeInTotal:p,hasMixedTerms:g,mixedTradeInShippingNonFinancedText:y,mixedTradeInPaymentsTermText:v})},Es=a().memo(hs),bs=({showTooltip:e,stateDeliveryFee:t})=>{const{assets:n,viewport:r}=(0,Y.S)(),s="small"===r;return a().createElement("div",null,a().createElement("span",{className:"rs-summary-statedeliveryfee-label"},n.stateDeliveryFeeLabel),e&&a().createElement(Bn.Ay,{className:"rs-summary-tooltip",labelA11y:n.stateDeliveryFeeLabelIconA11y,before:!s,after:s,autoAlign:!0},a().createElement(Bn.ZI,null,Qe.GP(n.stateDeliveryFeeInfo,{stateDeliveryFee:t}))))},fs=({modKey:e})=>{const[t]=(0,k.Ej)(e,"stateDeliveryFee"),[n]=(0,k.Ej)(e,"showTooltip");return a().createElement(Je,{name:"stateDeliveryFee",label:a().createElement(bs,{showTooltip:n,stateDeliveryFee:t}),value:t})},As=a().memo(fs),ws=({modKey:e,field:t,showFinancingMessages:n,hideGetDailyCashWithAppleCardText:r})=>{const{showField:s,type:l}=t;if(!s)return null;switch(l){case"summaryRow":return a().createElement(Je,{name:t.name,label:t.label,value:t.value});case"ePPPlusSummary":return a().createElement(Cn,{modKey:e});case"promoCodeRow":return a().createElement(Fn,{modKey:e});case"recycleFee":return a().createElement(Pn,{modKey:e});case"taxReview":return a().createElement($n,{modKey:e});case"taxWithTaxCalculator":return a().createElement(Yn,{modKey:e});case"pinCodeEligibility":return a().createElement(Jn,{modKey:e});case"totalListSavings":return a().createElement(nr,{modKey:e});case"segmentSavings":return a().createElement(er,{modKey:e});case"creditInstallmentAmount":return a().createElement(lr,{modKey:e});case"totalAmountAuthorizedRow":return a().createElement(cr,{modKey:e});case"amountChargedToday":return a().createElement(ur,{modKey:e});case"emiDetails":return a().createElement(gr,{modKey:e});case"subTotalExclusiveTax":return a().createElement(hr,{modKey:e});case"totalTaxSubValue":return a().createElement(fr,{modKey:e});case"showTaxInclusivePrices":return a().createElement(wr,{modKey:e,name:t.name});case"orderTotalExclusiveTax":return a().createElement(Sr,{modKey:e});case"totalAmountRow":return a().createElement(Ir,{modKey:e});case"monthlyInstallmentsRow":return a().createElement(Es,{modKey:e});case"financingMessagesMarkup":return a().createElement(ms,{modKey:e,showFinancingMessages:n,hideGetDailyCashWithAppleCardText:r});case"cashbackMessagesMarkup":return a().createElement(xr,{modKey:Ge});case"partnerFinancedInstallmentsMarkup":return a().createElement(gs,{modKey:e});case"oneTimeChargeLabel":return a().createElement(ys,{modKey:e});case"stateDeliveryFeeDetails":return a().createElement(As,{modKey:e});default:return null}},Ns=({name:e,label:t,value:n,subValue:r,subLabel:s,labelRed:l,labela11y:i,valuea11y:o,index:c,useLedgerSummary:m})=>{const d=e&&`rs-summary-${e.toLowerCase()}`,u=`bag${d}labelitem${c}`,p=`bag${d}valueitem${c}`,g=`bag${d}sublabelitem${c}`,y=`bag${d}subvalueitem${c}`,v=`bag${d}labelReditem${c}`,h=t&&"string"==typeof t,E=n&&"string"==typeof n,b=r&&"string"==typeof r,f=s&&"string"==typeof s,A=l&&"string"==typeof l,w=Array.isArray(l)?l.map((e=>a().createElement("div",(0,Ie.A)({key:e,className:"rs-summary-labelred-item"},(0,Le.OH)(e))))):l,N=Z()("rs-summary-content",d);return a().createElement("li",{className:N,role:"listitem"},a().createElement("div",{className:"rs-summary-labelandvaluecontainer"},t&&(h?a().createElement("div",{className:"rs-summary-label","data-autom":u},a().createElement("span",(0,Ie.A)({role:"text","aria-label":i||t},(0,Le.OH)(t)))):a().createElement("div",{className:"rs-summary-label","data-autom":u},t))||null,n&&(E?o&&a().createElement("div",{className:"rs-summary-value","data-autom":p},a().createElement("span",(0,Ie.A)({role:"text","aria-label":o},(0,Le.OH)(n))))||a().createElement("div",(0,Ie.A)({className:"rs-summary-value","data-autom":p},(0,Le.OH)(n))):a().createElement("div",{className:"rs-summary-value","data-autom":p},n))||null),s&&(f?a().createElement("div",(0,Ie.A)({className:Z()("rs-summary-sublabel",{"rs-review-monthly-installment":m}),"data-autom":g},(0,Le.OH)(s))):a().createElement("div",{className:Z()("rs-summary-sublabel",{"rs-review-monthly-installment":m}),"data-autom":g},s))||null,r&&(b?a().createElement("div",(0,Ie.A)({className:"rs-summary-subvalue large-last large-6 small-12","data-autom":y},(0,Le.OH)(r))):a().createElement("div",{className:"rs-summary-subvalue large-last large-6 small-12","data-autom":y},r))||null,l&&(A?a().createElement("div",(0,Ie.A)({className:"rs-summary-labelred","data-autom":v},(0,Le.OH)(l))):a().createElement("div",{className:"rs-summary-labelred","data-autom":v},w))||null)},Ss=({showBreakdownLink:e,headerLabel:t,paymentHeader:n,classes:r,installmentHeaderLabel:s,installmentRow:l,hasFlexibleTradeIn:i,useLedgerSummary:o,paymentBreakdownProps:c})=>{const{assets:m}=(0,Y.S)(),d=n?"column large-9 small-12":r,u=Z()("row rs-webinstallment-summary",{"rs-webinstallment-payment-breakdown":!!c&&e});return a().createElement("div",{className:u},n&&a().createElement("div",{className:`column large-3 small-12 rs-webinstallment-payment-header ${ra.A.LABEL}`},n),a().createElement("div",{className:d},a().createElement("h3",{className:"rs-webinstallment-summary-subheader","data-autom":"bagrs-installmentsummary-subheader"},s),a().createElement("ul",{className:"rs-webinstallment-summary-list","aria-label":m.productsLabel,role:"list"},l&&l.map(((e,t)=>("productDetails"===e.name||"promoSpecialSavings"===e.name)&&a().createElement(Ns,{key:e.label,name:e.name,label:e.label,subLabel:e.subLabel,labelRed:e.labelRed,value:e.value,subValue:e.subValue,labela11y:e.labela11y,valuea11y:e.valuea11y||"",index:t,useLedgerSummary:o})))),l&&l.map((t=>{let n,r;return e&&"total"===t.name&&c&&(r="rs-webinstallment-payment-breakdown-link-container",n=a().createElement("div",{className:"typography-body-reduced"},a().createElement("button",(0,Ie.A)({},c,{type:"button",className:"rs-webinstallment-payment-breakdown-link as-buttonlink icon icon-after icon-pluscircle"}),m.paymentBreakdownLabel))),"productDetails"!==t.name&&"promoSpecialSavings"!==t.name&&a().createElement(Je,{classes:r,key:t.name,name:t.name,label:t.label,subLabel:t.subLabel,labelRed:t.labelRed,value:n||t.value,subValue:t.subValue,monthlyValue:t.monthlyValue,valuea11y:t.valuea11y||"",useLedgerSummary:o})})),t&&!i&&a().createElement("h3",{className:"rs-webinstallment-summary-subheader","data-autom":"bagrs-installmentsummary-subheader"},t)))},Cs=({modKey:e,headerLabel:t,paymentHeader:n,classes:r})=>{const[s]=(0,k.lE)(e),[l]=(0,k.lE)(Re.nn),i=(0,k.W4)(e,"viewPaymentBreakdownOverlay"),{buyFlowInstallmentsFinancing:o,installmentsFinancing:c,hasFlexibleTradeIn:m,paidOverTimeLedger:d,paidTodayLedger:u,useLedgerSummary:p}=s,{partnerFinanceFromBag:g}=l,y=[];return d&&y.push(d),u&&y.push(u),o&&y.push(o),c&&y.push(c),y.map((e=>a().createElement(Ss,{key:e,showBreakdownLink:g,headerLabel:t,paymentHeader:n,classes:r,hasFlexibleTradeIn:m,installmentHeaderLabel:e.headerLabel,installmentRow:e.row,useLedgerSummary:p,paymentBreakdownProps:i.binding.bindExists&&i.props})))},ks=a().memo(Cs),Is=({fullPriceHeader:e,fullPriceRow:t,summaryData:n,classes:r})=>{const{assets:s}=(0,Y.S)(),l=Z()("rs-webinstallment-summary-subheader",{"rs-pricingsummary-noborder":t&&0===t.length&&!n.shipping&&n.showTaxInclusivePrices});return a().createElement("div",{className:r},a().createElement("h3",{className:l,"data-autom":"rs-fullprice-header"},e),a().createElement("ul",{className:"rs-webinstallment-summary-list","aria-label":s.productsLabel,role:"list"},t&&t.map((e=>a().createElement("li",{key:`fullprice-${e.name}`},a().createElement(Je,{name:e.name,label:e.label,labelRed:e.labelRed,value:e.value}))))))},Ps=({modKey:e,classes:t})=>{const[n]=(0,k.lE)(e),[r]=(0,k.Ej)(e,"fullPriceProducts"),{headerLabel:s,row:l}=r;return a().createElement(Is,{fullPriceHeader:s,fullPriceRow:l,summaryData:n,classes:t})},Ls=a().memo(Ps),Ts=({oneTimeItems:e,oneTimeTotal:t,monthlyItems:n,monthlyTotal:r,totalDisclaimer:s})=>{const{assets:l}=(0,Y.S)();return a().createElement("div",{className:"rs-bundle-summary"},e&&a().createElement("div",{className:"rs-bundle-summary-init"},a().createElement("h3",{className:"rs-bundle-summary-subheader"},l.oneTimeChargeLabel),e.map((e=>a().createElement(Je,{key:e.label,name:e.name,label:e.label,subLabel:e.subLabel,labelRed:e.labelRed,value:e.value,subValue:e.subValue,valuea11y:e.valuea11y||""}))),a().createElement(Je,{name:"total",label:l.total,value:t,key:"one-time-total"})),n&&a().createElement("div",{className:"rs-bundle-summary-monthly"},a().createElement("h3",{className:"rs-bundle-summary-subheader"},l.monthlyBundleLabel),n.map((e=>a().createElement(Je,{key:e.label,name:e.name,label:e.label,subLabel:e.subLabel,labelRed:e.labelRed,value:e.value,subValue:e.subValue,valuea11y:e.valuea11y||""}))),a().createElement(Je,{name:"total",label:l.total,value:r,subLabel:s,key:"monthly-total"})))},Os=({modKey:e})=>{const[t]=(0,k.lE)(e),{oneTimeSummary:n,monthlySummary:r,totalDisclaimer:s,appleAccountBalance:l,appleAccountBalanceDisclaimer:i}=t,{items:o,total:c}=n||{},{items:m,total:d}=r||{};return a().createElement(Ts,{oneTimeItems:o,oneTimeTotal:c,monthlyItems:m,monthlyTotal:d,totalDisclaimer:s,appleAccountBalance:l,appleAccountBalanceDisclaimer:i})},Ds=a().memo(Os),xs=({modKey:e,classes:t,isAcmi:n,supplementalInfo:r,showFinancingMessages:s=!0,cashBackSuperscript:l,noOffset:i,hideGetDailyCashWithAppleCardText:o=!1})=>{const{assets:c,viewport:m}=(0,Y.S)(),[d]=(0,k.lE)(e),[u]=(0,k.lE)("shoppingCart.actions"),[p]=(0,k.lE)("shoppingCart.shoppingCartMetaData"),g=(0,k.M1)(`${e}.taxCalculator`),y=(0,k.M1)(`${e}.promoCode`),v=(0,k.M1)(`${e}.pinCodeEligibility`),[h]=(0,k.Ej)(`${e}.promoCode`,"hidePromoModule"),[E]=(0,k.Ej)("shoppingCart.xMerch","placements"),b=E&&E.summary,{buyFlowInstallmentsFinancing:f,installmentsFinancing:A,carrierFinancePromoSummary:w,fullPriceProducts:N,monthlySummary:S,iUPOrInstallments:C,headerLabel:I,paymentLabel:P,installmentsHeader:L,useLedgerSummary:T}=d,[O]=(0,k.Ej)(`${e}.ePPPlusSummary`,"epptext"),D=Boolean(f||A||T),x=Boolean(S),M=Z()(t,{"large-9 large-offset-3 small-12 small-offset-0":!i},{"rs-summary-noline-height":f},{"rs-summary-paidovertimeledger":T}),F=Z()({"rs-summary-webinstallment":f,"rs-webinstallment-summary-acmi":f&&n,"rs-webinstallment-summary-buyflow":f&&!n,"rs-summary-partner-financing":f&&!L,"rs-webinstallment-summary-digitalfinancing":f&&L}),{acShowInstallment:B}=mn(),R=B&&u.displayInStack&&!f&&"small"===m?u.monthlyInstallment:"",_={acShowInstallment:B,shipping:d.shipping,epptext:O,subtotal:d.subtotal,instantCredit:d.instantCredit,amountChargedToday:d.amountChargedToday,instantCashback:d.instantCashback,emiDetails:d.emiDetails,loyaltyPointsAmount:d.loyaltyPointsAmount,downPayment:d.downPayment,paymentFullDiscount:d.paymentFullDiscount,tax:d.tax,appleBalanceApplied:d.appleBalanceApplied,totalGCsApplied:d.totalGCsApplied,noOfGiftCards:d.noOfGiftCards,taxCalculatorEnabled:d.taxCalculatorEnabled,hasTaxCalculator:g,recycleFee:d.recycleFee,fees:d.fees,hasPromoCode:y,hidePromoModule:h,upgrade:d.upgrade,installmentTerm:d.installmentTerm,installmentAmount:d.installmentAmount,total:d.total,buyFlowInstallmentsCashBackLabel:d.buyFlowInstallmentsCashBackLabel,tradeInRefund:d.tradeInRefund,savingsLabel:d.savingsLabel,totalAfterTradeIn:d.totalAfterTradeIn,totalAfterInstantTradeIn:d.totalAfterInstantTradeIn,paymentSubLabel:d.paymentSubLabel,showTotalAfterTradeinAsTotal:d.showTotalAfterTradeinAsTotal,showTaxInclusivePrices:d.showTaxInclusivePrices,taxExclusiveTax:d.taxExclusiveTax,creditInstallmentAmount:d.creditInstallmentAmount,totalSavings:d.totalSavings,totalSavingsInclusiveTax:d.totalSavingsInclusiveTax,totalListSavings:d.totalListSavings,segmentSavingsMessages:d.segmentSavingsMessages,financingMessage:d.financingMessage,enableFinancingCalculatorLink:d.enableFinancingCalculatorLink,financeOverlayLinkLeftAlignment:d.financeOverlayLinkLeftAlignment,paymentBreakdown:d.showPaymentBreakdownLink,buyflowMessages:d.buyflowMessages,installmentSummary:d.installmentSummary,cashBackOverlayLink:d.cashBackOverlayLink,hasPinCodeEligibility:v,cashBackSuperscript:l,monthlyTotal:d.monthlyTotal,partnerFinancedInstallments:d.partnerFinancedInstallments,hasFlexibleTradeIn:d.hasFlexibleTradeIn,tradeInCredit:d.tradeInCredit,outstandingLoan:d.outstandingLoan,iUPOrInstallments:d.iUPOrInstallments,paymentDetails:d.paymentDetails,totalTaxSubValue:d.totalTaxSubValue,totalTaxSubLabel:d.totalTaxSubLabel,acmiMonthlyPayment:R,acmiPayTextEnabled:u.acmiPayTextEnabled,assets:c,monthlyTotalPricing:d.monthlyTotalPricing,monthlyTotalPricingLabel:d.monthlyTotalPricingLabel,mixedTradeInMonthlyInstallmentAmount:d.mixedTradeInMonthlyInstallmentAmount,iupEstCredit:d.iupEstCredit,iupEstAfterCredit:d.iupEstAfterCredit,showPayInFullFirst:d.showPayInFullFirst,totalSavingsWithCard:d.totalSavingsWithCard,stateDeliveryFee:d.stateDeliveryFee,displayNetOfAllSavings:d.displayNetOfAllSavings,hasPartnerFinance:p.isPartnerFinancingSelectionDisabled,hideVatText:!!d.mixedTradeInConsumptionTax},$={orderTotal:d.orderTotal,subtotal:d.subtotal,installmentSubTotal:d.installmentSubTotal,subTotalExclusiveTax:d.subTotalExclusiveTax,tradeInValue:d.tradeInValue,installmentTotal:d.installmentTotal,orderTotalExclusiveTax:d.orderTotalExclusiveTax,installmentTotalFinanced:d.installmentTotalFinanced,downPayment:d.downPayment,shipping:d.shipping,tradeinCreditSecured:d.tradeinCreditSecured,tax:d.tax,hasTaxCalculator:g,recycleFee:d.recycleFee,fees:d.fees,hasPromoCode:y,hidePromoModule:h,installmentsremainingpayments:d.installmentsremainingpayments,firstInstallmentAmount:d.firstInstallmentAmount,upgrade:d.upgrade,totalCardCharge:d.totalCardCharge,amountAuthorized:d.amountAuthorized,totalAmountAuthorized:d.totalAmountAuthorized,psd2Enabled:d.psd2Enabled,financingMessage:d.financingMessage,enableFinancingCalculatorLink:d.enableFinancingCalculatorLink,buyflowMessages:d.buyflowMessages,installmentSummary:d.installmentSummary,cashBackOverlayLink:d.cashBackOverlayLink,tradeInCredit:d.tradeInCredit,iUPOrInstallments:d.iUPOrInstallments,hasFlexibleTradeIn:d.hasFlexibleTradeIn,outstandingLoan:d.outstandingLoan,tradeInType:d.tradeInType,stateDeliveryFee:d.stateDeliveryFee,assets:c},H=gn(_),K=yn($),V=x?a().createElement(Ds,{modKey:e}):H.map((t=>a().createElement(ws,{key:`summary-${t.name||t.type}`,modKey:e,field:t,showFinancingMessages:s,hideGetDailyCashWithAppleCardText:o}))),U=K.map((t=>a().createElement(ws,{key:`iUP-summary-${t.name||t.type}`,modKey:e,field:t,showFinancingMessages:s,hideGetDailyCashWithAppleCardText:o})));return a().createElement(wn,{summaryClasses:M,wrapperClass:F,webInstallmentSummary:D&&a().createElement(ks,{modKey:e,headerLabel:I,paymentHeader:P,classes:M}),fullPriceProductSummary:Boolean(N)&&a().createElement(Ls,{modKey:e,classes:M}),hasCarrierFinancePromoSummary:Boolean(w),hasIUPOrInstallments:Boolean(C),summaryModKey:e,supplementalInfo:r,summaryField:V,iUpSummaryField:U,showFinancingMessages:s,xMerchSummary:b})},Ms=a().memo(xs),Fs=({tradeUpQuote:e,tradeInEstimatedMarkup:n,summary:r,instantTradeInValue:s,overlayButtonLabel:l,overlayContent:i})=>{const[o,c]=(0,t.useState)(!1),{fragments:m,viewport:d}=(0,Y.S)(),u="small"===d;return a().createElement("div",{className:"rs-bag-tradeup"},a().createElement("div",{className:"row rs-tradeup-content"},a().createElement("h2",(0,Ie.A)({className:"column large-3 small-12 rs-tradeup-label"},(0,Le.OH)(e))),a().createElement("div",{className:"column large-9 small-12"},a().createElement("div",{className:"row"},n),a().createElement("div",{className:"rs-tradeup-summary"},r),s&&a().createElement("div",(0,Le.OH)(m.instantTradeInCreditTagLine)),a().createElement("div",{className:"rs-tradeup-instruction"},a().createElement("button",(0,Ie.A)({id:"tradeup-summary",className:"as-buttonlink icon icon-after icon-pluscircle",type:"button",onClick:()=>{c(!0),oe({eVar:re,feature:"TradeIn",action:"LearnMore"})}},(0,Le.OH)(l))),a().createElement(Ke.A,{visible:o,onClose:()=>c(!1),isFullscreen:u,ariaLabel:"pd-overlay-header",fixedWidth:!0,noPadding:!0},a().createElement("div",(0,Le.OH)(i)))))))},Bs=({modKey:e})=>{const[t]=(0,k.lE)(e),{installmentsWithTradeIn:n,instantTradeInValue:r,isTradeinDropoff:s,tradeInValue:l}=t,{assets:i,fragments:o}=(0,Y.S)(),c=n?i.instantTradeInTagLine:i.tradeInTagLine,m=n?i.instantTradeInInstruction:i.tradeInInstruction,d=s?o.instantTradeUpInstructionDropoffOverlayContent:o.instantTradeUpInstructionOverlayContent,u=n?d:o.tradeUpInstructionOverlayContent;let p="",g="";return l?(p=i.tradeUpQuote,g=a().createElement("h3",{className:"rs-tradeup-estimated-label"},Qe.GP(i.tradeInLabel,{tradeInValue:l}))):r&&(p=i.tradeInQuote,g=a().createElement("h3",{className:"rs-tradeup-estimated-label"},Qe.GP(i.instantTradeInCreditLabel,r))),a().createElement(Fs,{tradeUpQuote:p,tradeInEstimatedMarkup:g,summary:c,instantTradeInValue:r,overlayButtonLabel:m,overlayContent:u})},Rs=a().memo(Bs),_s=({isLast:e,title:t,isBundle:n,showHeader:r,children:s})=>{const{assets:l}=(0,Y.S)(),i=a().createElement("h2",{className:"rs-termsandconditions-title typography-label"},t||l.reviewTermsAndConditions),o=Z()("rs-termsandconditions",{"rs-termsandconditions-last":e,"rs-termsandconditions-without-header":n});return a().createElement("fieldset",{className:o},r&&!n&&a().createElement("legend",{className:"rs-termsandconditions-header"},i),a().createElement("div",{className:Z()({"large-10 small-12":!n})},a().createElement("div",{className:"rs-termsandconditions-content typography-body"},s)))},{isHandheldPhone:$s}=u.Ez(),Hs=({header:e,content:t,contentBottom:n,showCheckbox:r,checkboxProps:s,termsCheckboxContentDisplayMore:l,termsCheckboxDisplayMoreTopInfo:i,termsLink:o,termLineItems:c=[],displayMoreRef:m,termsCheckboxDisplayMoreBottomInfo:d,isCCITermsMod:u,modKey:p,financingOverlayLoading:g,financingOptionsLinkProps:y,isBundle:v})=>{const{assets:h}=(0,Y.S)(),{id:E,error:b}=s,f=r&&Boolean(b),A=Z()({"is-error":f}),w=f?`terms-checkbox-error${E}`:null,N=Boolean(c&&c.length);let S={};return v&&(S={onLoad:e=>{if(!$s)return;let t=0,a=null;e.target.contentWindow&&(a||(a=setInterval((()=>{const n=e.target.contentWindow.document.body.scrollHeight+30;t=n,n===t&&(e.target.style.height=`${n}px`,clearInterval(a))}),350)))},scrolling:$s?"no":"yes"}),a().createElement("div",{className:"rs-termsandconditions-first-content"},l&&a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-termsandconditions-loanheader"},i&&a().createElement("span",(0,Le.OH)(i)),o&&a().createElement("span",(0,Ie.A)({className:"large-last small-12 rs-review-termslink"},(0,Le.OH)(o)))),l&&a().createElement("div",{className:"row rs-termsandconditions-loanagreement",ref:m},a().createElement("iframe",(0,Ie.A)({},S,{sandbox:"allow-same-origin allow-popups allow-scripts",src:"about:blank",title:h.reviewTermsAndConditions,className:"row rs-termsandconditions-frame"}))),d&&a().createElement("div",{className:"rs-termsandconditions-bottominfo"},d)),e&&a().createElement("h3",(0,Ie.A)({className:"rs-termsandconditions-checkboxheader typography-body"},(0,Le.OH)(e))),(r||t)&&a().createElement("div",{className:A},r?a().createElement(a().Fragment,null,a().createElement(Vn.A,(0,Ie.A)({},s,{"aria-describedby":w}),a().createElement("span",(0,Le.OH)(t)),u&&h.cciTermsLabel&&a().createElement(a().Fragment,null,g?a().createElement("div",{role:"img",className:"waitindicator waitindicator-inline waitindicator16-gray ","aria-label":h.processing}):a().createElement("button",(0,Ie.A)({className:"as-buttonlink"},y),h.cciTermsLabel)),N&&a().createElement("ul",{className:"rs-review-termscontent"},c.map((e=>a().createElement("li",(0,Ie.A)({key:e},(0,Le.OH)(e)))))))):a().createElement("span",(0,Ie.A)({className:"rs-review-termscontent"},(0,Le.OH)(t))),n&&a().createElement("div",(0,Ie.A)({className:"rs-review-termscontent-bottominfo"},(0,Le.OH)(n)))),u&&h.cciTermsLabel&&a().createElement(ts,{modKey:p}))};var Ks=__webpack_require__(5497);const Vs=({modKey:e,isBundle:n})=>{const r=(0,k.sW)(),[s]=(0,k.lE)(e),l=(0,k.DZ)(e,"termsCheckbox"),{termsCheckboxHeader:i,termsCheckboxContent:o,termsCheckboxBottomInfo:c,shouldShowCheckbox:m,termsCheckboxContentDisplayMore:d,termsCheckboxDisplayMoreTopInfo:u,termsLink:p,termLineItems:g,mustScroll:y,termsCheckboxDisplayMoreBottomInfo:v}=s,[h,E]=(0,t.useState)(!1),[b,f]=(0,t.useState)(!1),A=(0,t.useRef)(null),w=`terms-and-conditions-${e.split(".").pop()}-checkbox`,N=Boolean(e===`${Re.ZS}`),S=(0,k.W4)(e,"viewFinanceOverlay"),I={...S.props,onClick:e=>{e.preventDefault(),S.props.onClick()}},P=`\n    :root {\n        color-scheme: light only;\n    }\n\n    .rs-termsandconditions-frame-content {\n        overflow-y: scroll;\n        -webkit-overflow-scrolling: touch;\n        ${n?"padding-inline-end: 5px":"padding: 20px;"}\n        margin: 10px\n    }\n    .rs-termsandconditions-frame-content::-webkit-scrollbar {\n        width: 5px;\n        height: 5px;\n    }\n    .rs-termsandconditions-frame-content::-webkit-scrollbar-thumb {\n        height: 50px;\n        border-radius: 3px;\n        background: #1d1d1f;\n    }\n    .rs-termsandconditions-frame-content::-webkit-scrollbar-track {\n        background: #f5f5f7;\n    }\n    ${n?"\n        #lease_agreement_body {\n            display: none;\n        }\n        #lease_agreement_ui {\n            display: block !important;\n        }\n        .ui_section {\n            border: 1px solid #d2d2d7;\n            margin-bottom: 30px;\n            border-radius: 8px;\n            font-size: 1em;\n            font-family: '-apple-system', 'SF Pro Display', 'SF Pro Icons', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;\n        }\n        .ui_section_heading {\n            background: black;\n            color: white;\n            padding: 0.95rem 0 0.95rem 1.45rem;\n            border-radius: 6px 6px 0 0;\n        }\n        .ui_section_row {\n            margin: 0 0.95rem;\n            border-bottom:  #d2d2d7 solid 1px;\n        }\n        .ui_section_row:last-child {\n            border: none;\n            margin-bottom: 0.95rem;\n        }\n        .ui_row_label {\n            display: block;\n            font-weight: 600;\n            padding-top: 1.4em;\n        }\n         .ui_row_content {\n            display: block;\n            padding-top: 0.75rem;\n            padding-bottom: 1.45rem;\n        }\n        .ui_section_sub_heading, .ui_section_title {\n            font-weight: 600;\n        }\n        .ui_section_sub_heading {\n            padding: 1.45rem 0;\n            display: block;\n        }\n        .ui_row_amount {\n            display: flex;\n            font-size: 1em;\n            font-weight: 600;\n            justify-content: space-between;\n            padding: 1.45rem 0;\n        }\n        .ui_row_amount_label {\n            padding: 0;\n        }\n        .ui_amount {\n            text-align: end;\n            padding: 0;\n            color: rgb(128, 128, 128);\n            color: -apple-system-label ! important;\n        }\n        .ui_section_row_footer {\n            font-size: 0.8em;\n            color: black;\n            color: -apple-system-label ! important;\n            padding-bottom: 1.45rem;\n        }\n        .ui_row_content + .ui_row_content {\n            padding: 0;\n        }\n        .ui_row_content:has(+ .ui_row_content) {\n            padding-bottom: 0;\n        }\n        .ui_section_row_footer .ui_row_content {\n            padding-bottom: 0;\n        }\n        .ui_section_row:last-child .ui_row_content {\n            padding-bottom: 0;\n        }\n    ":""}`,L=()=>{r({type:W.Ru.SET_BIND_PROPERTY,modKey:Re.zQ,bindName:"continue",key:"enabled",value:!0}),r({type:W.Ru.SET_BIND_PROPERTY,modKey:Ks.PT,bindName:"continue",key:"enabled",value:!0})};(0,t.useEffect)((()=>{A.current&&(e=>{if(!b&&e){y&&n&&setTimeout((()=>{r({type:W.Ru.SET_BIND_PROPERTY,modKey:Re.zQ,bindName:"continue",key:"enabled",value:!1})}),0);const a=(t=e=(e=(e=e.replace(/<script/gm,"<noscript")).replace(/<\/script/gm,"</noscript")).replace("prefers-color-scheme: dark","prefers-color-scheme: none"),/<[a-z][\s\S]*>/i.test(t));let s;if(n||!a){const t=(new DOMParser).parseFromString(e,"text/html"),a=t.documentElement.querySelector("#lease_agreement_ui");s=n?C().get(a,"innerHTML",""):t.documentElement.textContent}else s=e;const l=A.current.querySelector(".rs-termsandconditions-frame");l.contentWindow.document.open(),l.contentWindow.document.write(`<!DOCTYPE html>${s}`),l.contentWindow.document.close();const i=l.contentWindow.document.documentElement,{contentDocument:o={}}=l,{body:c}=o,m=c&&c.querySelectorAll("a");if(m&&m.length)for(let e=0;e<m.length;e+=1)m[e].setAttribute("target","_blank");if(c){c.classList.add("rs-termsandconditions-frame-content");const e=document.createElement("style");c.appendChild(e),e.setAttribute("type","text/css"),e.appendChild(document.createTextNode(P))}if(y)if(n){const e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&L()}))}),{threshold:.12}),t=l.contentWindow.document.querySelector("#ui_section_federal_disclosures");i&&t&&e.observe(t)}else{const e=.9*i.scrollHeight;o.addEventListener("scroll",(()=>{h||i.scrollTop+l.offsetHeight>=e&&(E(!0),L())}))}f(!0)}var t})(d)}),[]);return a().createElement(Hs,{header:i,content:o,contentBottom:c,showCheckbox:m,checkboxProps:{...l.props,onClick:e=>{l.props.onClick(e),(({id:e})=>{const t=new CustomEvent("echoInteractionEvent",{detail:{id:e}});window.dispatchEvent(t)})({id:l.props.id})},required:!l.binding.properties.optional,"aria-required":!l.binding.properties.optional,"aria-invalid":Boolean(l.props.error),disabled:!(!y||h),"data-autom":w},termsCheckboxContentDisplayMore:d,termsCheckboxDisplayMoreTopInfo:u,termsLink:p,termLineItems:g,displayMoreRef:A,termsCheckboxDisplayMoreBottomInfo:v,isCCITermsMod:N,modKey:e,financingOverlayLoading:S.binding.properties.isLoadingSubmit,financingOptionsLinkProps:I,isBundle:n})},Us=a().memo(Vs),Ws=()=>{const{assets:e}=(0,Y.S)();return a().createElement("div",{className:"rs-fulfillment-loading"},a().createElement("div",{role:"img","aria-label":e.processing,className:"waitindicator waitindicator40-gray"}))},Gs=({modKey:e,isLast:t,isBundle:n,showHeader:r=!0})=>{const s=(0,k.Yl)(e),l=(0,k.W4)(e,"pollPaymentSession");return C().get(l,"binding.properties.isLoadingSubmit",!1)||C().get(l,"binding.properties.polling",!1)?a().createElement(Ws,null):0===s.childModKeys.length?null:a().createElement(_s,{isLast:t,title:s.data.termsAndConditionsHeaderLabel,isBundle:n,showHeader:r},s.childModKeys.map((e=>a().createElement(Us,{key:e,modKey:e,isBundle:n}))))},js=a().memo(Gs),qs=({eppError:e,eppText:t,showCheckEligibilityLink:n,showEppButton:r,eppButtonProps:s,eppLabel:l,eppTextRef:i,eppErrorRef:o,eppDisclaimer:c})=>{const{assets:m,fragments:d}=(0,Y.S)(),u=Z()("rs-payment-eppplus-discount",{"rs-payment-eppplus-title":!n});return a().createElement("div",{className:"rs-payment-eppplus"},a().createElement("div",{className:"row"},e?a().createElement("div",(0,Ie.A)({className:"column large-6 small-12 form-alert is-error",tabIndex:"-1",ref:o},(0,Le.OH)(e))):a().createElement("div",{className:"column large-6 small-12"},m.eppTitle,a().createElement("div",{className:u},t&&a().createElement("span",(0,Ie.A)({className:"rs-payment-eppplus-para",tabIndex:"-1",ref:i},(0,Le.OH)(t))),r&&a().createElement("button",(0,Ie.A)({},s,{type:"button",className:"as-buttonlink"}),l),c&&a().createElement("div",(0,Ie.A)({className:"rs-payment-eppplus-disclaimer"},(0,Le.OH)(c))))),a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",(0,Ie.A)({className:"as-supplementalinfo"},(0,Le.OH)(d.eppViewEppDetails))))))},Ys=({modKey:e})=>{const[n]=(0,k.lE)(e),{showCheckEligibilityLink:r,eppError:s,epptext:l,eppDisclaimer:i}=n,o=a().useRef(null),c=a().useRef(null),{assets:m}=(0,Y.S)(),{buttonBindName:d,eppLabel:u}=((e,t)=>{const{showCheckEligibilityLink:a,showApply:n,showRemove:r}=e;let s="",l="";return a?(s="check-binding",l=t.eppCheck):n?(s="apply-binding",l=t.apply):r&&(s="remove-binding",l=t.remove),{buttonBindName:s,eppLabel:l}})(n,m),p=(0,k.W4)(e,d),g=p.binding.bindExists;return(0,t.useEffect)((()=>{d&&(o.current?o.current.focus():c.current&&c.current.focus())}),[d]),a().createElement(qs,{eppError:s,eppText:l,showCheckEligibilityLink:r,showEppButton:g,eppButtonProps:p.props,eppLabel:u,eppTextRef:o,eppErrorRef:c,eppDisclaimer:i})},zs=a().memo(Ys),Zs=e=>{const t=a().useRef(e);return[e=>a=>{t.current&&(t.current[e]=a)},e=>t?.current?.[e],t]},Js=({inline:e,reduced:t,tiny:n,noScrim:r,className:s="",children:l,...i})=>a().createElement("span",(0,Ie.A)({className:Z()("badge",{"badge-reduced":t,"badge-tiny":n,"badge-no-scrim":r,"badge-inline":e},s)},i),l),Xs="base",Qs="reduced",el="tiny",tl=({tag:e="div",size:t=Xs,badge:n,label:r,caption:s,index:l,selected:i,onChange:o,onKeyDown:c,children:m,...d},u)=>{const p=a().useRef(),g=a().useRef(!1),y=t===Qs||t===el,v=t===Qs||t===el;return a().useEffect((()=>{i&&g.current&&p.current.focus(),g.current=!0}),[i]),a().createElement(e,{className:Z()("rc-segmented-control-item",{"rc-segmented-control-with-badge":!!n&&t===Xs,"typography-caption":t===el}),ref:u},a().createElement("button",(0,Ie.A)({type:"button",role:"radio",ref:p,tabIndex:i?0:-1,"aria-checked":i,className:Z()("rc-segmented-control-button",{"rc-segmented-control-selected":i}),onKeyDown:c,onClick:()=>{i?p.current.focus():o(l)}},d),m&&a().createElement(a().Fragment,null,m),!m&&a().createElement(a().Fragment,null,n&&!y&&a().createElement(Js,(0,Ie.A)({className:"rc-segmented-control-badge",noScrim:!0,reduced:!0},(0,Le.OH)(n))),r&&a().createElement("span",(0,Ie.A)({className:"rc-segmented-control-label"},(0,Le.OH)(r))),s&&!v&&a().createElement("span",(0,Ie.A)({className:"rc-segmented-control-caption typography-caption"},(0,Le.OH)(s))))))},al=a().forwardRef(tl),nl=({tag:e="div",index:t=0,size:n=Xs,groupLabel:r,onChange:l=(()=>{}),children:i,dir:o,mowNoWrap:c=!1,...m})=>{const{viewport:d}=(0,Y.S)(),u="small"===d,p=a().useMemo((()=>"rtl"===o||"rtl"===(0,Le.NL)()),[o]),g=i.filter((e=>e.type===al)).length,[y,v]=Zs({}),h=()=>{l(t-1>-1?t-1:g-1)},E=()=>{l(t+1<g?t+1:0)},b=e=>{e.keyCode===s.HP.ArrowRight?p?h():E():e.keyCode===s.HP.ArrowLeft&&(p?E():h())},f=!!(i||[]).find((e=>!!e.props.badge)),A=!!(i||[]).find((e=>!!e.props.caption)),w=n===Qs,N=n===el,S=i&&2===i.length,C=!(N||S);return a().useLayoutEffect((()=>{C&&u&&v(t)?.scrollIntoView({block:"nearest",inline:"center"})}),[]),a().createElement("fieldset",{className:"rc-segmented-control-fieldset"},a().createElement("legend",{className:"visuallyhidden"},r),a().createElement(e,(0,Ie.A)({className:Z()("rc-segmented-control typography-body-tight",{"rc-segmented-control-has-badge":f,"rc-segmented-control-has-caption":A,"rc-segmented-control-has-reduced":w,"rc-segmented-control-has-tiny":N,"rc-segmented-control-is-bimodal":S,"rc-segmented-control-mow-nowrap":c}),role:"radiogroup"},m),i&&i.map(((e,r)=>e.type===al?a().createElement(al,(0,Ie.A)({key:e.key,ref:y(r),index:r,size:n,selected:t===r,onChange:l,onKeyDown:b},e.props.children?{children:e.props.children}:e.props)):null))))},rl=({options:e,selectedIndex:t,handleIndexChange:n,xMerch:r})=>{const{assets:s}=(0,Y.S)();return a().createElement("div",{className:"column large-6 small-12 large-centered rs-fulfillment-options"},a().createElement("fieldset",null,a().createElement("legend",{className:"visuallyhidden"},a().createElement("h2",null,s.fulfillmentOptionsA11y)),a().createElement(nl,{index:t,onChange:n},e.map((e=>{const t="HOME"===e.value?'<svg class="as-svgicon-rtl-mirrored as-svgicon as-svgicon-boxtruck as-svgicon-reduced as-svgicon-boxtruckreduced" viewBox="0 0 25 25" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h25v25H0z"/><path fill="#1d1d1f" d="m23.482 12.847-2.92-3.209A1.947 1.947 0 0 0 18.985 9H17V6.495a2.5 2.5 0 0 0-2.5-2.5h-11a2.5 2.5 0 0 0-2.5 2.5v9.75a2.5 2.5 0 0 0 2.5 2.5h.548A2.746 2.746 0 0 0 6.75 21.02 2.618 2.618 0 0 0 9.422 19h6.681a2.744 2.744 0 0 0 5.347-.23h.735A1.656 1.656 0 0 0 24 16.98v-2.808a1.937 1.937 0 0 0-.518-1.325ZM8.426 18.745a1.74 1.74 0 0 1-3.352 0 1.577 1.577 0 0 1 .015-1 1.738 1.738 0 0 1 3.322 0 1.578 1.578 0 0 1 .015 1ZM9.447 18a2.726 2.726 0 0 0-5.394-.255H3.5a1.502 1.502 0 0 1-1.5-1.5v-9.75a1.502 1.502 0 0 1 1.5-1.5h11a1.502 1.502 0 0 1 1.5 1.5V18Zm10.972.77a1.738 1.738 0 0 1-3.337 0 1.573 1.573 0 0 1 0-1 1.742 1.742 0 1 1 3.337 1ZM23 16.98c0 .569-.229.79-.815.79h-.735A2.73 2.73 0 0 0 17 16.165V10h1.986a.976.976 0 0 1 .838.314l2.927 3.214a.95.95 0 0 1 .249.644Zm-1.324-3.36a.512.512 0 0 1 .174.38h-3.306a.499.499 0 0 1-.544-.528V11h1.073a.76.76 0 0 1 .594.268Z"/></svg>':'<svg viewBox="0 0 35 35" class="as-svgicon as-svgicon-applestorepickup as-svgicon-base as-svgicon-applestorepickupbase" role="img" aria-hidden="true" width="35px" height="35px"><path fill="none" d="M0 0h35v35H0z"/><path d="M25.5 7h-2.529a5.493 5.493 0 0 0-10.942 0H9.5A3.5 3.5 0 0 0 6 10.5v15A3.5 3.5 0 0 0 9.5 29h16a3.5 3.5 0 0 0 3.5-3.5v-15A3.5 3.5 0 0 0 25.5 7Zm-8-4a4.488 4.488 0 0 1 4.446 4h-8.892A4.488 4.488 0 0 1 17.5 3ZM28 25.5a2.5 2.5 0 0 1-2.5 2.5h-16A2.5 2.5 0 0 1 7 25.5v-15A2.5 2.5 0 0 1 9.5 8h16a2.5 2.5 0 0 1 2.5 2.5Z"/><path d="M20.272 17.075a2.326 2.326 0 0 1 1.078-1.94 2.348 2.348 0 0 0-2-1c-.759 0-1.375.463-1.782.463s-.968-.441-1.65-.441a2.719 2.719 0 0 0-2.541 3.021 6.311 6.311 0 0 0 1.056 3.363c.506.717.946 1.29 1.584 1.29s.9-.419 1.672-.419c.8 0 .968.408 1.661.408s1.155-.628 1.584-1.246a4.733 4.733 0 0 0 .693-1.444 2.215 2.215 0 0 1-1.355-2.055ZM17.621 14.021A1.966 1.966 0 0 0 19 13.294a2.328 2.328 0 0 0 .528-1.422 1.076 1.076 0 0 0-.011-.2 2.19 2.19 0 0 0-1.485.772 2.26 2.26 0 0 0-.561 1.378c0 .077.011.154.011.187.04.001.084.012.139.012Z"/></svg>';return a().createElement(al,{key:e.value},a().createElement("div",(0,Ie.A)({className:"rc-segmented-control-icon"},(0,Le.OH)(t))),a().createElement("div",{className:"rc-segmented-control-text"},e.title))})))),a().createElement("div",{className:"row"},e.map((e=>{let t;return r.pickupToggle&&"HOME"===e.value?t=r.deliveryToggle:r.pickupToggle&&"RETAIL"===e.value&&(t=r.pickupToggle),t&&a().createElement("div",(0,Ie.A)({key:e.value,className:"column large-6 rs-fulfillment-optionssubtitle typography-body-reduced"},(0,Le.OH)(t)))}))))},sl=()=>{const{assets:e}=(0,Y.S)(),[n]=(0,k.Ej)(Re.K2,"options"),r=(0,k.LZ)(Re.K2,"selectFulfillmentLocation"),[s]=(0,k.Ej)(Re.J0,"placements"),{properties:{isLoadingSubmit:l}}=(0,k.Yl)(Re.K2),[i,o]=(0,t.useState)("HOME"===r.value?0:1);return n?a().createElement(a().Fragment,null,a().createElement(rl,{options:n,selectedIndex:i,handleIndexChange:e=>{o(e),r.setValue(n[e].value),r.runSetEvents()},xMerch:s||{}}),a().createElement(J.Jg,{isPending:l,messages:{pending:e.processing,finished:e.contentLoadedA11y}})):null},ll=a().memo(sl),il=e=>{const a=(0,t.useRef)(e);return(0,t.useEffect)((()=>{a.current=e})),a.current},ol=({showBtn:e,isEditing:n,wasEditing:r=!1,setIsEditing:s,showChevron:l,showDagger:i,label:o,btnRef:c,...m})=>{const{assets:d}=(0,Y.S)(),u=(0,t.useRef)(),p=c||u;if((0,t.useEffect)((()=>{e&&p.current&&r&&p.current.focus()}),[p,e,n,r]),!e)return null;const g=Z()("rs-edit-location-button","as-buttonlink",{"as-buttonlink-inline":!l,icon:l,"icon-after":l,"icon-chevrondown":l&&!n,"icon-chevronup":l&&n});return a().createElement("button",(0,Ie.A)({type:"button",className:g,"aria-expanded":l&&n,onClick:()=>s(!n),ref:p},m),o,i&&d.geoLocationDagger)},cl=({modKey:e,className:t,triggerRef:n,isBagApp:r,isCheckoutApp:s,hideCancel:l,children:i})=>{const{assets:o}=(0,Y.S)(),c=a().useRef(),m=a().useRef(),d=s?"checkout-zipcode-input":"bag-zipcode-input",u=s?"checkout-zipcode-apply":"bag-zipcode-apply",p=s?"checkout-zipcode-cancel":"bag-zipcode-cancel",g=s?"checkout-zipcode-error":"bag-zipcode-error",y=Z()("rs-postal-code-editor",t);return a().createElement(Ln.K,{modKey:e,visibleKey:Kn,className:y,triggerRef:n,isCollapsible:!l,textField:{label:o.zipCodeLabel,bindName:"postalCode","data-autom":d,errorAttrs:{"data-autom":g},postalApplyBtnRef:c,postalCancelBtnRef:m,classes:{input:"form-textbox-number-input"}},applyButton:{label:o.apply,triggerRef:c,ally:o.applyZipCodeA11y,processingText:o.processing,bindName:"calculate","data-autom":u},cancelButton:!l&&{label:o.cancel,triggerRef:m,ally:o.cancelZipCodeA11y,"data-autom":p,metrics:{eVar:ne,feature:"Delivery",action:"CancelZipCode"}}},a().createElement(Gn,{isBagApp:r,isCheckoutApp:s}),i)},ml=a().memo(cl);var dl=__webpack_require__(4217),ul=__webpack_require__(7634);const pl=({className:e,error:t,children:n})=>{const r=Z()("rs-province-selector",e);return a().createElement("div",{className:r},n,t&&a().createElement("div",{className:"is-error"},a().createElement(ul.A,{error:t,className:"rs-province-selector-error"})))},gl=({modKey:e,className:t,mobileColumns:n,desktopColumns:r,isBagApp:s=!1,isCheckoutApp:l=!1,hideInput:i=!1,isFullWidth:o=!1,error:c="",onChange:m})=>a().createElement(pl,{className:t,error:c},a().createElement(dl.A,{modKey:e,isFullWidth:o,provinceSelectorProps:{onChange:m,mobileColumns:n,desktopColumns:r,hideInput:i,locationConsent:a().createElement(Gn,{isBagApp:s,isCheckoutApp:l})}})),yl=a().memo(gl),vl=({visible:e,setVisible:t,saveBtnProps:n,headerId:r,children:s})=>{const{viewport:l,assets:i}=(0,Y.S)(),o="small"===l,c=()=>{oe({eVar:re,feature:"DeliveryOptionModel",action:"Cancel"}),t(!1)};return a().createElement(Ke.A,{className:"rs-location-overlay",visible:e,onClose:c,isFullscreen:o,fixedWidth:!0,ariaLabel:r},a().createElement("h2",{id:r,className:"rs-location-overlay-header"},i.deliveryOptionRetrieverHeader),s,a().createElement("div",{className:"rs-location-overlay-save"},a().createElement(Wt.A,n,i.apply)),a().createElement("div",{className:"rs-location-overlay-cancel"},a().createElement("button",{type:"button",className:"as-buttonlink",onClick:c},i.cancel)))},hl=({modKey:e,isBagApp:n,isCheckoutApp:r})=>{const{assets:s}=(0,Y.S)(),l=(0,k.sW)(),[i,o]=(0,k.Ej)(e,"deliveryOptionsRetriever",!1),c=(0,k.W4)(e,"Apply"),m=c.binding.properties.isLoadingSubmit,d={...c.props,disabled:m,isLoading:m,"data-autom":"deliveryOptionApply"},u=`${e}.address`,p=(0,k.Yl)(u),{active:g}=p.properties;return(0,t.useEffect)((()=>{i!==g&&l({type:W.Ru.SET_MOD_PROPERTY,modKey:u,key:"active",value:i})}),[i,g]),a().createElement(a().Fragment,null,a().createElement(vl,{visible:i,setVisible:o,saveBtnProps:d,headerId:`location-overlay-header-${e}`},a().createElement(dl.A,{modKey:`${e}.address`,className:"rs-location-overlay-form",isFullWidth:!0}),a().createElement(Gn,{isBagApp:n,isCheckoutApp:r})),a().createElement(J.Jg,{isPending:m,messages:{pending:s.processing}}))},El=a().memo(hl),bl=({modKey:e,className:n,isBagApp:r,isCheckoutApp:s,visibleKey:l,hasSearchTypeAhead:i,hideCancel:o})=>{const{assets:c}=(0,Y.S)(),m=Z()("rs-location-drawer",n),d=(0,k.sW)(),[u,p]=(0,k.Ej)(e,l||"deliveryOptionsRetriever",!1),[g]=(0,k.Ej)(e,"hasPostalCodeField",!1),y=`${e}.address`,v=(0,k.Yl)(y),{active:h}=v.properties,{id:E}=v.data,b=g||i?`#${E} input.form-textbox-input`:`#${E} select.form-dropdown-select`;(0,t.useEffect)((()=>{u!==h&&d({type:W.Ru.SET_MOD_PROPERTY,modKey:y,key:"active",value:u})}),[u,h]);const f=r&&i&&!o;return a().createElement(j.x,{className:m,id:`rs-edit-location-${e}`,in:u,onEntered:()=>{const e=document.querySelector(b);e&&e.focus()}},a().createElement("div",{className:Z()("rs-location-edit",{"rs-location-with-cancel":f})},a().createElement(dl.A,{modKey:y,id:E,isFullWidth:!0}),f&&a().createElement("button",{className:"as-buttonlink typography-body",type:"button",onClick:()=>{p(!1)}},c.cancel)),a().createElement(Gn,{isBagApp:r,isCheckoutApp:s}))},fl=a().memo(bl),Al=({isWarmState:e,showColdLabel:t,label:n,children:r})=>a().createElement("div",{className:Z()("rs-fulfillment-postalcode rs-load-fadein",{"rs-fulfillment-postalcode-warmstart":e},{"rs-fulfillment-postalcode-coldstart":!e})},t?a().createElement("h2",{className:"rs-fulfilment-cold-ziplabel"},n," "):a().createElement("span",null,n," "),r),wl="postal_code",Nl="province_selector",Sl="drawer",Cl="overlay",kl="cold",Il="warm",Pl=e=>{const[t]=(0,k.lE)(e),{isDeliveryOptionDrawerEnabled:a=!1,deliveryOptionsRetrieverOverlay:n=!1,isDefaultDeliveryOptionEnabled:r=!1,deliveryOptionsRetriever:s="",deliveryLocationLinkText:l="",showCaseText:i=""}=t;let o=`${e}.address.provinceCityDistrictTabs`;const c=`${e}.address.provinceCityDistrictTabsForCheckout`,m=`${e}.address`,d=`${e}.address.deliveryWarmingSubLayout`,u=`${e}.address.deliveryLocationSelection`,p=0===e.indexOf("checkout.fulfillment"),g=(0,k.M1)(`${e}.address.localitySearchTypeAhead`),y=(0,k.M1)(`${e}.address.localitySearchTypeAheadWithGeoLocation`),v=g||y;(0,k.M1)(c)&&(o=c);const[h]=(0,k.lE)(m),[E]=(0,k.lE)(o),[b]=(0,k.lE)(d),[f]=(0,k.lE)(u),{state:A,props:w}=(0,k.sb)(o,"provinceCityDistrict"),N={isDeliveryOptionDrawerEnabled:a,deliveryOptionsRetrieverOverlay:n,isDefaultDeliveryOptionEnabled:r,deliveryOptionsRetriever:s,deliveryLocationLinkText:l,showCaseText:i,hasSearchTypeAhead:v},S={linkText:"",provinceCityDistrict:"",label:"",error:"",ref:null},I=(0,k.M1)(o);let P=wl;n?P=Cl:a||v?P=Sl:I&&(P=Nl);let L="";switch(P){case wl:L=C().get(h,"was.postalCode","");break;case Nl:{const e=C().get(E,"layout.0.fields",[]).reduce(((e,t)=>{const a=t.find((e=>"provinceCityDistrict"===e.name));return a?a.label:e}),"");S.linkText=E.linkText||"",S.provinceCityDistrict=E.provinceCityDistrict||"",S.label=e,S.error=A.error,S.ref=w.ref,E.provinceCityDistrict&&(L=E.provinceCityDistrict);break}case Cl:case Sl:l&&(L=l)}let T=!1;switch(P){case wl:T=h.showGeoLocationDisclaimer||!1;break;case Nl:T=E.showGeoLocationDisclaimer||!1;break;case Cl:T=f.showGeoLocationDisclaimer||!1;break;case Sl:T=b.showGeoLocationDisclaimer||h.showGeoLocationDisclaimer||!1}const O=L?Il:kl;let D=m;P===Nl?D=o:P!==Cl&&P!==Sl||(D=e);let x=Kn;P===Nl?x="provinceCityDistrictTabs":P!==Cl&&P!==Sl||(x="deliveryOptionsRetriever"),v&&p&&(x=Kn);const[M,F]=(0,k.Ej)(D,x,!1);return{parentModKey:e,addressModKey:m,current:L,state:O,type:P,isEditing:M,setIsEditing:F,showGeoLocationDisclaimer:T,deliveryOptions:N,provSelectData:S}},Ll=({modKey:e})=>{const{assets:t,fragments:n}=(0,Y.S)(),r=`${e}.address`,[s]=(0,k.lE)(e),{hasSearchLink:l}=s,{type:i,state:o,isEditing:c,setIsEditing:m,showGeoLocationDisclaimer:d,current:u,deliveryOptions:p,provSelectData:g}=Pl(e),y=il(c),v=o===Il,h=i===Cl,E=i===Nl,b=i===Sl,f=i===wl,A=h||E||b&&!p.hasSearchTypeAhead||v,w=u||p.showCaseText||g.linkText||t.deliveryziplabelcoldstart;let N=t.deliveryziplabelcoldstart;return E?N=g.label:b&&!p.hasSearchTypeAhead?N=v?t.warmDeliveryOptionsLabel:t.coldDeliveryOptionsLabel:(v||h)&&(N=t.deliveryziplabelwarmstart),a().createElement(Al,{isWarmState:v,showColdLabel:!(v||h||b&&!p.hasSearchTypeAhead),label:N},a().createElement(ol,{btnRef:g.ref,showBtn:A,isEditing:c,wasEditing:y,setIsEditing:m,showDagger:d,label:w,"aria-label":`${t.editZipCodeA11y}: ${w}`,"data-autom":"checkout-zipcode-edit",showChevron:!h,"aria-controls":`rs-edit-location-${e}`}),f&&a().createElement(ml,{modKey:r,hideCancel:!A,isCheckoutApp:!0},l&&a().createElement("div",(0,Ie.A)({className:"rs-fulfillment-searchlink"},(0,Le.OH)(n.searchPostalCode)))),b&&a().createElement(fl,{modKey:e,isCheckoutApp:!0,hasSearchTypeAhead:p.hasSearchTypeAhead,visibleKey:p.hasSearchTypeAhead?"_editing":"deliveryOptionsRetriever"}),E&&a().createElement(yl,{modKey:r,className:"rs-fulfillment-provinceselector",mobileColumns:2,desktopColumns:4,hideInput:!0,isFullWidth:!0,isCheckoutApp:!0,error:g.error}),h&&a().createElement(El,{modKey:e,isCheckoutApp:!0}))},Tl=a().memo(Ll),Ol=({showWaitIndicator:e,pickupRecommended:t,hasDeliveryLocation:n,messages:r,messagesLastUpdated:s,shipmentGroups:l})=>a().createElement("div",{className:"rs-fulfillment"},a().createElement("div",{className:"rs-fulfillment-deliverydetails"},t&&a().createElement("div",{className:"rs-fulfillment-recommended-pickup large-centered large-6 small-12 typography-body-reduced"},a().createElement("div",(0,Ie.A)({"data-autom":"recommended-pickup",className:"rs-fulfillment-recommended-pickup-details"},(0,Le.OH)(t)))),n&&a().createElement(Tl,{modKey:Re.kJ}),a().createElement(ke.A,{messages:r,lastUpdated:s}),e?a().createElement(Ws,null):l)),Dl=({productName:e,email:t,quantity:n,showViewDetailsLink:r,setOverlayVisible:s,promoLabel:l,metricsInfo:i,productImage:o})=>{const{assets:c}=(0,Y.S)();return a().createElement("div",{className:"row"},a().createElement("div",{className:"rs-fulfillment-productimage column"},o),a().createElement("div",{className:"rs-fulfillment-productinfo typography-body-reduced column large-6 small-9"},a().createElement("div",{className:"rs-fulfillment-product-name"},e),t,n&&a().createElement(a().Fragment,null,a().createElement("span",{className:"visiblelabel","aria-hidden":"true"},c.quantityLabel," "),a().createElement("span",{className:"hiddenlabel visuallyhidden"},Qe.GP(c.quantityA11y,{productName:e})),a().createElement("span",{className:"value"},n)),r&&a().createElement("button",{type:"button",className:"as-buttonlink rs-fulfillment-productdetails-btn icon icon-after icon-pluscircle","data-autom":"view-details-button","aria-label":`${c.viewDetails}, ${e}`,onClick:()=>{(0,_e.rO)(i),s(!0)}},c.viewDetails),l&&a().createElement("span",{className:"row rs-fulfillment-product-promo"},l)))},xl=({productName:e,overlayVisible:t,setOverlayVisible:n,productImage:r,children:s})=>{const{viewport:l}=(0,Y.S)(),i="small"===l,o=`productdetailsoverlayheader${e}`;return a().createElement(Ke.A,{visible:t,onClose:()=>n(!1),isFullscreen:i,ariaLabel:o.replace(/-|\s/g,"").toLowerCase(),fixedWidth:!0},a().createElement("div",{className:"row rs-fulfillment-details-overlay"},a().createElement("div",{className:"column large-4 small-12 rs-fulfillment-details-overlay-image"},r),a().createElement("div",{className:"column large-8 small-12"},a().createElement("h2",{className:"rs-fulfillment-details-overlay-header typography-label",id:o.replace(/-|\s/g,"").toLowerCase()},e),s)))},Ml=(0,t.createContext)({modKey:"",isReview:!1,isEditable:!1}),Fl=()=>(0,t.useContext)(Ml),Bl=e=>{const t=(0,k.EL)();return t.getModuleChildren(e).filter((e=>{const{isChildItem:a,isBundlePromoItem:n}=t.getModuleData(e);return a&&!n}))},Rl=({quantity:e,productName:t,label:n})=>{const{assets:r}=(0,Y.S)();return a().createElement("div",{className:"rs-quantity-text"},n&&a().createElement("span",{"aria-hidden":"true"},n),a().createElement("span",{className:"visuallyhidden"},Qe.GP(r.quantityA11y,{productName:t})),a().createElement("span",null,e))},_l="mac",$l="phone",Hl=e=>{const t=(0,k.Yl)(`${e}.phoneDetails`),a=(0,k.Yl)(`${e}.macDetails`);return t.modExists?[t,$l]:a.modExists?[a,_l]:[{...Hn},""]},Kl=({isExpandable:e,visible:t,acmiDetails:n,children:r})=>a().createElement("div",{className:"rs-item-product-info large-12 rs-iteminfo-detailstext"},e?a().createElement(j.x,{in:t,timeout:300},r):r,n),Vl=({phoneDetails:e,editIPhoneUrl:t,tradeInDetails:n,financeOfferPlanDetails:r})=>{const{assets:s,fragments:l}=(0,Y.S)(),{ratePlanDetails:i}=e||{},o=Boolean(i&&i.length),c=t=>(({action:e,feature:t})=>{oe({action:e,feature:t,eVar:ae})})(t,e.metricsEvar1);return a().createElement("div",{className:"rs-item-product-info-phone row"},e&&a().createElement("div",{className:"column large-12 small-12 rs-phonedetails-container"},a().createElement("div",{className:"rs-phonedetails"},a().createElement("h3",{className:"rs-phonedetails-label"},s.phoneDetails),a().createElement("ul",{role:"list"},a().createElement("li",null,e.model),a().createElement("li",null,e.capacity),a().createElement("li",null,e.finish),t&&a().createElement("li",null,a().createElement("a",{href:t,className:"as-buttonlink",id:"rs-edit-iphone-link",onClick:()=>c("EditiPhoneModel")},a().createElement("span",{"aria-hidden":"true"},s.editModelLabel),a().createElement("span",{className:"visuallyhidden"},s.editIphoneModel),a().createElement("span",{className:"more","aria-hidden":"true"})))),e.phoneNumber&&a().createElement(a().Fragment,null,a().createElement("h3",{className:"rs-phonedetails-label"},s.phoneNumber),a().createElement("p",{className:"rs-phonedetails-value as-direction-ltr"},e.phoneNumber)))),a().createElement("div",{className:"rs-phonedetails-rateplan-details"},o&&i.map(((t,n)=>{const r=n===i.length&&Boolean(e.editIPhoneRatePlanUrl);return a().createElement("div",{key:`row-${t.label}`,className:"rs-phonedetails-row"},a().createElement("h3",{className:"rs-phonedetails-label"},t.label),a().createElement("span",(0,Ie.A)({className:"rs-phonedetails-value"},(0,Le.OH)(t.value))),r&&a().createElement("a",{href:e.editIPhoneRatePlanUrl,className:"as-buttonlink",id:"rs-edit-carrier-link",onClick:()=>c("EditCarrierPlan")},a().createElement("span",{"aria-hidden":"true"},s.editPlan),a().createElement("span",{className:"visuallyhidden"},Qe.GP(l.editPlanA11y,e)),a().createElement("span",{className:"more","aria-hidden":"true"})))})),e&&e.disclaimer&&a().createElement("div",(0,Ie.A)({className:"rs-phonedetails-disclaimer small-12 large-12"},(0,Le.OH)(e.disclaimer))),r&&a().createElement(a().Fragment,null,a().createElement("h3",{className:"rs-phonedetails-subheader"},r.headerLabel),r.row.map((e=>a().createElement("div",{key:`financeoffer-plandetails-${e.value}`,className:"rs-phonedetails-financeoffer-details"},a().createElement("h4",{className:"rs-phonedetails-label"},e.label),a().createElement("span",{className:"rs-phonedetails-value"},e.value))))),n&&a().createElement(a().Fragment,null,a().createElement("h3",{className:"rs-phonedetails-subheader"},n.headerLabel),a().createElement("div",{className:"rs-phonedetails-tradein-details"},n.row.map((e=>[a().createElement("div",{key:`tradein-details-${e.value}`},a().createElement("h4",{className:"rs-phonedetails-label"},e.label),a().createElement("span",{className:"rs-phonedetails-value"},e.value))])),n.upgradeProgramBalance&&a().createElement("span",{className:"rs-phonedetails-label"},n.upgradeProgramBalance)))))},Ul=({macHardwareDetails:e,macSoftwareDetails:t})=>{const{assets:n}=(0,Y.S)();return a().createElement("div",{className:"rs-item-info-mac row"},a().createElement("div",{className:"rs-macdetails"},e&&a().createElement("div",null,a().createElement("h3",{className:"rs-macdetails-label list-title"},n.macHardwareLabel),a().createElement("ul",{className:"list large-6 small-12"},e.map((e=>a().createElement("li",{key:`hardware-detail-${e}`},e))))),t&&a().createElement("div",null,a().createElement("h3",{className:"rs-macdetails-label list-title"},n.macSoftwareLabel),a().createElement("ul",{className:"list large-6 small-12"},t.map((e=>a().createElement("li",{key:`software-detail-${e}`},e)))))))},Wl=({carrierDetails:e,financeOfferPlanDetails:t,tradeInDetails:n})=>{const{carrierStaticTerms:r,carrierDisclaimer:s,eSimLegalLabel:l,eSimLegalLabelText:i}=e,o=Boolean(r&&r.length);return a().createElement("div",{className:"rs-item-product-info-phone row"},a().createElement("div",{className:"rs-phonedetails-rateplan-details"},a().createElement("ul",{role:"list"},a().createElement("li",{className:"rs-phonedetails-row"},a().createElement("span",{className:"rs-phonedetails-label"},l),a().createElement("span",(0,Ie.A)({className:"rs-phonedetails-value"},(0,Le.OH)(i)))),o&&r.map((e=>a().createElement("li",{key:`row-${e.label}`,className:"rs-phonedetails-row"},a().createElement("span",{className:"rs-phonedetails-label"},e.label),a().createElement("span",(0,Ie.A)({className:"rs-phonedetails-value"},(0,Le.OH)(e.value))))))),s&&a().createElement("div",(0,Ie.A)({className:"rs-phonedetails-disclaimer small-12 large-12"},(0,Le.OH)(s))),t&&a().createElement(a().Fragment,null,t.headerLabel&&a().createElement("h3",{className:"rs-phonedetails-subheader"},t.headerLabel),a().createElement("ul",{role:"list"},t.row.map((e=>a().createElement("li",{key:`financeoffer-plandetails-${e.value}`,className:"rs-phonedetails-financeoffer-details"},a().createElement("span",{className:"rs-phonedetails-label"},e.label),a().createElement("span",{className:"rs-phonedetails-value"},e.value)))))),n&&a().createElement(a().Fragment,null,n.headerLabel&&a().createElement("h3",{className:"rs-phonedetails-subheader"},n.headerLabel),a().createElement("div",{className:"rs-phonedetails-tradein-details"},a().createElement("ul",{role:"list"},n.row.map((e=>[a().createElement("li",{key:`tradein-details-${e.value}`},a().createElement("span",{className:"rs-phonedetails-label"},e.label),a().createElement("span",{className:"rs-phonedetails-value"},e.value))]))),n.upgradeProgramBalance&&a().createElement("span",{className:"rs-phonedetails-label"},n.upgradeProgramBalance)))))},Gl=({buyFlowInstallmentsDetails:e})=>a().createElement("div",{className:"row rs-buyflow-installmentsdetails"},a().createElement("h3",{className:"rs-phonedetails-subheader"},e.headerLabel,a().createElement("span",{className:"visuallyhidden"},e.name)),e.row.map((e=>a().createElement("div",{key:`buyflow-installmentsdetails-${e.value}`,className:"rs-phonedetails-webinstallment-details"},a().createElement("span",{className:"rs-phonedetails-label"},e.label),a().createElement("span",{className:"rs-phonedetails-value"},e.value))))),jl=[_l,$l],ql=({modKey:e,visible:t})=>{const{modKey:n}=Fl(),[r]=(0,k.lE)(e||n),[s,l]=Hl(e||n),i=s.modExists&&jl.includes(l),o=i&&s.data,c=i||r.buyFlowInstallmentsDetails,m=(r.standaloneDeviceActivation||i)&&void 0!==t;if(!r.standaloneDeviceActivation&&!c)return null;let d=null;d=l===_l?a().createElement(Ul,{macHardwareDetails:o.macHardwareDetails,macSoftwareDetails:o.macSoftwareDetails}):r.standaloneDeviceActivation?a().createElement(Wl,{carrierDetails:r.standAloneDeviceActivationDetails,financeOfferPlanDetails:r.financeOfferPlanDetails,tradeInDetails:r.tradeinDetails}):a().createElement(Vl,{phoneDetails:o,editIPhoneUrl:r.editIPhoneUrl,tradeInDetails:r.tradeinDetails,financeOfferPlanDetails:r.financeOfferPlanDetails});const u=r.buyFlowInstallmentsDetails&&r.buyFlowInstallmentsDetails.headerLabel&&a().createElement(Gl,{buyFlowInstallmentsDetails:r.buyFlowInstallmentsDetails});return a().createElement(Kl,{isExpandable:m,visible:t,acmiDetails:u},d)},Yl=a().memo(ql),zl=({src:e="",scaleParams1:t="",linkUrl:n=""})=>{const r=Z()("rs-iteminfo-child-image",{"as-util-relatedlink":Boolean(n)}),s=n?`click [data-relatedlink='${n}']`:"",l=t?{srcSet:{src:e,scaleParams1:t}}:{src:e};return(e=>e.includes("tradein-icon-recycle"))(e)?a().createElement("div",(0,Ie.A)({className:Z()(r,"as-icondetails-icon","as-svgicon-container"),"data-trigger-click":s},(0,Le.OH)('<svg viewBox="0 0 25 25" class="as-svgicon as-svgicon-recycle as-svgicon-reduced as-svgicon-recyclereduced" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 .213h25v25H0z"/><path d="m21.6 17.4-2.97-5.151a.55.55 0 0 0-.953.55l2.969 5.148a1.244 1.244 0 0 1 .012 1.275 1.312 1.312 0 0 1-1.155.651h-4.562l1.341-1.341a.55.55 0 1 0-.777-.777l-2.161 2.161a.549.549 0 0 0-.339.507c0 .01.005.019.006.029a.542.542 0 0 0 .155.419l2.334 2.338a.55.55 0 1 0 .777-.777L14.823 21H19.5a2.425 2.425 0 0 0 2.107-1.229A2.349 2.349 0 0 0 21.6 17.4ZM11.44 19.873H5.5a1.307 1.307 0 0 1-1.141-.665 1.327 1.327 0 0 1 0-1.34l2.307-4 .512 1.911a.55.55 0 0 0 .531.408.556.556 0 0 0 .143-.019.55.55 0 0 0 .389-.674L7.38 12.3c0-.01-.01-.016-.013-.026a.5.5 0 0 0-.584-.368.519.519 0 0 0-.077.005l-3.194.856a.55.55 0 0 0 .143 1.082.556.556 0 0 0 .143-.019l1.912-.512-2.308 4A2.466 2.466 0 0 0 5.5 21h5.94a.574.574 0 0 0 .55-.578.55.55 0 0 0-.55-.549ZM13.635 5.791l2.31 4-1.911-.512a.55.55 0 1 0-.285 1.062l3.194.856a.556.556 0 0 0 .143.019.542.542 0 0 0 .244-.066c.009 0 .02 0 .029-.008s.013-.013.021-.018a.543.543 0 0 0 .112-.1c.011-.013.026-.023.036-.037a.541.541 0 0 0 .087-.179l.856-3.195a.55.55 0 1 0-1.062-.285L16.9 9.241l-2.31-4a2.4 2.4 0 0 0-2.1-1.212 2.4 2.4 0 0 0-2.1 1.211l-2.971 5.145a.55.55 0 0 0 .953.551l2.974-5.146a1.307 1.307 0 0 1 1.144-.661 1.308 1.308 0 0 1 1.145.662Z"/></svg>'))):a().createElement("div",{className:r,"data-trigger-click":s,"aria-hidden":"true"},a().createElement(kt.Ay,{data:l}))},Zl=({messages:e,imageSrc:t,imageScaleParams1:n,imageLinkUrl:r,hasTradeInLogo:s,children:l})=>{const i=Boolean(t),o=Z()("rs-iteminfo-child",{"rs-iteminfo-child-tradein":s},{"rs-iteminfo-child-no-image":!i});return a().createElement("div",{className:o},e,a().createElement("div",{className:"rs-iteminfo-child-content row"},a().createElement("div",{className:"rs-iteminfo-child-details column small-12 large-12"},i&&a().createElement("div",{className:"as-icondetails"},a().createElement(zl,{src:t,scaleParams1:n,linkUrl:r})),l)))},Jl="trade_in_carrier",Xl="trade_in_instant",Ql="price_details",ei="trade_in",ti="default",ai="iphone_upgrade",ni=e=>{const{carrierSubsidyTradeInDetails:t,tradeInCredit:a,priceOfNewIphoneValue:n,priceOfNewProduct:r,priceDetails:s,tradeinProduct:l,iupUpgrdCredit:i}=e;return t?Jl:a&&(n||r)?Xl:s?Ql:l?ei:i?ai:ti},ri=({modKey:e,children:t})=>{const n=(0,k.Yl)(e),{src:r,dataScaleParams1:s,productUrl:l,promos:i,showChildItemLink:o}=n.data,c=ni(n.data).startsWith(ei),{isEditable:m}=Fl(),d=!i&&o&&m?l:"",[u,p]=(0,k.fL)(e);return a().createElement(Zl,{messages:a().createElement(ke.A,{messages:u,lastUpdated:p}),imageSrc:r,imageScaleParams1:s,imageLinkUrl:d,hasTradeInLogo:c},t)},si=a().memo(ri),li=({header:e,description:t,subsidyDetails:n,devicePaymentsHeader:r,devicePaymentsSubHeader:s,devicePaymentsSubHeaderA11y:l,deviceBillCredits:i,overlayWithButton:o,showTradeInBalanceGiftMessage:c})=>{const{assets:m}=(0,Y.S)();return a().createElement("div",{className:"rs-item-child-content-carriertradein as-icondetails-detail"},a().createElement("div",{className:"large-6 small-12"},a().createElement("h3",{className:"rs-carrier-tradein-header"},e),a().createElement("div",{className:"rs-carrier-tradein-ledger"},n.map((({label:e,value:t,valueA11y:n})=>a().createElement("div",{key:`trade-in-row-${e}`,className:"rs-carrier-tradein-details"},a().createElement("div",{className:"rs-carrier-tradein-details-label"},e),n?a().createElement("div",{className:"rs-carrier-tradein-details-value"},a().createElement("span",(0,Ie.A)({"aria-hidden":"true"},(0,Le.OH)(t))),a().createElement("span",(0,Ie.A)({className:"visuallyhidden"},(0,Le.OH)(n)))):a().createElement("div",(0,Ie.A)({className:"rs-carrier-tradein-details-value"},(0,Le.OH)(t))))))),a().createElement("div",{className:"rs-carrier-tradein-desc"},t),a().createElement("div",{className:"rs-carrier-devicepayments-wrapper"},a().createElement("div",{className:"rs-carrier-devicepayments"},a().createElement("h4",{className:"rs-carrier-devicepayments-header"},r),a().createElement("div",{className:"rs-carrier-devicepayments-subheader"},a().createElement("span",{"aria-hidden":"true"},s),a().createElement("span",(0,Ie.A)({className:"visuallyhidden"},(0,Le.OH)(l))))),i.map((({label:e,value:t,valueA11y:n})=>a().createElement("div",{key:`trade-in-row-${e}`,className:"rs-carrier-tradein-details"},a().createElement("div",{className:"rs-carrier-tradein-details-label"},e),n?a().createElement("div",{className:"rs-carrier-tradein-details-value"},a().createElement("span",(0,Ie.A)({"aria-hidden":"true"},(0,Le.OH)(t))),a().createElement("span",(0,Ie.A)({className:"visuallyhidden"},(0,Le.OH)(n)))):a().createElement("div",(0,Ie.A)({className:"rs-carrier-tradein-details-value"},(0,Le.OH)(t)))))))),c&&a().createElement("p",{className:"rs-item-child-content-tradein-overfund typography-body-reduced"},m.tradeInOverfundText),o)},ii=({hasPriceOfNewProduct:e,instantCreditMessage:t,removeBtn:n,infos:r,priceDetails:s,title:l,tradeInPromoSavings:i,overlayWithButton:o,showTradeInBalanceGiftMessage:c})=>{const m=Z()("rs-iteminfo-tradein-pricedetails",{"rs-iteminfo-tradein-newdevicedetails":e,"rs-iteminfo-tradein-includes-tradeinpromosavings":!!i}),{assets:d}=(0,Y.S)();return a().createElement("div",{className:"rs-item-child-content-instanttradein as-icondetails-detail"},a().createElement("div",{className:"rs-iteminfo-child-wrapper rs-iteminfo-tradein-ledger"},l,n&&a().createElement("div",{className:"rs-iteminfo-child-actions"},n),a().createElement("div",{className:"rs-iteminfo-tradein-details"},r.map((({label:e,value:t,labelDataAutom:n,valueDataAutom:r})=>t?a().createElement("div",{key:`row-${e}`,className:"rs-iteminfo-instant-tradein-row row"},a().createElement("span",{className:"small-12","data-autom":n},e),a().createElement("span",(0,Ie.A)({className:"rs-iteminfo-tradein-inlinevalue","data-autom":r},(0,Le.OH)(t)))):null)),a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",{className:m},s.map((({label:e,value:t,labelDataAutom:n,valueDataAutom:r})=>t?a().createElement("div",{key:`row-${e}`,className:"rs-iteminfo-tradein-pricedetails-row row"},a().createElement("span",(0,Ie.A)({className:"large-9 small-9 column","data-autom":n},(0,Le.OH)(e))),a().createElement("span",(0,Ie.A)({className:"large-3 small-3 column rs-iteminfo-tradein-value","data-autom":r},(0,Le.OH)(t)))):null))))),c&&a().createElement("p",{className:"rs-item-child-content-tradein-overfund typography-body-reduced"},d.tradeInOverfundText),i&&a().createElement("div",{className:"rs-instant-tradein-tradeinpromosavings"},i),t&&a().createElement("div",{className:"rs-instant-tradein-message"},t)),o)},oi=({totalPrice:e,savingsMessage:t,priceDetails:n,removeBtn:r,infos:s,title:l,savingsBadge:i})=>{const o=e&&a().createElement("p",(0,Ie.A)({className:"rs-iteminfo-child-price"},(0,Le.OH)(e))),c=a().createElement("div",{className:"rs-iteminfo-child-taglinewrapper"},s.map((e=>e?a().createElement("div",{key:`info-row-${e}`,className:"rs-iteminfo-child-desc"},a().createElement("p",(0,Ie.A)({className:"rs-iteminfo-child-tagline rs-iteminfo-applecare-desc"},(0,Le.OH)(e)))):null))),m=Boolean(t),d=Z()("rs-summary-iteminfochilddetails-action",{"rs-has-segmentsavings":m});return a().createElement("div",{className:"rs-item-child-content-pricedetails as-icondetails-detail rs-iteminfo-icondetails-detail"},a().createElement(Je,{name:"itemInfoChildDetails",label:a().createElement("div",{className:"rs-iteminfo-child-wrapper"},l),value:o}),n.map((({label:e,value:t})=>a().createElement(Je,{key:`price-detail-row-${e}-${t}`,name:"itemInfoChildPriceDetails",label:e,value:t}))),a().createElement(Je,{name:"itemInfoChildDetails",classes:d,label:c,value:m&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-segmentsavings"},(0,Le.OH)(t)))}),i&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-savings-badge"},(0,Le.OH)(i))),a().createElement("div",{className:"rs-iteminfo-child-actions"},r))},ci=({creditDisclaimer:e,tradeInEstimatedHeader:t,tradeInEstimatedValue:n,tradeInSubHeader:r,tradeInProduct:s,priceAfterTradeInSubHeader:l,priceAfterTradeIn:i,tradeInCreditInfo:o,tradeInIncentiveHeader:c,tradeInIncentive:m,removeBtn:d,title:u,overlayWithButton:p,showTradeInBalanceGiftMessage:g,serialNumberHeader:y,serialNumber:v,imeiNumberHeader:h,imeiNumber:E})=>{const{viewport:b,assets:f}=(0,Y.S)(),A="small"===b,w=a().createElement("div",{className:"rs-iteminfo-child-taglinewrapper"},a().createElement("div",{className:"rs-iteminfo-child-tradeinproduct"},r&&a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-iteminfo-child-subheader"},r),a().createElement("div",{className:"rs-iteminfo-child-value"},s)),y&&a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-iteminfo-child-subheader"},y),a().createElement("div",{className:"rs-iteminfo-child-value"},v)),h&&a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-iteminfo-child-subheader"},h),a().createElement("div",{className:"rs-iteminfo-child-value"},E)),t&&a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-iteminfo-child-subheader"},t),n&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-child-value"},(0,Le.OH)(n)))),i&&a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-iteminfo-child-subheader"},l),a().createElement("div",{className:"rs-iteminfo-child-value"},i)),o&&a().createElement("div",{className:"rs-iteminfo-child-tradeincreditinfo"},o),m&&a().createElement("div",{className:"rs-iteminfo-child-tradeinincentive"},a().createElement("div",{className:"rs-iteminfo-child-subheader"},c),a().createElement("div",{className:"rs-iteminfo-child-value"},m)),e&&a().createElement("div",{className:"rs-iteminfo-child-tradeinmessage"},e)));return a().createElement("div",{className:"rs-item-child-content-tradein as-icondetails-detail rs-iteminfo-icondetails-detail"},a().createElement("div",{className:"rs-iteminfo-child-wrapper","data-autom":"tradein_recycledetails"},u,!A&&a().createElement(a().Fragment,null,w,p),g&&a().createElement("p",{className:"rs-item-child-content-tradein-overfund typography-body-reduced"},f.tradeInOverfundText)),A&&a().createElement(a().Fragment,null,w,p),d&&a().createElement("div",{className:"rs-iteminfo-child-actions"},d))},mi=({label:e,labelA11y:t,sendOmniClickEvents:n,hasOverlay:r,setOverlayVisible:s,href:l,productMetricId:i,productEvar1:o,ACPlusForiUPEnabled:c})=>{const{assets:m}=(0,Y.S)();return r?a().createElement("button",{type:"button",className:Z()("rs-iteminfo-more-details-link as-buttonlink",{more:c,"icon icon-after icon-pluscircle":!c}),onClick:()=>{s(!0),n()},"data-autom":"Learn_more"},a().createElement("span",(0,Le.OH)(e)),a().createElement("span",{className:"visuallyhidden"},t)):a().createElement("a",{href:l,onClick:n,className:"rs-iteminfo-more-details-link icon icon-after icon-pluscircle",target:"_blank",rel:"noopener noreferrer","data-evar1":o,"data-s-object-id":i,"data-autom":"Learn_more"},a().createElement("span",(0,Le.OH)(e)),a().createElement("span",{className:"visuallyhidden"},t,m.newWindowAlly))},di=({visible:e,setVisible:t,content:n,id:r})=>{const{viewport:s}=(0,Y.S)(),l="small"===s;return a().createElement(Ke.A,{className:"rs-inline-recommendation-overlay",visible:e,onClose:()=>t(!1),isFullscreen:l,noPadding:!0,fixedWidth:!0,ariaLabel:`${r}-overlayHeading`},a().createElement("div",(0,Ie.A)({className:"rs-inline-recommendation-overlay-content"},(0,Le.OH)(n))))},ui=({totalPrice:e,savingsMessage:n,priceMessage:r,removeBtn:s,infos:l,title:i,learnMoreOverlay:o,name:c,productMetricId:m,productEvar1:d,id:u,savingsBadge:p})=>{const{viewport:g,assets:y,fragments:v}=(0,Y.S)(),h="small"===g,E=Boolean(s||e||n||r),[b,f]=(0,t.useState)(!1),A=Boolean(n),w=h&&!A,N=Boolean(r),S=Z()("rs-iteminfo-child-taglinewrapper",{"rs-has-segmentsavings":A}),C=o?Qe.GP(o,{id:u,title:c},"${","}"):"",k=o&&a().createElement(a().Fragment,null,a().createElement(mi,{hasOverlay:o,label:y.learnMore,labelA11y:Qe.GP(v.inlineRecommendationLearnMoreA11y,{title:c}),setOverlayVisible:f,sendOmniClickEvents:()=>{o&&pe({isLightning:!1,feature:d})},productMetricId:m,productEvar1:d}),a().createElement(di,{visible:b,setVisible:f,content:C,id:u})),I=a().createElement("div",{className:S},l.map((e=>e?a().createElement("div",{key:`info-${e}`,className:"rs-iteminfo-child-desc"},a().createElement("p",(0,Ie.A)({className:"rs-iteminfo-child-tagline rs-iteminfo-applecare-desc"},(0,Le.OH)(e)))):null)),k,p&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-savings-badge"},(0,Le.OH)(p))));return a().createElement("div",{className:"rs-item-child-content-default as-icondetails-detail rs-iteminfo-icondetails-detail"},a().createElement("div",{className:"rs-iteminfo-child-wrapper"},i,!w&&I),w&&I,E&&a().createElement("div",{className:"rs-iteminfo-child-actions"},e&&a().createElement("p",(0,Ie.A)({className:"rs-iteminfo-child-price"},(0,Le.OH)(e))),A&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-segmentsavings"},(0,Le.OH)(n))),N&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-price-details"},(0,Le.OH)(r))),s))},pi=({btnLabel:e,overlayContent:n,productFamily:r,btnDataAutom:s})=>{const{viewport:l}=(0,Y.S)(),i="small"===l,[o,c]=(0,t.useState)(!1);return a().createElement(a().Fragment,null,a().createElement("button",(0,Ie.A)({type:"button",className:"rs-iteminfo-more-details-link as-buttonlink icon icon-after icon-pluscircle",onClick:()=>{c(!0),(({productFamily:e})=>{oe({eVar:ne,feature:"Bag",action:"Trade In Next Steps"}),ce({name:"metrics",data:{hier1:"aos:bag",evar13:e?e.toLowerCase():null,evar6:"modal open|tradein message|learn more about tradein",evar1:"AOS: account/savedbag | get ready:apple card applicant | link | see how trade-in works",prop3:"modal open|tradein message|learn more about tradein"}})})({productFamily:r})}},(0,Le.OH)(e),{"data-autom":s})),a().createElement(Ke.A,{className:"rs-trade-in-overlay",visible:o,onClose:()=>c(!1),isFullscreen:i,noPadding:!0,fixedWidth:!0,ariaLabel:"pd-overlay-header rs-instant-tradeinoverlay-header"},a().createElement("div",(0,Ie.A)({className:"rs-trade-in-overlay-content"},(0,Le.OH)(n))),a().createElement(Pr,null)))},gi=({showProductLink:e=!1,productUrl:t="",productMetrics:n={},name:r,description:s,titleDataAutom:l})=>a().createElement("h3",{className:"rs-iteminfo-child-title","data-autom":l},e?a().createElement("a",(0,Ie.A)({href:t},n,{"data-relatedlink":t}),a().createElement("span",(0,Le.OH)(r))):a().createElement("span",(0,Le.OH)(r)),s&&a().createElement(a().Fragment,null,a().createElement("span",{"aria-hidden":"true"}," - "),a().createElement("span",(0,Le.OH)(s)))),yi=a().forwardRef(((e,t)=>{const{className:n,isLoading:r,onClick:s,a11yLabel:l,...i}=e,o=Z()(n,"as-buttonlink"),{assets:c}=(0,Y.S)();return r?a().createElement("div",{role:"img",className:"waitindicator waitindicator-inline waitindicator16-gray","aria-label":c.processing}):a().createElement("button",(0,Ie.A)({type:"button",className:o,onClick:s,ref:t},i),c.remove,a().createElement("span",(0,Ie.A)({className:"visuallyhidden"},(0,Le.OH)(l))))})),vi=({hasPriceOfNewProduct:e,removeBtn:t,priceDetails:n,title:r,iupSubHeader:s})=>{const l=Z()("rs-iteminfo-iup-pricedetails",{"rs-iteminfo-iup-newdevicedetails":e});return a().createElement("div",{className:"rs-item-child-content-iup as-icondetails-detail"},a().createElement("div",{className:"rs-iteminfo-child-wrapper rs-iteminfo-iup-ledger"},r,t&&a().createElement("div",{className:"rs-iteminfo-child-actions"},t),s&&a().createElement("div",{className:"rs-iteminfo-iup-subheader"},s),a().createElement("div",{className:"rs-iteminfo-iup-details"},a().createElement("div",{className:"column large-8 small-12"},a().createElement("div",{className:l},n.map((({label:e,value:t,labelDataAutom:n,valueDataAutom:r})=>t?a().createElement("div",{key:`row-${e}`,className:"rs-iteminfo-iup-pricedetails-row row"},a().createElement("span",{className:"column","data-autom":n},e),a().createElement("span",{className:"column rs-iteminfo-iup-value","data-autom":r},t)):null)))))))},hi=({modKey:e,setAppleCarePlusType:t,removeBtnRef:n,handleRemoveClick:r})=>{const{assets:s,fragments:l}=(0,Y.S)(),i=(0,k.Yl)(e),{modKey:o,isEditable:c,announceMessage:m,isFulfillment:d,isBundle:u}=Fl(),[p]=(0,k.Ej)(o,"productFamilyDisplayName"),g=(0,k.M1)(`${o}.phoneDetails`),{name:y,description:v,descriptionA11Y:h,isRemovable:E,unitListSavings:b,showPrice:f,totalPrice:A,promos:w,showChildItemLink:N,productUrl:S,productEvar1:C,productMetricId:I,productEvar11:P,segmentSavingsMessage:L,savingsBadge:T,showTradeInBalanceGiftMessage:O,priceMessage:D,tradeInSubHeader:x,tradeinProduct:M,priceAfterTradeIn:F,carrierSpecialTradeInHeader:B,carrierSubsidyTradeInDetails:R,carrierSubsidyDesc:_,devicePaymentsHeader:$,devicePaymentsSubHeader:H,devicePaymentsSubHeaderA11y:K,deviceBillCredits:V,imeiNumberHeader:U,imeiNumber:W,serialNumberHeader:G,serialNumber:j,priceOfNewIphoneHeader:q,priceOfNewIphoneValue:z,priceOfNewProductLabel:Z,priceOfNewProduct:J,tradeInCredit:X,instantCreditMessage:Q,tradeInPromoSavings:ee,creditDisclaimer:te,tradeInEstimatedHeader:ae,tradeinEstimatedValue:ne,priceAfterTradeInSubHeader:re,tradeInCreditInfo:se,tradeInIncentiveHeader:le,tradeInIncentive:ie,priceDetails:oe,iupSubHeader:ce,iupUpgrdCredit:me,iupPriceAfterCreditValue:de,includedInInstallments:ue,displayTagLine:pe,insurancePremiumTax:ge,complimentaryACOverlay:ye,id:ve}=i.data,he=E,Ee=(0,k.W4)(e,"delete",{focusDelay:250,deferLoadWithDelete:!0}),{isLoadingSubmit:be}=Ee.binding.properties,fe=v&&h?`${y} - ${h}`:A?`${y} - ${A}`:y,Ae={...Ee.props,className:"rs-iteminfo-child-actions-button",a11yLabel:fe,isLoading:be,onClick:e=>{m(s.processing),Ee.props.onClick(e),t(y.split("for")[0].trim()),r()},"data-autom":`bag-item-remove-button-${y}`},we=(({childModData:e,hasTradeInSummary:t,isBundle:a})=>{const{carrierSubsidyTradeInDetails:n,tradeInCredit:r,priceOfNewIphoneValue:s,showTradeInLedgerLink:l,hasCarrierTradeIn:i,priceOfNewProduct:o}=e;return(a||n||r&&(s||o)||i||!t)&&l})({childModData:i.data,hasTradeInSummary:(0,k.M1)("shoppingCart.deviceTradeInServicesSummary")||!1,isBundle:u}),Ne=(({childModData:e,assets:t,isCarrierDevice:a,isBundle:n})=>{const{carrierSubsidyTradeInDetails:r,tradeInOverlay:s,tradeInCredit:l,priceOfNewIphoneValue:i}=e;return n?t.bundleTradeInOverlayLink:n||r||s&&a||l&&i?t.tradeinOverlayLink:t.tradeInInstruction})({childModData:i.data,assets:s,isCarrierDevice:g,isBundle:u}),Se=(({childModData:e,fragments:t,isCarrierDevice:a,isBundle:n})=>{const{id:r,carrierSubsidyTradeInDetails:s,tradeInOverlay:l,tradeInCredit:i,priceOfNewIphoneValue:o}=e;return n?t.bundleTradeInOverlayContent:s||l&&a||i&&o?t[`${l}OverlayContent`]:l&&!a?t.tradeUpInstructionOverlayContent:Qe.GP(t.acmiTradeInOverlayContent,{headerId:`${r}-tradein-heading`})})({childModData:i.data,fragments:l,isCarrierDevice:g,isBundle:u}),Ce=b&&Qe.GP(s.includedLoyaltySavings,{includedSavings:b}),ke=L||Ce,Pe=!d&&f&&A?A:"",Le=Boolean(!w&&N&&c&&S),Te={"data-evar1":C,"data-s-object-id":I,"data-evar11":P};switch(ni(i.data)){case Jl:return a().createElement(li,{header:B,description:_,subsidyDetails:R,devicePaymentsHeader:$,devicePaymentsSubHeader:H,devicePaymentsSubHeaderA11y:K,deviceBillCredits:V,showTradeInBalanceGiftMessage:O,overlayWithButton:we&&a().createElement(pi,{btnLabel:Ne,overlayContent:Se,productFamily:p})});case Xl:return a().createElement(ii,{hasPriceOfNewProduct:Boolean(J),name:y,instantCreditMessage:Q,showTradeInBalanceGiftMessage:O,removeBtn:he&&a().createElement(yi,Ae),tradeInPromoSavings:ee,infos:[{label:x,value:M,labelDataAutom:"yourTradeInDevice",valueDataAutom:"yourTradeInDeviceValue"},{label:U,value:W},{label:G,value:j,labelDataAutom:"tradeInLedgerSerialno",valueDataAutom:"tradeInLedgerSerialValue"}],priceDetails:[{label:q||s.priceOfNewIphoneLabel,value:z,labelDataAutom:"newProductPrice",valueDataAutom:"newProductValue"},{label:Z,value:J},{label:s.tradeInCreditLabel,value:X,labelDataAutom:"tradeInCredit",valueDataAutom:"tradeInCreditValue"},{label:s.priceAfterTradeInLabel,value:F,labelDataAutom:"fullPriceWithTradeIn",valueDataAutom:"fullPriceWithTradeInValue"}],title:a().createElement(gi,{name:y,description:v,titleDataAutom:"tradeInLedgerdetailsHeader"}),overlayWithButton:we&&a().createElement(pi,{btnLabel:Ne,overlayContent:Se,productFamily:p,btnDataAutom:"tradeInOverlay"})});case ei:return a().createElement(ci,{creditDisclaimer:te,tradeInEstimatedHeader:ae,tradeInEstimatedValue:ne,serialNumberHeader:G,serialNumber:j,imeiNumberHeader:U,imeiNumber:W,tradeInSubHeader:x,tradeInProduct:M,priceAfterTradeInSubHeader:re,priceAfterTradeIn:F,tradeInCreditInfo:se,tradeInIncentiveHeader:le,tradeInIncentive:ie,showTradeInBalanceGiftMessage:O,removeBtn:he&&a().createElement(yi,Ae),title:a().createElement(gi,{name:y,description:v}),overlayWithButton:we&&a().createElement(pi,{btnLabel:Ne,overlayContent:Se,productFamily:p})});case Ql:return a().createElement(oi,{totalPrice:Pe,savingsMessage:ke,priceDetails:oe,savingsBadge:T,removeBtn:he&&a().createElement(yi,Ae),infos:[ue?s.includedInInstallments:"",pe,ge],title:a().createElement(gi,{showProductLink:Le,productUrl:S,productMetrics:Te,name:y,description:v})});case ai:return a().createElement(vi,{hasPriceOfNewProduct:Boolean(J),iupSubHeader:ce,title:a().createElement(gi,{name:y,description:v}),priceDetails:[{label:s.priceOfNewIphoneLabel,value:J,labelDataAutom:"newProductPrice",valueDataAutom:"newProductValue"},{label:s.iupCreditLabel,value:`- ${me}`,labelDataAutom:"iUpCredit",valueDataAutom:"iUpCreditValue"},{label:s.fullPriceAfterCreditLabel,value:de,labelDataAutom:"fullPriceCredit",valueDataAutom:"fullPriceCreditValue"}],removeBtn:he&&a().createElement(yi,Ae)});default:return a().createElement(ui,{totalPrice:Pe,savingsMessage:ke,priceMessage:D,savingsBadge:T,removeBtn:he&&a().createElement(yi,(0,Ie.A)({},Ae,{ref:n})),infos:[ue?s.includedInInstallments:"",pe,ge],title:a().createElement(gi,{showProductLink:Le,productUrl:S,productMetrics:Te,name:y,description:v}),name:y,productEvar1:C,productMetricId:I,learnMoreOverlay:!d&&ye,id:ve})}},Ei=a().memo(hi),bi=({isStandardGiftCard:e,showEditBtn:t,editBtnProps:n,editBtnA11y:r,isPhysicalGiftCard:s,fromName:l,fromEmail:i,toName:o,toEmail:c,showMessageHeader:m,messageHeader:d,messageLines:u=[]})=>{const{assets:p}=(0,Y.S)();let g=p.giftMsgOnCard;e&&(g=s?p.giftPhysicalMsgOnCard:p.giftEgcMsgOnCard);const y=Boolean(u.length);return a().createElement("div",{className:"rs-item-gift-card-details rs-iteminfo-child"},a().createElement("div",{className:"row rs-iteminfo-child-content"},a().createElement("div",{className:"column as-icondetails large-12 small-12"},a().createElement("div",(0,Ie.A)({className:"as-icondetails-icon as-svgicon-container"},(0,Le.OH)('<svg viewBox="0 0 25 25" class="as-svgicon as-svgicon-giftcard as-svgicon-reduced as-svgicon-giftcardreduced" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h25v25H0z"/><path d="M19.5 20h-14A2.475 2.475 0 0 1 3 17.5v-10A2.476 2.476 0 0 1 5.5 5h14A2.476 2.476 0 0 1 22 7.5v10a2.475 2.475 0 0 1-2.5 2.5ZM5.5 6A1.532 1.532 0 0 0 4 7.5v10A1.531 1.531 0 0 0 5.5 19h14a1.531 1.531 0 0 0 1.5-1.5v-10A1.532 1.532 0 0 0 19.5 6Z"/><path d="M15.135 10.62a1.592 1.592 0 0 0-.738 1.328 1.516 1.516 0 0 0 .926 1.4 3.24 3.24 0 0 1-.474.989c-.294.423-.617.853-1.084.853s-.587-.279-1.137-.279c-.527 0-.715.287-1.144.287s-.738-.392-1.084-.883a4.32 4.32 0 0 1-.723-2.3 1.861 1.861 0 0 1 1.739-2.068c.467 0 .843.3 1.129.3s.7-.317 1.22-.317a1.607 1.607 0 0 1 1.37.69Zm-2.552-.762c-.038 0-.068-.008-.1-.008 0-.023-.008-.075-.008-.128a1.547 1.547 0 0 1 .384-.943 1.5 1.5 0 0 1 1.016-.528.735.735 0 0 1 .008.136 1.594 1.594 0 0 1-.361.973 1.346 1.346 0 0 1-.939.497Z"/></svg>'))),a().createElement("div",{className:"as-icondetails-detail rs-iteminfo-child-details"},a().createElement("div",{className:"rs-iteminfo-child-title"},a().createElement("span",{className:"rs-iteminfo-child-titletext"},g),t&&a().createElement("div",{className:"rs-iteminfo-child-divider"},a().createElement("button",(0,Ie.A)({},n,{type:"button",className:"as-buttonlink","data-autom":"bag-egcdetails-edit"}),a().createElement("span",{"aria-hidden":"true"},p.edit),a().createElement("span",(0,Ie.A)({className:"visuallyhidden"},(0,Le.OH)(r)))))),s?a().createElement("div",{className:"rs-iteminfo-child-tagline"},!e&&a().createElement("div",{className:"rs-iteminfo-label"},p.egcMessageLabel,":"),e&&y?u.map(((e,t)=>a().createElement("div",{key:`${e}-${t}`},e))):a().createElement("div",{className:"rs-iteminfo-greytext"},p.noneLabel)):a().createElement("div",{className:"rs-iteminfo-egcdetails"},a().createElement("div",{className:"rs-iteminfo-child-tagline"},a().createElement("div",{className:"rs-iteminfo-label"},p.egcToLabel,":"),a().createElement("div",{className:"rs-iteminfo-egcemail"},o," (",c,")")),a().createElement("div",{className:"rs-iteminfo-child-tagline"},a().createElement("div",{className:"rs-iteminfo-label"},p.egcFromLabel,":"),a().createElement("div",{className:"rs-iteminfo-egcemail"},l," (",i,")")),a().createElement("div",{className:"rs-iteminfo-child-tagline"},a().createElement("div",{className:"rs-iteminfo-label"},p.egcMessageLabel,":"),m&&a().createElement("div",{className:"rs-gift-card-msg-header"},d),u.map(((e,t)=>a().createElement("div",{key:`${e}-${t}`,className:"rs-gift-card-msg-line"},e))),e&&!y&&a().createElement("div",{className:"rs-iteminfo-greytext"},p.noneLabel),!e&&!y&&a().createElement("div",{className:"rs-iteminfo-greytext"},p.noneLabel)))))))};var fi=__webpack_require__(1229);const Ai=(0,r.A)("hooks/use-forked-ref"),wi=e=>a().useMemo((()=>t=>{e.forEach((e=>{if(e)if(C().isFunction(e))e(t);else try{e.current=t}catch(e){Ai.error(e)}}))}),e);var Ni=__webpack_require__(2370);const Si=({id:e,name:t,value:n,label:r,classes:s={},error:l,errorA11y:i,errorAttrs:o={},characterCounter:c,characterCounterA11y:m,children:d,onFocus:u=(()=>{}),onBlur:p=(()=>{}),placeholder:g,autoGrow:y,onChange:v=(()=>{}),"aria-describedby":h="",...E},b)=>{const[f,A]=a().useState(!1),w=0===c||c,N=Z()(["form-textbox",s.root,{"is-error":l,"form-textbox-with-counter":w}]),S=Z()(["form-textarea",s.wrapper,{"form-textbox-entered":Boolean(n),"form-textarea-with-placeholder":g,"form-textarea-autogrow":y,focused:f}]),C=a().useRef(null),k=wi([b,C]),I=a().useId(),P=e||I;return a().createElement("div",{className:N},a().createElement("div",{className:S,onClick:()=>{C.current&&C.current.focus()}},a().createElement("textarea",(0,Ie.A)({id:P,name:t,value:n,className:s.input,onFocus:e=>{A(!0),u(e)},onBlur:e=>{A(!1),p(e)},onChange:e=>{v(e),C.current&&y&&(C.current.style.height=`${C.current.scrollHeight}px`)},placeholder:g,"aria-labelledby":`${P}_label`,"aria-describedby":`${P}_error ${h}`,ref:k},E))),a().createElement("span",{id:`${P}_label`,className:Z()("form-textbox-label",s.label),"aria-hidden":"true"},r),l&&a().createElement(Ni.A,{id:`${P}_error`,className:s.error,error:l,errorA11y:i,errorAttrs:o}),w&&a().createElement("div",{className:Z()("form-textbox-counter-wrapper",s.characterCounter,{"is-error":l})},m&&a().createElement("span",{className:"visuallyhidden"},m),a().createElement("span",{className:"form-textbox-counter"},c)),d)},Ci=a().forwardRef(Si);var ki=__webpack_require__(8595);const Ii=({visible:e,setVisible:t,onEntered:n,onExited:r,id:s,messages:l,isStandardGiftCard:i,isPhysicalGiftCard:o,emailFields:c,showMessageHeader:m,msgHeaderProps:d,msgBodyProps:u,msgBodyA11y:p,giftCardImage:g,saveBtnProps:y})=>{const{viewport:v,assets:h}=(0,Y.S)(),E="small"===v;let b=h.egcOverlayHeader;i&&(b=o?h.physicalOverlayHeader:h.giftEgcMsgOnCard);const f=h.egcMessageSubject,A=o?h.giftPhysicalOverlayMsgOptional:h.overlayYourMessageOptional;return a().createElement(Ke.A,{contentAttrs:{className:"rs-gift-card-overlay"},ariaLabel:`${s}-overlayHeading`,visible:e,onClose:()=>t(!1),isFullscreen:E,onEntered:n,onExited:r,disableFocusOut:!0,doublePadding:!0,fixedWidth:!0,mountOnEnter:!0,unmountOnExit:!0},a().createElement("h2",{id:`${s}-overlayHeading`,className:"rs-gift-card-overlay-header"},b),l,a().createElement("div",{className:"rs-gift-card-overlay-section"},c,!i&&m&&a().createElement("div",{className:"rs-gift-card-overlay-element"},a().createElement(ki.A,(0,Ie.A)({},d,{label:f,"data-autom":"bag-egcoverlay-editMessageHeader","aria-required":!1,required:!1}))),o&&g,a().createElement("div",{className:"rs-gift-card-overlay-element"},a().createElement(Ci,(0,Ie.A)({},u,{"data-autom":"bag-egcoverlay-editMessageBody","aria-required":!1,required:!1,label:A,"aria-describedby":`${s}-messagebody`})),a().createElement("span",{"aria-hidden":"true",className:"visuallyhidden",id:`${s}-messagebody`},p)),i&&!o&&g,a().createElement("div",{className:"rs-gift-card-overlay-buttoncontainer"},a().createElement(Wt.A,(0,Ie.A)({},y,{"aria-label":h.giftCardDetailsA11y,"data-autom":"giftcard-save"}),h.save),a().createElement("div",{className:"rs-gift-card-overlay-cancel"},a().createElement("button",{type:"button",className:"as-buttonlink","data-autom":"giftcard-cancel",onClick:()=>t(!1)},h.cancel)))))},Pi=({messageLines:e=[],data:t})=>a().createElement("div",{className:"row rs-gift-card-overlay-imgbox"},a().createElement("div",{className:"rs-gift-card-overlay-msgcontainer large-10 large-centered"},e.map(((e,t)=>a().createElement("div",{key:`${e}-${t}`,className:"rs-gift-card-overlay-msgline"},e)))),a().createElement("div",{className:"rs-gift-card-overlay-imgcontainer large-12"},a().createElement(kt.Ay,{className:"rs-gift-card-overlay-img",data:t}))),Li=({isStandardGiftCard:e,toNameProps:t,toEmailProps:n,fromNameProps:r,fromEmailProps:s})=>{const{assets:l}=(0,Y.S)(),i=e?l.egcRecipientName:l.egcRecipient,o=l.egcRecipientEmail,c=e?l.egcSenderName:l.egcYourName,m=e?l.egcSenderEmail:l.egcYourEmail;return a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-gift-card-overlay-element"},a().createElement(ki.A,(0,Ie.A)({},t,{label:i,"data-autom":"bag-egcoverlay-editToName"}))),a().createElement("div",{className:"rs-gift-card-overlay-element"},a().createElement(ki.A,(0,Ie.A)({},n,{label:o,"data-autom":"bag-egcoverlay-editToEmail"}))),a().createElement("div",{className:"rs-gift-card-overlay-element"},a().createElement(ki.A,(0,Ie.A)({},r,{label:c,"data-autom":"bag-egcoverlay-editFromName"}))),a().createElement("div",{className:"rs-gift-card-overlay-element"},a().createElement(ki.A,(0,Ie.A)({},s,{label:m,"data-autom":"bag-egcoverlay-editFromEmail"}))))},Ti=(0,r.A)("rs-checkout/giftcard"),Oi=({showOverlayBtnRef:e})=>{const{assets:n}=(0,Y.S)(),{modKey:r,announceMessage:s}=Fl(),l=`${r}.egc`,i=(0,k.M1)(l)?l:`${r}.giftCard`,o=(0,k.Yl)(i),[c,m]=(0,k.Ej)(i,Kn,!1),{id:d,isPhysicalGiftCard:u,showProductImage:p,imageData:g={},nameMaxLength:y,emailAddressMaxLength:v,showMessageHeader:h,headerMaxLength:E,messageLines:b=[],wrapMessageUrl:f,giftCardPartNumber:A}=o.data,w=Boolean(p&&g),N={...(0,k.Pf)(i,"editToName").props,maxLength:y},S={...(0,k.Pf)(i,"editToEmail").props,maxLength:v},I={...(0,k.Pf)(i,"editFromName").props,maxLength:y},P={...(0,k.Pf)(i,"editFromEmail").props,maxLength:v},L=!u&&a().createElement(Li,{isStandardGiftCard:w,toNameProps:N,toEmailProps:S,fromNameProps:I,fromEmailProps:P}),T={...(0,k.Pf)(i,"editMessageHeader").props,maxLength:E},O=(0,k.Pf)(i,"editMessageBody",{debounce:500}),D=w&&o.data.showCharCount,x=O.props.value.length,M=O.props.maxLength,F=M-x,B=Qe.GP(n.messageCountA11y,{max:M}),[R,_]=(0,t.useState)([]),$=(0,k.qB)(),H=(0,fi.A)(((e,t)=>{const a=new URLSearchParams(t),n={method:"POST",headers:$,body:a};(0,Pa.hI)(e,n).then((e=>{const t=C().get(e,"body.lines",[]);_(t)})).catch((e=>{Ti.error(`Network ERROR: ${e}`)}))}),700),K={...O.props,onChange:e=>{O.props.onChange(e),H(f,{input:e.target.value,product:A})},characterCounter:D?`${x}/${M}`:""},[V,U]=(0,t.useState)(""),W=(0,fi.A)((e=>U(e)),500);(0,t.useEffect)((()=>{if(D&&F<30){const e=Qe.GP(n.remainingLengthLabel,{remainingLength:F});W(e)}}),[D,W,F]),(0,t.useEffect)((()=>{c&&_(b)}),[c]);const G=p&&a().createElement(Pi,{messageLines:R,data:{width:g.width,height:g.height,srcSet:{src:g.src,scaleParams1:g.dataScaleParams1}}}),j=(0,k.W4)(i,"save-button"),{isLoadingSubmit:q}=j.binding.properties,z={...j.props,disabled:j.props.disabled||q,isLoading:q,onClick:e=>{j.props.onClick(e),s(n.processing)}},[Z,X]=(0,k.fL)(i),Q=(0,t.useRef)(),ee=a().createElement(ke.A,{messages:Z,lastUpdated:X,ref:Q});return a().createElement(a().Fragment,null,a().createElement(Ii,{visible:c,setVisible:m,onEntered:()=>{Z.length&&Q.current&&Q.current.focus()},onExited:()=>{e.current&&e.current.focus()},id:d,messages:ee,isPhysicalGiftCard:u,isStandardGiftCard:w,emailFields:L,showMessageHeader:h,msgHeaderProps:T,msgBodyProps:K,msgBodyA11y:B,giftCardImage:G,saveBtnProps:z}),D&&a().createElement(J.Ay,{message:V}))},Di=a().memo(Oi),xi=()=>{const{modKey:e,isEditable:t}=Fl(),{fragments:n}=(0,Y.S)(),[r]=(0,k.Ej)(e,"name"),s=`${e}.egc`,l=(0,k.M1)(s)?s:`${e}.giftCard`,i=(0,k.Yl)(l),{canEdit:o,isPhysicalGiftCard:c,showProductImage:m,imageData:d,fromName:u,fromEmail:p,toName:g,toEmail:y,showMessageHeader:v,messageHeader:h,messageLines:E}=i.data,b=Boolean(m&&d),[,f]=(0,k.Ej)(l,Kn,!1),A=Qe.GP(n.editEgcGiftMsgOnCardA11y,{name:r}),w=(0,k.W4)(l,"show-edit"),N={...w.props,onClick:e=>{w.props.onClick(e),f(!0)}};return a().createElement(a().Fragment,null,a().createElement(bi,{isStandardGiftCard:b,showEditBtn:t&&o,editBtnProps:N,editBtnA11y:A,isPhysicalGiftCard:c,fromName:u,fromEmail:p,toName:g,toEmail:y,showMessageHeader:v,messageHeader:h,messageLines:E}),a().createElement(Di,{showOverlayBtnRef:N.ref}))},Mi=a().memo(xi),Fi=(0,t.forwardRef)((({sources:e=[],tracks:t=[],fallback:n=a().createElement("p",null,"Video is not supported"),className:r,...s},l)=>a().createElement("video",(0,Ie.A)({ref:l,className:Z()("rc-video",r)},s),e.map((e=>a().createElement("source",{key:e.src,src:e.src,type:e.type}))),t.map((e=>a().createElement("track",{key:e.label,src:e.src,label:e.label,srcLang:e.srclang,default:e.default}))),n)));Fi.displayName="Video";const Bi=Fi,Ri=e=>e?Math.floor(10*e.volume):0,_i=e=>{const t=Math.floor(e,10),a=Math.floor(t/60/60);return(a>0?`${a.toString().padStart(2,"0")}:`:"")+`${(Math.floor(t/60)-60*a).toString().padStart(2,"0")}:`+(t%60).toString().padStart(2,"0")},$i=({withTimeUpdate:e}={})=>{const a=(0,t.useRef)(null),[n,s]=(0,t.useState)(!1),[l,i]=(0,t.useState)(!1),[o,c]=(0,t.useState)(!1),[m,d]=(0,t.useState)(!1),[u,p]=(0,t.useState)(!1),[g,y]=(0,t.useState)(!1),[v,h]=(0,t.useState)(!1),[E,b]=(0,t.useState)(0),f=(0,t.useRef)(0),[A,w]=(0,t.useState)(!1),[N,S]=(0,t.useState)(!1),[C,k]=(0,t.useState)([]),[I,P]=(0,t.useState)(!1),[L,T]=(0,t.useState)(0),[O,D]=(0,t.useState)(0),[x,M]=(0,t.useState)(!1),[F,B]=(0,t.useState)(!1),[R,_]=(0,t.useState)(!1),$=(0,t.useRef)(!1);async function H(){const e=(0,r.A)("use-video/useVideo/play"),t=a.current;if(t&&(t.paused||t.ended))try{await t.play(),p(!0),w(!0),y(!1)}catch(t){p(!1),e.error(t)}}const K=()=>{const e=a.current;e&&(e.pause(),p(!1))},V=e=>{const t=a.current;if(t){const a=(0,Le.qE)(e,0,10);0===a?(t.muted=!0,h(!0)):(t.muted=!1,h(!1)),t.volume=a/10,b(a)}},U=()=>{const e=a.current;e&&!v&&(f.current=E,V(0),e.muted=!0,h(!0))},W=()=>{const e=a.current;e&&v&&(V(f.current),e.muted=!1,h(!1))},G=e=>{const t=a.current;t&&e>=0&&e<L&&(t.currentTime=e,D(e))},j=e=>{const t=a.current;if(t){let a=!1;const n=C.map(((n,r)=>{const s=r===e;return t.textTracks[r]&&(t.textTracks[r].mode=s?"showing":"hidden",s&&(a=!0)),n.selected=s,n}));P(a),k(n)}};return(0,t.useEffect)((()=>{const e=a.current;if(e){if(b(Ri(e)),M(e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSetPresentationMode),e.textTracks.length>0){const t=[];for(let a=0;a<e.textTracks.length;a+=1)t.push({label:e.textTracks[a].label,language:e.textTracks[a].language,selected:!1});e.textTracks.length>1&&t.push({label:"Off",language:null,selected:!0}),k(t)}const t=e=>B(e&&"available"===e.availability);window.WebKitPlaybackTargetAvailabilityEvent&&(e.addEventListener("webkitplaybacktargetavailabilitychanged",t),setTimeout((()=>{e.removeEventListener("webkitplaybacktargetavailabilitychanged",t)}),1e4))}}),[]),(0,t.useEffect)((()=>{const t=a.current;if(t){const a=()=>{i(!1),s(!0),T(t.duration)},n=()=>{i(!1),s(!0)},r=()=>{$.current=!1,setTimeout((()=>{$.current||i(!0)}),400)},l=()=>{$.current=!0,i(!1)},o=()=>c(!0),m=()=>{y(!0),p(!1)},d=()=>D(t.currentTime),u=()=>S(!!document.fullscreenElement),g=()=>S(!!document.webkitIsFullScreen),v=()=>S(!!document.mozFullScreen),E=()=>S(!!document.msFullscreenElement),f=()=>p(!1),A=()=>p(!0),w=()=>{b(Ri(t)),h(t.muted)},N=()=>_(!0),C=()=>_(!1);return t.addEventListener("loadedmetadata",a),t.addEventListener("loadeddata",n),t.addEventListener("waiting",r),t.addEventListener("playing",l),t.addEventListener("canplay",l),t.addEventListener("canplaythrough",l),t.addEventListener("stalled",o),t.addEventListener("ended",m),e&&t.addEventListener("timeupdate",d),document.addEventListener("fullscreenchange",u),document.addEventListener("webkitfullscreenchange",g),document.addEventListener("mozfullscreenchange",v),document.addEventListener("msfullscreenchange",E),t.addEventListener("pause",f),t.addEventListener("play",A),t.addEventListener("volumechange",w),t.addEventListener("webkitbeginfullscreen",N),t.addEventListener("webkitendfullscreen",C),()=>{t.removeEventListener("loadedmetadata",a),t.removeEventListener("loadeddata",n),t.removeEventListener("waiting",r),t.removeEventListener("playing",l),t.removeEventListener("canplay",l),t.removeEventListener("canplaythrough",l),t.removeEventListener("stalled",o),t.removeEventListener("ended",m),e&&t.removeEventListener("timeupdate",d),document.removeEventListener("fullscreenchange",u),document.removeEventListener("webkitfullscreenchange",g),document.removeEventListener("mozfullscreenchange",v),document.removeEventListener("msfullscreenchange",E),t.removeEventListener("pause",f),t.removeEventListener("play",A),t.removeEventListener("volumechange",w),t.removeEventListener("webkitbeginfullscreen",N),t.removeEventListener("webkitendfullscreen",C)}}}),[e]),(0,t.useEffect)((()=>{!N&&C.length>0&&(()=>{const e=a.current;if(e){let t=-1;[...e.textTracks].forEach(((e,a)=>{"showing"===e.mode&&(t=a)})),j(t)}})()}),[N]),{ref:a,state:{isLoaded:n,isWaiting:l,isStalled:o,isError:m,isPlaying:u,isEnded:g,isMuted:v,volume:E,isTouched:A,isFullscreen:N,duration:L,currentTime:O,durationString:_i(L),currentTimeString:_i(O),currentTimePercent:(0,Le.qE)(O/L*100,0,100)||0,timeRemainingString:_i(L-O),captions:C,isCaptionsOn:I,isPIPSupported:x,isAirPlaySupported:F,iosFullScreen:R},controls:{handleError:()=>{d(!0)},play:H,pause:K,togglePlay:()=>{u?K():H()},stop:(e=!0)=>{const t=a.current;t&&(K(),t.currentTime=0,e&&y(!1))},mute:U,unmute:W,toggleMute:()=>{a.current&&(v?W():U())},volumeUp:()=>{const e=a.current;e&&E<10&&(e.muted=!1,h(!1),V(E+1))},volumeDown:()=>{a.current&&E>0&&V(E-1)},setVolume:V,toggleFullscreen:()=>{const e=a.current;e&&(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),S(!1)):(e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),S(!0)))},setCurrentTime:G,setCurrentTimePercent:e=>{const t=a.current;if(t){const a=e*t.duration/100;G(a)}},setCaption:j,toggleAirPlay:()=>{const e=a.current;e&&F&&window.WebKitPlaybackTargetAvailabilityEvent&&e.webkitShowPlaybackTargetPicker()},togglePIP:()=>{const e=a.current;e&&x&&e.webkitSetPresentationMode&&e.webkitSetPresentationMode("picture-in-picture"===e.webkitPresentationMode?"inline":"picture-in-picture")}}}},Hi=Object.freeze({OPEN_OVERLAY:"OPEN_OVERLAY",CLOSE_OVERLAY:"CLOSE_OVERLAY",SET_PART:"SET_PART",SET_DATA:"SET_DATA",FETCH_META_START:"FETCH_META_START",FETCH_META_SUCCESS:"FETCH_META_SUCCESS",FETCH_META_ERROR:"FETCH_META_ERROR",CLEAR_META_DATA:"CLEAR_META_DATA",UPDATE_SELECTION_DATA:"UPDATE_SELECTION_DATA",SAVE_SELECTION:"SAVE_SELECTION",CLEAR_SELECTION:"CLEAR_SELECTION",UPDATE_SELECTION_INBUNDLE:"UPDATE_SELECTION_INBUNDLE",HIDE_CONTENT:"HIDE_CONTENT",HIDE_VIDEO:"HIDE_VIDEO",UPDATE_VIDEO_STATE:"UPDATE_VIDEO_STATE"}),Ki=(Object.freeze({INLINE:"inline",TILE:"tile",SHOW_ONPAGE:"showonpage"}),Object.freeze({line1Key:"line1",line2Key:"line2",message1Key:"msg.0",message2Key:"msg.1",message3Key:"msg.2",message4Key:"msg.3",fontKey:"f"})),Vi=Object.freeze({TEXT:"text",EMOJI:"select",EMOJI_TEXT:"text+select",MULTI_SELECT:"multiselect"}),Ui=e=>"emoji"===e||"char1"===e,Wi=e=>(e?e.filter((e=>!C().isEmpty(e)&&e.messages&&e.messages.length>0)):[]).length>0,Gi=(e,t)=>C().isEmpty(t)?e:e.map((e=>e?[...e].map((e=>{const a=t.find((t=>t.value===e));return a?` ${a.a11yText} `:e})).join(""):e)),ji=e=>e.every((e=>e?.engravedLines?.every((e=>!e.value&&!e.font)))),qi=(e,t="default",a,n=[])=>{const r={...e},{engravingDetails:s,slotName:l}=r,i=C().get(l,"engravingData.fonts.items",[]),{engravingPageData:o,engravingVideo:c,baseProduct:m}=s,d=C().get(c,"src");if(!o||!o.engravingMessageBox)return{};const{bundleQuantity:p=0,engravingMessageBox:g}=o;r.isBundleEngraving=p>0,r.isMultiFontEngraving=i.length>0;const y=(({bundleQuantity:e=1,bundles:t=[]})=>Array(e).fill({}).map(((e,a)=>({...e,...t[a]?t[a]:{},key:a}))))(o),v=[];n.forEach((e=>{const{key:t,messages:a=[],font:n=""}=e;p>0?a.forEach(((e,a)=>{C().set(v,`${a}.engravedLines.${t}`,{value:e||"",font:n})})):a.forEach(((e,t)=>{C().set(v,`0.engravedLines.${t}`,{value:e||"",font:n})}))})),v.length>0&&(o.engravedItems=v),r.savedSelection=[],o.bundles=y.map((e=>{const{key:a,bundleDisplayValue:n}=e,s=C().cloneDeep(g),l=((e,t)=>C().get(e,`${t}.engravedLines`,[]).map((({value:e})=>e)))(o.engravedItems,a);let c=[...l];const m=((e=[],t)=>{const a=C().uniqBy(C().get(e,`${t}.engravedLines`,[]),"font"),{font:n=""}=a[0]||{};return n})(o.engravedItems,a),d=((e,t)=>{const a=C().find(e,(e=>e.value.fontName===t));return C().get(a,"value.fontFamily")||""})(i,m),p=C().get(s,"inputTypes.sections[0].fields",[]);r.savedSelection[a]={key:a,bundleDisplayValue:n,messages:l,font:m,fontFamily:d,messageLines:p.length,errors:null},s.lines=p.map(((e,t)=>(C().set(e,"0.value",Ui(m)?"":l[t]),{...e[0]}))),s.selectedEmoji=Ui(m)?l[0]:"";const y=((e,t)=>e.map(((e,a)=>({fontIdx:a,open:t?e.value.fontName===t:0===a,...e.value}))))(i,m),v=u.Ez().isHandheldPhone?35:40;return s.emojis={},y.forEach((e=>{const{fontDisplayType:a,fontLabel:n="Emoji",defaultValue:r}=e,i=n,o="text"!==a?[...r]:[],m=Math.ceil(o.length/v),d=Array(m).fill({}).map(((e,a)=>({legend:m>1?`${i} ${a+1}`:i,key:`${t}_selectedEmoji`,group:a,options:o.slice(a*v,a*v+v)})));s.emojis[e.fontName]=d,"text"!==a&&(c=Gi(l,r))})),r.savedSelection[a].messagesA11y=c,s.groupKey=t,o[`engravingMessageBox${a}`]={...s},o[`fonts${a}`]=y,e})),r.selection=Object.assign([],r.savedSelection);const h=C().get(l,"engravingData.additionalData.namedAssets",C().get(l,"data.map.namedAssets",{}));return r.slotName={...h},{data:r,showVideo:!!d&&(C().isEmpty(o.engravedItems)||ji(o.engravedItems)),metricsConfig:{...a,baseProduct:m}}},Yi=(e,t)=>{switch(t.type){case Hi.SET_PART:return{...e,overlayPart:t.payload};case Hi.SET_DATA:{const{engravingData:a,id:n,metricsConfig:r}=t.payload;return{...e,...qi(a,n,r)}}case Hi.OPEN_OVERLAY:return{...e,overlayVisible:!0,showContent:!0,loadOverlay:!0};case Hi.CLOSE_OVERLAY:return{...e,overlayVisible:!1};case Hi.FETCH_META_START:return{...e,isFetching:!0,isFetched:!1,error:null};case Hi.FETCH_META_ERROR:return{...e,isFetching:!1,isFetched:!0,error:t.error,data:{}};case Hi.FETCH_META_SUCCESS:return{...e,isFetching:!1,isFetched:!0,error:null,...t.payload};case Hi.UPDATE_SELECTION_DATA:{const{key:a,...n}=t.payload,r=((e,{key:t,isEmojiFont:a,fieldVals:n})=>{const r=C().cloneDeep(e);return a?C().set(r,`engravingPageData.engravingMessageBox${t}.selectedEmoji`,n):Object.keys(n).forEach(((e,a)=>{C().set(r,`engravingPageData.engravingMessageBox${t}.lines[${a}].value`,n[e])})),r})(e.data.engravingDetails,t.payload),s=C().get(e,"data.selection",[]).map((e=>e.key===a?{...e,...C().omit(n,["fieldVals","isEmojiFont"])}:{...e}));return{...e,data:{...e.data,selection:s,engravingDetails:r}}}case Hi.UPDATE_SELECTION_INBUNDLE:{const t=(({engravingDetails:e,savedSelection:t=[]})=>{if(C().isEmpty(e))return{};const a=C().cloneDeep(e);return a.engravingPageData.bundles.forEach((({key:e})=>{const n=C().get(a,`engravingPageData.engravingMessageBox${e}.lines`,[]);if(C().isEmpty(t))C().set(a,`engravingPageData.engravingMessageBox${e}.selectedEmoji`,""),n.forEach(((t,n)=>{C().set(a,`engravingPageData.engravingMessageBox${e}.lines[${n}].value`,"")}));else{const r=C().get(t,`${e}.font`,""),s=C().get(t,`${e}.messages`,[]);Ui(r)?(C().set(a,`engravingPageData.engravingMessageBox${e}.selectedEmoji`,s[0]),n.forEach(((t,n)=>{C().set(a,`engravingPageData.engravingMessageBox${e}.lines[${n}].value`,"")}))):(n.forEach(((t,n)=>{C().set(a,`engravingPageData.engravingMessageBox${e}.lines[${n}].value`,s[n])})),C().set(a,`engravingPageData.engravingMessageBox${e}.selectedEmoji`,""))}})),a})(e.data);return{...e,data:{...e.data,engravingDetails:t}}}case Hi.SAVE_SELECTION:return{...e,data:{...e.data,savedSelection:t.payload}};case Hi.CLEAR_SELECTION:{const t=C().cloneDeep(C().get(e,"data.savedSelection",[]));return{...e,data:{...e.data,selection:t}}}case Hi.REMOVE_SELECTION:return{...e,data:{...e.data,selection:t.payload,savedSelection:t.payload}};case Hi.HIDE_CONTENT:return{...e,showContent:!1};case Hi.HIDE_VIDEO:return{...e,showVideo:!1};case Hi.UPDATE_VIDEO_STATE:{const a=C().get(e,"data.engravingDetails.engravingVideo.src");return{...e,showVideo:!!a&&!t.payload}}default:return e}};const zi=class{constructor({session:e=!1,expires:t,expiryInMs:a}){this.wantSession=e,this.expires=t,this.expiryInMs=a,this.isSupported=this.isSupported()}isSupported(){try{const e=this.wantSession?window.sessionStorage:window.localStorage;if(!e)return!1;e.setItem("T3sT3iNg","123"),e.removeItem("T3sT3iNg")}catch(e){return!1}return!0}getFutureDate(){const e=new Date,t=this.expiryInMs?1:864e5,a="number"==typeof this.expires?this.expires:parseInt(this.expires,10);return e.getTime()+a*t}keys(){return this.wantSession?Object.keys(sessionStorage):Object.keys(localStorage)}get(e){if(!this.isSupported)return null;if(this.wantSession){try{const t=new Date,a=JSON.parse(sessionStorage.getItem(e));if(a.timestamp>t.getTime())return a.value;sessionStorage.removeItem(e)}catch(t){sessionStorage.removeItem(e)}return null}return localStorage.getItem(e)}set(e,t){if(this.isSupported)if(this.wantSession){const a=JSON.stringify({value:t,timestamp:this.getFutureDate()});sessionStorage.setItem(e,a)}else localStorage.setItem(e,t)}remove(e){this.isSupported&&(this.wantSession?sessionStorage.removeItem(e):localStorage.removeItem(e))}};window.apple=window.apple||{};const Zi=["product","step","add","remove","msg.0","msg.1","msg.2","msg.3","f.0","f.1","f.2","f.3","acc_msg.0","acc_msg.1","not-engraved","acc-not-engraved","msg","skipAttach","cppart","purchaseOption"];const Ji=class{constructor(e,t={}){this.defaultOptions=t,this.keyData={version:this.defaultOptions.version||C().get(window,"apple.buyFlowVersionId","v9"),path:this.defaultOptions.path||C().get(window,"apple.buyFlowPath",window.location.pathname),step:this.defaultOptions.step||this.getStep(),input:""},this.createKey=(({version:e,path:t,step:a})=>n=>`${e}--${t}--${a}--${n}`)(this.keyData),this.createKeyWithStep=(({version:e,path:t})=>(a,n)=>`${e}--${t}--${a}--${n}`)(this.keyData),this.sessionKey=(({version:e,path:t})=>`${e}--${t}`)(this.keyData),this.storage=new zi(e)}set(e,t){this.storage.set(this.createKey(e),t)}get(e){return this.storage.get(this.createKey(e))}remove(e){this.storage.remove(this.createKey(e))}setEntryForStep(e,t,a){this.storage.set(this.createKeyWithStep(e,t),a)}getEntryForStep(e,t){return this.storage.get(this.createKeyWithStep(e,t))}removeEntryForStep(e,t){this.storage.remove(this.createKeyWithStep(e,t))}getEntries({pathSelector:e,excludePath:t}){const a=new RegExp(`${this.keyData.path}--`),n=new RegExp(e),r=a.test(e);return this.storage.keys().reduce(((e,s)=>{const l=n.test(s),i=a.test(s);if(r?l:l&&i){e[t?s.slice(s.lastIndexOf("--")+2):s]=this.storage.get(s)}return e}),{})}removeEntries({pathSelector:e=this.getStep()}){Object.keys(this.getEntries({pathSelector:e,excludePath:!1})).forEach((e=>this.storage.remove(e)))}getEntriesForStep({step:e=this.getStep(),excludePath:t}){return this.getEntries({pathSelector:e,excludePath:t})}removeEntriesForStep({step:e=this.getStep()}){this.removeEntries({pathSelector:e})}getEntriesForSession({excludePath:e}){return this.getEntries({pathSelector:this.sessionKey,excludePath:e})}removeEntriesForSession(){this.removeEntries({pathSelector:this.sessionKey})}setValues(e,t=(()=>!0)){Object.keys(e).forEach((a=>{t(a)&&this.set(a,e[a])}))}getStep(e="select"){if(this.defaultOptions.step)return this.defaultOptions.step;const t=new URLSearchParams(window.location.search.slice(1)).get("step")||e,a=document.querySelector('input[name="step"]');return a&&a.value||t}setBuyflowComplete(e){this.storage.set(this.createKeyWithStep("buyFlow","complete"),e)}getBuyflowComplete(){return this.storage.get(this.createKeyWithStep("buyFlow","complete"))}removeBuyflowComplete(){this.storage.remove(this.createKeyWithStep("buyFlow","complete"))}removeAllFromSessionComplete(e){const t=C().get(window,"apple.buyFlowFirstStep"),a=C().get(window,"apple.buyFlowIndependentStep"),n=this.getStep(),r=document.querySelector('input[name="bfe"]');!t&&!a&&n!==e||r||this.removeEntriesForSession()}getHiddenInputsFromQueryString(){const e={};return new URLSearchParams(window.location.search.slice(1)).forEach(((t,a)=>{"none"!==t&&"true"!==t&&(e[a]=t)})),e}getHiddenInputs(e={}){const{allowlist:t=[],appendToDefaultList:a=!1,noFilter:n=!1}=e;let r={};if(this.storage.isSupported||(r={...r,lsd:!0,...this.getHiddenInputsFromQueryString()}),r={...r,...this.getEntriesForSession({excludePath:!0})},n)return r;const s=a?C().union(Zi,t):Zi;return C().pickBy(r,((e,t)=>s.includes(t)))}persist(e,t,a){e&&t&&Object.keys(t).forEach((n=>this.addHiddenInput(e,n,t[n],a)))}setSubmitButtonValue(e){const t=e.querySelector('button[type="submit"]');t&&this.addHiddenInput(e,t.getAttribute("name"),t.getAttribute("value"))}addHiddenInput(e,t,a,n){const r=e.querySelector(`input[name="${t}"]`);if(r)n&&r.setAttribute("value",a);else{const n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",t),n.setAttribute("value",a),e.appendChild(n)}}},Xi=C().get(window,"asBuyFlow.storageConfig.genericPath",""),Qi=`${C().get(window,"apple.buyFlowPath",window.location.pathname)}/generic`,eo=C().get(window,"apple.version",""),to=C().get(window,"apple.storageConfig.path",""),ao=(new Ji({session:!0,expires:window.apple.buyFlowExpiry||36e5,expiryInMs:!0,hash:!0},{version:eo,path:to||Xi||Qi,step:"generic"}),new Ji({session:!0,expires:C().get(window,"apple.buyFlowExpiry",36e5),expiryInMs:!0})),no=e=>{const t=e||ao.getEntriesForStep({excludePath:!0}),{engravedPart:a,engravingOption:n}=t;n&&(ao.remove("engravingOption"),ao.remove("productToEngrave"),a&&(ao.remove("engravedPart"),Object.keys(t).filter((e=>0===e.indexOf("msg.")||0===e.indexOf("f."))).forEach((e=>{ao.remove(e)}))))},ro=(e=[],t)=>{e.forEach((({key:e=0,font:a="",messages:n=[],messageLines:r=0})=>{if(!t&&n.length)a&&ao.set(`f.${e}`,a),n.forEach(((t,a)=>{ao.set(`msg.${e+a}`,t)}));else{ao.remove(`f.${e}`);for(let t=0;t<r;t+=1)ao.remove(`msg.${e+t}`)}}))},so=({engravedData:e,engravingOption:t})=>{const{isEngraved:a,part:n,engravedPart:r,selection:s}=e;a?(ao.set("engravedPart",r),ao.set("productToEngrave",n),ro(s)):(ao.remove("engravedPart"),ao.remove("productToEngrave"),ro(s,!0)),ao.set("engravingOption",t)},lo=(e={},t,a,n)=>{if(window.asMetrics){const{baseProduct:r,pageName:s,disableFireMetrics:l=!1}=e,i=C().get(window,"s.pageName",""),o=" engraving ",c=` ${s} - ${r}`;let m=null;const d={eVar5:[i," ",c,o," finish engraving"].join("|")};if(t)m="typeface | bundle";else{const e=C().get(a,"0.font");if(e)if("mixed"===e){const{hasEmoji:e,hasText:t}=((e,t)=>{let a=!1,n=!1;const r=C().get(e,"fonts0",[]).find((e=>"mixed"===e.fontName)),s=C().get(r,"defaultValue",[]).reduce(((e,t)=>e+t.value),""),l=C().get(t,"0.messages",[]).join("");return C().some(l,(e=>(s.includes(e)?a=!0:n=!0,a&&n))),{hasEmoji:a,hasText:n}})(n,a);m=e&&t?"typeface | mixed":e?"typeface | emoji":t?"typeface | text":""}else m=Ui(e)?"typeface | emoji":"typeface | text";else m="text"}if(!l){const e=C().get(window.asMetrics,"sendUserInteraction",(()=>""));m&&(d.eVar6=[i," ",c,o,` ${m}`].join("|")),e({name:"metrics",data:d})}return{engravedType:m}}return{}},io=(e={},t)=>{const a=C().get(e,"disableFireMetrics",!1);if(window.asMetrics&&t&&("no engraving"!==t||!a)){const a=C().get(window,"s.pageName",""),{baseProduct:n,pageName:r}=e;window.asMetrics.fireMicroEvent({eVar:"eVar5",page:a,part:"engraving",feature:`${r} - ${n}`,action:t})}},oo=({bootstrap:e,part:t,id:n,defaultEngravingOption:l,disableStorage:i,engravingData:o,storageData:c,removeEngraving:m,resetEngraving:d,onCancel:u=(()=>{}),onChange:p=(()=>{})})=>{if(!e)return{};const{metaUrl:g,assets:y,additionalParam:v,engravingSelectorKey:h,metricsConfig:E={},collapseAddEngraving:b=!0}=e,[f,A]=a().useReducer(Yi,{overlayVisible:!1,loadOverlay:!1,showContent:!1,showVideo:!1,overlayPart:"",data:{},assets:y}),[w,N]=a().useState(!!l),[S,k]=a().useState(l),[I,P]=a().useState(0),L=a().useRef(null),T=a().useRef(null),O=a().useRef(!1),D=a().useRef(!!l),x=a().useRef(!1),{ref:M}=$i(),F=il(t);a().useEffect((()=>{if(t){const e=c||(i?{}:(()=>{const e=ao.getEntriesForStep({excludePath:!0}),t=[],{productToEngrave:a,engravedPart:n,engravingOption:r}=e;if(n){const a=[],n={key:0};Object.keys(e).filter((e=>0===e.indexOf("msg.")||0===e.indexOf("f."))).forEach((t=>{const[r,s]=t.split("."),l=e[t],i=Number(s);"msg"===r?a[i]=l:n.font=l})),t.push({...n,messages:a,messageLines:a.length})}return{selection:t,engravedPart:n,engravingOption:r,productToEngrave:a}})());A({type:Hi.SET_PART,payload:t}),(({metaUrl:e,part:t,additionalParam:a,id:n,storageValue:s,assets:l,metricsConfig:i})=>o=>{const c=(0,r.A)("reducer/loadEngravingData"),m=Qe.k0(e,{product:t,...a}),d=C().get(l,"errorMessage","");o({type:Hi.FETCH_META_START});const u=(0,Pa.hI)(m);return u.then((e=>{const{engravingDetails:a,errorMessage:r}=C().get(e,"body",{});if(a&&!r){const r=a.variantEngravable||s.productToEngrave===t?s.selection:[];o({type:Hi.FETCH_META_SUCCESS,payload:qi(e.body,n,i,r)})}else o({type:Hi.FETCH_META_ERROR,error:{isResponseError:!0,message:r||d}})})).catch((e=>{c.error(e),o({type:Hi.FETCH_META_ERROR,error:{isNetworkError:!0,errorInfo:e,message:d}})})),u})({metaUrl:g,part:t,additionalParam:v,id:n,storageValue:e,assets:y,metricsConfig:E})(A).then((a=>{i&&C().isEmpty(e)?(N(!1),k(null),D.current=!1):((e,a)=>{const n=C().get(e,"body.engravingDetails",{}),r=C().get(n,"engravingPageData.bundleQuantity",0),s=!C().isEmpty(a.selection),l=n.variantEngravable&&(s||"noEngraving"===S);if(a.productToEngrave===t||l){if(N(!!a.engravingOption),k(a.engravingOption),D.current=s,n.variantEngravable){const e={engravedData:{selection:a.selection,isEngraved:s,isBundleEngraving:r>0,part:t,engravedPart:s?n.productEngrave:null,variantEngravable:n.variantEngravable},engravingOption:a.engravingOption,param:h?{[h]:!0}:{},partChange:!0};i||so(e),p(e)}}else F&&F!==t?(no(),N(!1),k(null),D.current=!1):a.engravingOption&&k(a.engravingOption)})(a,e)}))}}),[t]),a().useEffect((()=>{o&&A({type:Hi.SET_DATA,payload:{engravingData:o,id:n,metricsConfig:E}})}),[o]),a().useEffect((()=>{Wi(f.data.savedSelection)&&(N(!0),k("addEngraving"))}),[f.data.savedSelection]),a().useEffect((()=>{if(m||d){const e=d?null:l,t=C().get(window,"asMetrics.isBFEMetricsEnabled",!1);N(!!e),k(e);const a=C().cloneDeep(C().get(f,"data.selection",[])),n=C().get(f,"data.engravingDetails.product"),r=C().get(f,"data.isBundleEngraving",!1),s=a.map((e=>C().omit(e,["messages","messagesA11y","font","fontFamily"])));D.current&&!t&&io(f.metricsConfig,"remove engraving"),D.current=!!e,A({type:Hi.REMOVE_SELECTION,payload:s}),A({type:Hi.UPDATE_VIDEO_STATE,payload:!!e});const o={engravedData:{selection:s,isEngraved:!1,isBundleEngraving:r,part:n,engravedPart:null},engravingOption:e,param:{}};i||no(),d||p(o)}}),[m,d,l]);const B=()=>{A({type:Hi.HIDE_CONTENT}),A({type:Hi.UPDATE_VIDEO_STATE,payload:D.current}),O.current&&A({type:Hi.CLEAR_SELECTION})},R=e=>{const t=(0,r.A)("useEngraving/validateEngravingMsg"),{bundleKey:a,bundleDisplayValue:n="",fields:s=[],fieldVals:l,font:i="",fontIdx:o=0,fontFamily:c="",emojiRemoved:m}=e,{engravingValidationUrl:d,product:u}=C().get(f,"data.engravingDetails",{}),p={};let g={};const y=i?{[Ki.fontKey]:i}:{},v=Ui(i),h={key:a,bundleDisplayValue:n,font:i,fontFamily:c,fieldVals:l,isEmojiFont:v};if(v){const e=C().get(Ki,"message1Key","");g[e]=l}else g=s.reduce(((e,t,a)=>{const n=C().get(Ki,`message${a+1}Key`,""),r=C().trim(l[t.name]);return e[n]=r,e}),{});const E=Object.keys(g).map((e=>g[e]));if(E.filter((e=>e&&""!==e)).length>0){const e=Qe.k0(d,{product:u,...g,...y});(0,Pa.hI)(e).then((e=>{const{content:t}=e.body;if(t.hasErrors)Object.keys(t.errors).forEach((e=>{p[Ki[`line${parseInt(e,10)+1}Key`]]=t.errors[e]})),A({type:Hi.UPDATE_SELECTION_DATA,payload:{...h,errors:p}});else{const e=C().get(f,`data.engravingDetails.engravingPageData.fonts${a}.${o}.defaultValue`,[]),t=Gi(E,e);A({type:Hi.UPDATE_SELECTION_DATA,payload:{...h,messages:E,messagesA11y:t,errors:null}})}})).catch((e=>{t.error(e),A({type:Hi.UPDATE_SELECTION_DATA,payload:{...h,errors:null,hasError:!0}})}))}else A({type:Hi.UPDATE_SELECTION_DATA,payload:{...h,font:i,fontFamily:c,messages:[],messagesA11y:[],errors:null}});m&&T.current&&setTimeout((()=>T.current.focus()),200)},_=C().debounce((e=>{R(e)}),200);return{...f,focusRef:L,videoRef:M,saveButtonRef:T,selectedOpt:S,completed:w,handleAddEngravingKeyDown:()=>{x.current=!0},handleEngravingChange:e=>{const t=C().cloneDeep(C().get(f,"data.selection",[])),{product:a,productEngrave:n,engravingPageData:r,variantEngravable:s}=C().get(f,"data.engravingDetails",{}),l=C().get(f,"data.isBundleEngraving",!1);let o={},c=!1;if(e)c=Wi(t),c?o=lo(f.metricsConfig,l,t,r):io(f.metricsConfig,"no engraving"),A({type:Hi.SAVE_SELECTION,payload:t}),A({type:Hi.CLOSE_OVERLAY,payload:!1}),setTimeout((()=>B()),400);else{if(!b){const e=t.map((e=>C().omit(e,["messages","font","fontFamily"])));A({type:Hi.REMOVE_SELECTION,payload:e})}io(f.metricsConfig,"no engraving")}const m=c?"addEngraving":"noEngraving";N(!0),k(m),D.current=c;const d={engravedData:{selection:t,isEngraved:c,isBundleEngraving:l,part:a,engravedPart:c?n:null,variantEngravable:s,metricsData:o},engravingOption:m,param:h?{[h]:!0}:{}};i||so(d),p(d),L.current&&b&&setTimeout((()=>L.current.focus()),200)},handleOpenOverlay:(e,t=0,a)=>{(!a||x.current||a.keyCode!==s.HP.Return&&a.keyCode!==s.HP.Space)&&(x.current=!1,io(f.metricsConfig,e),O.current=!1,P(t),A({type:Hi.UPDATE_SELECTION_INBUNDLE}),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&A({type:Hi.HIDE_VIDEO}),A({type:Hi.OPEN_OVERLAY}))},handleCloseOverlay:()=>{io(f.metricsConfig,"close engraving"),O.current=!0,A({type:Hi.CLOSE_OVERLAY}),setTimeout((()=>B()),400)},removeEngrave:e=>{const t=C().cloneDeep(C().get(f,"data.selection",[])),{product:a,productEngrave:n}=C().get(f,"data.engravingDetails",{}),r=C().get(f,"data.isBundleEngraving",!1),s=t.map((t=>t.key===e?C().omit(t,["messages","font","fontFamily"]):t)),l=Wi(s),o=l?"addEngraving":"noEngraving";r&&(N(!0),k(o)),D.current=l;C().get(window,"asMetrics.isBFEMetricsEnabled",!1)||io(f.metricsConfig,"remove engraving"),A({type:Hi.REMOVE_SELECTION,payload:s});const c={engravedData:{selection:s,isEngraved:l,isBundleEngraving:r,part:a,engravedPart:l?n:null},engravingOption:o,param:h?{[h]:!0}:{}};i||so(c),p(c),L.current&&setTimeout((()=>L.current.focus()),200)},cancelEngrave:()=>{C().get(window,"asMetrics.isBFEMetricsEnabled",!1)||io(f.metricsConfig,"cancel engraving"),O.current=!0,A({type:Hi.CLOSE_OVERLAY}),setTimeout((()=>B()),400),u()},onOverlayHidden:B,validateEngravingMsg:R,onAddingMessage:_,selectedBundleKey:I,onVideoEnded:()=>{A({type:Hi.HIDE_VIDEO})}}},co=a().createContext({}),mo=()=>{const e=a().useContext(co);if(!e)throw new Error("Gallery compound components cannot be rendered outside the Gallery component");return e},uo=({onClick:e=(()=>{}),children:t,disabled:n,passFocusOnDisabled:r=!0,hideFromVOWhenDisabled:s=!0,classes:l={},...i})=>{const{target:o,handlePrev:c,hasPrev:m,distFromStart:d,isMoving:u,nextButtonRef:p,prevButtonRef:g,a11y:y}=mo(),v=a().useRef(!1),h=n||!m;return a().useEffect((()=>{!m&&v.current&&r&&p.current&&p.current.focus(),v.current=!1}),[m]),a().createElement("button",(0,Ie.A)({type:"button",className:Z()(l.root,{[l.disabled||""]:h}),ref:g,onClick:u?void 0:t=>{c(),e(t,o-1),d<=1&&(v.current=!0)},disabled:h,"aria-hidden":s&&h,"aria-label":C().get(y,"previous","Previous")},i),t)},po=({onClick:e=(()=>{}),children:t,disabled:n,passFocusOnDisabled:r=!0,hideFromVOWhenDisabled:s=!0,classes:l={},...i})=>{const{target:o,handleNext:c,hasNext:m,distFromEnd:d,isMoving:u,nextButtonRef:p,prevButtonRef:g,a11y:y}=mo(),v=a().useRef(!1),h=n||!m;return a().useEffect((()=>{!m&&v.current&&r&&g.current&&g.current.focus(),v.current=!1}),[m]),a().createElement("button",(0,Ie.A)({type:"button",className:Z()(l.root,{[l.disabled||""]:h}),ref:p,onClick:u?void 0:t=>{c(),e(t,o+1),d<=1&&(v.current=!0)},disabled:h,"aria-hidden":s&&h,"aria-label":C().get(y,"next","Next")},i),t)},go=({items:e,renderDot:t=(e=>e),getButtonProps:n=(()=>({})),classes:r={},children:l,...i})=>{const{id:o,target:c,handleChange:m,handleNext:d,handlePrev:u,hasNext:p,hasPrev:g,isRTL:y,isMoving:v,registerTabList:h,a11y:E}=mo();a().useLayoutEffect((()=>(h(!0),()=>{h(!1)})),[]);const b=a().useRef([]),f=e=>t=>{b.current&&(b.current[e]=t)},A=e=>{const t=b.current?b.current[e]:null;t&&t.focus()};return a().createElement("ul",(0,Ie.A)({className:Z()(r.root),role:"tablist"},i),e.map(((l,i)=>{const h=t=>{t.preventDefault(),g&&!v&&(u(),A((i-1)%e.length))},b=t=>{t.preventDefault(),p&&!v&&(d(),A((i+1)%e.length))},w=c===i,N=C().get(E,`items[${i}]`,`Item ${i+1}`);return a().createElement("li",{key:i,role:"presentation",className:Z()(r.item)},a().createElement("button",(0,Ie.A)({id:`${o}-tab-item-${i}`,ref:f(i),type:"button",role:"tab","aria-controls":`${o}-gallery-item-${i}`,"aria-selected":w,"aria-label":N,tabIndex:w?0:-1,onClick:()=>{v||m(i)},onKeyDown:e=>{switch(e.keyCode){case s.HP.ArrowUp:h(e);break;case s.HP.ArrowLeft:y?b(e):h(e);break;case s.HP.ArrowDown:b(e);break;case s.HP.ArrowRight:y?h(e):b(e)}},className:Z()(r.button,{[r.active||""]:w})},n(l,i)),t(l,i)))})),l)},yo="Left",vo="Right",ho="Up",Eo="Down",bo={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},fo={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Ao="mousemove",wo="mouseup",No="touchend",So="touchmove",Co="touchstart";function ko(e,t){if(0===t)return e;const a=Math.PI/180*t;return[e[0]*Math.cos(a)+e[1]*Math.sin(a),e[1]*Math.cos(a)-e[0]*Math.sin(a)]}function Io(e,t){const a=t=>{const a="touches"in t;a&&t.touches.length>1||e(((e,r)=>{r.trackMouse&&!a&&(document.addEventListener(Ao,n),document.addEventListener(wo,s));const{clientX:l,clientY:i}=a?t.touches[0]:t,o=ko([l,i],r.rotationAngle);return r.onTouchStartOrOnMouseDown&&r.onTouchStartOrOnMouseDown({event:t}),Object.assign(Object.assign(Object.assign({},e),fo),{initial:o.slice(),xy:o,start:t.timeStamp||0})}))},n=t=>{e(((e,a)=>{const n="touches"in t;if(n&&t.touches.length>1)return e;if(t.timeStamp-e.start>a.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;const{clientX:r,clientY:s}=n?t.touches[0]:t,[l,i]=ko([r,s],a.rotationAngle),o=l-e.xy[0],c=i-e.xy[1],m=Math.abs(o),d=Math.abs(c),u=(t.timeStamp||0)-e.start,p=Math.sqrt(m*m+d*d)/(u||1),g=[o/(u||1),c/(u||1)],y=function(e,t,a,n){return e>t?a>0?vo:yo:n>0?Eo:ho}(m,d,o,c),v="number"==typeof a.delta?a.delta:a.delta[y.toLowerCase()]||bo.delta;if(m<v&&d<v&&!e.swiping)return e;const h={absX:m,absY:d,deltaX:o,deltaY:c,dir:y,event:t,first:e.first,initial:e.initial,velocity:p,vxvy:g};h.first&&a.onSwipeStart&&a.onSwipeStart(h),a.onSwiping&&a.onSwiping(h);let E=!1;return(a.onSwiping||a.onSwiped||a[`onSwiped${y}`])&&(E=!0),E&&a.preventScrollOnSwipe&&a.trackTouch&&t.cancelable&&t.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:h,swiping:!0})}))},r=t=>{e(((e,a)=>{let n;if(e.swiping&&e.eventData){if(t.timeStamp-e.start<a.swipeDuration){n=Object.assign(Object.assign({},e.eventData),{event:t}),a.onSwiped&&a.onSwiped(n);const r=a[`onSwiped${n.dir}`];r&&r(n)}}else a.onTap&&a.onTap({event:t});return a.onTouchEndOrOnMouseUp&&a.onTouchEndOrOnMouseUp({event:t}),Object.assign(Object.assign(Object.assign({},e),fo),{eventData:n})}))},s=e=>{document.removeEventListener(Ao,n),document.removeEventListener(wo,s),r(e)},l=(e,t)=>{let s=()=>{};if(e&&e.addEventListener){const l=Object.assign(Object.assign({},bo.touchEventOptions),t.touchEventOptions),i=[[Co,a,l],[So,n,Object.assign(Object.assign({},l),t.preventScrollOnSwipe?{passive:!1}:{})],[No,r,l]];i.forEach((([t,a,n])=>e.addEventListener(t,a,n))),s=()=>i.forEach((([t,a])=>e.removeEventListener(t,a)))}return s},i={ref:t=>{null!==t&&e(((e,a)=>{if(e.el===t)return e;const n={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),n.cleanUpTouch=void 0),a.trackTouch&&t&&(n.cleanUpTouch=l(t,a)),Object.assign(Object.assign(Object.assign({},e),{el:t}),n)}))}};return t.trackMouse&&(i.onMouseDown=a),[i,l]}function Po(e){const{trackMouse:a}=e,n=t.useRef(Object.assign({},fo)),r=t.useRef(Object.assign({},bo)),s=t.useRef(Object.assign({},r.current));let l;for(l in s.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},bo),e),bo)void 0===r.current[l]&&(r.current[l]=bo[l]);const[i,o]=t.useMemo((()=>Io((e=>n.current=e(n.current,r.current)),{trackMouse:a})),[a]);return n.current=function(e,t,a,n){return t.trackTouch&&e.el?e.cleanUpTouch?t.preventScrollOnSwipe!==a.preventScrollOnSwipe||t.touchEventOptions.passive!==a.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)}):(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0}))}(n.current,r.current,s.current,o),i}const Lo=(e,t)=>{const[n,r]=a().useState(Boolean(e)),s=a().useRef(null),l=a().useRef(null),i=()=>{s.current&&(window.clearInterval(s.current),s.current=null)},o=()=>{l.current&&(window.clearTimeout(l.current),l.current=null)},c=a().useRef(t);c.current=t,a().useEffect((()=>{r(Boolean(e))}),[e]),a().useEffect((()=>{if(e&&n&&!s.current){const t=C().get(e,"transitionDelay",5e3),a=C().get(e,"step",1);s.current=window.setInterval((()=>{c.current(a)}),t)}return e&&n||i(),()=>{i(),o()}}),[e,n]);const m=()=>{n&&e&&(o(),r(!1))},d=()=>{if(!n&&e){const t=C().get(e,"restartDelay",5e3);l.current||(l.current=window.setTimeout((()=>{r(!0),l.current=null}),t))}};return{pauseAutoScroll:m,resumeAutoScroll:d,autoScrollHandlers:e?{onMouseEnter:m,onMouseLeave:e=>{e.currentTarget.contains(document.activeElement)||d()},onFocus:m,onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||d()}}:{}}},To=Object.freeze({GOTO:"goto",COMPLETED:"completed",SWIPED:"swiped",DRAG:"drag"}),Oo=(e,t)=>{switch(t.type){case To.GOTO:return{...e,target:t.payload.target};case To.COMPLETED:return{...e,swiped:void 0,active:t.payload.active};case To.DRAG:return{...e,isDragging:t.payload};case To.SWIPED:return{...e,swiped:!0};default:return e}},Do=(e,t,a,n)=>{const r=(s=t.current)?s.offsetWidth/3:0;var s;Math.abs(e.deltaX)>=r&&n(a)},xo=(e,t)=>{const a=e%t;return a<0?t+a:a},Mo=(e,t)=>"smooth"===t?`transform ${e}ms ease`:`transform ${e}ms cubic-bezier(0.68, -0.55, 0.265, 1.55)`,Fo=(e,t,a,n,r,s,l,i)=>{const o=Math.random()/100,c={transform:"translateX(0px)",width:100*Math.floor(t.length/a)+"%",insetInlineStart:`-${100*r/a}%`,transition:"none"};if(n){const e=Math.abs(s-r),n=100/a*((e>t.length?1:-1)*Math.sign(s-r))*e/Math.floor(t.length/a);return{...c,transition:Mo(l,"smooth"),transform:`translateX(calc(${i?-1:1} * ${n+o}%))`}}return c},Bo=({id:e,items:t,index:n,defaultIndex:r=0,onChange:s=(()=>{}),infinite:l,radius:i,fade:o=!1,itemsInView:c=1,transitionDuration:m=400,autoScroll:d,swipableProps:u={},onSwiped:p=(()=>{}),a11y:g={label:"Gallery",previous:"Previous",next:"Next",items:[]},dir:y,...v})=>{const h=a().useId(),E=e||h,b=a().useMemo((()=>"rtl"===y||"rtl"===(0,Le.NL)()),[y]),{current:f}=a().useRef("number"==typeof n),A=a().useRef(null),w=a().useRef(null),N=a().useRef(null),S=a().useRef(null),[C,k]=a().useState(!1),[I,P]=a().useReducer(Oo,{isDragging:!1,target:f?n:r,active:f?n:r}),L=a().useRef(f?n:r),T=a().useRef(f?n:r),[O,D]=[I.active,f?n:I.target];a().useEffect((()=>{const e=setTimeout((()=>{P({type:To.COMPLETED,payload:{active:D}}),L.current=D}),m);return()=>clearTimeout(e)}),[f,D,m]);const x=(e={})=>{const a=(n=t.length,(I.active-1+n)%n);var n;T.current=I.active-1,f||P({type:To.GOTO,payload:{target:a}}),e.swiped&&P({type:To.SWIPED}),s(a)},M=(e={})=>{const a=(n=t.length,(I.active+1)%n);var n;T.current=I.active+1,f||P({type:To.GOTO,payload:{target:a}}),e.swiped&&P({type:To.SWIPED}),s(a)},F=e=>{e>0?M({swiped:!0}):x({swiped:!0})},{pauseAutoScroll:B,resumeAutoScroll:R,autoScrollHandlers:_}=Lo(d,(e=>{const a=l?O+e:xo(O+e,t.length);T.current=a,f||P({type:To.GOTO,payload:{target:a}}),s(a,"autoScroll")})),$=l||D<t.length-1,H=l||D>0,K=l?1/0:D-0,V=l?1/0:t.length-1-D,U=a().useRef(),W=e=>{$&&(Do(e,A,1,F),p("left",xo(D+1,t.length)))},G=e=>{H&&(Do(e,A,-1,F),p("right",xo(D-1,t.length)))},j=Po({onSwiping(e){if(O===D&&("Left"===e.dir||"Right"===e.dir)){e.event.preventDefault();let t=e.deltaX;if("Left"===e.dir&&!$||"Right"===e.dir&&!H){const a=Math.abs(e.deltaX),n=a-a*a/(2*A.current.offsetWidth);t=Math.sign(e.deltaX)*n}w.current&&(w.current.style.transform=`translateX(${t}px)`,w.current.style.transition="none",I.isDragging||(P({type:To.DRAG,payload:!0}),B()))}},onSwiped(){w.current&&(w.current.style.transform="translateX(0px)",w.current.style.transition=Mo(m,"elastic"),window.clearTimeout(U.current),U.current=window.setTimeout((()=>{P({type:To.DRAG,payload:!1}),R()}),m))},onSwipedLeft:b?G:W,onSwipedRight:b?W:G,offset:0,touchEventOptions:{passive:!1},...u}),{isMoving:q,pageStart:Y,pageEnd:z,activeOffset:Z,targetOffset:J}=(({active:e,target:t,items:a,radius:n,infinite:r,actualActiveIndex:s,actualTargetIndex:l})=>{const i=e!==t,o=a.length,c=Math.floor(o/2),m=Math.min(n||o,r?c:o),d=e-m,u=e+m,p=r?d:Math.max(d,0),g=r?u:Math.min(u,o-1),y=r?xo(e-t,o):0,v=r?xo(t-e,o):0;let h=y<v?-y:v;return y===v&&(h=Math.sign(l-s)*y),{isMoving:i,pageStart:p,pageEnd:g,activeOffset:r?m:e-p,targetOffset:r?m+h:t-p}})({active:O,target:D,items:t,radius:i,infinite:l,actualActiveIndex:L.current,actualTargetIndex:T.current}),X=o&&!I.swiped||i&&Math.abs(D-O)>i,Q=q&&X,ee=Q?[{content:t[xo(O,t.length)],index:xo(O,t.length)},{content:t[xo(D,t.length)],index:xo(D,t.length)}]:((e,t,a)=>{const n=[];for(let r=t;r<=a;r+=1){const t=xo(r,e.length);n.push({content:e[t],index:t})}return n})(t,Y,z);return{id:E,pages:ee,active:xo(O,t.length),target:xo(D,t.length),swipeableHandlers:j,autoScrollHandlers:_,style:Q?{width:"200%"}:Fo(0,ee,c,q,Z,J,m,b),hasNext:$,hasPrev:H,distFromStart:K,distFromEnd:V,isMoving:q,isFading:Q,isDragging:I.isDragging,handleChange:e=>{T.current=e,f||P({type:To.GOTO,payload:{target:e}}),s(e)},handlePrev:x,handleNext:M,isRTL:b,isTabList:C,registerTabList:k,rootRef:A,scrollerRef:e=>{j.ref(e),w.current=e},prevButtonRef:N,nextButtonRef:S,a11y:g,wrapperAttrs:v}},Ro=({renderItem:e=(e=>e),classes:t={},childrenBefore:n,children:r,...s})=>{const l=Bo(s),{id:i,active:o,target:c,pages:m,swipeableHandlers:d,autoScrollHandlers:u,style:p,isMoving:g,isFading:y,isDragging:v,rootRef:h,scrollerRef:E,a11y:b,wrapperAttrs:f}=l,A=m.length>1?{role:"group","aria-label":C().get(b,"label","Gallery")}:{};return a().createElement("div",(0,Ie.A)({className:t.root},A,f,u),a().createElement(co.Provider,{value:l},n,a().createElement("div",{id:i,className:t.gallery,"data-core-gallery":!0,"data-core-gallery-fade":y,ref:h},a().createElement("div",(0,Ie.A)({"data-core-gallery-scroller":!0,className:t.scroller,style:p},d,{ref:E}),m.map((({content:t,index:a},n)=>e(t,a,{isActive:a===o,isTarget:a===c,isMoving:g,isDragging:v,pageIndex:n}))))),r))},_o=({index:e,children:t,addDisabled:n=!0,...r})=>{const{id:s,target:l,isTabList:i,a11y:o}=mo(),c=tn(n&&l!==e),m=`${s}-gallery-item-${e}`,d={role:"tabpanel","aria-label":C().get(o,`items[${e}]`,`Item ${e+1}`)};return a().createElement("div",(0,Ie.A)({id:m,"data-core-gallery-item":!0,"aria-hidden":l!==e,ref:c},i?d:{},r),t)};var $o=__webpack_require__(5156),Ho=__webpack_require__(1916);const Ko=({className:e,...t})=>a().createElement(_o,(0,Ie.A)({className:Z()(e,"rc-inline-gallery-item")},t)),Vo='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">\n<path d="M21.559,12.062 L15.618,17.984 L21.5221,23.944 C22.105,24.533 22.1021,25.482 21.5131,26.065 C21.2211,26.355 20.8391,26.4999987 20.4571,26.4999987 C20.0711,26.4999987 19.6851,26.352 19.3921,26.056 L12.4351,19.034 C11.8531,18.446 11.8551,17.4999987 12.4411,16.916 L19.4411,9.938 C20.0261,9.353 20.9781,9.354 21.5621,9.941 C22.1471,10.528 22.1451,11.478 21.5591,12.062 L21.559,12.062 Z" />\n</svg>',Uo='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">\n<path d="M23.5587,16.916 C24.1447,17.4999987 24.1467,18.446 23.5647,19.034 L16.6077,26.056 C16.3147,26.352 15.9287,26.4999987 15.5427,26.4999987 C15.1607,26.4999987 14.7787,26.355 14.4867,26.065 C13.8977,25.482 13.8947,24.533 14.4777,23.944 L20.3818,17.984 L14.4408,12.062 C13.8548,11.478 13.8528,10.5279 14.4378,9.941 C15.0218,9.354 15.9738,9.353 16.5588,9.938 L23.5588,16.916 L23.5587,16.916 Z" />\n</svg>',Wo=({elevated:e,hover:t,supernav:n,dir:r,visuallyHidden:s,hideWhenDisabled:l=!0,previousProps:i={},nextProps:o={},classes:c={}})=>{const m=a().useMemo((()=>"rtl"===r||"rtl"===document?.documentElement?.getAttribute("dir")),[r]);return a().createElement("div",{className:Z()(c.root,"rc-gallery-paddlenav","paddlenav","paddlenav-alpha",{"paddlenav-elevated":e,"paddlenav-super":n,"with-paddlenav-onhover":t,"with-paddlenav-visuallyhidden":s})},a().createElement(uo,(0,Ie.A)({classes:{root:Z()(c.previous,"paddlenav-arrow","paddlenav-arrow-previous"),disabled:Z()({visuallyhidden:l})},"data-autom":"paddlenav-previous"},(0,Le.OH)(m?Uo:Vo),i)),a().createElement(po,(0,Ie.A)({classes:{root:Z()(c.next,"paddlenav-arrow","paddlenav-arrow-next"),disabled:Z()({visuallyhidden:l})},"data-autom":"paddlenav-next"},(0,Le.OH)(m?Vo:Uo),o)))},Go=({renderDot:e=(()=>{}),classes:t={},...n},r)=>a().createElement("div",{className:Z()(t.root,"rc-gallery-dotnav","dotnav"),ref:r},a().createElement(go,(0,Ie.A)({classes:{root:Z()("dotnav-items"),item:Z()(t.dot,"dotnav-item"),button:Z()("rc-gallery-dotnav-button","dotnav-link",ra.A.BODY),active:Z()(t.active,"current")},renderDot:e},n))),jo=a().forwardRef(Go),qo=window.asMetrics,Yo=(e,t)=>({items:e.map(((e,a)=>`${t.item} ${a+1}`)),previous:t.previous,next:t.next}),zo=({items:e,dotnav:t,dotnavProps:n={},paddlenav:r,paddlenavProps:s={},metrics:l,peek:i,onChange:o=(()=>{}),classes:c={},a11y:m,dir:d,...u})=>{const{viewport:p,assets:g}=(0,$o.S)(),y={...Yo(e,g),...m},v=r||"small"!==p&&!1!==r&&e.length>1,h=t||!1!==t,{root:E,image:b,...f}=c;return a().createElement(Ro,(0,Ie.A)({items:e,classes:{root:Z()("rc-inline-gallery",E,{"rc-inline-gallery-peek":i,"rc-inline-gallery-autoscroll":u.autoScroll}),...f},onChange:(t,a)=>{o(t),l&&"autoScroll"!==a&&((e,t,a)=>{qo&&qo.gallery&&qo.gallery.view&&window.asMetrics.gallery.view({area:e.slot||"",name:e.part||"",current:t+1,total:a,legacy:!0})})(l,t,e.length)},renderItem:(e,t)=>a().createElement(Ko,{key:t,index:t},a().createElement(Ho.Ay,{className:Z()("rc-inline-gallery-image",b),data:e})),childrenBefore:h&&a().createElement(jo,(0,Ie.A)({items:e,getButtonProps:(e,t)=>({"data-autom":`gallery-dot-nav-${t}`})},n)),a11y:y,dir:d},u),v&&a().createElement(Wo,(0,Ie.A)({elevated:!0,dir:d},s)))};__webpack_require__(9564);const Zo=a().createContext({}),Jo=()=>{const e=a().useContext(Zo);if(!e)throw new Error("Scroller compound components cannot be rendered outside the Scroller component");return e},Xo=(e,t,a,n)=>{if(!e.current)return{};const r=e.current,s=r.scrollLeft,l=r.offsetWidth,i=r.scrollWidth-l,o=r.children[0],c=Array.from(o.children).map((e=>{const t=((e,t)=>{if(t&&e._cachedComputedStyle)return e._cachedComputedStyle;const a=window.getComputedStyle(e);return e._cachedComputedStyle=a,a})(e,a),r=t.scrollSnapAlign||"",s=t.scrollSnapCoordinate||"",i=e.offsetLeft+e.offsetWidth-l;return 0===r.indexOf("end")||0===s.indexOf("100%")?n?-1*e.offsetLeft:i:0===r.indexOf("center")||0===s.indexOf("50%")?(n?-1:1)*(e.offsetLeft+e.offsetWidth/2-l/2):n?-1*i:e.offsetLeft})).filter((e=>e<i));c.push(i);const m=c.map(((e,t)=>({x:e,i:t,d:Math.abs(e-(n?-1:1)*s)}))),d=m.reduce(((e,t)=>t.d<e.d?t:e),m[0]),u=m.length,p=void 0!==t?t:d.i,g=Math.min(Math.max(p,0),u-1),y=m[g].x>0?m[g].x:0;return{index:g,newX:(n?-1:1)*y,count:u,deltaX:(n?-1:1)*s-y,scrollX:s,maxX:i}},Qo=(e,t)=>{let a,n;switch(t.type){case"SCROLL_INDEX":return a=Xo(t.scrollerRef,t.targetIndex,t.cacheComputedStyle,t.isRTL),t.handleChange&&e.index!==a.index&&t.handleChange(a.index),{...e,index:a.index};case"SCROLL_TO":return a=Xo(t.scrollerRef,t.targetIndex,t.cacheComputedStyle,t.isRTL),t.handleChange&&e.index!==a.index&&t.handleChange(a.index),{...e,...a};case"SCROLL_UPDATE":return a=Xo(t.scrollerRef,e.index,t.cacheComputedStyle,t.isRTL),n=t.scrollerRef.current,n&&(n.style.overflowX="hidden",n.scrollLeft=a.newX,n.style.overflowX="scroll"),{...e,...a,deltaX:null};case"SCROLL_END":return e.deltaX||e.fixScroll?(n=t.scrollerRef.current,n&&(n.scrollLeft=e.newX),{...e,fixScroll:/transitionEnd$/i.test(t.eventType),deltaX:null}):e;case"MOUSE_DOWN":return{...e,mouseDown:!0};case"MOUSE_UP":return{...e,mouseDown:!1};default:return e}},ec=({index:e=0,handleChange:a,updateIndexWhileScrolling:n=!0,cacheComputedStyle:r=!0,dir:s})=>{const{touch:l}=u.Ez(),[i,o]=(0,t.useReducer)(Qo,{mouseDown:!1}),{count:c,fixScroll:m}=i,d=(0,t.useRef)(null),p=(0,t.useRef)(null),g=(0,t.useRef)(!1),y=(0,t.useRef)(0),v=(0,t.useRef)(0),h=(0,t.useRef)(0),E=(0,t.useMemo)((()=>"rtl"===s||"rtl"===(0,Le.NL)()),[s]);(0,t.useLayoutEffect)((()=>{c||o({type:"SCROLL_TO",scrollerRef:d,handleChange:a,targetIndex:e,cacheComputedStyle:r,isRTL:E})}),[]),(0,t.useLayoutEffect)((()=>{m&&o({type:"SCROLL_END",scrollerRef:d})}),[m]),(0,t.useEffect)((()=>{e!==i.index&&o({type:"SCROLL_TO",scrollerRef:d,handleChange:null,targetIndex:e,cacheComputedStyle:r,isRTL:E})}),[e]),(0,t.useEffect)((()=>{v.current=i.maxX}),[i.maxX]);const b=()=>{g.current=!0,setTimeout((()=>{o({type:"SCROLL_UPDATE",scrollerRef:d}),g.current=!1}),100)},f=(0,fi.A)(b,300);(0,X.A)("orientationchange",b),(0,X.A)("resize",(()=>{l||f()}));const A=()=>{g.current||o({type:"SCROLL_INDEX",scrollerRef:d,handleChange:a,cacheComputedStyle:r,isRTL:E})},w=(0,fi.A)(A,100);return{state:i,scrollerRef:d,scrollerPlatterRef:p,handleScroll:n?A:w,handleScrollUpdate:b,handleTransition:e=>{e.target===p.current&&o({type:"SCROLL_END",scrollerRef:d,eventType:e&&e.type})},slideTo:e=>{i.deltaX||o({type:"SCROLL_TO",scrollerRef:d,handleChange:a,targetIndex:e,cacheComputedStyle:r,isRTL:E})},handleMouseDown:e=>{const t=d.current;i.deltaX||g.current||!t||(o({type:"MOUSE_DOWN"}),y.current=e.pageX-t.offsetLeft,h.current=t.scrollLeft)},handleMouseUp:()=>{g.current||(o({type:"SCROLL_TO",scrollerRef:d,handleChange:a,cacheComputedStyle:r,isRTL:E}),setTimeout((()=>{o({type:"MOUSE_UP"})}),500))},handleMouseMove:e=>{const t=d.current;if(!g.current&&!i.deltaX&&i.mouseDown&&t){e.preventDefault();const a=1.25*(e.pageX-t.offsetLeft-y.current);t.scrollLeft=h.current-a}},handleMouseWheel:e=>{const t=d.current;if(!t)return;const a=t.scrollLeft,{deltaX:n}=e,r=(a+n)*(E?-1:1);("hidden"===t.style.overflowX||r<0||r>v.current)&&e.preventDefault()},isRTL:E}},tc=({index:e,defaultIndex:n=0,dragEnabled:r=!1,preventNavigation:s=!1,customSnap:l=!1,snapDelay:i=150,updateIndexWhileScrolling:o,cacheComputedStyle:c,handleChange:m=(()=>{}),dir:d,children:u})=>{const{current:p}=(0,t.useRef)(void 0!==e),[g,y]=(0,t.useState)(n),v=ec({index:p?e:g,handleChange:e=>p?setTimeout((()=>m(e)),10):y(e),updateIndexWhileScrolling:o,cacheComputedStyle:c,dir:d});return a().createElement(Zo.Provider,{value:{...v,preventNavigation:s,customSnap:l,snapDelay:i,dragEnabled:r}},u)},ac=({platterAttrs:e={},scrollerItemAttrs:n,children:r,updateOnWidthChange:s,...l})=>{const{state:i,scrollerRef:o,scrollerPlatterRef:c,handleScroll:m,handleScrollUpdate:d,handleTransition:p,preventNavigation:g,customSnap:y,snapDelay:v,slideTo:h,dragEnabled:E,handleMouseDown:b,handleMouseUp:f,handleMouseMove:A,handleMouseWheel:w,isRTL:N}=Jo(),S=(0,t.useRef)(0),C=(0,fi.A)((()=>h()),v),{touch:k,os:I}=u.Ez(),P={"data-core-scroller":"","data-core-scroller-customsnap":y||i.mouseDown?"":void 0,onScroll:i.deltaX?void 0:()=>{m(),y&&C()},onTransitionEnd:p,style:{overflowX:i.deltaX&&!i.mouseDown?"hidden":"scroll",scrollSnapType:i.deltaX?"unset":void 0},onMouseDown:E?b:void 0,onMouseUp:E?f:void 0,onMouseLeave:E?f:void 0,onMouseMove:E?A:void 0},L=Math.random()/10,T={ref:c,"data-core-scroller-platter":"","data-core-scroller-transition":i.deltaX?"":void 0,style:i.deltaX?{transform:`translate(${(N?-1*i.deltaX:i.deltaX)+L}px)`}:{},...e};return(0,t.useEffect)((()=>{const e=e=>w(e),{current:t}=o,a=g&&"macosx"===I&&!k;return t&&a&&t.addEventListener("wheel",e,{passive:!1}),()=>{t&&a&&t.removeEventListener("wheel",e)}}),[]),(0,t.useEffect)((()=>{if(s&&o.current){const{scrollWidth:e}=o.current;S.current&&S.current!==e&&d(),S.current=e}}),[r]),a().createElement("div",(0,Ie.A)({ref:o},P,l),a().createElement("div",T,a().Children.map(r,(e=>a().createElement("div",(0,Ie.A)({"data-core-scroller-item":""},n),e)))))};var nc=__webpack_require__(3471);const rc=(e,t)=>({onChange:a=>{t||e(a.target.value,a)},onClick:a=>{const n=document.documentElement.classList.contains(p);t&&!n&&e(a.target.value,a)},onKeyUp:a=>{const n=a.keyCode===s.HP.Return||a.keyCode===s.HP.Space;t&&n&&e(a.target.value,a)}}),sc=({items:e,groupKey:t,groupLabel:n,id:r,dotNavFocus:l})=>{const{state:i,slideTo:o}=Jo(),c=a().useRef([]),m=e=>t=>{c.current&&(c.current[e]=t)},d=e=>{const t=c.current?c.current[e]:null;t&&t.focus()};return a().useEffect((()=>{if(l){const e=c.current?c.current[i.index]:null;e&&e.focus()}}),[l]),e.length>1?a().createElement("div",{className:"rf-engraving-dotnav dotnav"},a().createElement("ul",{role:"tablist",className:"dotnav-items"},e.map(((e,l)=>{const c=i.index===l;return a().createElement("li",{className:"dotnav-item",role:"presentation",key:`dotnav_${t}_${e.group}`},a().createElement("button",{ref:m(l),type:"button",role:"tab","data-core-scroller-current":c?"":void 0,className:Z()("dotnav-link",{current:c}),"aria-controls":`${r}-tab-item-${l}`,"aria-label":`${n} ${l+1}`,"aria-selected":c,tabIndex:c?0:-1,"data-autom":`scrollerButton${l}`,"data-trigger-id":`engraving-emoji-scroller-${l}`,onClick:()=>{o(l)},onKeyDown:e=>{switch(e.keyCode){case s.HP.ArrowUp:case s.HP.ArrowLeft:e.preventDefault(),i.deltaX||(o(l-1),d(l-1));break;case s.HP.ArrowDown:case s.HP.ArrowRight:e.preventDefault(),i.deltaX||(o(l+1),d(l+1))}}}))})))):""},lc=({bundleKey:e,groupKey:t,items:n,defaultIndex:r=0,fontIdx:s=0,selected:l="",groupLabel:i,dotNavFocus:o=!1,onHandleChange:c=(()=>{})})=>{const m=a().useId(),[d,u]=a().useState(r),p=`${t}_${e}_${s}`;return a().createElement("div",{className:"rf-engraving-scroller"},a().createElement(tc,{index:d,"aria-label":i,handleChange:u},a().createElement(sc,{items:n,groupKey:t,groupLabel:i,id:m,dotNavFocus:o}),a().createElement("div",{className:"rf-engraving-scroller-crop"},a().createElement(ac,{className:"rf-engraving-scroller-item",platterAttrs:{className:"rf-engraving-scroller-platter"}},n.map(((e,n)=>{const{group:r,options:s=[]}=e,o=n===d,u=s.length-1;return a().createElement("div",{key:`${t}_${r}`,id:`${m}-tab-item-${n}`,className:"rf-engraving-scroller-itemcontent",role:"tabpanel","data-autom":`engravingEmojis${r}`,"aria-label":o?`${i} ${n+1}`:void 0,"aria-hidden":!o||void 0},a().createElement(nc.N5,{withGutters:!0,className:"row row-logical",role:"list"},s.map((({value:e,a11yText:t},n)=>a().createElement(nc.Ay,(0,Ie.A)({name:`${p}_${r}`,value:e,key:`${p}_${r}_${e}`,checked:l===e,tagAttrs:{role:"listitem","data-option-index":`${p}_${r}_${n}`},className:"form-selector-singlecolumn column",role:"button"},rc((e=>c(e)),!0),{onKeyDown:u>0&&(0===n||n===u)?()=>(({idx:e,group:t,length:a})=>{const n=0===e?a:0,r=document.querySelector(`[data-option-index="${p}_${t}_${n}"] input`);r&&r.focus()})({idx:n,group:r,length:u}):void 0,tabIndex:o?0:-1,"aria-hidden":!o||void 0,"aria-label":t,"data-trigger-id":`engraving-emoji-${e}`}),a().createElement("span",{"aria-hidden":"true",translate:"no"},e))))))}))))))},ic=({bundleKey:e,bundleDisplayValue:t,engravingPageData:n,slotName:r,selection:s,font:l,fontIdx:i,fontDisplayType:o,onAddingMessage:c})=>{const{errors:m,hasError:d=!1}=s,{removeEmojiButton:u,emojiDisclaimer:p,emojiGroupLabel:g,loremLabel:y,errorMsg:v}=r,h=C().get(n,`engravingMessageBox${e}`,{}),{emojis:E={},selectedEmoji:b="",groupKey:f}=h,A=C().get(E,l,[]),[w,N]=a().useState(b),S=o===Vi.MULTI_SELECT,k=C().get(m,"line1",""),I=m?k:d?v:"",{group:P=0}=o===Vi.EMOJI&&C().find(A,(e=>e.options.filter((e=>e.value===w)).length>0))||{};return a().createElement("div",{className:"form-element"},a().createElement("div",{className:Z()(`rf-engraving-${l}`,{"rf-engraving-emoji-multiselect":S}),id:`rf-engraving-emoji-${f}`},a().createElement(lc,{bundleKey:e,groupKey:f,items:A,defaultIndex:P,fontIdx:i,selected:S?"":w,groupLabel:S?y:g,onHandleChange:a=>{const n=S?w.concat(a):a;N(n),c({bundleKey:e,bundleDisplayValue:t,font:l,fontIdx:i,fields:A,fieldVals:n})}}),a().createElement("div",{className:`rf-engraving-remove ${ra.A.BODY}`},a().createElement(j.A,{in:!!w,role:"tabpanel"},a().createElement("button",{type:"button",onClick:()=>(N(""),void c({bundleKey:e,bundleDisplayValue:t,font:l,fontIdx:i,fields:A,fieldVals:"",emojiRemoved:!0})),className:"as-buttonlink"},u))),a().createElement("div",{className:Z()({"is-error":!!I})},a().createElement(ul.A,{error:I,errorAttrs:{"data-autom":"engraveValidationMsg"},"aria-live":"polite"})),p&&a().createElement("div",{className:"rf-engraving-emojidisclaimer"},a().createElement("p",(0,Le.OH)(p)))))},oc=Object.freeze({SET_FIELD_VALUE:"SET_FIELD_VALUE",SET_FIELD_TOUCHED:"SET_FIELD_TOUCHED",SET_FIELD_ERROR:"SET_FIELD_ERROR",SET_ERRORS:"SET_ERRORS",SET_TOUCHED:"SET_TOUCHED",SET_VALUES:"SET_VALUES",SET_STATUS:"SET_STATUS",SET_ISSUBMITTING:"SET_ISSUBMITTING",SET_ISVALIDATING:"SET_ISVALIDATING",SUBMIT_ATTEMPT:"SUBMIT_ATTEMPT",SUBMIT_FAILURE:"SUBMIT_FAILURE",SUBMIT_SUCCESS:"SUBMIT_SUCCESS",RESET:"RESET",RESET_FIELD:"RESET_FIELD"}),cc=(e,t)=>C().get(e,t),mc=(e,t,a)=>{const n=C().clone(e);return C().set(n,t,a),n},dc=(e,t)=>{const a=C().clone(e);return C().unset(a,t),a},uc=e=>{const t=a().useRef(e);return a().useLayoutEffect((()=>{t.current=e})),a().useCallback(((...e)=>t.current.apply(void 0,e)),[])},pc=(e,t)=>{let a={};return Object.keys(e).forEach((n=>{const r=e[n];if(Array.isArray(r))if(!Array.isArray(r)||(s=r)&&Array.isArray(s)&&s.reduce(((e,t)=>e&&"type"in t),!0)){const e=cc(t,n),s=r?((e,t)=>t.reduce(((t,a)=>{if(t)return t;if("required"===a.type.toLowerCase())return e?t:a.message;if("regex"===a.type.toLowerCase())return a.regEx&&e?a.regEx.reduce(((t,a)=>Boolean(e.match(a))||t),!1)?t:a.message:t;if("invalid-regex"===a.type.toLowerCase())return a.regEx&&e?a.regEx.reduce(((t,a)=>!e.match(a)&&t),!0)?t:a.message:t;if("maxlength"===a.type.toLowerCase()){const n=C().get(a,"restrictions.maxLength");return n&&e?e.length<=n?t:a.message:t}if("maxlines"===a.type.toLowerCase()){const n=C().get(a,"restrictions.maxLines");return n&&e?e.split("\n").length<=n?t:a.message:t}if("range"===a.type.toLowerCase()){const n=C().get(a,"restrictions.maxVal"),r=C().get(a,"restrictions.minVal");if(!n||!r||!e)return t;const s=parseFloat(e.replace(/,/g,""));return s>=r&&s<=n?t:a.message}return console.warn(`WARNING: useForm validation rule type '${a.type}' is not supported`),t}),""))(e,r):"";s&&(a=mc(a,n,s))}else{const e=[];r.forEach(((a,r)=>{const s=pc({field:a},{field:t[n]&&t[n][r]});s.field&&(e[r]=s.field)})),Object.keys(e).length>0&&(a=mc(a,n,e))}else{const e=pc(r,t[n]);Object.keys(e).length>0&&(a=mc(a,n,e))}var s})),a},gc=function(e,t){switch(t.type){case oc.SET_FIELD_VALUE:return{...e,values:mc(e.values,t.payload.field,t.payload.value)};case oc.SET_FIELD_TOUCHED:return{...e,touched:mc(e.touched,t.payload.field,t.payload.value)};case oc.SET_FIELD_ERROR:return{...e,errors:mc(e.errors,t.payload.field,t.payload.value)};case oc.SET_VALUES:return{...e,values:t.payload};case oc.SET_TOUCHED:return{...e,touched:t.payload};case oc.SET_ERRORS:return{...e,errors:t.payload};case oc.SUBMIT_ATTEMPT:return{...e,isSubmitting:!0,touched:Object.keys(e.values).reduce(((e,t)=>(e[t]=!0,e)),{})};case oc.SUBMIT_FAILURE:return{...e,isSubmitting:!1,submitError:t.payload};case oc.SUBMIT_SUCCESS:return{...e,isSubmitting:!1};case oc.RESET:return{values:t.payload,errors:{},touched:{}};case oc.RESET_FIELD:return{...e,values:mc(e.values,t.payload.field,t.payload.value),errors:dc(e.errors,t.payload.field),touched:dc(e.touched,t.payload.field)};case oc.SET_ISSUBMITTING:return{...e,isSubmitting:t.payload};case oc.SET_ISVALIDATING:return{...e,isValidating:t.payload};case oc.SET_STATUS:return{...e,status:t.payload};default:return e}},yc=function({initialStatus:e,initialValues:t={},initialErrors:n={},initialTouched:r={},validate:s,validationSchema:l,validateOnChange:i=!0,validateOnBlur:o=!0,focusOnFailedSubmit:c=!0,onSubmit:m=(()=>{})}){const[d,u]=a().useReducer(gc,{status:e,values:t,errors:n,touched:r}),p=a().useRef({}),g=a().useCallback((e=>new Promise(((t,a)=>{const n=s?s(e):{};var r;n?null!==(r=n)&&"object"==typeof r&&"function"==typeof r.then?n.then((e=>t(e||{}))).catch((e=>a(e))):t(n):t({})}))),[s]),y=a().useCallback((e=>new Promise((t=>{const a=l?pc(l,e):{};t(a||{})}))),[l]),v=a().useCallback((e=>Promise.all([g(e),y(e)]).then((([e,t])=>C().merge(e,t)))),[g,y]),h=a().useCallback((e=>{u({type:oc.SET_ISVALIDATING,payload:!0}),v(e).then((e=>{u({type:oc.SET_ERRORS,payload:e}),u({type:oc.SET_ISVALIDATING,payload:!1})}))}),[v]),E=a().useCallback((e=>{u({type:oc.SET_VALUES,payload:e})}),[]),b=a().useCallback((e=>{u({type:oc.SET_TOUCHED,payload:e})}),[]),f=a().useCallback((e=>{u({type:oc.SET_ERRORS,payload:e})}),[]),A=uc(((e,t)=>{i&&h(mc(d.values,e,t)),u({type:oc.SET_FIELD_VALUE,payload:{field:e,value:t}})})),w=uc(((e,t)=>{u({type:oc.SET_FIELD_TOUCHED,payload:{field:e,value:t}}),o&&h(d.values)})),N=a().useCallback(((e,t)=>{u({type:oc.SET_FIELD_ERROR,payload:{field:e,value:t}})}),[]),S=uc((e=>{u({type:oc.SET_ISVALIDATING,payload:!0}),v(d.values).then((t=>{u({type:oc.SET_FIELD_ERROR,payload:{field:e,error:t[e]}}),u({type:oc.SET_ISVALIDATING,payload:!1})}))})),k=uc((()=>{u({type:oc.SET_ISVALIDATING,payload:!0}),v(d.values).then((e=>{u({type:oc.SET_ERRORS,payload:e}),u({type:oc.SET_ISVALIDATING,payload:!1})}))})),I=a().useCallback((e=>{u({type:oc.RESET_FIELD,payload:{field:e,value:cc(t,e)}})}),[t]),P=a().useCallback((()=>{u({type:oc.RESET,payload:t})}),[t]),L=a().useCallback((e=>{u({type:oc.SET_ISSUBMITTING,payload:e})}),[]),T=a().useCallback((e=>{u({type:oc.SET_ISVALIDATING,payload:e})}),[]),O=a().useCallback((e=>{u({type:oc.SET_STATUS,payload:e})}),[]),D={setValues:E,setTouched:b,setErrors:f,setFieldValue:A,setFieldError:N,setFieldTouched:w,setIsSubmitting:L,setIsValidating:T,setStatus:O,resetField:I,resetForm:P},x=uc((()=>{u({type:oc.SUBMIT_ATTEMPT}),v(d.values).then((e=>{if(Object.keys(e).length)u({type:oc.SET_ERRORS,payload:e}),u({type:oc.SUBMIT_FAILURE}),c&&(e=>{const t=Object.keys(e)[0];if(!t||!p.current)return;const a=p.current[t];a&&a.focus()})(e);else try{m(d.values,D),u({type:oc.SUBMIT_SUCCESS})}catch(e){u({type:oc.SUBMIT_FAILURE,payload:e})}}))})),M=a().useCallback((e=>{e.persist();const t=e.target,a="checkbox"===t.type?t.checked:t.value;A(t.name,a)}),[A]),F=a().useCallback((e=>{const t=e.target;w(t.name,!0)}),[w]),B=uc((e=>{e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),x()})),R=a().useMemo((()=>!C().isEqual(d.values,t)),[d.values,t]),_=0===Object.keys(d.errors).length;return{values:d.values,errors:d.errors,touched:d.touched,isSubmitting:d.isSubmitting,isValidating:d.isValidating,status:d.status,submitError:d.submitError,isValid:_,isDirty:R,handleChange:M,handleBlur:F,handleSubmit:B,fieldProps:e=>({name:e,value:d.values[e],onChange:M,onBlur:F}),setValues:E,setErrors:f,setTouched:b,setFieldValue:A,setFieldError:N,setFieldTouched:w,validateField:S,validateForm:k,resetField:I,resetForm:P,submitForm:x,setIsSubmitting:L,setIsValidating:T,setStatus:O,fieldRegistryRef:p,registerFieldRef:e=>{e&&e.name&&p.current&&(p.current[e.name]=e)}}},vc=document.documentElement.lang||"en-US",hc=({bundleKey:e,bundleDisplayValue:t,engravingPageData:n,slotName:r,selection:s,font:l,fontIdx:i=0,fontFamily:o,showEmojiPicker:c=!1,onAddingMessage:m,disabled:d=!1,disclaimerId:u="",clearField:p})=>{const{errors:g,hasError:y=!1}=s,{assets:v}=(0,Y.S)(),h=C().get(s,"messagesA11y",[]),{errorMsg:E,textEmojiGroupLabel:b,regionalLangMessage:f="",addedA11yText:A="",skipUpperCaseGEOS:w="th-TH,zh-CN,ko-KR,ja-JP,en-IN,zh-HK"}=r,N=w.split(","),S=C().get(r,"labelArray.items"),k=C().get(n,"bundles",[]),I=C().get(n,`engravingMessageBox${e}.lines`,[]),P=C().get(I,"0.name",""),L=C().get(n,`engravingMessageBox${e}.groupKey`),T=C().get(n,`engravingMessageBox${e}.emojis.${l}`,[]),O=C().get(n,`fonts${e}.${i}.defaultValue`,[]),D=f?"engraving-regionallang-disclaimer":"",{initialValues:x}=a().useMemo((()=>(e=>{const t=C().reduce(e,((e,t,a)=>(e[`line${a+1}`]=t,e)),{});return{initialValues:t}})(Ui(s.font)?[]:s.messages)),[s.font,s.messages]),{values:M,setFieldValue:F}=yc({initialValues:x}),B=a().useRef({}),[R,_]=(0,J.oM)({resetDelay:4e3}),[$,H]=a().useState(P),K=I.length>1,V=C().get(n,"engravingMessageBox.engravingInUpperCaseOnly"),U=K&&c,[W,G]=a().useState(!1),j=a=>{a.persist();const n=a.target,{name:r,value:s}=n;let c=s;V?N.indexOf(vc)<0?c=((e,t)=>{const a=e.selectionStart,n=e.selectionEnd,r=e.value.toLocaleUpperCase(vc);if(t(e.name,r),r){const t=r.length;window.setTimeout((()=>{e.setSelectionRange(a+t,n)}),0)}return r})(n,F):(F(r,s),c=s.toLocaleUpperCase(vc)):F(r,s);const d={...M,[r]:c};m({bundleKey:e,bundleDisplayValue:t,font:l,fontIdx:i,fontFamily:o,fields:I,fieldVals:d})},q=e=>{const{name:t,value:a}=e.target,n=C().get(B,`current.${t}`);if(13===e.keyCode&&(e.preventDefault(),H(t),G(!0),a)){const e=a.length;n.setSelectionRange(e,e)}};return a().useEffect((()=>{p&&I.forEach((e=>F(e.name,"")))}),[p]),a().createElement("div",{className:"rf-engraving-messagebox"},a().createElement("div",{className:Z()({"rf-engraving-singleline":!K&&!c,"rf-engraving-multilines":K,"rf-engraving-mixedtext":c,"rf-engraving-form-error":g,[`rf-engraving-${o}`]:!!o})},I.map(((n,r)=>{const{name:s,label:p}=n,y=k.length>1?C().get(S,`${e}.value`,p):p,E=M[s]?"":`${u} ${D}`;return a().createElement("div",{className:"field-wrapper",key:`${s}_${i}`,"data-autom":`Engrave-labelLine${r+1}`},a().createElement(ki.A,{name:s,label:y,autoComplete:"off",error:g?g[s]:"",value:M[s]||"",onChange:j,onFocus:()=>{U&&W?G(!1):H(s)},onKeyDown:U?q:void 0,onReset:()=>(a=>{F(a,"");const n={...M,[a]:""},r=C().get(B,`current.${a}`);m({bundleKey:e,bundleDisplayValue:t,font:l,fontIdx:i,fontFamily:o,fields:I,fieldVals:n}),r&&r.focus()})(s),resetAttrs:{"aria-label":K?`${v.reset} ${p}`:v.reset,"data-autom":K?`removeEngrave${r+1}`:"removeEngrave","data-trigger-id":K?`remove-engrave${r+1}`:"remove-engrave"},errorAttrs:{"data-autom":K?`engraveValidationMsg${r+1}`:"engraveValidationMsg"},"aria-describedby":`${E} engraving-message-${s}`,"data-autom":`Engrave${s}`,disabled:d,ref:e=>{B.current[s]=e}}),$===s&&R?a().createElement(J.Ay,{message:`${y} ${R} ${A}`}):null,c&&a().createElement("div",{id:`engraving-message-${s}`,className:"visuallyhidden","aria-hidden":"true"},h[r]?a().createElement("span",null,y):null,a().createElement("span",null,h[r]||"")))})),a().createElement("div",{className:Z()({"is-error":y})},a().createElement(ul.A,{error:y?E:"",errorAttrs:{"data-autom":"engraveValidationMsg"},"aria-live":"polite"})),c&&a().createElement("div",{className:`rf-engraving-${l}`},a().createElement(lc,{bundleKey:e,groupKey:L,items:T,groupLabel:b,fontIdx:i,dotNavFocus:W,onHandleChange:a=>{const n=$,r=C().get(M,n,""),s=C().get(B,`current.${n}`),c=s.selectionStart;let d=r?r.substring(0,c)+a+r.substring(c):a;if(a&&!W){const e=a.length;window.setTimeout((()=>{s.setSelectionRange(c+e,c+e),s.focus()}),0)}F(n,d),V&&N.indexOf(vc)>=0&&(d=d.toLocaleUpperCase(vc));const u={...M,[n]:d};m({bundleKey:e,bundleDisplayValue:t,font:l,fontIdx:i,fontFamily:o,fields:I,fieldVals:u}),_(((e,t)=>{if(!C().isEmpty(t)){const a=t.find((t=>t.value===e));return a?a.a11yText:e}return e})(a,O))}}))))},Ec=({bundleKey:e,bundleDisplayValue:t="",engravingPageData:n,slotName:r={},selection:s,selectedTab:l,onTabChange:i,validateEngravingMsg:o,onAddingMessage:c,disabled:m=!1,disclaimerId:d=""})=>{const{fontChoiceLegendA11yText:u,fontChoiceA11yText:p,emojiChoiceA11yText:g,regionalLangMessage:y="",engravingFooterDisclaimer:v=""}=r,h=C().get(n,`fonts${e}`,[]),E=C().get(n,`engravingMessageBox${e}`,{}),{lines:b=[],selectedEmoji:f="",emojis:A={}}=E,w=h.length>1,N=`${u} ${Qe.LU(t)}`,{font:S=""}=s,{fontIdx:k=0,fontName:I="",fontDisplayType:P,fontFamily:L=""}=h[l]||{},T=!!h.find((e=>e.fontDisplayType===Vi.EMOJI_TEXT)),O=!(!w&&!T)&&Object.keys(A).some((e=>A[e].length>1)),D={bundleKey:e,bundleDisplayValue:t,engravingPageData:n,slotName:r,selection:s,onAddingMessage:c,font:S,disabled:m,disclaimerId:d};return a().createElement(a().Fragment,null,a().createElement("div",{className:Z()("rf-engraving-form",{"rf-engraving-form-withtab":w,"rf-engraving-form-textandemoji":T,"rf-engraving-form-withdots":O})},w&&a().createElement(a().Fragment,null,a().createElement("fieldset",{disabled:m},a().createElement("legend",{className:"visuallyhidden"},N),a().createElement(Vr,{className:"rf-engraving-tabs",handleChange:a=>(({fontName:a,fontFamily:n},r)=>{let s="";i(r),s=Ui(a)?f:b.reduce(((e,t)=>(e[t.name]=t.value,e)),{}),o({bundleKey:e,bundleDisplayValue:t,fields:b,font:a,fontIdx:k,fontFamily:n,fieldVals:s})})(h[a],a),defaultIndex:k,count:h.length},a().createElement(Rr,{classes:{root:"rf-engraving-tabnav",item:"rf-engraving-tabnav-item",link:"rf-engraving-tabnav-link"},keys:h.map((e=>e.fontName)),items:h.map((e=>a().createElement(a().Fragment,null,e.fontLabel,a().createElement("span",{className:"visuallyhidden"},Ui(e.fontName)?g:p))))}),a().createElement(Br.T2,{className:Z()("rf-engraving-tabpanels")},h.map((e=>a().createElement(Br.Kp,{index:e.fontIdx,key:e.fontName,className:"rf-engraving-tabpanel"},e.fontDisplayType===Vi.EMOJI||e.fontDisplayType===Vi.MULTI_SELECT?a().createElement(ic,(0,Ie.A)({},D,{font:e.fontName,fontIdx:e.fontIdx,fontFamily:e.fontFamily,fontDisplayType:e.fontDisplayType})):a().createElement(hc,(0,Ie.A)({},D,{font:e.fontName,fontIdx:e.fontIdx,fontFamily:e.fontFamily,showEmojiPicker:e.fontDisplayType===Vi.EMOJI_TEXT}))))))))),!w&&a().createElement(hc,(0,Ie.A)({},D,{font:I,fontFamily:L,fontIdx:k,showEmojiPicker:P===Vi.EMOJI_TEXT}))),y&&a().createElement("div",(0,Ie.A)({id:"engraving-regionallang-disclaimer",className:`rf-engraving-regionallang-disclaimer ${ra.A.CAPTION}`},(0,Le.OH)(y))),v&&a().createElement("div",(0,Ie.A)({className:`rf-engraving-footer-disclaimer ${ra.A.CAPTION}`},(0,Le.OH)(v))))},bc=a().forwardRef((({bundleKey:e,bundleDisplayValue:t,engravingPageData:n,slotName:r,selection:s={},selectedTab:l,showVideo:i,additionalParam:o},c)=>{const m={},d=C().get(n,"dynamicImage",{}),u=C().get(n,`fonts${e}`,[]),p=u.length?u[l]:"",g=C().cloneDeep(d),y=C().get(g,"srcSet.src"),v={},h=C().get(g,"alt"),E=C().get(g,"defaultAXMessagePartial","");g.alt=Qe.GP(h,{message:E});let b=s.messages&&s.messages[0]||"",f=s.messages&&s.messages[1]||"";const A=s.messagesA11y&&s.messagesA11y[0]||"",w=s.messagesA11y&&s.messagesA11y[1]||"";m.th=b,m.tl=f;const N=C().get(r,"defaultValueArray.items"),S=C().get(r,"defaultValue",""),k=Ui(p.fontName),I=C().get(r,"transparentBg",!1);""===b&&""===f?(b=C().get(N,"0.value")||S,f=C().get(N,"1.value")||"",k||(m.th=b,m.tl=f)):g.alt=Qe.GP(h,{message:`${A} ${w}`});const P=s.font?s.font:p.fontName,L=P?{f:P,...o}:{...o};if(y&&g){const e=Qe.k0(y,{...m,...L});v.src=e}const{scaleParams1x:T,scaleParams2x:O}=((e={},t,a)=>{const{scaleParams1:n,scaleParams2:r}=e;return{scaleParams1x:n?Qe.fX({...Qe.JO(n),...t,...a}):null,scaleParams2x:r?Qe.fX({...Qe.JO(r),...t,...a}):null}})(g.srcSet,m,L);T&&(v.scaleParams1=T),O&&(v.scaleParams2=O);const D=C().get(v,"src",""),{src1x:x,src2x:M}=a().useMemo((()=>(e=>{if(!e||!e.src)return{};const[t,a]=e.src.split("?"),n=a?Qe.JO(a):{};return{src1x:e.scaleParams2?Qe.k0(t,n):Qe.k0(t,Qe.JO(e.scaleParams1||"")),src2x:e.scaleParams1?Qe.k0(t,n):Qe.k0(t,Qe.JO(e.scaleParams2||""))}})(v)),[D]),F=M||x;return a().createElement("div",{className:Z()("rf-engraving-image-wrapper",{"rf-engraving-transparent-wrapper":I}),ref:c},a().createElement("div",(0,Ie.A)({className:"rf-engraving-displayvalue"},(0,Le.OH)(t))),g&&F&&a().createElement("img",{width:g.width,height:g.height,alt:g.alt||"",src:F,className:Z()("rf-engraving-image",{"rf-engraving-image-hidden":i}),"data-autom":"preview-image"}))}));bc.displayName="ImageView";const fc=({data:e,onVideoEnded:t,showVideo:n,videoRef:r,slotName:s})=>{const{alt:l,...i}=e,o={autoPlay:!0,muted:!0,playsInline:!0,"aria-hidden":!0,title:l,...C().omit(i,["poster","format"])},c=C().get(s,"transitionDuration",700);return a().createElement(j.A,{in:n,timeout:c,className:"rf-engraving-media-wrapper"},a().createElement(Bi,(0,Ie.A)({ref:r,className:"rf-engraving-media"},o,{onEnded:t,onStalled:t,onError:t,onContextMenu:e=>e.preventDefault()})))},Ac=({isSaving:e,showVideo:t,saveButtonRef:n,slotName:r,saveEngrave:s,cancelEngrave:l,selection:i})=>{const o=C().get(r,"saveButton","Save"),c=C().get(r,"cancelButton","Cancel"),m=(i?i.filter((e=>!!e.errors||e.hasError)):[]).length>0;return a().createElement("div",{className:"rf-engraving-actions"},a().createElement("div",{className:"rf-engraving-save"},a().createElement("button",(0,Ie.A)({type:"button",className:Z()("button","button-super","button-block",{"as-button-isloading":e}),ref:n,disabled:m||e||t,"data-autom":"engraving-save","data-trigger-id":"engraving-save",onClick:()=>s(!0)},(0,Le.OH)(o)))),a().createElement("div",{className:"rf-engraving-cancel"},a().createElement("button",(0,Ie.A)({type:"button",className:"as-buttonlink",disabled:e,"data-autom":"engraving-cancel","data-trigger-id":"engraving-cancel",onClick:()=>l()},(0,Le.OH)(c)))))},wc=({ariaLabel:e})=>{const t=a().useRef(null),n=a().useRef(null);return a().useEffect((()=>(n.current=document.activeElement,t.current&&t.current.focus(),()=>{n.current&&n.current.focus()})),[]),a().createElement("div",{className:"column large-12 small-12 rf-engraving-overlay-spinner"},a().createElement("div",{ref:t,role:"img",tabIndex:-1,className:"waitindicator waitindicator40-blue","aria-label":e}))},Nc=({bundleProps:e,videoProps:t={}})=>{const{data:n,showVideo:r}=t,s=C().get(n,"src"),l=C().get(e,"selection.font",""),i=C().get(e,`engravingPageData.fonts${e.bundleKey}`,[]),o=l?C().findIndex(i,{fontName:l}):0;return a().createElement("div",{className:Z()({"rf-engraving-media-content":!!s})},a().createElement(bc,(0,Ie.A)({},e,{selectedTab:o,showVideo:r})),s&&a().createElement(fc,t))},Sc=({bundleProps:e,bundleItem:t=!1,videoProps:n={},validateEngravingMsg:r,onAddingMessage:s,disabled:l=!1,disclaimerId:i=""})=>{const{showVideo:o}=n,c=C().get(e,"selection.font",""),m=C().get(e,`engravingPageData.fonts${e.bundleKey}`,[]),d=c?C().findIndex(m,{fontName:c}):0,[u,p]=a().useState(d),g=C().get(m,`${u}.fontDisplayType`,"");return a().createElement(an,{disabled:o,className:Z()("rf-engraving-content",{"rf-engraving-content-disabled":o,"rf-engraving-content-emojitext":g===Vi.EMOJI_TEXT,"rf-engraving-content-hide":t&&l})},a().createElement(Ec,(0,Ie.A)({},e,{validateEngravingMsg:r,onAddingMessage:s,selectedTab:u,onTabChange:p,disabled:l||o,disclaimerId:i})))},Cc=({bundleProps:e,videoProps:t={},validateEngravingMsg:n,onAddingMessage:r,disabled:s=!1,disclaimerId:l=""})=>a().createElement(a().Fragment,null,a().createElement(Nc,{bundleProps:e,videoProps:t}),a().createElement(Sc,{bundleProps:e,videoProps:t,validateEngravingMsg:n,onAddingMessage:r,disabled:s,disclaimerId:l})),kc=({engravingPageData:e,slotName:t,selection:n,validateEngravingMsg:r,onAddingMessage:s,selectedBundleKey:l,disclaimerId:i=""})=>{const o=C().get(e,"bundles",[]),[c,m]=a().useState(l),{viewport:d}=(0,Y.S)(),u="small"===d,[p,g]=(0,J.oM)();return a().createElement(a().Fragment,null,a().createElement("div",{className:Z()("with-paddlenav",{"rf-engraving-bundle-oneitem":1===o.length})},a().createElement(J.Ay,{message:p}),a().createElement(zo,{items:o,dotnav:!1,defaultIndex:c,onChange:e=>{m(e),g(C().get(o,`${e}.overlayBundleDisplayValue`,""))},paddlenav:!u,paddlenavProps:{compact:!1},swipableProps:{trackTouch:!0},classes:{root:"rf-engraving-bundle-gallery",gallery:"rf-engraving-bundle",scroller:"rf-engraving-bundle-scroller"},renderItem:(l,i)=>{const{key:o=0,overlayBundleDisplayValue:m=""}=l,d=o===c,u={bundleKey:o,bundleDisplayValue:m,selection:n[o],engravingPageData:e,slotName:t};return a().createElement(Ko,{key:i,index:i,className:Z()("rf-engraving-bundle-item",{"rf-engraving-bundle-selecteditem":d,"rf-engraving-bundle-nonselecteditem":!d})},a().createElement("div",{className:"rf-engraving-bundle-box"},a().createElement(Nc,{bundleProps:u,validateEngravingMsg:r,onAddingMessage:s,disabled:!d})))},a11y:{label:t.engravingA11yText,items:o.map((e=>e.bundleDisplayValue))}})),o.map((l=>{const{key:o=0,bundleDisplayValue:m}=l,d=o===c,u={bundleKey:o,bundleDisplayValue:m,selection:n[o],engravingPageData:e,slotName:t};return a().createElement(Sc,{key:o,bundleProps:u,validateEngravingMsg:r,onAddingMessage:s,disabled:!d,disclaimerId:i,bundleItem:!0})})))},Ic=e=>{const{visible:t,showContent:n,showVideo:r,videoRef:s,saveButtonRef:l,onClose:i,data:o,isFetching:c,error:m,saveEngrave:d,cancelEngrave:u,validateEngravingMsg:g,onAddingMessage:y,onVideoEnded:v,selectedBundleKey:h,additionalParam:E}=e,b=a().useId(),{isSaving:f,slotName:A,selection:w,isBundleEngraving:N}=o,{engravingPageData:S,engravingVideo:k}=C().get(o,"engravingDetails",{}),I=C().get(S,"bundles",[]),{engravingHeader:P,engravingDisclaimer:L="",keyboardHintText:T=""}=A||{},{key:O=0,bundleDisplayValue:D=""}=I[0]||{},x=C().get(S,`engravingMessageBox${O}.lines`,{}),M=!!C().get(S,`fonts${O}`,[]).find((e=>e.fontDisplayType===Vi.EMOJI_TEXT)),F=document.documentElement.classList.contains(p),B=x.length>1&&M,R={bundleKey:O,bundleDisplayValue:D,selection:w?w[O]:{},engravingPageData:S,slotName:A,additionalParam:E},_={data:k,videoRef:s,showVideo:r,onVideoEnded:v,slotName:A},$=a().useRef(null);return a().createElement(Ke.A,{visible:t,classes:{root:Z()("rf-engraving-overlay",{"rf-engraving-overlay-bundle":N}),content:"rf-engraving-overlay-content"},noPadding:!0,fixedWidth:!0,ariaLabel:"rf-engraving-overlay-label","data-autom":"Engrave-overlay",onClose:()=>i(),onEntered:()=>{$.current.scrollTop>0&&($.current.scrollTop=0)},ref:$,appear:!0},C().isEmpty(m)?a().createElement("div",{className:"rf-engraving-overlay-contentsection"},c?a().createElement(wc,{ariaLabel:"loading"}):a().createElement(a().Fragment,null,a().createElement("h2",(0,Ie.A)({className:`rf-engraving-overlay-header ${ra.A.HEADLINE}`,id:"rf-engraving-overlay-label","data-autom":"engraving-overlay-header"},(0,Le.OH)(P))),L&&a().createElement("div",{className:"rf-engraving-textdisclaimer"},a().createElement("p",{id:`${b}-engraving-disclaimer`,className:`rf-engraving-disclaimer ${ra.A.BODY}`,"data-autom":"engraving-disclaimer"},a().createElement("span",(0,Le.OH)(L)),B?a().createElement("span",(0,Ie.A)({className:Z()({visuallyhidden:!F})},(0,Le.OH)(T))):null)),n&&a().createElement("div",{className:"rf-engraving-selecteditem"},N?a().createElement(kc,{engravingPageData:S,slotName:A,selection:w,validateEngravingMsg:g,onAddingMessage:y,selectedBundleKey:h,disclaimerId:`${b}-engraving-disclaimer`}):a().createElement(Cc,{bundleProps:R,videoProps:_,validateEngravingMsg:g,onAddingMessage:y,disclaimerId:`${b}-engraving-disclaimer`})),a().createElement(Ac,{isSaving:f,showVideo:r,saveButtonRef:l,slotName:A,selection:w,saveEngrave:d,cancelEngrave:u}))):a().createElement("div",{className:"rf-engraving-overlay-contentsection"},a().createElement("div",(0,Ie.A)({className:`rf-engraving-overlay-error ${ra.A.HEADLINE}`},(0,Le.OH)(m.message)))))},Pc=({isEngraved:e,isBundle:t,engravingSubtitle:n,engravingEditMessage:r,engravingPrice:s,engravingLines:l,isEditable:i,addButton:o,editButton:c,removeButton:m})=>{const d=!t&&i&&e,u=i&&!e,p=!t&&m,{assets:g,viewport:y}=(0,Y.S)(),v=e?g.yourEngraving:g.engraving,h="small"===y;return a().createElement("div",{className:"rs-iteminfo-child"},a().createElement("div",{className:"row rs-iteminfo-child-content rs-iteminfo-child-engraving"},a().createElement("div",{className:"column large-12 as-icondetails"},a().createElement("div",(0,Ie.A)({className:"as-icondetails-icon as-svgicon-container"},(0,Le.OH)('<svg viewBox="0 0 25 25" class="as-svgicon as-svgicon-engraving as-svgicon-reduced as-svgicon-engravingreduced" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h25v25H0z"/><path d="M12.5 22.05a9.55 9.55 0 1 1 9.55-9.55 9.561 9.561 0 0 1-9.55 9.55Zm0-18a8.45 8.45 0 1 0 8.45 8.45 8.46 8.46 0 0 0-8.45-8.45Z"/><path d="M16.5 15h-8a.5.5 0 0 1 0-1h8a.5.5 0 0 1 0 1ZM18 11H7a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1Z"/></svg>'))),a().createElement("div",{className:"as-icondetails-detail rs-iteminfo-icondetails-detail"},a().createElement("div",{className:"rs-iteminfo-child-wrapper"},a().createElement("p",{className:"rs-iteminfo-child-title"},a().createElement("span",{className:"rs-iteminfo-child-titletext"},v)),!e&&n&&a().createElement("p",(0,Ie.A)({className:"rs-iteminfo-child-tagline"},(0,Le.OH)(n))),e&&a().createElement("div",{className:Z()("rs-iteminfo-child-tagline",{"rs-iteminfo-engraving-with-message":!t&&r})},l),d&&a().createElement("div",{className:"rs-iteminfo-child-divider"},c),e&&r&&a().createElement("div",{className:Z()({"rs-iteminfo-child-tagline":h},{"rs-iteminfo-child-divider":!h})},a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-engraving-edit-message"},(0,Le.OH)(r))),!h&&p&&a().createElement("div",{className:"rs-engraving-removebutton"},m)),h&&p&&a().createElement("div",{className:"rs-iteminfo-child-divider"},m),a().createElement("div",{className:"rs-iteminfo-child-actions"},e&&a().createElement("p",{className:"rs-iteminfo-child-price"},s),u&&o))))))},Lc=()=>{const{assets:e}=(0,Y.S)();return(0,dn.createPortal)(a().createElement("div",{className:"rs-engravingedit-spinner"},a().createElement("div",{role:"img",className:"waitindicator waitindicator40-gray","aria-label":e.processing})),document.getElementById("portal")||document.body)},Tc=({label:e,allyText:t,url:n,onClick:r=C().noop,sendOmniEvent:s=C().noop,className:l,...i})=>{const o=Z()("as-buttonlink",l);if(n)return a().createElement("a",(0,Ie.A)({className:o,href:n},i),a().createElement("span",{"aria-hidden":"true"},e),a().createElement("span",{className:"visuallyhidden"},t));return a().createElement("button",(0,Ie.A)({type:"button",className:o,"aria-label":t,onClick:()=>{r(),s()}},i),e)},Oc=({isBundle:e,isEditable:t,isRemovableOnly:n,isEngravingImage:r,lines:s=[],addActionProps:l,editActionProps:i,removeActionProps:o,handleOpenOverlay:c,removeEngrave:m,messagesA11yText:d})=>{const u=Boolean(s.length),p=Boolean(d.length),{assets:g}=(0,Y.S)();return u?e?a().createElement("div",{className:"rs-iteminfo-child-tagline"},s.map((({product:e,font:s,value:u,alt:y,accessibilityText:v,type:h},E)=>{const b=Z()("row","small-12","rs-engraving-container-bundle",{"large-6":t,"large-12":!t}),f=Z()({"rs-engraving-font-mixed":Boolean(s&&u),[`rs-engraving-font-${s}`]:Boolean(s&&u)}),A=()=>m(E),w=h&&-1!==h.indexOf("image"),N={...l,allyText:`${g.addEngravingA11y} ${e}`};return a().createElement("div",{key:`engraving-line-${e}-${u}-${s}`,className:b},a().createElement("div",{className:Z()("column",{"large-6 small-7 rs-engraving-message":!r},{"rs-engraving-image-container":r})},e,u&&(w?a().createElement("img",{className:"rs-engraving-image",src:u,alt:v||y}):a().createElement("span",{className:f,"aria-label":d[E],role:p?"img":null},u))),t&&a().createElement("div",{className:"column large-6 small-5 rs-engraving-addbutton"},u?a().createElement(a().Fragment,null,a().createElement(Tc,(0,Ie.A)({},i,{onClick:()=>c("edit engraving",E)})),a().createElement("span",{className:"rs-iteminfo-child-divider"}),a().createElement(Tc,(0,Ie.A)({},o,{onClick:A}))):a().createElement(Tc,(0,Ie.A)({},N,{onClick:()=>c("add free engraving",E)}))),n&&u&&a().createElement("div",{className:"rs-engraving-removebutton"},a().createElement(Tc,(0,Ie.A)({},o,{onClick:A}))))}))):a().createElement("div",{className:"rs-iteminfo-child-tagline"},a().createElement("div",{className:"row"},a().createElement("div",{className:"column"},s.map((({font:e,value:t,alt:n,accessibilityText:s,type:l},i)=>{const o=Z()({"rs-engraving-font-mixed":Boolean(e&&t)}),c=l&&-1!==l.indexOf("image");return t&&a().createElement("div",{key:`engraving-line-${t}-${e}-${i}`,className:Z()({"rs-engraving-message":!r},{"rs-engraving-image-container":r})},c?a().createElement("img",{className:"rs-engraving-image",src:t,alt:s||n}):a().createElement("span",{className:o,"data-autom":"bag-engraving-text-message","aria-label":d[i],role:p?"img":null},t))}))))):null},Dc=(0,r.A)("rs-checkout/engraving"),xc=()=>{const{viewReady:e,acShowInstallment:n}=mn(),{modKey:r,isEditable:s,isFulfillment:l}=Fl(),[i]=(0,k.Ej)(r,"name"),o=(0,k.Yl)(`${r}.engraving`),{lines:c=[],isBundle:m,price:d,isOverlay:u,isEngravingImage:p,engravingSubtitle:g,engravingEditMessage:y}=o.data,{editable:v}=o.properties,h=Boolean(c.length),E=s||h,b=s&&!1!==u,f=!u&&s&&p&&!1!==v,A=`${r}.engraving.cartItemEngravingOverlay`,w=(0,k.Yl)(A),{isLoadingSubmit:N,isLoadingFault:S}=w.properties,I=(0,k.LZ)(A,"successResponse"),P=(0,k.LZ)(A,"invalidItemResponse"),L=(0,k.sW)(),T=e=>{L({type:W.Ru.SET_MOD_PROPERTY,modKey:A,key:"isLoadingSubmit",value:e})},O={...w.data.bootstrap,metricsConfig:{pageName:"Bag"}},[D,x]=(0,t.useState)(null);(0,t.useEffect)((()=>{!S&&w.data.engravingDetails&&x({engravingDetails:w.data.engravingDetails,slotName:w.data.slotName})}),[S]);const M=oo({id:o.data.id,bootstrap:O,engravingData:D,onChange:e=>{T(!0);const t=C().get(w.data,"bootstrap.saveEngravingUrl",""),a=C().get(e,"engravedData",{}),n=C().get(e,"engravedData.selection",[]).reduce(((e,t,n)=>{const r=C().get(t,"font",""),s=C().get(t,"messages",[]),l=a.isBundleEngraving||r;if(a.isBundleEngraving)e[`msg.${n}`]=s;else for(let a=0;a<t.messageLines;a+=1)e[`msg.${a}`]=C().trim(s[a]);return l&&(e[`f.${n}`]=r),e}),{}),r=Qe.k0(t,{...n});(0,Pa.hI)(r).then((e=>{e.body.success?(I.setValue(!0),I.runSetEvents()):(P.setValue(!0),P.runSetEvents())})).catch((e=>{Dc.error(e),T(!1)}))}}),{overlayVisible:F,loadOverlay:B,showContent:R,showVideo:_,saveButtonRef:$,videoRef:H,data:K,error:V,handleCloseOverlay:U,validateEngravingMsg:G,onAddingMessage:j,handleEngravingChange:q,cancelEngrave:z,onOverlayHidden:Z,selectedBundleKey:J,onVideoEnded:X,handleOpenOverlay:Q,removeEngrave:ee}=M,{assets:te}=(0,Y.S)(),{savedSelection:ae=[]}=K;let ne=[];ne=ae.map((({messagesA11y:e})=>e)).reduce(((e,t)=>e.concat(t)),[]);const re={label:m&&c.length?te.addEngraving:te.add,url:u?o.data.url:"","data-value":"add","data-autom":"bag-engraving-add","data-prop37":o.data.addProp37},se={label:te.edit,allyText:`${te.engravingEditA11y} ${i}`,url:u?o.data.url:"","data-value":"edit","data-autom":"bag-engraving-edit","data-prop37":o.data.editProp37},le={label:te.remove,allyText:Qe.GP(te.removeEngravingA11y,{productName:i}),"data-value":"remove","data-autom":"bag-engraving-remove","data-prop37":o.data.removeProp37},ie=`${te.addEngravingA11y} ${i}`;return a().createElement(a().Fragment,null,N&&a().createElement(Lc,null),E&&a().createElement(Pc,{isEngraved:h,isBundle:m,engravingSubtitle:g,engravingEditMessage:y,engravingPrice:!l&&d,isEditable:b,addButton:a().createElement(Tc,(0,Ie.A)({},re,{className:"rs-iteminfo-child-actions-button",onClick:()=>Q("add free engraving"),allyText:ie})),editButton:a().createElement(Tc,(0,Ie.A)({},se,{onClick:()=>Q("edit engraving")})),removeButton:f&&a().createElement(Tc,(0,Ie.A)({},le,{onClick:()=>{ee(0)}})),engravingLines:a().createElement(Oc,{isBundle:m,isEditable:b,isRemovableOnly:f,isEngravingImage:p,lines:c,addActionProps:re,editActionProps:se,removeActionProps:le,handleOpenOverlay:Q,removeEngrave:ee,messagesA11yText:ne})}),B&&a().createElement(Ic,{visible:F,showContent:R,data:K,error:V,videoRef:H,showVideo:!h&&_,saveButtonRef:$,onClose:U,validateEngravingMsg:G,onAddingMessage:j,onVideoEnded:X,saveEngrave:q,cancelEngrave:z,onOverlayHidden:Z,selectedBundleKey:J}))},Mc=a().memo(xc),Fc=({label:e,labelA11y:t,checkboxProps:n,description:r})=>a().createElement("div",{className:"rs-iteminfo-child rs-iteminfo-isgiftitem"},a().createElement("div",{className:"rs-iteminfo-child-content"},a().createElement(Vn.A,n,a().createElement("span",{"aria-hidden":"true",className:"rs-iteminfo-isgiftitem-label"},e),a().createElement("span",{className:"visuallyhidden"},t)),r&&a().createElement("p",(0,Ie.A)({className:"rs-iteminfo-isgiftitem-content as-icondetails-detail"},(0,Le.OH)(r))))),Bc=()=>{const{modKey:e}=Fl(),[t]=(0,k.lE)(e),{showIntentToGift:n,intentToGiftText:r,name:s,intentToGiftDesc:l}=t,{assets:i}=(0,Y.S)(),o=r||i.giftItemLabel,c=Qe.GP(i.isIntentToGiftA11y,{name:s}),m=(0,k.DZ)(e,"isIntentToGift");return n&&a().createElement(Fc,{label:o,labelA11y:c,checkboxProps:m.props,description:l})},Rc=a().memo(Bc),_c="_editing",$c="add",Hc="remove",Kc="edit";var Vc,Uc=new Uint8Array(16);function Wc(){if(!Vc&&!(Vc="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Vc(Uc)}const Gc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const jc=function(e){return"string"==typeof e&&Gc.test(e)};for(var qc=[],Yc=0;Yc<256;++Yc)qc.push((Yc+256).toString(16).substr(1));const zc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(qc[e[t+0]]+qc[e[t+1]]+qc[e[t+2]]+qc[e[t+3]]+"-"+qc[e[t+4]]+qc[e[t+5]]+"-"+qc[e[t+6]]+qc[e[t+7]]+"-"+qc[e[t+8]]+qc[e[t+9]]+"-"+qc[e[t+10]]+qc[e[t+11]]+qc[e[t+12]]+qc[e[t+13]]+qc[e[t+14]]+qc[e[t+15]]).toLowerCase();if(!jc(a))throw TypeError("Stringified UUID is invalid");return a};var Zc,Jc,Xc=0,Qc=0;const em=function(e,t,a){var n=t&&a||0,r=t||new Array(16),s=(e=e||{}).node||Zc,l=void 0!==e.clockseq?e.clockseq:Jc;if(null==s||null==l){var i=e.random||(e.rng||Wc)();null==s&&(s=Zc=[1|i[0],i[1],i[2],i[3],i[4],i[5]]),null==l&&(l=Jc=16383&(i[6]<<8|i[7]))}var o=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:Qc+1,m=o-Xc+(c-Qc)/1e4;if(m<0&&void 0===e.clockseq&&(l=l+1&16383),(m<0||o>Xc)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Xc=o,Qc=c,Jc=l;var d=(1e4*(268435455&(o+=122192928e5))+c)%4294967296;r[n++]=d>>>24&255,r[n++]=d>>>16&255,r[n++]=d>>>8&255,r[n++]=255&d;var u=o/4294967296*1e4&268435455;r[n++]=u>>>8&255,r[n++]=255&u,r[n++]=u>>>24&15|16,r[n++]=u>>>16&255,r[n++]=l>>>8|128,r[n++]=255&l;for(var p=0;p<6;++p)r[n+p]=s[p];return t||zc(r)},tm=({title:e,price:t,messages:n=[],actionType:r,actionLabel:s,actionA11y:l,actionBtnProps:i,installmentDetails:o})=>{const c=Boolean(n.length),m=Array.isArray(o)&&t,d=!m&&t,u=r===Kc,p=r===$c||r===Hc;return a().createElement("div",{className:"rs-iteminfo-child"},a().createElement("div",{className:"row rs-iteminfo-child-content"},a().createElement("div",{className:"column as-icondetails large-12"},a().createElement("div",(0,Ie.A)({className:"as-icondetails-icon as-svgicon-container"},(0,Le.OH)('<svg viewBox="0 0 25 25" class="as-svgicon as-svgicon-gift as-svgicon-reduced as-svgicon-giftreduced" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h25v25H0z"/><path d="M17.5 4h-10A3.5 3.5 0 0 0 4 7.5v10A3.5 3.5 0 0 0 7.5 21h10a3.5 3.5 0 0 0 3.5-3.5v-10A3.5 3.5 0 0 0 17.5 4Zm-10 1H12v4.414A5.537 5.537 0 0 0 10.973 7.6 2.556 2.556 0 0 0 9.1 6.869a2.5 2.5 0 0 0-1.814.794 2.614 2.614 0 0 0 .2 3.684A3.954 3.954 0 0 0 8.671 12H5V7.5A2.5 2.5 0 0 1 7.5 5Zm4.271 6.846a11.361 11.361 0 0 1-3.6-1.231 1.613 1.613 0 0 1-.146-2.271 1.5 1.5 0 0 1 1.094-.476h.021a1.7 1.7 0 0 1 1.158.464 11.4 11.4 0 0 1 1.472 3.514ZM5 17.5V13h6.64c-.653 1.149-2.117 3.2-4.4 3.568a.5.5 0 1 0 .158.987A7.165 7.165 0 0 0 12 14.318V20H7.5A2.5 2.5 0 0 1 5 17.5ZM17.5 20H13v-5.7a7.053 7.053 0 0 0 4.6 3.259.542.542 0 0 0 .074.005.5.5 0 0 0 .072-.995c-2.194-.325-3.632-2.253-4.377-3.567H20v4.5A2.5 2.5 0 0 1 17.5 20Zm2.5-8h-3.735a4.1 4.1 0 0 0 1.251-.678 2.614 2.614 0 0 0 .2-3.684 2.5 2.5 0 0 0-1.816-.793 2.634 2.634 0 0 0-1.872.732A5.537 5.537 0 0 0 13 9.389V5h4.5A2.5 2.5 0 0 1 20 7.5Zm-6.77-.179a11.405 11.405 0 0 1 1.479-3.513 1.694 1.694 0 0 1 1.158-.464h.021a1.5 1.5 0 0 1 1.094.476 1.613 1.613 0 0 1-.146 2.271 11.366 11.366 0 0 1-3.606 1.23Z"/></svg>'))),a().createElement("div",{className:"as-icondetails-detail rs-iteminfo-child-details"},a().createElement("div",null,a().createElement("div",{className:"rs-iteminfo-child-title small-12 large-9"},a().createElement("span",{className:"rs-iteminfo-child-titletext"},e),u&&a().createElement("div",{className:"rs-iteminfo-child-divider"},a().createElement("button",(0,Ie.A)({type:"button",className:"as-buttonlink","aria-label":l},i),s))),a().createElement("div",{className:Z()("rs-iteminfo-child-actions",{"column small-4 large-3":!d})},t&&a().createElement("p",{className:"rs-iteminfo-child-price"},t),d&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-price-details"},(0,Le.OH)(o))),p&&a().createElement("button",(0,Ie.A)({type:"button",className:"rs-iteminfo-child-actions-button as-buttonlink","aria-label":l},i),s)),c&&a().createElement("p",{className:"rs-iteminfo-child-tagline rs-iteminfo-gifting-msg"},n.map((e=>a().createElement("span",{key:em(),className:"rs-iteminfo-gift-message-line","data-autom":"bag-gift-message-text"},e,a().createElement("br",null))))),m&&a().createElement("div",{className:"rs-iteminfo-installmentdetails"},o.map((({label:e,value:t})=>a().createElement(Je,{key:`giftinginstallments-${e}-${t}`,name:"iteminfochildpricedetails",label:e,value:t})))))))))},am=({visible:e,setVisible:t,id:n,messages:r,hasGiftPackageOption:s,saveBtnProps:l,onEntered:i,onExited:o,children:c})=>{const{viewport:m,assets:d,fragments:u}=(0,Y.S)(),p="small"===m,g=s?d.giftOverlayPkgHeader:d.giftOverlayMsgHeader;return a().createElement(Ke.A,{className:"rs-gifting-overlay",ariaLabel:`${n}-overlayHeading`,visible:e,onClose:()=>t(!1),isFullscreen:p,onEntered:i,onExited:o,disableFocusOut:!0,fixedWidth:!0,mountOnEnter:!0,unmountOnExit:!0},a().createElement("h2",{id:`${n}-overlayHeading`,className:"rs-gifting-overlay-header"},g),s&&a().createElement("div",null,a().createElement("div",(0,Ie.A)({className:"rs-gifting-overlay-image"},(0,Le.OH)(u.giftPackageImage))),a().createElement("p",{"aria-hidden":"true",className:"rs-gifting-overlay-image-caption"},d.giftingOverlayImageCaption)),a().createElement("div",{className:"rs-gifting-overlay-section"},r,a().createElement("fieldset",null,a().createElement("legend",{className:"rs-gifting-overlay-option-label"},d.giftOverlayLabel),a().createElement("div",{className:"form-selector-group"},c)),a().createElement("div",{className:"rs-gifting-overlay-save"},a().createElement(Wt.A,(0,Ie.A)({},l,{"data-autom":"bag-giftoptions-save-button"}),d.save)),a().createElement("div",{className:"rs-gifting-overlay-cancel"},a().createElement("button",{type:"button",className:"as-buttonlink","data-autom":"bag-giftoptions-cancel-button",onClick:()=>t(!1)},d.cancel))))},nm=({onChange:e,name:n,checked:r,value:s,label:l,price:i,messageInputProps:o,packageInputProps:c})=>{const{assets:m}=(0,Y.S)(),d=`bag-giftoptions-${s}`;let u={};"message"===s?(u={...o},u.label=m.giftOverlayYourMessage):"package"===s&&(u={...c},u.label=m.overlayYourMessageOptional);const p="message"===s||"package"===s,g=(0,t.useRef)("");return a().createElement(a().Fragment,null,a().createElement(nc.Ay,{tag:"div",name:n,tagAttrs:{"data-autom":d},"data-autom":`${d}-radio`,onChange:e,value:s,checked:r},a().createElement("span",{className:"row"},a().createElement("span",{className:"form-selector-left-col form-selector-title column large-6"},l),i&&a().createElement("span",{className:"form-selector-right-col column large-6"},i))),p&&a().createElement(j.x,{in:r,onExit:()=>{g.current=u.error},onExited:()=>{g.current=""}},a().createElement("div",null,a().createElement("span",{className:"rs-gift-option-input-message"},m.giftOverlayInputLabel),a().createElement("div",null,a().createElement(Ci,(0,Ie.A)({},u,{error:g.current||u.error}))))))},rm=({showOverlayBtnRef:e})=>{const{assets:n}=(0,Y.S)(),{modKey:r,announceMessage:s}=Fl(),l=`${r}.gifting`,[i]=(0,k.lE)(l),{id:o,hasGiftMessageOption:c,hasGiftPackageOption:m,was:d={}}=i,[u,p]=(0,k.Ej)(l,_c,!1),g=(0,k.LZ)(l,"gift-options"),y=g.value,v=d["gift-options"],h=(0,k.eH)(l,"editMsgTxt"),E=(0,k.eH)(l,"editPkgTxt"),b=(i.giftOptionsAcc||[]).filter((({value:e})=>"none"===e||"message"===e&&c||"package"===e&&m)),f=e=>{const t=e.target.value;g.setValue(t),"message"===t?h.binding.setValue(E.binding.value):"package"===t&&E.binding.setValue(h.binding.value),h.binding.clearMessages()},A={...h.props,required:!h.binding.properties.optional,"aria-required":!h.binding.properties.optional,"aria-invalid":Boolean(h.props.error),"data-autom":`bag-giftoptions-${y}text`},w={...E.props,required:!E.binding.properties.optional,"aria-required":!E.binding.properties.optional,"aria-invalid":Boolean(E.props.error),"data-autom":`bag-giftoptions-${y}text`},N=(({giftingData:e,assets:t})=>{const{message:a,isMessageOnCard:n}=e,r="none"!==e["gift-options"]&&Boolean(a);return n?r?t.saveGiftCardOptMsgA11y:t.saveGiftCardOptA11y:n?t.saveGiftOptMsgA11y:t.saveGiftOptA11y})({giftingData:i,assets:n}),S=(0,k.W4)(l,"save"),C=S.binding.properties.isLoadingSubmit,I=il(C),P={...S.props,"aria-label":`${n.save} ${N}`,disabled:C,isLoading:C,onClick:e=>{S.props.onClick(e),s(n.processing),"none"===y&&"none"===v&&p(!1)}},[L,T]=(0,k.fL)(l),O=(0,t.useRef)(),D=Boolean(L.length),x=a().createElement(ke.A,{messages:L,lastUpdated:T,ref:O});return(0,t.useEffect)((()=>{if(I&&!C){const e=D?"":n.giftMessageUpdateSuccessAlly;s(e)}}),[C,I,D]),a().createElement(am,{visible:u,setVisible:p,id:o,messages:x,hasGiftPackageOption:m,saveBtnProps:P,onEntered:()=>{L.length&&O.current&&O.current.focus()},onExited:()=>{e.current&&e.current.focus(),"message"===y&&g.setValue("none")}},b.map((({value:e,label:t,price:n})=>a().createElement(nm,{key:`gift-option-${e}`,name:`giftOptionsAcc-${l}`,onChange:f,checked:e===y,value:e,label:t,price:n,messageInputProps:A,packageInputProps:w}))))},sm=a().memo(rm),lm=()=>{const{assets:e,fragments:n}=(0,Y.S)(),{viewReady:r,acShowInstallment:s}=mn(),l=r&&s,{modKey:i,isEditable:o,isFulfillment:c}=Fl(),m=`${i}.gifting`,[d]=(0,k.lE)(m),{id:u,hasGiftMessage:p,hasGiftPackage:g,message:y,messageLines:v,installmentDetails:h}=d,[,E]=(0,k.Ej)(m,_c,!1),b=(({giftingData:e,assets:t})=>{const{hasGiftPackageOption:a,hasGiftMessage:n,isMessageOnCard:r,hasGiftPackage:s,message:l}=e;return n?r?t.giftMsgOnCard:t.giftMsgLabel:s?l?t.giftPkgMsgLabel:t.giftPkgLabel:a?t.addGifting:t.addGiftingMsg})({giftingData:d,assets:e}),f=g?d.price:"",A=y?v:[],w=o&&!1!==d._editable,N=()=>(({hasGiftMessage:e,hasGiftPackage:t})=>{let a="add gift message or gift wrap";e?a="edit gift message":t&&(a="edit gift wrap"),ce({name:"metrics",data:{hier1:"aos:bag",channel:"aos:bag",prop3:`modal open|gifting|${a} gifting`}})})({hasGiftPackage:g,hasGiftMessage:p}),S=(0,t.useRef)(),C=(({isGiftingEditable:e,giftingData:t})=>{const{hasGifting:a,hasGiftMessage:n,canEditMsg:r,hasGiftPackage:s,canEditPkg:l}=t;if(e){if(!a)return $c;if(n&&!r||s&&!l)return Hc;if(n&&r||s&&l)return Kc}return""})({isGiftingEditable:w,giftingData:d}),I=(({actionType:e,assets:t})=>{switch(e){case $c:return t.add;case Hc:return t.remove;case Kc:return t.edit;default:return""}})({actionType:C,assets:e}),P=(({actionType:e,giftingData:t,assets:a,fragments:n})=>{const{hasGiftPackageOption:r,hasGiftMessage:s,isMessageOnCard:l,hasGiftPackage:i,message:o}=t;switch(e){case $c:return r?Qe.GP(n.addGiftingA11y,t):Qe.GP(n.addGiftingMsgA11y,t);case Hc:return a.removeGiftingMsgA11y;case Kc:return s?l?Qe.GP(n.editGiftMsgOnCardA11y,t):Qe.GP(n.editGiftMsgA11y,t):i?o?Qe.GP(n.editGiftPkgMsgA11y,t):Qe.GP(n.editGiftPkgA11y,t):"";default:return""}})({actionType:C,giftingData:d,assets:e,fragments:n}),L=(({actionType:e,giftingData:t})=>{const{hasGiftPackage:a}=t;switch(e){case $c:return"bag-gifting-add";case Kc:return a?"bag-giftpackage-edit":"bag-giftmessage-edit";default:return""}})({actionType:C,giftingData:d}),T=(({actionType:e})=>{switch(e){case $c:return"show-giftOptions";case Hc:return"remove";case Kc:return"show-edit";default:return""}})({actionType:C}),O=(0,k.W4)(m,T),D={...O.props,"data-autom":L};return(C===$c||C===Kc)&&(D.id=`${u}-show-giftOptions`,D.ref=S,D.onClick=e=>{O.props.onClick(e),E(!0),l&&N()}),a().createElement(a().Fragment,null,a().createElement(tm,{title:b,price:!c&&f,messages:A,setOverlayVisible:E,actionType:C,actionLabel:I,actionA11y:P,actionBtnProps:D,installmentDetails:h}),a().createElement(sm,{showOverlayBtnRef:S}))},im=a().memo(lm),om=({modKey:e})=>{const{assets:n}=(0,Y.S)(),[r,s]=(0,t.useState)(!1),[l]=(0,k.lE)(e),i=Bl(e),o=(0,k.M1)(`${e}.egc`),c=(0,k.M1)(`${e}.giftCard`),m=o||c,d=(0,k.M1)(`${e}.engraving`),[u]=(0,k.Ej)(`${e}.gifting`,"messageLines"),p=u&&u.length>0,{name:g,showQuantity:y,quantity:v,viewDetailsLinkEnabled:h,promoLabel:E,toLabel:b,emailAddress:f,productEvar1:A,src:w,width:N,height:S,alt:C,showIntentToGift:I}=l,P=a().createElement(kt.Ay,{src:w,width:N,height:S,alt:C}),L=o&&f?`${b} ${f}`:null,T={modKey:e,isFulfillment:!0};return a().createElement(a().Fragment,null,a().createElement(Dl,{productName:g,email:L,quantity:y&&v,showViewDetailsLink:h,setOverlayVisible:s,promoLabel:E,metricsInfo:A,productImage:P}),h&&a().createElement(xl,{productName:g,overlayVisible:r,setOverlayVisible:s,productImage:P},a().createElement(Ml.Provider,{value:T},v&&a().createElement(Rl,{quantity:v,productName:g,label:n.quantityLabel}),a().createElement(Yl,{modKey:e,visible:!0}),i.map((e=>a().createElement(si,{key:e,modKey:e},a().createElement(Ei,{modKey:e})))),m&&a().createElement(Mi,null),d&&a().createElement(Mc,null),I&&a().createElement(Rc,null),p&&a().createElement(im,null))))},cm=a().memo(om),mm=({itemsModKeys:e})=>a().createElement("div",{className:"rs-fulfillment-productstrip-content"},a().createElement("div",{className:"rs-fulfillment-productstrip row"},a().createElement("ul",{className:"row",role:"list"},e.map((e=>a().createElement("li",{key:e,className:"rs-fulfillment-product column large-4 small-12",role:"listitem"},a().createElement(cm,{modKey:e}))))))),dm=({modKey:e})=>{const{childModKeys:t}=(0,k.Yl)(e);return 0===t.length?null:a().createElement(mm,{itemsModKeys:t})},um=a().memo(dm),pm=({name:e,removeButton:t})=>{const{assets:n}=(0,Y.S)(),r=Qe.GP(n.removeGiftMessageA11y,{name:e});return a().createElement("li",{className:"rs-fulfillment-product-item typography-body large-12 small-12"},e,":",t&&a().createElement("button",(0,Ie.A)({type:"button",className:"as-buttonlink rs-fulfillment-removegiftmessage","aria-label":r},t.props),t.label))},gm=({modKey:e,isNamesOnly:t,isLast:n})=>{const r=`${e}.removeGifting`,[s]=(0,k.Ej)(e,"name"),[l]=(0,k.Ej)(r,"giftMessageRemoveLabel"),[i]=(0,k.Ej)(`${e}.itemDelivery`,"pickup"),o=(0,k.W4)(r,"remove"),c=C().get(i,"hasRemoveGiftMessageLink",!1);return t?`${s}${n?"":", "}`:a().createElement(pm,{name:s,removeButton:c&&{props:o.props,label:l}})},ym=a().memo(gm),vm=({modKey:e,isNamesOnly:t})=>{const{assets:n}=(0,Y.S)(),{childModKeys:r}=(0,k.Yl)(e),s=t?"span":"ul";return a().createElement(s,{"aria-label":n.productsLabel,className:"rs-fulfillment-products"},r.map(((e,n)=>{const s=n===r.length-1;return a().createElement(ym,{key:e,modKey:e,isNamesOnly:t,isLast:s})})))},hm=a().memo(vm),Em=({shippingInstructions:e,showTradeInMessageInstructions:n,tradeInGetReadyOverlay:r,modKey:s,shipmentOptionsKey:l})=>{const[i,o]=(0,t.useState)(!1),{assets:c,fragments:m,viewport:d}=(0,Y.S)(),u="small"===d,p=!n&&r;return a().createElement("div",{className:"large-6 small-12 column"},a().createElement("div",{className:"as-supplementalinfo rs-fulfillment-shipping-message"},a().createElement("div",(0,Le.OH)(e)),a().createElement("div",(0,Ie.A)({className:"rs-fulfillment-policylink",id:`rs-fulfillment-shippingPolicy-${s}`},(0,Le.OH)(Qe.GP(m.shippingPolicy,{itemId:s})))),n&&a().createElement("div",{className:"rs-fulfillment-tradein-message"},a().createElement("div",(0,Ie.A)({className:"rs-fulfillment-tradein-instructions",id:"rs-fulfillment-tradein-info"},(0,Le.OH)(m.deliveryTradeInMessageInstructions)))),p&&a().createElement("div",{className:"rs-fulfillment-tradein-message"},a().createElement("div",(0,Ie.A)({className:"rs-fulfillment-tradein-instructions",id:`rs-fulfillment-tradein-info-${l}`},(0,Le.OH)(m.deliveryTradeInMessageInstructions))),a().createElement("button",(0,Ie.A)({id:`tradein-overlay-button-${l}`,className:"as-buttonlink icon icon-after icon-pluscircle",type:"button",onClick:()=>o(!0)},(0,Le.OH)(c.tradeinOverlayLink))),a().createElement(Ke.A,{visible:i,onClose:()=>o(!1),isFullscreen:u,ariaLabel:"rs-tradeinoverlay-header",fixedWidth:!0,noPadding:!0},a().createElement("div",(0,Le.OH)(m[`${r}OverlayContent`])),a().createElement(Pr,null)))))},bm=({modKey:e,isElectronic:t})=>{const n=`${e}.items`,r=t?`${e}.electronicOption`:`${e}.shippingOptions`,{fragments:s}=(0,Y.S)(),[l]=(0,k.lE)(Re.xI),[i]=(0,k.Ej)(e,"showPrescriptionInstructions"),{showTradeInMessageInstructions:o,showAppleFinancingInstructions:c,monthlyInstallmentMessageEnabled:m,tradeInGetReadyOverlay:d}=l;let u;return u=i?s.deliveryPrescriptionInstructions:c?s.deliveryFinancingMessageInstructions:m?s.monthlyInstallmentMessageInstructions:s.deliveryMessageInstructions,u=Qe.GP(u,{itemId:n}),a().createElement(Em,{shippingInstructions:u,showTradeInMessageInstructions:o,tradeInGetReadyOverlay:d,modKey:n,shipmentOptionsKey:r})},fm=a().memo(bm);var Am=__webpack_require__(9932);const wm=(e=!1,a,n)=>{const{viewport:r}=(0,Y.S)(),[s,l]=(0,t.useState)(e),i=(0,t.useCallback)(((e,t)=>{"function"==typeof e&&e(...t)}),[]);return{isSmallScreen:"small"===r,isVisible:s,open:(0,t.useCallback)(((...e)=>{l(!0),i(a,e)}),[l,a,i]),close:(0,t.useCallback)(((...e)=>{l(!1),i(n,e)}),[l,n,i])}},Nm=({overlayControls:e})=>{const{isSmallScreen:t,isVisible:n,close:r}=e,{assets:{inHomeSetupHeader:s},fragments:{inHomeSetupDesc:l,inHomeSetupSafetyInfo:i}}=(0,Y.S)();return a().createElement(Ke.A,{visible:n,isFullscreen:t,onClose:r,className:"rs-delivery-home-setup-desc","aria-label":"rs-delivery-home-setup-overlay-header"},a().createElement("div",{className:"rs-delivery-home-setup-overlay-content"},a().createElement("h2",{className:"rs-delivery-home-setup-overlay-header typography-headline-reduced"},s),a().createElement("div",(0,Ie.A)({className:"rs-delivery-home-setup-overlay-description"},(0,Le.OH)(l))),a().createElement("div",(0,Ie.A)({className:"rs-delivery-home-setup-overlay-safety-info"},(0,Le.OH)(i)))))},Sm=({setupInfoIcons:e,overlayControls:t})=>{const{assets:{faceCoverLabel:n,socialDistanceLabel:r,dailyEvaluationLabel:s,inHomeSetupLabel:l}}=(0,Y.S)(),{safeSetupInfo:i,faceMaskIcon:o,socialDistanceIcon:c,dailyEvalutaionIcon:m}=e,{open:d}=t;return a().createElement("div",{className:"rs-delivery-setup-info typography-body-reduced"},i,a().createElement("div",{className:"rs-info-safety-section row"},a().createElement("div",{className:"rs-safety-info typography-caption column"},a().createElement(kt.Ay,{src:o}),a().createElement("div",{className:"rs-safety-label"},n)),a().createElement("div",{className:"rs-safety-info typography-caption column"},a().createElement(kt.Ay,{src:c}),a().createElement("div",{className:"rs-safety-label"},r)),a().createElement("div",{className:"rs-safety-info typography-caption column"},a().createElement(kt.Ay,{src:m}),a().createElement("div",{className:"rs-safety-label"},s))),a().createElement(Wt.A,{id:"learnmore-overlay-button",type:"button",onClick:d,className:"as-buttonlink",hasDefaultClass:!1},l),a().createElement(Nm,{overlayControls:t}))},Cm=({showDeliverySetupInfo:e,setupInfoIcons:t,homeSetupOverlayControls:n,deliverySlots:r,showErrorMessages:s,errorMessages:l,addressOverlayLink:i,addressOverlayLinkProps:o,noTimeSlotMsg:c})=>a().createElement("div",{className:"rs-delivery-date-time-slot"},e&&a().createElement(Sm,{setupInfoIcons:t,overlayControls:n}),r,i&&a().createElement("div",{className:"rs-delivery-address-link typography-body-reduced"},a().createElement("span",(0,Le.OH)(c)),a().createElement("button",(0,Ie.A)({},o,{className:"as-buttonlink",type:"button"}),i)),s&&l.map((({text:e},t)=>a().createElement("div",{key:e,id:`rs-delivery-time-slot-${t}`,className:"rs-delivery-time-slot-error-message"},e)))),km=({className:e,legend:t,reduced:n,childAfterLegend:r,classes:s={items:""},children:l,...i})=>a().createElement("fieldset",(0,Ie.A)({className:Z()("colornav","rc-dimension-colornav",e,{"colornav-reduced":n})},i),a().createElement("legend",null,t),r,a().createElement("ul",{className:Z()("colornav-items",s.items)},l)),Im=({id:e,className:t,handleChange:n,classes:r={image:"",input:"",label:"",navLabel:""},badgeText:s,image:l,text:i,skipChangeSelection:o,isProductRed:c,productRedImage:m,compact:d,labelAttrs:u,useImageAlt:p=!1,isMultiSelect:g=!1,...y})=>{const v=a().useId(),h=e||v,E=p?l:l&&{...l,alt:""},b=(()=>{const e="../dist/assets/ac-colornav/productred.svg";return a().useMemo((()=>{let t=e;try{__webpack_require__.p&&(t=new URL(e,__webpack_require__.p).href)}catch{}return t}),[])})();return a().createElement("li",{className:Z()(t,"colornav-item",{"colornav-item-productred":c,"rc-colornav-item-compact":d})},a().createElement("input",(0,Ie.A)({type:g?"checkbox":"radio",id:h,className:Z()("colornav-value","rc-dimension-colornav-input",r.input)},rc(n,o),y)),a().createElement("label",(0,Ie.A)({htmlFor:h,className:Z()("colornav-link","rc-dimension-colornav-link",{"rc-colornav-label-compact":d},r.label)},u),s&&a().createElement(Js,(0,Ie.A)({noScrim:!0,reduced:!0,className:"rc-colornav-label-badge"},(0,Le.OH)(s))),a().createElement(Ho.Ay,{data:E,className:Z()(r.image,"colornav-swatch",{"rc-dimension-colornav-image-compact":d}),alt:""}),c&&a().createElement("span",{className:"colornav-logo-productred",tabIndex:"-1"},m||a().createElement("img",{alt:"",src:b})),a().createElement("span",(0,Ie.A)({className:Z()("colornav-label",r.navLabel)},(0,Le.OH)(i)))))},Pm=({legend:e,childAfterLegend:t,withGutters:n,classes:r={items:""},tag:s="div",className:l,children:i,...o})=>a().createElement("fieldset",(0,Ie.A)({className:Z()("rc-dimension",l)},o),a().createElement("legend",null,e),t,a().createElement(Am.A,{withGutters:n,className:Z()("rc-dimension-selector-group",{row:n},r.items),tag:s},i)),Lm=({className:e,handleChange:t,skipChangeSelection:n,showSwatch:r,short:s,threeLine:l,itemsPerRowLarge:i=2,itemsPerRowSmall:o=2,classes:c={input:"",label:""},children:m,...d})=>a().createElement(nc.Ay,(0,Ie.A)({tag:"div",className:Z()(e,"rc-dimension-multiple",{"form-selector-swatch":r,"form-selector-threeline":l,"form-selector-short":s},"column","large-"+12/i,"small-"+12/o),classes:{input:c.input,label:c.label}},rc(t,n),d),m),Tm=({className:e,handleChange:t,skipChangeSelection:n,threeLine:r,listChild:s,childRight:l,childRightColumnWidth:i=6,classes:o={input:"",label:""},childTop:c,children:m,isStackedLayout:d,labelProps:u,...p})=>{const g=()=>a().createElement(a().Fragment,null,c&&a().createElement("span",{className:"row row-logical"},c),d?a().createElement("span",{className:"row row-logical"},a().createElement("span",{className:Z()("form-selector-left-col","column","large-12","rc-dimension-stacked-layout",o.left)},a().createElement("span",{className:"row row-logical"},m),a().createElement("span",{className:"row row-logical"},l))):a().createElement("span",{className:"row row-logical"},a().createElement("span",{className:Z()("form-selector-left-col","column",o.left,{["large-"+(12-i)]:l,"large-12":!l})},m),l?a().createElement("span",{className:Z()("form-selector-right-col","column",`large-${i}`,o.right)},l):null));return a().createElement(nc.Ay,(0,Ie.A)({tag:"div",className:Z()(e,"rc-dimension-selector-row",{"form-selector-twocol-threeline":r}),classes:{input:o.input,label:o.label},render:({inputId:e,SelectorLabel:t})=>s?a().createElement("div",{id:`${e}_label`,className:Z()("form-selector-label",o.label)},a().createElement(t,{className:Z()("rc-dimension-list-header","form-selector-list-header"),id:void 0},a().createElement(g,null)),s):a().createElement(t,(0,Ie.A)({classes:{root:o.label}},u),a().createElement(g,null))},rc(t,n),p))},Om=({text:e,className:t,...n})=>a().createElement("span",(0,Ie.A)({className:Z()("form-label-small",t)},(0,Le.OH)(e),n)),Dm=({text:e,className:t})=>a().createElement("span",(0,Ie.A)({className:Z()("form-selector-title",t)},(0,Le.OH)(e))),xm=({selectADay:e,showDeliveryInstruction:t,timeSlotInstruction:n,deliveryDateMessage:r,fullDeliveryDateMessage:s,timeSlotList:l,dateSlotList:i,isTimeSlotBindingValueInvalid:o})=>a().createElement("div",{className:"rs-delivery-slot-picker"},a().createElement("fieldset",null,a().createElement("legend",{className:"rs-delivery-slot-picker-title"},e),a().createElement(Am.A,{className:"rs-delivery-slot-picker-group"},i),a().createElement("div",{className:"rs-delivery-available-window"},a().createElement(Pm,{className:"rs-delivery-slot-picker-title",legend:r},a().createElement("div",{className:"visuallyhidden"},s),a().createElement("p",{className:"rs-delivery-instructions"},t?n:""),a().createElement("div",{className:Z()("form-element",{"is-error":o})},l))))),Mm=({slotNumber:e,selected:t,slot:n,name:r,onSelectDate:s})=>{const{dayOfWeek:l,fullDayOfWeek:i,dayOfMonth:o,enabled:c}=n;return a().createElement("li",{className:"rs-date-slot"},a().createElement("p",{id:`dayofweek-${l}`,"aria-label":i,className:Z()("rs-delivery-day typography-caption",{"rs-day-selected":t})},l),a().createElement(nc.Ay,{value:o,className:"rs-delivery-button",id:`${r}-${o}`,disabled:!c,checked:t,name:`${r}-date`,onChange:s,tag:"div","data-autom":`day-of-week-option-${e}`},o))},Fm=({slotNumber:e,slot:t,selected:n,name:r,onSelectTimeWindow:s})=>{const{SlotId:l,Label:i,enabled:o,timeSlotValue:c}=t;return a().createElement(Tm,{id:`${r}-${l}`,disabled:!o,checked:n,name:`${r}-timeSlot`,value:c,classes:{label:"rs-time-slot-label"},className:"large-6 small-12 rs-time-window-slot","data-autom":`time-window-option-${e}`,handleChange:s,onClick:s},i)},Bm=({modKey:e,groupSelection:n={}})=>{const{fragments:r}=(0,Y.S)(),s=`${e}.deliveryTimePicker.deliveryDateTimeSlots`,l=`${e}.shippingOptions`,[i]=(0,k.lE)(s),[o,c]=(0,k.Ej)(Re.ZB,"paymentRequestData"),[m,d]=(0,k.Ej)(l,"options"),[u]=(0,k.Ej)(e,"deliveryTimeSlotErrorOverlay"),p=(0,k.LZ)(l,"selectShippingOption"),g=(0,k.LZ)(s,"startTime"),y=(0,k.LZ)(s,"dayRadio"),v=(0,k.LZ)(s,"endTime"),h=(0,k.LZ)(s,"date"),E=(0,k.LZ)(s,"timeSlotId"),b=(0,k.LZ)(s,"signKey"),f=(0,k.LZ)(s,"timeZone"),A=(0,k.LZ)(s,"timeSlotValue"),w=(0,k.LZ)(s,"isRestricted"),{isDeliveryTimeSlotOverlay:N,deliveryDates:S,deliveryTimeWindows:I,timeSlotInstruction:P,selectADay:L}=i,T=!!C().get(A,"properties.valid"),O=!N,{groupDateSlot:D,groupTimeSlot:x,updateGroupSelection:M,resetGroupSelection:F,addToGroup:B,removeFromGroup:R}=n,[_,$]=(0,t.useState)({deliveryDateMessage:"",fullDeliveryDateMessage:""}),H=(0,t.useCallback)(((e,t)=>{"function"==typeof e&&e(t)}),[]),K=(0,t.useMemo)((()=>I.reduce(((e,t)=>(Object.keys(t).forEach((a=>{const n=`${a}`;e[n]?e[n]=e[n].concat(t[n]):e[n]=t[n]})),e)),{})),[I]),V=(0,t.useCallback)((({timeSlot:e})=>{if(Array.isArray(m)&&m.length){let t=!1;const a=m.map((a=>p.value!==a.value||a.deliveryQuote===e.deliveryQuote&&a.deliveryTimeSlot===e.deliveryTimeSlot?a:(t=!0,{...a,deliveryQuote:e.deliveryQuote,deliveryTimeSlot:e.deliveryTimeSlot})));t&&d(a)}if(o&&e.deliveryQuote&&e.deliveryTimeSlot){const t=C().get(o,"paymentRequest.shippingMethods.0",{});t.detail&&(t.detail=`${e.deliveryQuote} ${e.deliveryTimeSlot}`,c(o))}}),[p.value,o,m]),U=(0,t.useCallback)((e=>K[e].find((e=>e.enabled))),[K]),W=(0,t.useCallback)(((e,t,a)=>{let n=K[e].find((({checkInEnd:e,checkInStart:n,enabled:r})=>t===n&&a===e&&r));return n||(n=U(e)),n}),[K,U]),G=(0,t.useCallback)((({dateSlot:e,timeSlot:t})=>{if(e){h.setValue(e.date),y.setValue(e.dayOfMonth);const t=U(e.dayOfMonth);t?G({timeSlot:t}):A.setValue("")}t&&(v.setValue(t.checkInEnd),g.setValue(t.checkInStart),b.setValue(t.signKey),f.setValue(t.timeZone),E.setValue(t.SlotId),A.setValue(t.timeSlotValue),w.setValue(t.isRestricted),u||V({timeSlot:t})),H(M,{dateSlot:e,timeSlot:t})}),[u,V,H,M]),j=(0,t.useMemo)((()=>{const e=K[y.value];if(Array.isArray(e)){const t=W(y.value,g.value,v.value).timeSlotValue;return e.map(((e,n)=>a().createElement("div",{key:e,className:"row rs-delivery-timeslot-list"},a().createElement(Fm,{key:e.SlotId,slotNumber:n+1,onSelectTimeWindow:()=>{G({timeSlot:e})},slot:e,selected:e.timeSlotValue===t,name:s}),e.isRestricted&&a().createElement("div",(0,Ie.A)({className:"large-4 small-12 rs-delivery-not-avilable-msg"},(0,Le.OH)(r.restrictedTimeMsg))))))}return null}),[U,K,y.value,g.value,v.value,s,A.value,G]),q=(0,t.useMemo)((()=>S.map(((e,t)=>a().createElement(Mm,{key:e.date,slotNumber:t+1,onSelectDate:()=>{G({dateSlot:e})},selected:y.value===e.dayOfMonth,slot:e,name:s})))),[S,s,y.value,G]);return(0,t.useEffect)((()=>{const e=S.find((({dayOfMonth:e})=>y.value===e));e&&$({deliveryDateMessage:e.deliveryDateMessage,fullDeliveryDateMessage:e.fullDeliveryDateMessage})}),[S,y.value]),(0,t.useEffect)((()=>(H(B),()=>{H(R),H(F)})),[H,B,R,F]),(0,t.useEffect)((()=>{(D&&D.dayOfMonth!==y.value||x&&x.timeSlotValue!==A.value)&&G({dateSlot:D,timeSlot:x})}),[D,x,G,y.value,A.value]),a().createElement(xm,{selectADay:L,showDeliveryInstruction:O,timeSlotInstruction:P,deliveryDateMessage:_.deliveryDateMessage,fullDeliveryDateMessage:_.fullDeliveryDateMessage,timeSlotList:j,dateSlotList:q,isTimeSlotBindingValueInvalid:T})},Rm=(0,t.memo)(Bm),_m=({modKey:e,groupIdlSelection:t={}})=>{const{assets:n}=(0,Y.S)(),r=`${e}.deliveryTimePicker`,s=`${e}.deliveryTimePicker.deliveryDateTimeSlots`,[l]=(0,k.lE)(s),[i]=(0,k.Ej)(r,"addressOverlayLink"),o=(0,k.M1)(s),[c]=(0,k.fL)(r),m=(0,k.W4)(r,"addressOverlayLinkAction"),{isInHomeSetup:d,isDeliveryTimeSlotOverlay:u,safeSetupInfo:p,faceMaskIcon:g,socialDistanceIcon:y,dailyEvalutaionIcon:v}=l,h=wm(!1,be),E=c.length>0,b=d&&!u,f={safeSetupInfo:p,faceMaskIcon:g,socialDistanceIcon:y,dailyEvalutaionIcon:v},{inHomeSetupGroup:A,courierDeliveryGroup:w}=t,N=d?A:w,S=o&&a().createElement(Rm,{modKey:e,groupSelection:N});return a().createElement(Cm,{showDeliverySetupInfo:b,setupInfoIcons:f,homeSetupOverlayControls:h,deliverySlots:S,showErrorMessages:E,errorMessages:c,addressOverlayLink:i,addressOverlayLinkProps:m.props,noTimeSlotMsg:n.noTimeSlotIdl})},$m=(0,t.memo)(_m),Hm=(0,t.createContext)({}),Km=()=>{const[e,a]=(0,t.useState)(0),[n,r]=(0,t.useState)(),[s,l]=(0,t.useState)(),i=(0,t.useCallback)((()=>{a((e=>e+1))}),[a]),o=(0,t.useCallback)((()=>{a((e=>e-1))}),[a]);return{groupDateSlot:n,groupTimeSlot:s,updateGroupSelection:(0,t.useCallback)((({timeSlot:t,dateSlot:a})=>{e>1&&(a&&r(a),t&&l(t))}),[e,r,l]),resetGroupSelection:(0,t.useCallback)((()=>{r(),l()}),[r,l]),addToGroup:i,removeFromGroup:o}},Vm=({modKey:e})=>{const[t]=(0,k.Ej)(e,"name");return a().createElement("span",{className:"visuallyhidden"},t)},Um=({selectorName:e,selectedValue:t,deliveryOptions:n,isLoading:r,isForcedDelivery:s,shouldShowImmediateDelivery:l,immediateDeliveryModKey:i,itemsModKeys:o,selectedOption:c,disableSelector:m,selectShippingOption:d,shipmentOptionsKey:u})=>{const{assets:p}=(0,Y.S)(),g=o.map((e=>a().createElement(Vm,{key:e,modKey:e}))),[y,v]=a().useState(c.props);return a().createElement("fieldset",{"aria-describedby":`rs-fulfillment-shippingHeader rs-fulfillment-shippingContent rs-fulfillment-shippingPolicy rs-fulfillment-tradein-info-${u}`,className:Z()("rs-fulfillment-deliveryoptions small-12 column",{"large-6":!s},{"large-12":s})},!s&&a().createElement("legend",{className:"rs-fulfillment-selector-title"},a().createElement("h2",{className:"rs-fullfillment-selector-header"},n.length>1?p.yourDeliveryOptions:p.yourDeliveryOption,g)),s&&a().createElement("legend",{className:"rs-fulfillment-selector-title"},g),a().createElement(Am.A,{tag:"div"},n.map((n=>{const{name:s,deliveryQuote:o,deliveryTimeSlot:u,relatedMessage:p,timeSlot:g,shippingCost:h,flatRateLabel:E}=n,b=t===n.value,f=r&&b&&n.timeSlotDelivery,A=l&&!r&&b,w=`${o||""} ${u||""} ${g||""} ${s||""} ${p||""} ${h||""} ${E||""}`,N=n.isIdlTimeSlot&&d===n.value&&!m,S=n.isIdlTimeSlot?"dialog":null;return a().createElement(a().Fragment,{key:n.value},a().createElement(nc.Ay,(0,Ie.A)({},y,{tag:"div",name:e,value:n.value,checked:b,className:"large-12 small-12","data-autom":`fulfillment-option-${n.value}`,"aria-label":w,disabled:N,"aria-haspopup":S,onKeyDown:e=>{"ArrowLeft"!==e.code&&"ArrowRight"!==e.code&&"ArrowUp"!==e.code&&"ArrowDown"!==e.code||v(""),"Enter"!==e.code&&"Space"!==e.code||v(c.props)},onClick:e=>{e&&v(c.props)}}),a().createElement("span",{className:"row"},a().createElement("span",{className:"column form-selector-left-col rs-fulfillment-delivery-label"},a().createElement("span",{className:"form-selector-title"},o,u&&a().createElement("span",{className:"row"},u)),s&&a().createElement("span",{className:"form-label-small"},s),p&&a().createElement("span",{className:"row form-label-small"},p)),a().createElement("span",{className:"column form-selector-right-col"},g&&a().createElement("span",{className:"rs-fulfillment-timeslot"},g),h,E))),f&&a().createElement(Ws,null),A&&a().createElement(Hm.Consumer,null,(e=>a().createElement($m,{modKey:i,groupIdlSelection:e}))))}))))},Wm=({modKey:e,isElectronic:t,isForcedDelivery:n})=>{const r=t?`${e}.electronicOption`:`${e}.shippingOptions`,s=(0,k.M1)(`${e}.deliveryTimePicker`),l=(0,k.tx)(r,t?"selectedElectronicOption":"selectShippingOption"),[{enableDeliveryDateTimeSlotGroups:i,selectShippingOption:o}]=(0,k.lE)(`${e}.deliveryTimePicker`),{data:{options:c,option:m,shouldShowDeliveryAddressOverlay:d},properties:{isLoadingSubmit:u}}=(0,k.Yl)(r),{childModKeys:p}=(0,k.Yl)(`${e}.items`);return a().createElement(Um,{selectorName:`deliveryOptions-${r}`,deliveryOptions:c||m||[],selectedValue:l.binding.value,shouldShowDeliveryAddressOverlay:d,isLoading:u,isForcedDelivery:n,immediateDeliveryModKey:e,shouldShowImmediateDelivery:s,itemsModKeys:p,selectedOption:l,disableSelector:i,selectShippingOption:o,shipmentOptionsKey:r})},Gm=a().memo(Wm),jm=({groupModKeys:e,isElectronic:t,header:n,subtitle:r})=>e.map((e=>{const s=`${e}.items`;return a().createElement("div",{key:e,className:"rs-fulfillment-shipmentgroup rs-load-fadein","data-autom":"item-shipmentgroup"},(n||r)&&a().createElement("div",{className:"rs-fulfillment-sectionheader"},a().createElement("h2",{className:"rs-fulfillment-sectiontitle"},n,a().createElement("span",{className:"visuallyhidden"},a().createElement(hm,{modKey:s,isNamesOnly:!0}))),r&&a().createElement("div",{className:"pattern-subtitle"},r)),a().createElement(um,{modKey:s}),a().createElement("div",{className:"rs-fulfillment-shipment row"},a().createElement(Gm,{modKey:e,isElectronic:t}),n&&a().createElement(fm,{modKey:e,isElectronic:t})))})),qm=({groupModKeys:e,isElectronic:t})=>e.map((e=>{const n=`${e}.items`;return a().createElement("div",{key:e,className:"rs-fulfillment-shipmentgroup-forced"},a().createElement(hm,{modKey:n}),a().createElement(Gm,{modKey:e,isElectronic:t,isForcedDelivery:!0}))})),Ym=({modKey:e,header:t,subtitle:n,isElectronic:r,isForcedDelivery:s})=>{const{childModKeys:l}=(0,k.Yl)(e);return s?a().createElement(qm,{groupModKeys:l,isElectronic:r}):a().createElement(jm,{groupModKeys:l,isElectronic:r,header:t,subtitle:n})},zm=a().memo(Ym),Zm=({modKey:e,isElectronic:t,isForcedDelivery:n})=>{const{data:{header:r,subtitle:s},childModKeys:l}=(0,k.Yl)(e);return l.map((e=>a().createElement(zm,{key:e,modKey:e,header:r,subtitle:s,isElectronic:t,isForcedDelivery:n})))},Jm=a().memo(Zm),Xm=({header:e,electronicGroupsModKeys:t})=>a().createElement("div",{className:"rs-fulfillment"},a().createElement("div",{className:"rs-fulfillment-deliverydetails"},t.map(((t,n)=>a().createElement("div",{key:t,className:"rs-fulfillment-electronicgroup"},a().createElement("div",{className:"rs-fulfillment-sectionheader"},a().createElement("h2",{className:"rs-fulfillment-sectiontitle","data-autom":"rs-fulfillment-sectiontitle"},e)),a().createElement(Jm,{modKey:t,shipmentIndex:n,isElectronic:!0})))))),Qm=({modKey:e})=>{const[t]=(0,k.Ej)(e,"groupHeader"),{childModKeys:n}=(0,k.Yl)(`${e}.electronicGroups`);return a().createElement(Xm,{header:t,electronicGroupsModKeys:n})},ed=a().memo(Qm),td=({showWaitIndicator:e,header:t,disabledMessages:n,pickupButton:r})=>e?a().createElement(Ws,null):a().createElement("div",{className:"rs-fulfillment-forcedpickuponly"},a().createElement("div",{className:"rs-fulfillment-forcedpickuponlycontent rs-load-fadein"},a().createElement("div",{className:"rs-fulfillment-sectionheader"},a().createElement("h2",{className:"rs-fulfillment-sectiontitle"},t),a().createElement("div",{className:"rs-fulfillment-sectionsubheader"},n.map((e=>a().createElement("span",{key:e},e)))),a().createElement("div",{className:"rs-fulfillment-forcedpickuponlycontent-button"},r&&a().createElement("button",(0,Ie.A)({},r.props,{type:"button",className:"row as-buttonlink"}),r.label))))),ad=({isOpen:e})=>{const t=e?"icon-chevronup":"icon-chevrondown",n=Z()("icon icon-after",t);return a().createElement("span",{className:n,"aria-hidden":"true"})},nd=({items:e=[]})=>a().createElement("ul",{role:"list",className:"rt-storelocator-store-multipleavailability-list"},e.map((e=>{const t=(e=>Z()({"rt-storelocator-store-availabilityquote":e.availableNowForLine}))(e);return a().createElement("li",{key:e.partId,role:"listitem",className:"row rt-storelocator-store-multipleavailability-item"},a().createElement("div",{className:"column large-7"},e.partName),a().createElement("div",{className:"column large-5 rt-storelocator-store-multipleavailability-quote"},a().createElement("span",{className:t},(e=>e.checkInRequiredMessage?`${e.availabilityQuote} - ${e.checkInRequiredMessage}`:e.availabilityQuote)(e)),e.pickupMethod&&a().createElement("div",(0,Le.OH)(e.pickupMethod))))}))),rd=({idx:e,store:t,name:n,onChange:r,distance:s,dataAutom:l,showMarker:i,isSelected:o,pickupInfo:c,isLoadingStoreSelection:m},d)=>{const{storeId:u,storeName:p,storeDisabled:g,availability:y,storeType:v,recommendationLabel:h}=t,{storeAvailability:E,pickupMethod:b="",waitTimeMessage:f="",multiplePickupMethods:A,availableNowForAllLines:w,lineItemAvailability:N=[],sameAvailabilityForAllLineItems:S}=y,C=Boolean(N.length>1&&!S),k=o&&(C||A||f),I=Z()({"rt-storelocator-store-availabilityquote":w}),P=Z()("rt-storelocator-store-marker",{"rt-storelocator-store-marker-apple":"APPLE"===v,"rt-storelocator-store-marker-pup":"PUP"===v});return a().createElement(a().Fragment,null,a().createElement(nc.Ay,{ref:d,name:n,value:u,checked:o,disabled:g,onChange:r,"data-autom":l,withAriaLabeledBy:!0},a().createElement("span",{className:"row align-items-center"},a().createElement("span",{className:"column large-6 small-7 rt-storelocator-store-left"},h&&a().createElement("span",{className:"rt-storelocator-store-recommended typography-caption"},h),a().createElement("span",{className:"rt-storelocator-store-location"},i&&a().createElement("span",{className:P},e+1),a().createElement("span",null,a().createElement("span",(0,Ie.A)({className:"form-selector-title"},(0,Le.OH)(p))),a().createElement("span",{className:"form-label-small"},s)))),a().createElement("span",{className:"column large-6 small-5 rt-storelocator-store-right"},a().createElement("span",null,a().createElement("span",(0,Ie.A)({className:I},(0,Le.OH)(E))),a().createElement("span",(0,Ie.A)({className:"form-label-small"},(0,Le.OH)(b))))))),k&&a().createElement("li",{className:"rt-storelocator-store-multipleavailability typography-body-reduced"},a().createElement(j.A,{in:m,exit:!1,unmountOnExit:!0},a().createElement("div",{className:"rt-storelocator-store-multipleavailability-spinner"},a().createElement("div",{className:"waitindicator waitindicator24-gray"}))),a().createElement(j.A,{in:!m},a().createElement(nd,{items:N}),c)))},sd=a().forwardRef(rd),ld=(e,t=C().noop)=>{if(document.querySelector("script[data-mapkit-loaded]"))return void t(window.mapkit);const a=document.createElement("script");a.type="application/javascript",a.id="mapScript",a.src="https://cdn.apple-mapkit.com/mk/5.x.x/mapkit.core.js",a.setAttribute("crossorigin","anonymous"),a.setAttribute("data-libraries","services,map,annotations"),a.setAttribute("data-initial-token",e),a.setAttribute("data-callback","initMapKit"),window.initMapKit=()=>{a.setAttribute("data-mapkit-loaded","true"),t(window.mapkit),delete window.initMapKit},document.body.appendChild(a)},id=(e,t={})=>new window.mapkit.Map(e,t),od=(e,t)=>new window.mapkit.Coordinate(e,t),cd=a().createContext(null),md=(e,t)=>(Date.now()-e)/1e3>=t.maxAge,dd=({apiKey:e="",calculateDistances:n,cacheConfig:s={},children:l})=>{const[i,o]=(0,t.useState)(!1),c={maxAge:900,disableCache:!1,...s},m=(0,t.useRef)({distances:{},coordinates:{}});(0,t.useEffect)((()=>{n&&e&&ld(e,(()=>{o(!0)}))}),[n,e]);return a().createElement(cd.Provider,{value:{isMapKitInitialized:i,getCoordinates:async e=>{const t=(0,r.A)("react-trans/getCoordinates"),a=m.current.coordinates;if(!c.disableCache){const t=a[e];if(t){if(!md(t.retrievedAt,c))return t.value;delete a[e]}}try{const t=await(async(e,t={})=>{const a=new window.mapkit.Geocoder;return new Promise(((n,r)=>{a.lookup(e,((e,t)=>e?r(e):n(t)),t)}))})(e),[n]=t.results;let r=null;return n&&(r=n.coordinate,!c.disableCache&&n&&(a[e]={value:r,retrievedAt:Date.now()})),r}catch(e){throw t.error(e),Error(e)}},getStoreDistances:(e,t,a,n)=>{const s=(0,r.A)("react-trans/getStoreDistances"),l={},i=m.current.distances;let o;if(c.disableCache)o=a;else if(i[e]){const t=a.filter((t=>{const a=i[e][t.storeId];return!a||!!md(a.retrievedAt,c)&&(delete i[e][t.storeId],!0)}));if(0===t.length)return new Promise((t=>t(i[e])));o=t}else o=a;const d=[];C().chunk(o,10).forEach((e=>{const a=e.map((e=>e.coordinates)),n=((e,t,a={})=>{const n=window.mapkit,r=new n.Directions,s=new n.Coordinate(e.latitude,e.longitude),l=t.map((e=>new n.Coordinate(e.latitude,e.longitude)));return new Promise(((e,t)=>{r.eta({origin:s,destinations:l},((a,n)=>a?t(a):e(n)),a)}))})(t,a);d.push(n)}));return Promise.all(d).then((t=>(t.forEach(((t,r)=>{const{etas:s}=t;s.forEach(((t,s)=>{if(t.distance){const o=Date.now(),m=a[s+10*r],d=((e,t)=>"MI"===t?`${(.000621371192*e).toFixed(2)} mi`:`${(e/1e3).toFixed(2)} km`)(t.distance,n),{storeId:u}=m;c.disableCache||(i[e]||(i[e]={}),i[e][u]={value:d,retrievedAt:o}),l[u]={value:d,retrievedAt:o}}}))})),l))).catch((e=>(s.error(e),l)))}}},l)},ud=()=>{const e=a().useContext(cd);if(!e)throw new Error("`useStoreLocator` hook could not access Context. Ensure that it is a child of `<StoreLocatorProvider>`.");return e},pd=({origin:e,stores:n,showMap:s,calculateDistances:l,selectedStoreId:i,distanceUnit:o,maxVisibleStores:c,storeDataAutom:m,selectedStorePickupInfo:d,isSingleStoreCountry:u,isLoadingStoreSelection:p,showAllStoresButtonLabel:g,useFallbackDistances:y,onShowAllStoresClick:v,onStoreSelection:h})=>{const E=(0,r.A)("react-trans/StoreList"),b=(0,t.useRef)(null),[f,A]=(0,t.useState)(null),[w,N]=(0,t.useState)({}),S=(0,t.useRef)(!1),[k,I]=(0,t.useState)(!1),{isMapKitInitialized:P,getCoordinates:L,getStoreDistances:T}=ud(),O=(0,t.useCallback)(L,[]),D=(0,t.useCallback)(T,[]),x=!k&&n.length>c,{assets:M}=(0,Y.S)();(0,t.useEffect)((()=>{e&&l&&P&&(S.current=!0,(async()=>{try{const t=await O(e);A(t)}catch(e){E.error(e),A(null)}S.current=!1})())}),[e,l,P,O]),(0,t.useEffect)((()=>{N({}),!S.current&&f&&(async()=>{const t=await D(e,f,n,o);t&&N(t)})()}),[e,f,n,o,D]);const F=(e,t)=>{const{storeId:a,distance:n=""}=e,r=a,o=a===i,c=m;let g="";g=u?C().get(e,"retailAddress.street",""):l?w[e.storeId]?w[e.storeId].value:y?n:"":n;return{key:r,idx:t,name:"store-locator-result",store:e,isSelected:o,dataAutom:c,showMarker:s,isLoadingStoreSelection:p,distance:g,pickupInfo:d,onChange:t=>{h(e,t)}}};return a().createElement("div",{className:"rt-storelocator-store-list"},a().createElement("fieldset",null,a().createElement("legend",{className:"visuallyhidden"},M.selectYourStore),a().createElement(Am.A,{className:"rt-storelocator-store-group"},n.map(((e,t)=>{if(t>=c)return null;const n=F(e,t);return a().createElement(sd,n)}))),x&&a().createElement("button",{type:"button",className:"as-buttonlink rt-storelocator-store-showmore",onClick:e=>{I(!0),v(e)},"data-autom":"show-more-stores-button"},g," ",a().createElement(ad,{isOpen:!x})),a().createElement(j.x,{in:k,onEnter:()=>{b.current&&b.current.focus()}},a().createElement(Am.A,{className:"rt-storelocator-store-group"},n.map(((e,t)=>{if(t<c)return null;const n=F(e,t),r=t===c;return a().createElement(sd,(0,Ie.A)({ref:r?b:null},n))}))))))},gd=({store:e})=>{const{storeName:n,storeHours:r,specialHours:s,specialHoursLabel:l,phoneNumber:i,personalSetupDetail:o,comparePickupOptionsLink:c,pickupMessages:m,pupAuthorizedLabel:d,pickupMessageHeader:u,pickupMessageSubHeader:p,pickupMessageCommonLabel:g,lockerBoxDetail:y,showTradeInInfo:v,retailAddress:h,availability:E,shippingPayMonthlyInstruction:b}=e,f=e.storeHours.length>0,A=e.specialHours.length>0,{waitTimeMessage:w="",waitTimeMessageHeader:N=""}=E,S=Boolean(N||w),[k,I]=(0,t.useState)(!1),{assets:P,fragments:L,viewport:T}=(0,Y.S)(),O="small"===T,D=C().get(window,"chatConfig.chat",null);return a().createElement("div",{className:"rt-storelocator-details typography-body-reduced"},b&&a().createElement("div",{className:"rt-storelocator-details-item rt-storelocator-details-monthly-instruction"},b),a().createElement("h3",{className:"rt-storelocator-details-header typography-body"},n),d&&a().createElement("div",{className:"rt-storelocator-details-item"},d),h&&a().createElement("div",{className:"rt-storelocator-details-address"},a().createElement(dl.V,{layout:h.layout,data:h})),i&&a().createElement("div",{className:"rt-storelocator-details-item"},i),f&&a().createElement("div",{className:"rt-storelocator-details-item"},r.map((e=>a().createElement("div",{key:e.storeDays,className:"row"},a().createElement("div",{className:"columns large-5"},a().createElement("span",{"aria-label":e.voStoreDays,role:"text"},e.storeDays)),a().createElement("div",{className:"columns large-7 rt-storelocator-details-item-storetimings"},a().createElement("span",null,e.storeTimings)))))),A&&a().createElement("div",{className:"rt-storelocator-details-item"},a().createElement("h4",{className:"rt-storelocator-details-subheader"},l),s.map((e=>a().createElement("div",{key:e.storeHolidayDays,className:"row"},a().createElement("div",{className:"columns large-5"},a().createElement("span",null,e.storeHolidayDays)),a().createElement("div",{className:"columns large-7 rt-storelocator-details-storeholidaytiming"},a().createElement("span",null,e.storeHolidayTiming)))))),o&&a().createElement("div",{className:"rt-storelocator-details-item"},a().createElement("div",(0,Le.OH)(o))),m&&a().createElement("div",{className:"rt-storelocator-details-item"},u&&a().createElement("h4",{className:"rt-storelocator-details-subheader"},u),p&&a().createElement("div",(0,Le.OH)(p)),m.map((e=>a().createElement("div",{key:e.pickupMethod,className:"rt-storelocator-details-subitem"},a().createElement("h4",{className:"rt-storelocator-details-subheader"},e.pickupMethod),a().createElement("p",(0,Le.OH)(e.description)))))),g&&a().createElement("div",{className:"rt-storelocator-details-item"},a().createElement("div",(0,Le.OH)(g))),c&&a().createElement("div",{className:"rt-storelocator-details-item"},a().createElement("div",(0,Le.OH)(c))),S&&a().createElement("div",{className:"rt-storelocator-details-item rt-storelocator-details-waittime"},N&&a().createElement("h3",{className:"rt-storelocator-details-subheader"},N),w&&a().createElement("div",(0,Le.OH)(w))),y&&a().createElement("div",{className:"rt-storelocator-details-item"},a().createElement("div",(0,Le.OH)(y))),v&&a().createElement("div",{className:"rt-storelocator-details-item rt-storelocator-details-instructions"},a().createElement("div",(0,Le.OH)(L.tradeInMessageInstructions)),a().createElement("button",(0,Ie.A)({id:"tradein-overlay-button",className:"as-buttonlink",type:"button",onClick:()=>I(!0)},(0,Le.OH)(P.tradeinOverlayLink))),a().createElement(Ke.A,{visible:k,onClose:()=>I(!1),isFullscreen:O,ariaLabel:"rs-tradeinoverlay-header",fixedWidth:!0,noPadding:!0},a().createElement("div",(0,Le.OH)(L.smartphoneTradeInOverlayContent)),D&&a().createElement("div",{className:"rs-chatspecialist-wrapper"},a().createElement("div",{className:"as-chat rs-chat rs-chatspecialist"},a().createElement("div",(0,Ie.A)({className:"rs-chat-content"},(0,Le.OH)(L.chatSpecialist))))))))},yd={cameraDistance:300,showsMapTypeControl:!1},vd="rt-storelocator-map-annotation",hd="rt-storelocator-map-annotation-selected",Ed="rt-storelocator-map-annotation-apple",bd="rt-storelocator-map-annotation-pup",fd=(e,t)=>{const{data:a}=t,{idx:n,storeType:r,storeId:s,isSelected:l}=a,i=Z()(vd,{[hd]:l,[Ed]:"APPLE"===r,[bd]:"PUP"===r}),o=document.createElement("div");return o.textContent=n+1,o.className=i,o.setAttribute("data-store-id",s),o},Ad=({stores:e,selectedStore:n,onExpandMapClick:r})=>{const s=(0,Q.A)(),l=(0,t.useRef)(null),i=(0,t.useRef)(null),o=(0,t.useRef)([]),c=`storelocator-map-container-${s}`,{assets:m,viewport:d}=(0,Y.S)(),{isMapKitInitialized:u}=ud(),[p,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)(!1),h="small"===d,E=Z()("rt-storelocator-map",{"rt-storelocator-map-expanded":p}),{expandMap:b,collapseMap:f,mapLabelA11y:A}=m;(0,t.useEffect)((()=>(u&&(l.current=id(c,yd),v(!0)),()=>{l.current&&l.current.destroy()})),[c,u]),(0,t.useEffect)((()=>{if(y&&l.current){o.current.length>0&&l.current.removeAnnotations(o.current);const t=((e,t,a)=>{const{locationA11y:n=""}=a;return e.map(((e,a)=>{const{coordinates:r,storeType:s,storeId:l,storeName:i}=e;if(r){const e=od(r.latitude,r.longitude),o=l===t.storeId,c={title:`${n} ${i}`.trim(),data:{idx:a,storeType:s,storeId:l,isSelected:o},animates:!0};return new window.mapkit.Annotation(e,fd,c)}return null})).filter(Boolean)})(e,n,m);o.current=t,l.current.addAnnotations(o.current)}}),[m,y,n,e]),(0,t.useEffect)((()=>{const e=i.current;if(y&&e){const t=e.querySelectorAll(`.${vd}`);t&&t.forEach((e=>{const{storeId:t}=e.dataset;t===n.storeId?e.classList.add(hd):e.classList.remove(hd)}))}}),[y,n.storeId]),(0,t.useEffect)((()=>{if(y&&l.current){const e=n.coordinates;if(e){const t=od(e.latitude,e.longitude);l.current.center=t,l.current.cameraDistance=yd.cameraDistance}}}),[y,n.coordinates,n.storeId]);return a().createElement("div",{className:"rt-storelocator-map-container"},!h&&a().createElement("button",{type:"button",className:"as-buttonlink rt-storelocator-map-expand-button typography-body-reduced",onClick:()=>{g((e=>!e)),r(!p)}},p?f:b," ",a().createElement(ad,{isOpen:p})),a().createElement("div",{id:c,ref:i,"aria-label":A,className:E,role:"group"}))},wd=({stores:e,selectedStore:t,showMap:n,afterDetails:r,beforeDetails:s,shouldStickDetails:l,onExpandMapClick:i})=>{const o=`rt-storelocator-anchor-${(0,Q.A)()}`,c=`#${o}`,m=a().createElement("div",{className:"rt-storelocator-additionalinfo"},s,a().createElement(gd,{store:t}),r,n&&a().createElement(Ad,{stores:e,selectedStore:t,onExpandMapClick:i}));return a().createElement(a().Fragment,null,l?a().createElement(Fe,{maxHeight:c},m):m,a().createElement("div",{id:o}))},Nd=(e,t)=>e.find((e=>e.storeId===t))||null,Sd=({stores:e,cacheConfig:n,origin:r="",calculateDistances:s=!1,apiKey:l="",showMap:i=!1,distanceUnit:o="KM",storeDataAutom:c="",beforeDetails:m=null,afterDetails:d=null,selectedStoreId:u="",maxVisibleStores:p=1/0,showAllStoresButtonLabel:g="",selectedStorePickupInfo:y=null,shouldStickDetails:v=!0,isLoadingStoreSelection:h=!1,isSingleStoreCountry:E=!1,onExpandMapClick:b=C().noop,onStoreSelection:f=C().noop,onShowAllStoresClick:A=C().noop,useFallbackDistances:w=!1})=>{const[N,S]=(0,t.useState)((()=>Nd(e,u)));return(0,t.useEffect)((()=>{if(u){const t=Nd(e,u);S(t)}}),[u,e]),a().createElement(dd,{apiKey:l,cacheConfig:n,calculateDistances:s},a().createElement("div",{className:"rt-storelocator","data-autom":"rt-storelocator-searchresult"},a().createElement("div",{className:"row"},a().createElement("div",{className:"column small-12 large-6"},a().createElement(pd,{useFallbackDistances:w,origin:r,stores:e,calculateDistances:s,selectedStoreId:u,distanceUnit:o,maxVisibleStores:p,storeDataAutom:c,selectedStorePickupInfo:y,isSingleStoreCountry:E,beforeDetails:m,afterDetails:d,showMap:i,isLoadingStoreSelection:h,showAllStoresButtonLabel:g,onStoreSelection:f,onShowAllStoresClick:A})),a().createElement("div",{className:"column small-12 large-5"},N&&a().createElement(wd,{stores:e,selectedStore:N,showMap:i,afterDetails:d,beforeDetails:m,shouldStickDetails:v,onExpandMapClick:b})))))},Cd=e=>{const a=(0,t.useRef)([]),n=(0,t.useRef)(""),[r]=(0,k.lE)(e),[s,l]=(0,k.lE)(`${e}.searchResults`),i=(0,t.useRef)([]),{mapCoordinates:o,searchInput:c,noOfVisibleStore:m=1/0,showMoreLink:d,distanceUnit:u,mapsEnabled:p,mapApiKey:g,singleStoreCountry:y,isDrivingDistancesEnabled:v,showAllStores:h,useFallbackDistances:E}=r,[b,f]=(0,t.useState)(c),{retailStores:A}=s,w=h?1/0:parseFloat(m);a.current=A,i.current=o,n.current=c;const N=(0,t.useMemo)((()=>(f(n.current),((e=[],t=[])=>e.map((e=>{const a={...e},n=t.find((t=>t.storeNumber===e.storeId));if(n){const{storeType:e}=n;a.storeType=e,a.coordinates={latitude:parseFloat(n.latitude),longitude:parseFloat(n.longitude)}}return a})).sort((e=>e.recommendationLabel?-1:0)))(a.current,i.current))),[l]),S=(0,k.tx)(e,"selectStore");return{origin:b,stores:N,distanceUnit:u,selectedStoreId:S.binding.value,maxVisibleStores:w,apiKey:g,showMap:p,isLoadingStoreSelection:S.binding.properties.isLoadingSubmit,showAllStoresButtonLabel:d,isSingleStoreCountry:y,calculateDistances:v,onStoreSelection:(e,t)=>{S.props.onChange(t)},useFallbackDistances:E}};var kd=__webpack_require__(710);const Id=({slotTitle:e,loanApplicationInstruction:t,pickupDateMessage:n,fullPickupDateMessage:r,timeSlotInstruction:s,pickupDate:l,pickupTime:i,recommendedTimeSlots:o})=>a().createElement(a().Fragment,null,o,a().createElement("div",{className:"rs-pickup-datetimeslot"},a().createElement("fieldset",null,a().createElement("legend",(0,Ie.A)({className:"rs-pickup-slottitle typography-body-reduced-tight"},(0,Le.OH)(e))),t&&a().createElement("p",{className:"rs-pickup-loanapplninstruction typography-body-reduced"},t),l,a().createElement("div",{className:"rs-pickup-availablewindow"},n,a().createElement("div",{className:"visuallyhidden"},r),a().createElement("p",{className:"rs-pickup-timeslotinstruction typography-body-reduced"},s),i)))),Pd=({radioProps:e,options:t,value:n})=>{const{assets:r}=(0,Y.S)();return 0===t.length?null:a().createElement("fieldset",null,a().createElement("legend",{className:"rs-pickup-recommendedslot-title typography-body-reduced-tight"},r.recommendedPickupslotLabel),a().createElement(Am.A,{className:"large-9 small-12 rs-pickup-recommendedslot"},t.map((t=>a().createElement(nc.Ay,(0,Ie.A)({},e,{key:t.timeSlotValue,value:t.timeSlotValue,checked:n===t.timeSlotValue}),a().createElement("span",{className:"row"},a().createElement("span",{className:"column form-selector-left-col large-8 small-8 rs-fufillment-label"},a().createElement("span",{className:"form-selector-title"},a().createElement("span",(0,Ie.A)({className:"rs-pickup-recommendedslot-label"},(0,Le.OH)(t.recommendedCheckInDay))),a().createElement("span",(0,Le.OH)(t.Label)))),a().createElement("span",{className:"column form-selector-right-col large-4 small-4"},a().createElement("span",(0,Ie.A)({},(0,Le.OH)(t.recommendationLabel),{className:"rs-pickup-recommendedslot-label-right typography-caption"})))))))))},Ld=({radioProps:e,options:t,value:n})=>a().createElement("ul",{className:"rs-pickup-slotgroup"},t.map((t=>{const{dayOfMonth:r,dayOfWeek:s,fullDayOfWeek:l,hasTimeSlots:i}=t,o=n.toString()===r.toString();return a().createElement("li",{key:t,className:"rs-pickup-slot"},a().createElement("p",{className:Z()("rs-pickup-day typography-caption",{"rs-day-selected":o})},a().createElement("span",{"aria-hidden":"true","aria-describedby":`dayofweek-${s}`},s),a().createElement("span",{id:`dayofweek-${s}`,className:"visuallyhidden"},l)),a().createElement("div",{className:"rs-pickup-button form-selector"},a().createElement("input",(0,Ie.A)({},e,{type:"radio",value:r,checked:o,id:`bartPickupDateSelector${r}`,name:"bartPickupDateSelectorButtonGroup",className:"form-selector-input as-buttongroup-radio",disabled:!i})),a().createElement("label",{className:"form-selector-label",htmlFor:`bartPickupDateSelector${r}`},a().createElement("span",null,r,a().createElement("span",{className:"visuallyhidden"},l)))))}))),Td=({dropdownProps:e,options:t,defaultValue:n,notAvailMessage:r,availableTimeLabel:s})=>{const{assets:l,fragments:i}=(0,Y.S)();return a().createElement(a().Fragment,null,a().createElement(Gr.A,(0,Ie.A)({},e,{label:s||l.availableTimeWindows}),a().createElement(Gr.n,{key:n,value:"",disabled:!0},n),t.map((e=>a().createElement(Gr.n,{key:e.timeSlotValue,value:e.timeSlotValue},e.Label)))),r&&a().createElement("p",(0,Ie.A)({className:"rs-pickup-timeslotavilmessage typography-body-reduced"},(0,Le.OH)(i.restrictedMonthlyAvailMsg))))},Od=({modKey:e})=>{const n=(0,k.sW)(),[r]=(0,k.lE)(e),[s,l]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),{selectADay:c,loanApplicationInstruction:m,timeSlotInstruction:d,pickUpDates:u,dayRadio:p,timeSlotWindows:g,availableWindows:y,availableTimeLabel:v}=r,h=(t,a)=>{n({type:W.Ru.SET_MOD_DATA,modKey:e,key:t,value:a})},E=(0,k.tx)(e,"dayRadio"),b=(0,k.TP)(e,"timeSlotValue"),f=e=>{let t={};if(o(""),e){const a=e.split("-")[0];E.binding.setValue(a),g.forEach((n=>{const r=n[a],s=r&&r.find((t=>t.timeSlotValue===e));s&&(t=s),s&&s.isRestricted&&o(s.isRestricted)}))}h("timeSlotType",t.timeSlotType),h("timeSlotValue",t.timeSlotValue||""),h("endTime",t.checkInEnd||""),h("startTime",t.checkInStart||""),h("signKey",t.signKey||""),h("timeZone",t.timeZone||""),h("timeSlotId",t.SlotId||""),h("displayStartTime",t.displayStart||""),h("displayEndTime",t.displayEnd||""),h("isRecommended",!!t.recommendationLabel),h("isRestricted",t.isRestricted)},A=u&&u.find((e=>e.dayOfMonth===p)),{pickupDateMessage:w,fullPickupDateMessage:N}=A||{},S=a().createElement("div",(0,Ie.A)({id:"rs-pickup-slottitle",className:"rs-pickup-slottitle typography-body-reduced-tight","aria-hidden":"true"},(0,Le.OH)(w))),C={options:(0,t.useMemo)((()=>{const e=[];return u.forEach(((t,a)=>{const n=g[a][t.dayOfMonth];n&&(e.push(...n.filter((e=>e.recommendationLabel))),t.hasTimeSlots=n.length>0)})),e}),[g,u]),value:s,radioProps:{onChange:e=>{const t=e.target.value;l(t),f(t);const a=t.split("-")[0],n=u&&u.find((e=>e.dayOfMonth===a));n&&h("date",n.date||"")}}},I={options:u||[],value:E.binding.value,timeSlots:g||[],radioProps:{...E.props,onChange:e=>{E.props.onChange(e),l(""),f();const t=u&&u.find((t=>t.dayOfMonth===e.target.value));t&&h("date",t.date||"")}}};let P=[];g.forEach((e=>{const t=e[p.toString()];t&&(P=t)}));const L={options:P,defaultValue:y,availableTimeLabel:v,dropdownProps:{...b.props,"data-autom":"pickup-availablewindow-dropdown",required:!b.binding.properties.optional,"aria-labelledby":"rs-pickup-slottitle","aria-required":!b.binding.properties.optional,"aria-invalid":Boolean(b.props.error),onChange:e=>{const t=e.target.value;b.props.onChange(e),l(t),f(t)}},notAvailMessage:i};return a().createElement(Id,{slotTitle:c,loanApplicationInstruction:m,pickupDateMessage:S,fullPickupDateMessage:N,timeSlotInstruction:d,recommendedTimeSlots:a().createElement(Pd,C),pickupDate:a().createElement(Ld,I),pickupTime:a().createElement(Td,L)})},Dd=a().memo(Od),xd=({header:e,deliveryMessage:t,shipmentGroupsModKeys:n})=>a().createElement("div",{className:"rs-fulfillment-pickup-delivery"},a().createElement("div",{className:"rs-splitfulfillment-delivery-header typography-body",id:"rs-splitfulfillment-delivery-header"},e,a().createElement("span",{className:"rs-splitfulfillment-delivery-message typography-body-reduced"},t)),a().createElement("div",{className:"rs-fulfillment-deliveryshipmentgroups rs-fulfillment-deliverydetails","aria-labelledby":"rs-splitfulfillment-delivery-header"},a().createElement(Tl,{modKey:Re.Eu}),n.map((e=>a().createElement(Jm,{key:e,modKey:e,isForcedDelivery:!0}))))),Md=()=>{const[e]=(0,k.lE)(Re.G$),{splitFulfillmentDeliveryHeader:t,splitFulfillmentDeliveryMessage:n}=e,{childModKeys:r}=(0,k.Yl)(`${Re.G$}.shipmentGroups`);return a().createElement(xd,{header:t,deliveryMessage:n,shipmentGroupsModKeys:r})},Fd=a().memo(Md),Bd=({dropdownProps:e,dropdownOptions:t,messages:n,messagesLastUpdated:r,showWaitIndicator:s,showPickupBart:l,showForcedDelivery:i,pickupBartModKey:o})=>{const{assets:c}=(0,Y.S)();return a().createElement(a().Fragment,null,t&&a().createElement("div",{className:"rs-fulfillment-pickup-methods"},a().createElement("h3",{className:"rs-pickup-methods-title typography-body"},c.pickupMethodsHeader),a().createElement(kd.Ay,(0,Ie.A)({},e,{label:c.pickupMethods,"data-autom":"form-dropdown-select-pickup-method"}),t.map((e=>a().createElement(kd.Eb,{key:e.value,value:e.value,disabled:!e.enabled||void 0},a().createElement(kd.yH,(0,Le.OH)(e.pickupMethod)),a().createElement(kd.VB,(0,Le.OH)(e.description))))))),l&&a().createElement("div",{className:"rs-pickup-bart"},a().createElement(ke.A,{messages:n,lastUpdated:r}),s?a().createElement(Ws,null):a().createElement(Dd,{modKey:o})),i&&a().createElement(Fd,null))};var Rd=__webpack_require__(6490);const _d=e=>e?{width:e.width,left:0}:{},$d=a().forwardRef(((e,t)=>a().createElement(Rd.A,(0,Ie.A)({},e,{className:"rf-form-layout-autocomplete",ref:t,getPosition:_d})))),Hd=(e,t,a)=>{(0,Pa.u9)(e).then((e=>e.json())).then((e=>C().get(e,"body.matches",[]))).then((e=>{t(e),a(e.length)})).catch((e=>(0,r.A)("store-locator-search/fetchSuggestions").error(e)))},Kd=({isLoading:e,autoCompleteUrl:n,textFieldProps:r,searchBtnProps:l,searchBtnLabel:i,isBagApp:o,isCheckoutApp:c,ariaLiveLabels:m})=>{const{assets:d}=(0,Y.S)(),[u,p]=(0,t.useState)([]),[g,y]=(({autoCompleteChoiceAllyTxt:e,autoCompleteChoicesAllyTxt:t})=>{const[n,r]=a().useState(),s=a().useRef();return a().useEffect((()=>{n&&(s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{r()}),400))}),[n]),[n,a=>{1===a&&e&&r(`${a} ${e}`),(0===a||a>1&&t)&&r(`${a} ${t}`),n&&r(null)}]})(m),v=(0,fi.A)(Hd,250),h=l.onClick;c&&(r.onBlur=()=>null),l.disabled=l.disabled||""===r.value;const E=i||d.searchStores,b=`checkout-cityState-${E.toLowerCase()}`,f=e?a().createElement("div",{role:"img",className:"rs-store-locator-search-loader  waitindicator waitindicator16-gray"}):a().createElement(ki.M,(0,Ie.A)({},l,{"aria-label":d.storeLocatorSearchA11y,"data-autom":b}),E),A=t=>{t.keyCode===s.HP.Esc&&t.stopPropagation();const a=t.keyCode===s.HP.Return,{value:n}=t.target;!e&&n&&a&&h(),r.onKeyDown(t)},w=e=>a().createElement(ki.A,(0,Ie.A)({},e,{label:d.storeLocatorLabel,"data-autom":"bag-storelocator-input",search:!c}),f);if(!n)return a().createElement("div",{className:"rs-store-locator-search"},w({...r,onKeyDown:A}),a().createElement(Gn,{isBagApp:o,isCheckoutApp:c}));return a().createElement("div",{className:"rs-store-locator-search"},a().createElement($d,(0,Ie.A)({},r,{options:u,onChange:e=>{if(r.onChange(e),e.target.value){const t=Qe.k0(n,{value:e.target.value});v(t,p,y)}},onSelection:t=>{r.onChange({target:{value:t}}),e||h()},onHover:e=>{r.onChange({target:{value:e}})},onKeyDown:A,renderInput:w,selectFirst:!0})),g&&a().createElement(J.Ay,{message:g}),a().createElement(Gn,{isBagApp:o,isCheckoutApp:c}))},Vd=({isWarmState:e,isEditing:t,searchLabel:n,editLocationButton:r,provinceSelector:s,localitySearch:l,storeLocatorSearch:i,cancelButtonProp:o})=>{const{assets:c}=(0,Y.S)();return a().createElement("div",{className:Z()("rs-fulfillment-postalcode rs-load-fadein",{"rs-fulfillment-postalcode-warmstart":e},{"rs-fulfillment-postalcode-coldstart":!e})},e||s?a().createElement("span",(0,Le.OH)(n)):a().createElement("h2",{className:"rs-fulfilment-cold-ziplabel"},c.pickupziplabelcoldstart),r,s,l,i&&a().createElement("div",{className:"rs-fulfillment-store-locator-container"},e&&i?a().createElement(j.x,{in:t,onEntering:()=>{const e=C().get(i,"props.textFieldProps.ref");e&&e.current&&e.current.focus()}},a().createElement("div",{className:"row"},a().createElement("div",{className:"column rs-fulfillment-store-locator-search"},i),a().createElement("div",{className:"column"},a().createElement("button",(0,Ie.A)({className:"form-textbox-sidebutton",type:"button"},o,(0,Le.OH)(c.cancel)))))):i))},Ud=({modKey:e})=>{const{assets:n}=(0,Y.S)(),r=(0,k.sW)(),s=`${e}.address.stateCitySelectorForCheckout`,l=(0,k.M1)(s),{state:i,props:o}=(0,k.sb)(s,"provinceCityDistrict"),c=(0,k.M1)(`${e}.address.localitySearchTypeAhead`),m=(0,k.M1)(`${e}.address.localitySearchTypeAheadWithGeoLocation`),d=c||m,[u]=(0,k.lE)(e),[p]=(0,k.lE)(s),[g]=(0,k.Ej)(`${e}.storeSearch`,"searchLabel"),y=C().get(p,"layout.0.fields",[]),v=l?y.reduce(((e,t)=>{const a=t.find((e=>"provinceCityDistrict"===e.name));return a?a.label:e}),""):g,h=l?p.provinceCityDistrict:u.pickupLocationLinkText||C().get(u,"was.searchInput",""),[E,b]=(0,k.Ej)(l?s:e,l?"provinceCityDistrictTabs":"_editing",!1),f=Boolean(h),A=l?p.showGeoLocationDisclaimer:u.showGeoLocationDisclaimer,w=l||f&&(!E||d),N=f?h:p.linkText,S=f&&`${n.editZipCodeCityStateA11y}, ${h}`,I=(0,k.Pf)(e,"searchInput"),P=(0,k.W4)(e,"search"),L=P.binding.properties.isLoadingSubmit,T=il(E);(0,t.useEffect)((()=>{l&&!E&&(I.binding.setValue(p.provinceCityDistrict),p.provinceCityDistrict&&r({type:W.Ru.ACTION,modKey:e,name:"search"}))}),[E,p.provinceCityDistrict]);const O=!(d||l);return a().createElement(Vd,{isWarmState:f,isEditing:E,searchLabel:u.searchLabelOverride||v,editLocationButton:a().createElement(ol,{btnRef:o.ref,showBtn:w,isEditing:E,setIsEditing:b,wasEditing:T,showDagger:A,label:N,"aria-label":S,"data-autom":"fulfillment-pickup-store-search-button","aria-controls":`rs-edit-location-${e}`,showChevron:!0}),provinceSelector:l&&a().createElement(yl,{modKey:`${e}.address`,className:"rs-fulfillment-provinceselector",mobileColumns:2,desktopColumns:4,hideInput:!0,isFullWidth:!0,isCheckoutApp:!0,error:i.error}),localitySearch:d&&a().createElement(fl,{modKey:e,visibleKey:"_editing",isCheckoutApp:!0,hasSearchTypeAhead:d}),storeLocatorSearch:O&&a().createElement(Kd,{isLoading:L,autoCompleteUrl:u.retailStoreAutoComplete,textFieldProps:I.props,searchBtnProps:P.props,searchBtnLabel:n.apply,ariaLiveLabels:{autoCompleteChoicesAllyTxt:n.multipleSuggestionsLabel,autoCompleteChoiceAllyTxt:n.suggestionLabel},isCheckoutApp:!0}),cancelButtonProp:{onClick:()=>{b(!1)}}})},Wd=a().memo(Ud),Gd=({header:e,pickupDisabledMessages:t,pickupMessage:n,showColdState:r,showResultHeader:s,isForcedPickup:l,isRsisErrorHeaderRequired:i,rsisErrMessage:o,showStoreLocator:c,hasGiftMessage:m,appleGiftMessage:d,removeGiftMsgBtn:u,messages:p,productInfo:g,waitIndicator:y,storeSearch:v,storeLocator:h,isLoadingStoreSelection:E,pickupRecommended:b})=>{const{assets:f}=(0,Y.S)();return a().createElement("div",{className:"rs-fulfillment-pickup rs-load-fadein"},e&&a().createElement("div",{className:"rs-fulfillment-sectionheader"},a().createElement("h2",{className:"rs-fulfillment-sectiontitle"},e)),t.map((e=>a().createElement("span",{key:e},e))),n&&a().createElement("div",(0,Ie.A)({className:"rs-fulfillment-pickup-message typography-body-reduced"},(0,Le.OH)(n))),b&&a().createElement("div",{className:"rs-fulfillment-recommended-pickup large-centered large-6 small-12 typography-body-reduced"},a().createElement("div",(0,Ie.A)({"data-autom":"recommended-pickup",className:"rs-fulfillment-recommended-pickup-details"},(0,Le.OH)(b)))),v,g,y||v&&a().createElement(a().Fragment,null,a().createElement("div",{className:"large-6 small-12"},p),a().createElement("div",{className:"rs-store-locator"},s&&a().createElement("h2",{className:Z()("rs-fulfillment-grouplabel typography-label",{visuallyhidden:l})},f.selectYourStore),m&&a().createElement("div",{className:"rs-fulfillment-giftmsg large-6 small-12"},a().createElement("span",null,d),u.label&&a().createElement("button",(0,Ie.A)({type:"button",className:"as-buttonlink"},u.props),u.label)),i?a().createElement("div",{className:"rs-errormsg-wrapper"},a().createElement("h2",null," ",o.header," "),a().createElement("div",{className:"rs-errormsg-message"},o.message)):c&&a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-pickup-stores-title typography-body-reduced-tight"},f.pickupStoresTitle),h,a().createElement(J.Jg,{isPending:E,messages:{pending:f.processing,finished:f.storeUpdateMessage}})))),r&&a().createElement("div",{className:"rs-fulfillment-pickup-coldstate-headerline"},a().createElement("h2",{className:"typography-label large-6 small-12"},f.pickupziplabelcoldstartHeadingInfo)))},jd=({header:e,sectionMessage:t,deliveryMessage:n,deliveryButton:r,productInfo:s})=>a().createElement("div",{className:"rs-fulfillment-shipmentgroup"},a().createElement("div",{className:"rs-fulfillment-forceddeliveryonlycontent rs-load-fadein"},a().createElement("div",{className:"rs-fulfillment-sectionheader"},a().createElement("h2",(0,Ie.A)({className:"rs-fulfillment-sectiontitle"},(0,Le.OH)(e))),a().createElement("div",(0,Ie.A)({className:"rs-fulfillment-sectionmessage typography-body"},(0,Le.OH)(t))),a().createElement("div",{className:"rs-fulfillment-sectionsubheader"},n,r&&a().createElement("button",(0,Ie.A)({className:"as-buttonlink",type:"button"},r.props,(0,Le.OH)(r.label))))),s)),qd=({modName:e,buttonKey:t})=>{const n=`${Re.G$}.deliveryOnlyGroups.${e}`,{modExists:r,data:{groupHeader:s,groupMessage:l,deliveryMessage:i,deliveryLink:o}}=(0,k.Yl)(n),c=(0,k.W4)(n,t);return r?a().createElement(jd,{header:s,sectionMessage:l,deliveryMessage:i,deliveryButton:o&&{props:c.props,label:o},productInfo:a().createElement(um,{modKey:`${n}.items`})}):null},Yd=a().memo(qd),zd=()=>a().createElement("div",{className:"rs-fulfillment-forceddeliveryonly"},a().createElement(Yd,{modName:"giftMessageDeliveryGroup",buttonKey:"remove"}),a().createElement(Yd,{modName:"homeDeliveryOnlyGroup",buttonKey:"selectFulfillmentLocation"}),a().createElement(Yd,{modName:"electronicDeliveryGroup",buttonKey:"selectFulfillmentLocation"})),Zd=()=>{const{assets:e,fragments:t}=(0,Y.S)();return a().createElement("div",{className:"rs-fulfillment-shipping-message"},a().createElement("div",(0,Ie.A)({id:"rs-fulfillment-deliverymessage"},(0,Le.OH)(e.deliveryMessage))),a().createElement("div",(0,Ie.A)({className:"rs-fulfillment-shippling-policy"},(0,Le.OH)(t.shippingPolicy))))},Jd=()=>{const{assets:e}=(0,Y.S)();return a().createElement("div",(0,Ie.A)({className:"rs-fulfillment-pickup-instruction"},(0,Le.OH)(e.pickupFinancingMessage)))},Xd=({modKey:e,isForcedPickup:t})=>{const n=e||Re.CJ,r=`${n}.storeLocator`,s=`${n}.storeLocator.address.stateCitySelectorForCheckout`,l=`${n}.timeSlot.dateTimeSlots`,i=`${n}.storeLocator.searchResults`,o=`${n}.pickupMethod`,c=`${Re.G$}.deliveryOnlyGroups.giftMessageDeliveryGroup`,m=(0,k.M1)(n),d=(0,k.M1)(r),u=(0,k.M1)(l),p=(0,k.M1)(Re.G$),g=(0,k.M1)(Re.Lv),y=(0,k.M1)(c),v=(0,k.M1)(s),[h]=(0,k.Ej)(s,"provinceCityDistrict"),[E]=(0,k.Ej)(i,"retailStores"),[b]=(0,k.lE)(n),[f]=(0,k.lE)(r),[A]=(0,k.lE)(c),[w]=(0,k.Ej)(Re.G$,"forcedDeliveryOnly"),[N,S]=(0,k.fL)(n),[I,P]=(0,k.fL)(r),[L,T]=(0,k.fL)(`${n}.timeSlot`),{properties:{isLoadingSubmit:O}}=(0,k.Yl)(Re.K2),{data:{pickupMethods:D,selectedPickupMethod:x},properties:{isLoadingSubmit:M}}=(0,k.Yl)(o),F=(0,k.TP)(o,"selectedPickupMethod"),B=(0,k.W4)(c,"remove"),R=D&&D.find((e=>e.value===x)),_={...F.props,value:R?R.pickupMethod:x},$=f.pickupLocationLinkText||C().get(f,"was.searchInput",""),H=Boolean(v?h:$),K=!O&&H,V=Cd(r),U={...V,beforeDetails:b.showAppleFinancingInstructions&&a().createElement(Jd,null),afterDetails:p&&a().createElement(Zd,null),selectedStorePickupInfo:a().createElement(Bd,{dropdownProps:_,dropdownOptions:D,messages:L,messagesLastUpdated:T,showWaitIndicator:M,showPickupBart:u,pickupBartModKey:l,showForcedDelivery:!w&&p}),onShowAllStoresClick:()=>ye(),onExpandMapClick:ve},W=(O||h&&!$)&&a().createElement(Ws,null),G=!w&&m;return a().createElement(a().Fragment,null,G&&a().createElement(Gd,{header:t&&b.groupHeader,pickupDisabledMessages:b.pickupDisabledMessages||[],pickupMessage:b.pickupMessage,showColdState:!H,showResultHeader:Boolean(E),isForcedPickup:t,isRsisErrorHeaderRequired:f.isRsisErrorHeaderRequired,rsisErrMessage:f.errMsg,showStoreLocator:E&&E.length>0,hasGiftMessage:y,appleGiftMessage:A.appleGiftMessage,pickupRecommended:b.pickupRecommended,removeGiftMsgBtn:{props:B.props,label:A.deliveryLink},messages:a().createElement(ke.A,{messages:[...N,...I],lastUpdated:S+P}),productInfo:a().createElement(um,{modKey:`${n}.deliveryOnlyGroups.giftMessageDeliveryGroup.items`}),waitIndicator:W,storeSearch:d&&a().createElement(Wd,{modKey:r}),storeLocator:K&&a().createElement(Sd,U),isLoadingStoreSelection:V.isLoadingStoreSelection}),w&&(W||a().createElement(zd,null)),g&&a().createElement(ed,{modKey:Re.Lv}))},Qd=a().memo(Xd),eu=()=>{const e=(0,k.M1)(Re.ST),t=(0,k.M1)(Re.OP),n=(0,k.M1)(Re.vZ),r=(0,k.M1)(Re.kJ),[s]=(0,k.lE)(Re.xU),[l]=(0,k.Ej)(Re.OP,"forcedPickupOnly"),[i]=(0,k.Ej)(Re.ST,"pickupRecommended"),[o,c]=(0,k.fL)(Re.ST),{childModKeys:m}=(0,k.Yl)(Re.xI),{properties:{isLoadingSubmit:d}}=(0,k.Yl)(Re.K2),u=!d&&n,p=!d&&!l&&t,g=!l&&e,y=(0,k.W4)(Re.xU,"selectFulfillmentLocation"),v={inHomeSetupGroup:Km(),courierDeliveryGroup:Km()},h=m.map((e=>a().createElement(Jm,{key:e,modKey:e})));return a().createElement(a().Fragment,null,g&&a().createElement(Hm.Provider,{value:v},a().createElement(Ol,{showWaitIndicator:d,hasDeliveryLocation:r,messages:o,messagesLastUpdated:c,shipmentGroups:h,pickupRecommended:i})),l&&a().createElement(td,{showWaitIndicator:d,header:s.groupHeader,disabledMessages:s.pickupDisabledMessages,pickupButton:{label:s.pickupLink,props:y.props}}),p&&a().createElement(Qd,{modKey:Re.OP,isForcedPickup:!0}),u&&a().createElement(ed,{modKey:Re.q_}))},tu=a().memo(eu),au=({header:e,xMerchTopBanner:t,xMerchPageMerch:n,messages:r,hasFulfillmentOptions:s,hasTradeInError:l,hasEppPlus:i,hasTermsAndConditions:o,hasInstallmentSummary:c,hasTradeInSummary:m,otbMessage:d,showChat:u,instantCreditMessage:p,acmiFromBag:g,returnToShop:y,continueButton:v})=>{const h=a().useRef(null);return a().createElement("div",{className:Z()("rs-checkout-fulfillment",{"rs-checkout-fulfillment-no-options":!s})},t&&a().createElement("div",(0,Ie.A)({className:"rs-checkout-topmerch"},(0,Le.OH)(t))),a().createElement("div",{className:"rs-zoom-content as-l-container"},r,l&&a().createElement(ba,{modKey:Re.I_}),e&&a().createElement("h1",{ref:h,className:"rs-checkout-header rs-checkout-headerfocus typography-headline-reduced",tabIndex:"-1"},e),p&&a().createElement("div",{className:"large-8 rs-checkout-instanttradein-message"},p),a().createElement(ll,null),a().createElement(tu,null),a().createElement(Qd,null),i&&a().createElement(zs,{modKey:Re.KH}),o&&a().createElement(js,{modKey:Re.co}),c&&a().createElement("div",{className:"as-l-container rs-fulfillment-webinstallment"},a().createElement(Ms,{modKey:Re.WX,isAcmi:g}),d&&a().createElement("div",(0,Ie.A)({className:"rs-acmiotb large-9 large-offset-3 small-12 small-offset-0"},(0,Le.OH)(d)))),m&&a().createElement(Rs,{modKey:Re.RQ}),v),n&&a().createElement("div",(0,Ie.A)({className:"rs-checkout-topmerch"},(0,Le.OH)(n))),a().createElement("div",{className:"rs-checkout-chatfaq-wrapper"},u&&a().createElement(ya,null),a().createElement(ua,{modKey:Re.YW})),a().createElement(pn,{modKey:Re.vS,buyFlowInstallments:c,acmiFromBag:g,returnToShopForAcmi:y}))},nu=({overlayProps:e,applyButtonProps:t,cancelButtonProps:n,deliveryAddressForm:r,locationConsent:s,savedAddress:l,addrRef:i,isApplyLoading:o})=>{const{assets:c,viewport:m}=(0,Y.S)(),d="small"===m;return a().createElement(Ke.A,(0,Ie.A)({},e,{fixedWidth:!0,isFullscreen:d,ref:i}),a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-12"},a().createElement("h2",{className:"rs-fulfillment-addressoverlay-header typography-headline-reduced",id:e.ariaLabel},c.deliveryOverlayHeader),a().createElement("div",{className:"rs-fulfillment-addressoverlay-desc",id:e.ariaDesc},c.deliveryOverlayDesc)),a().createElement("div",{className:"column small-12 large-9 large-centered"},a().createElement("div",{className:"rs-fulfillment-overlay-address-container"},l,r),s,a().createElement("div",{className:"rs-fulfillment-overlay-change"},a().createElement(Wt.A,t,c.apply),a().createElement(J.Jg,{isPending:o,messages:{pending:c.processing,finished:c.contentLoadedA11y}}),a().createElement("button",(0,Ie.A)({type:"button"},n),c.cancel)))))},ru=({modKey:e,setApplyClicked:t})=>{const{assets:n}=(0,Y.S)(),r=(0,k.Yl)(`${e}.addressStreets`).properties.isLoadingSubmit,[s,l]=(0,k.lf)(e),i=(0,k.W4)(`${e}.addressStreets`,"apply"),{data:o}=(0,k.Yl)(`${e}.addressSelector`),c=o.radioAddresses,m=(0,k.TP)(`${e}.addressSelector`,"selectAddress"),d=a().useRef(""),u={...i.props,isLoading:r,disabled:i.binding.properties.isLoadingSubmit,className:"rs-fulfillment-overlay-apply",onClick:e=>{i.props.onClick(e),t(!0)}},p={className:"as-buttonlink rs-fulfillment-cancel-link typography-body",onClick:l},g={...s,ariaLabel:"rs-fulfillment-addressoverlay-header typography-headline-reduced",onExited:()=>{s.onExited();const e=document.querySelector('[aria-haspopup="dialog"].form-selector-input');e&&e.focus()}};return a().useEffect((()=>{if(d&&d.current){const e=d.current.querySelector("[data-core-overlay-content]");e&&e.focus()}}),[d]),a().createElement(nu,{overlayProps:g,addrRef:d,applyButtonProps:u,cancelButtonProps:p,isApplyLoading:i.binding.properties.isLoadingSubmit,savedAddress:a().createElement(Gr.A,(0,Ie.A)({},m.props,{label:n.deliveryOverlaySavedAddrLabel}),a().createElement(Gr.n,{key:"defaultValue",value:"",disabled:!0},n.deliveryOverlaySavedAddress),c&&c.map((e=>a().createElement(Gr.n,{key:e.value,value:e.value},e.addressName,e.addressLine1)))),deliveryAddressForm:a().createElement(dl.A,{isFullWidth:!0,modKey:`${e}.addressStreets.address`}),locationConsent:a().createElement(Gn,{isCheckoutApp:!0})})},su=()=>{const{assets:e,fragments:t}=(0,Y.S)(),[n]=(0,k.lE)(Re.L9),[,r]=(0,k.Ej)(Re.L9,"amsContainerSupport",!1),[s,l]=(0,k.fL)(Re.I_),[i]=(0,k.lE)(Re.I_),[o={}]=(0,k.Ej)(Re.J0,"placements"),[c]=(0,k.Ej)(Re.nn,"acmiFromBag"),m=(0,k.M1)(Re.WX),d=(0,k.M1)(Re.RQ),u=(0,k.M1)(Re.co),p=(0,k.M1)(Re.K2),g=(0,k.M1)(Re.KH),{acAvailable:y}=Ce(),v=(0,k.M1)(`${Re.L9}.deliveryAddressOverlay`),[h]=Vt();r(h.supported);const{properties:{isLoadingSubmit:E}}=(0,k.Yl)(Re.if),b=n.continueLabel&&a().createElement(ea,{modKey:Re.L9,applePayRequestModKey:Re.ZB,buttonRight:m,webInstallmentSummary:m,attrs:{"data-autom":"fulfillment-continue-button",disabled:E}}),f=Qe.GP(n.hasAppleCard||y?t.otbMessageWithAppleCard:t.otbMessageWithoutAppleCard,{acmiOtbValue:n.acmiOtbValue}),A=(0,k.M1)(`${Re.L9}.deliveryAddressOverlay.addressStreets`,"apply"),[w,N]=a().useState(!1);return a().useEffect((()=>{if(!A&&w){const e=document.querySelector("[checked].form-selector-input");e&&e.focus()}}),[A,w]),v?a().createElement(ru,{setApplyClicked:N,modKey:`${Re.L9}.deliveryAddressOverlay`}):v?a().createElement(ru,{modKey:`${Re.L9}.deliveryAddressOverlay`}):a().createElement(au,{xMerchPageMerch:o.pageMerch,xMerchTopBanner:o.topBanner,messages:a().createElement(ke.A,{messages:s,lastUpdated:l}),hasFulfillmentOptions:p,hasTradeInError:Boolean(i.tradeInErrorMessage),hasEppPlus:g,hasTermsAndConditions:u,hasInstallmentSummary:m,hasTradeInSummary:m&&d,otbMessage:f,showChat:n.shouldShowChat,acmiFromBag:c,returnToShop:n.returnToShop,header:p?e.header:n.fulfillmentHeader,instantCreditMessage:p&&n.instantCreditMessage,continueButton:b})},lu=a().memo(su),iu=({text:e})=>a().createElement("span",{className:"rs-notificationbanner-ackmessage"},a().createElement("span",(0,Le.OH)(e))),ou=({text:e,redirectText:t,redirectLink:n,linkEvar1:r})=>a().createElement("span",{className:"rs-notificationbanner-ackmessage rs-notificationbanner-saveditem"},a().createElement("span",(0,Ie.A)({className:"rs-notificationbanner-icon"},(0,Le.OH)('<svg width="21" height="21" class="as-svgicon as-svgicon-bookmarkfill as-svgicon-tiny as-svgicon-bookmarkfilltiny" role="img" aria-hidden="true"><path fill="none" d="M0 0h21v21H0z"/><path d="M12.8 3.25H8.2A2.2 2.2 0 0 0 6 5.45v11.588a.768.768 0 0 0 .166.522.573.573 0 0 0 .455.19.644.644 0 0 0 .38-.128 5.008 5.008 0 0 0 .524-.467l2.916-2.885a.084.084 0 0 1 .118 0l2.916 2.886a6.364 6.364 0 0 0 .52.463.628.628 0 0 0 .384.131.573.573 0 0 0 .456-.19.768.768 0 0 0 .165-.522V5.45a2.2 2.2 0 0 0-2.2-2.2Z"/></svg>'))),a().createElement("span",null,e," "),a().createElement("a",{href:n,className:"rs-notificationbanner-link more","data-evar1":r},t)),cu=e=>{const{message:t,isUndo:n,isUndoDisabled:r,undoButtonLabel:s,processingAriaLabel:l,undoButtonAriaLabel:i,undoButtonAttrs:o}=e;if("object"==typeof t){return{SAVED_ITEMS:a().createElement(ou,{text:t.text,redirectText:t.redirectText,redirectLink:t.savedItemsRedirect,linkEvar1:t.linkEvar1})}[t.type]||a().createElement(iu,{text:t.text})}return a().createElement("span",{className:"rs-notificationbanner-ackmessage"},a().createElement("span",(0,Le.OH)(t)),n&&a().createElement("button",(0,Ie.A)({},o,{"data-autom":"bag-item-remove-undo",disabled:r,className:"as-buttonlink",type:"button"}),a().createElement("span",{"aria-hidden":"true"},s),r?a().createElement("span",{className:"visuallyhidden"},l):a().createElement("span",{className:"visuallyhidden"},i)))},mu=e=>{const{isShown:t,stopTimer:n,startTimer:r,messages:s,isLoaded:l,closeButtonAttrs:i,closeNotificationAriaLabel:o,isUndo:c,isClose:m,isUndoDisabled:d,undoButtonLabel:u,processingAriaLabel:p,undoButtonAriaLabel:g,undoButtonAttrs:y}=e;return a().createElement(Fe,{className:"rs-notificationbanner"},a().createElement(j.A,{in:t,id:"rs-notificationbanner-animation"},a().createElement("div",{className:"rs-notificationbanner-content","aria-live":"polite",role:"status",onMouseOver:n,onMouseOut:r,onFocus:n,onBlur:r},l&&a().createElement("div",{className:"rs-notificationbanner-message as-l-container"},a().createElement("p",{className:"rs-notificationbanner-row"},s&&s.map((e=>a().createElement(cu,{key:"object"==typeof e?e.text:e,message:e,isUndo:c,isUndoDisabled:d,undoButtonLabel:u,processingAriaLabel:p,undoButtonAriaLabel:g,undoButtonAttrs:y})))),m&&a().createElement("button",(0,Ie.A)({},i,{className:"icon icon-reset rs-notificationbanner-close",type:"button","data-autom":"notification-banner-close-button"}),a().createElement("span",{className:"visuallyhidden"},o))))))},du=({modKey:e,showBindName:n,closeBindName:r,undoBindName:s,headerRef:l})=>{const{assets:i}=(0,Y.S)(),[o,c]=(0,t.useState)(null),[m,d]=(0,t.useState)(!1),[u,p]=(0,t.useState)(!1),{data:g,properties:y}=(0,k.Yl)(e),v=(0,k.sb)(e,n),h=s?g.undoMessages:g.ackMessages,E=s?g.undoDelayClose:g.ackDelayClose,b=()=>{const e=y.isLoadingSubmit;if(E&&!e){d(!0),window.clearTimeout(o);const e=window.setTimeout((()=>{c(null),d(!1),v.binding.setProperty("visible",!1)}),E);c(e)}},f=()=>{d(!1),l.current&&l.current.focus()};(0,t.useEffect)((()=>{h&&(o||(b(),d(!0)),p(!0))}),[h]),(0,t.useEffect)((()=>{u&&E&&setTimeout((()=>{p(!1)}),E+3e3)}),[u]);const A=(0,k.W4)(e,r),w=(0,k.W4)(e,s),N={...A.props,onClick:e=>{A.props.onClick(e),f()}},S={...w.props,onClick:e=>{w.props.onClick(e),f()}};return a().createElement(mu,{messages:h,isShown:m,isLoaded:u,stopTimer:()=>{window.clearTimeout(o),c(null)},startTimer:b,handleClose:f,closeButtonAttrs:N,closeNotificationAriaLabel:i.closeNotification,isUndo:Boolean(s),isClose:C().get(A,"binding.bindExists",!1),isUndoDisabled:y.isLoadingSubmit,undoButtonLabel:i.undo,processingAriaLabel:i.processing,undoButtonAriaLabel:i.undo,undoButtonAttrs:S})},uu=({isEditMode:e,header:t,message:n,taxPayerMessage:r,showUseTaxIdCheckbox:s,useTaxIdCheckboxProps:l,taxInfo:i})=>{const{assets:o}=(0,Y.S)(),c=Z()("form-selector-group",{"rs-taxinfo-editabletaxinfo":e,"rs-taxinfo-noneditabletaxinfo":!e});return a().createElement("div",{className:"row rs-taxinfo"},t?a().createElement("fieldset",{className:"rs-taxinfo-section column large-6 small-12"},a().createElement("legend",{className:"rs-taxinfo-header"},t),s&&a().createElement(Vn.A,l,o.taxInfoUseShipping),a().createElement("div",{className:c},i)):a().createElement("div",{className:"rs-taxinfo-section column large-6 small-12"},a().createElement("div",{className:c},i)),n&&a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",(0,Ie.A)({className:"as-supplementalinfo typography-body-reduced"},(0,Le.OH)(n)))),r&&a().createElement("div",{className:"rs-taxinfo-taxpayer-message column large-6 small-12"},a().createElement("div",(0,Ie.A)({className:"as-supplementalinfo typography-body-reduced"},(0,Le.OH)(r)))))},pu=({isActive:e,option:t,isEditMode:n,taxIdTypeRadioProps:r,taxItemContent:s})=>a().createElement("div",{className:"rs-taxinfo-option"},n&&a().createElement(nc.Ay,(0,Ie.A)({},r,{render:({SelectorLabel:e})=>a().createElement(e,null,a().createElement("div",{className:"row"},a().createElement("div",{className:"form-selector-left-col column large-6"},t&&a().createElement("div",{className:"form-selector-title"},t.label))))}),a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-12 small-12",key:t.value}))),a().createElement(j.x,{in:e},s)),gu=({cpf:e="",showCpfField:t,cpfFieldProps:n,isEditMode:r})=>{const{assets:s}=(0,Y.S)();return r?a().createElement("div",{className:"rs-taxinfo-taxfields large-12 small-12"},t&&a().createElement(ki.A,n)):e&&a().createElement("div",{className:"rs-taxinfo-cpffields"},a().createElement("span",{className:"rs-taxinfo-label"},s.taxInfoCpf),a().createElement("span",{className:"rs-taxinfo-value"},e))},yu=({modKey:e,label:t,isEditMode:n})=>{const[r]=(0,k.lE)(e),{cpf:s,cpfPlaceholder:l}=r,i=(0,k.Pf)(e,"cpf"),o=i.binding.bindExists,c={...i.props,label:t,placeholder:l,type:"text",classes:{input:"rs-taxinfo-cpf"},"data-autom":"cpf-number"};return a().createElement(gu,{cpf:s,showCpfField:o,cpfFieldProps:c,isEditMode:n})},vu=a().memo(yu),hu=({companyName:e,cnpj:n,stateRegistration:r,showIsExemptDropdown:s,isExemptOptions:l=[],isExemptOptionsProps:i,isExempt:o,isEditMode:c,showCnpjField:m,cnpjFieldProps:d,showCompanyNameField:u,companyNameFieldProps:p,showStateRegistrationField:g,stateRegistrationFieldProps:y})=>{const{assets:v}=(0,Y.S)(),[h,E]=(0,t.useState)(o);return c?a().createElement("div",{className:"rs-taxinfo-taxfields large-12 small-12"},m&&a().createElement(ki.A,d),u&&a().createElement(ki.A,(0,Ie.A)({},p,{label:v.taxInfoCompanyName})),s&&a().createElement(Gr.A,(0,Ie.A)({},i,{id:"rs-taxinfo-isExempt",classes:{root:"rs-taxinfo-field"},label:v.taxInfoExemptLabel,value:h,onChange:e=>E(e.target.value),"data-autom":"cnpj-isExempt-select"}),l.map((e=>{const t=e.value===o?{selected:!0}:{};return a().createElement(Gr.n,(0,Ie.A)({key:e.value,value:e.value},t),e.label)}))),g&&a().createElement(ki.A,(0,Ie.A)({},y,{label:v.stateRegistration}))):a().createElement("div",{className:"rs-taxinfo-cnpjfields"},n&&a().createElement("div",{className:"rs-taxinfo-cnpj"},a().createElement("span",{className:"rs-taxinfo-label"},v.taxInfoCnpj),a().createElement("span",{className:"rs-taxinfo-value"},n)),e&&a().createElement("div",{className:"rs-taxinfo-companyname"},e),r&&a().createElement("div",{className:"rs-taxinfo-state"},a().createElement("span",{className:"rs-taxinfo-label"},v.stateRegistrationShort),a().createElement("span",{className:"rs-taxinfo-value"},r)))},Eu=({modKey:e,label:t,isEditMode:n})=>{const[r]=(0,k.lE)(e),{companyName:s,cnpj:l,stateRegistration:i,cnpjPlaceholder:o,isExemptOptions:c,isExempt:m}=r,d=(0,k.Pf)(e,"cnpj"),u=d.binding.bindExists,p={...d.props,label:t,placeholder:o,type:"text","data-autom":"cnpj-number",classes:{input:"rs-taxinfo-cnpj"}},g=(0,k.Pf)(e,"companyName"),y=g.binding.bindExists,v={...g.props,classes:{input:"rs-taxinfo-companyname"},"data-autom":"cnpj-companyname"},h=(0,k.Pf)(e,"stateRegistration"),E=h.binding.bindExists,b={...h.props,classes:{input:"rs-taxinfo-state"},"data-autom":"cnpj-state"},f=(0,k.TP)(e,"isExempt").binding.bindExists;return a().createElement(hu,{companyName:s,cnpj:l,stateRegistration:i,cnpjPlaceholder:o,showIsExemptDropdown:f,isExemptOptions:c,isExemptOptionsProps:f&&c.props,isExempt:m,isEditMode:n,showCnpjField:u,cnpjFieldProps:p,showCompanyNameField:y,companyNameFieldProps:v,showStateRegistrationField:E,stateRegistrationFieldProps:b})},bu=a().memo(Eu),fu=({taxPayerIdFieldProps:e,companyNameeFieldProps:t,showCompanyName:n,mode:r,invoiceAddressModKey:s,useDeliveryAddressCheckboxProps:l,showUseDeliveryAddressCheckbox:i,invoiceAddressModExists:o,useShippingAddressLabel:c})=>{const{assets:m,viewport:d}=(0,Y.S)(),u="small"===d;return a().createElement("div",{className:"rs-shipping-taxform-layout"},a().createElement(ki.A,e),n&&a().createElement(a().Fragment,null,a().createElement(ki.A,t),a().createElement("div",{className:"rs-tax-invoice-address-header"},m.taxInVoiceDeliveryAddress),i&&a().createElement("div",{className:"row"},a().createElement(Vn.A,(0,Ie.A)({},l,{name:"useDeliveryAddress",id:"invoice-use-delivery-address"}),c)),o&&"EDIT"===r&&a().createElement("div",{className:"large-12 rs-tax-invoice-address"},a().createElement(dl.A,{isFullWidth:u,modKey:`${s}.address`}))))},Au=({modKey:e})=>{const[t]=(0,k.lE)(e),[n]=(0,k.Ej)(e,"taxPayerId"),r=(0,k.Pf)(e,"taxPayerId"),s=(0,k.Pf)(e,"companyName"),l=`${e}.invoiceAddress`,i=(0,k.DZ)(l,"useDeliveryAddress"),o=i.binding.bindExists,[c]=(0,k.Ej)(l,"useShippingAddressLabel"),[m]=(0,k.Ej)(l,"useDeliveryAddress"),d=(0,k.M1)(`${e}.invoiceAddress`),u=`${l}.address`,[p]=(0,k.Ej)(u,"mode"),{taxPayerIdLabel:g,companyNameLabel:y}=t,v=n.length>0,h={...r.props,label:g},E={...s.props,label:y};return a().createElement(fu,{taxPayerIdFieldProps:h,companyNameeFieldProps:E,invoiceAddressModKey:l,showCompanyName:v,mode:p,useDeliveryAddress:m,useDeliveryAddressCheckboxProps:i.props,showUseDeliveryAddressCheckbox:o,invoiceAddressModExists:d,useShippingAddressLabel:c})},wu=({modKey:e})=>{const[t]=(0,k.lE)(e),{taxIdTypeOptions:n,header:r,mode:s,message:l,taxPayerMessage:i}=t,o=(0,k.DZ)(`${e}.useShipping`,"useShipping"),c=o.binding.bindExists,m={...o.props,id:`${e}useShipping`},d=(0,k.tx)(e,"taxIdType"),u="EDIT"===s,[p,g]=(0,k.Ej)(e,"taxIdType");let y;return y=n?n.map((t=>{const{moduleKey:n}=t;let r;switch(n){case"cpf":r=a().createElement(vu,{modKey:`${e}.${n}`,label:t.label,isEditMode:u});break;case"cnpj":r=a().createElement(bu,{modKey:`${e}.${n}`,label:t.label,isEditMode:u});break;default:r=null}return a().createElement(pu,{key:t.label,isActive:p===t.value,mode:s,option:t,isEditMode:u,taxIdTypeRadioProps:{...d.props,key:d.binding.properties.key,value:t.value,checked:p===t.value,"data-autom":`${t.value}-select`,disabled:!d.binding.properties.enabled,onChange:e=>{g(e.target.value),d.binding.runSetEvents()}},taxItemContent:r})})):a().createElement(Au,{modKey:e}),a().createElement(uu,{isEditMode:u,header:r,message:l,taxPayerMessage:i,showUseTaxIdCheckbox:c,useTaxIdCheckboxProps:m,taxInfo:y})},Nu=a().memo(wu),Su=({editButtonProps:e,addressLine1:t,isEditFormLoading:n,overlayProps:r,messages:s,messagesLastUpdated:l,saveButtonProps:i,isSaveInProgress:o,deleteButtonProps:c,isDeleteInProgress:m,isDefaultAddress:d,showDefaultAddressCheckbox:u,defaultAddressCheckboxProps:p,children:g})=>{const{assets:y,viewport:v}=(0,Y.S)(),h="small"===v,E=n?a().createElement("div",{role:"img",className:"rs-shippingedit-waitindicator waitindicator waitindicator16-gray","aria-label":y.processing}):a().createElement("button",(0,Ie.A)({},e,{type:"button",className:"as-buttonlink rs-shipping-editaddress-button typography-body-reduced icon icon-after icon-pluscircle","data-autom":"rs-shipping-editAddress","aria-label":`${y.editAddressA11y} ${t}`}),y.editAddress),b=m?a().createElement("div",{role:"img",className:"rs-deleteaddress-link waitindicator waitindicator16-gray","aria-label":y.processing}):a().createElement("button",(0,Ie.A)({},c,{type:"submit",className:"as-buttonlink rs-deleteaddress-link","data-autom":"rs-shipping-addressDelete"}),y.deleteAddress);return a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-shippingedit-action"},E),a().createElement(Ke.A,(0,Ie.A)({},r,{classes:{root:"rs-shippingedit-overlay"},doublePadding:!0,ariaLabel:"rs-address-editoverlayheader",isFullscreen:h}),a().createElement("div",{className:"rs-shipping-editaddresstop"},a().createElement(ke.A,{messages:s,lastUpdated:l}),a().createElement("h2",{className:"rs-address-editoverlayheader typography-headline-reduced",id:"rs-address-editoverlayheader"},y.editAddressOverlayHeader)),g,u&&a().createElement(Vn.A,p,y.defaultAddress),a().createElement(Wt.A,(0,Ie.A)({},i,{className:"rs-shipping-button","data-autom":"shipping-saveAddress",disabled:o,isLoading:o}),y.saveChanges),a().createElement(J.Jg,{isPending:o,messages:{pending:y.processing}}),!d&&b))},Cu=({modKey:e,addressLine1:t,newAddressRef:n})=>{const r=(0,k.sW)(),s=(0,k.W4)(e,"edit"),l=`${e}.editAddress`,[i]=(0,k.lf)(l),[o,c]=(0,k.fL)(`${l}.shippingMessages`),m=(0,k.W4)(l,"save"),d=(0,k.W4)(l,"delete",{deferLoadWithDelete:!0}),u=(0,k.DZ)(l,"isDefaultAddress"),[p]=(0,k.Ej)(l,"showDefaultAddress"),[g]=(0,k.Ej)(`${l}.address`,"isBusinessAddress",!1),y=!0===u.binding.value,v={...i,onExited:()=>{i.onExited(),r({type:W.Ru.RUN_DEFERRED_DATA_UPDATES}),s.props.ref.current?s.props.ref.current.focus():n&&n.current&&n.current.focus()},onClose:()=>{i.onClose(),(0,_e.kA)()}},h={...m.props,onClick:e=>{m.props.onClick(e),g&&(0,_e.Uz)()}};return a().createElement(Su,{editButtonProps:s.props,isEditFormLoading:s.binding.properties.isLoadingSubmit,addressLine1:t,overlayProps:v,messages:o,messagesLastUpdated:c,saveButtonProps:h,isSaveInProgress:m.binding.properties.isLoadingSubmit,deleteButtonProps:d.props,isDeleteInProgress:d.binding.properties.isLoadingSubmit,showDefaultAddressCheckbox:p,defaultAddressCheckboxProps:u.props,isDefaultAddress:y},a().createElement(dl.A,{modKey:`${l}.address`,isFullWidth:!0}))},ku=a().memo(Cu),Iu=({addressFormModKey:e,showSaveToAddressBook:t,saveToAddressBookCheckboxProps:n,saveToAddressBookLabel:r,maximumAddressesMsg:s,isFullWidth:l,viewAddressMapBtn:i,isSmallScreen:o,shippingAddressMap:c})=>a().createElement("div",{className:"rs-shipping-newaddress-wrapper"},a().createElement(dl.A,{modKey:e,isFullWidth:l}),!o&&c,o&&i,a().createElement("div",{className:"large-6 small-12"},t&&a().createElement(Vn.A,n,r),Boolean(s)&&a().createElement("span",{id:"rs-shipping-maximumaddresses-msg",className:"rs-shipping-maximumaddresses-msg"},s))),Pu=({visible:e,setVisible:t,pinLocation:n,districtVal:r,countryCodeVal:s,shippingAddressMap:l})=>{const{viewport:i}=(0,Y.S)(),o="small"===i;return a().createElement(Ke.A,{className:"rs-shipping-address-map-overlay",visible:e,onClose:()=>t(!1),isFullscreen:o,noPadding:!0,fixedWidth:!0},a().createElement("div",{className:"rs-shipping-address-map-overlay-content"},a().createElement("div",{className:"rs-shipping-address-map-location-content"},l,a().createElement("div",{className:"rs-address-keyline rs-address-keyline-top large-6 small-12"}),a().createElement("div",{className:"rs-location-address"},a().createElement("p",{className:"form-dropdown-option-title rs-location-text-address"},n),r&&s&&a().createElement("p",{className:"rs-location-text-city form-dropdown-option-text"},`${r}, ${s}`)),a().createElement("div",{className:"rs-address-keyline large-6 small-12"}))))},Lu=({mapNode:e,id:t})=>{const{assets:n}=(0,Y.S)();return a().createElement("div",{className:"rt-addresslocator-map-container"},a().createElement("div",{className:"rs-shipping-address-map-content"},a().createElement("h2",{className:"rf-form-layout-section-header"},n.viewAddressMapTitle)),a().createElement("div",{role:"region",id:t,ref:e,"aria-label":n.ariaMapLabel,className:"rt-storelocator-map rs-shipping-map",onClick:()=>(0,_e.bb)(),onKeyDown:()=>(0,_e.bb)()}))},Tu={cameraDistance:300,showsMapTypeControl:!1},Ou=({mapApiKey:e,latitude:n,longitude:s,pinLocation:l})=>{const i=(0,Q.A)(),[o,c]=(0,t.useState)(!1),m=(0,t.useRef)(null),d=(0,t.useRef)([]),u=(0,t.useRef)(null),p=`addressselector-map-container-${i}`,[g,y]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{e&&ld(e,(()=>{c(!0)}))}),[e]),(0,t.useEffect)((()=>{const e=(0,r.A)("ShippingSelectedAddressMapContainer/setIsMapVisible");if(o)try{m.current=id(p,Tu),y(!0)}catch(t){throw e.error(t),Error(t)}return()=>{m.current&&m.current.destroy()}}),[p,o]),(0,t.useEffect)((()=>{if(g&&m.current){d.current.length>0&&m.current.removeAnnotations(d.current);const e=((e,t,a)=>{const n=[];if(e&&t){const r=od(Number(e),Number(t)),s=new window.mapkit.MarkerAnnotation(r);s.color="#FF0000",s.title=a,n.push(s)}return n})(n,s,l);d.current=e,m.current.addAnnotations(d.current)}}),[g,n,s,l]),(0,t.useEffect)((()=>{if(g&&m.current&&n&&s){const e=od(Number(n),Number(s));m.current.center=e,m.current.cameraDistance=Tu.cameraDistance}}),[g,n,s]),a().createElement(Lu,{mapNode:u,id:p})},Du=({modKey:e,isFullWidth:n})=>{const{assets:r,viewport:s}=(0,Y.S)(),[l]=(0,k.lE)(e),i=(0,k.DZ)(e,"saveToAddressBook"),[o]=(0,k.Ej)(`${e}.address.streetTypeAhead`,"typeAheadEnabled"),[c]=(0,k.lE)(`${e}.address.streetTypeAhead`),[m]=(0,k.Ej)(`${e}.address`,"mapApiKey"),d=(0,k.M1)(`${e}.address.displayMap`),[u]=(0,k.lE)(`${e}.address.displayMap`),p=l.SaveToAddressBookLabel||r.SaveToAddressBookLabel,[g,y]=(0,t.useState)(!1),v="small"===s,h=o&&d&&u.latitude&&u.longitude,E=h&&g;let b="",f="";if(c.results&&u.pinLocation){const e=c.results.filter((e=>e.street===u.pinLocation));e.length&&(b=e[0].district,f=e[0].countryCode)}const A=v&&h&&a().createElement("div",{className:"rs-shippingedit-action"},a().createElement("div",(0,Ie.A)({className:"as-shipping-icon as-svgicon-container"},(0,Le.OH)('<svg width="14" height="17" class="as-svgicon as-svgicon-shippingmap as-svgicon-tiny as-svgicon-shippingmaptiny" role="img" aria-hidden="true"><g fill="inherit" fill-rule="evenodd"><path d="M4.13 1.021A6.802 6.802 0 0 0 .526 4.615 6.553 6.553 0 0 0 0 7.237c0 .779.135 1.533.405 2.259a6.81 6.81 0 0 0 1.167 2.007 7.791 7.791 0 0 0 1.835 1.595c.555.347 1.018.66 1.39.94.374.278.678.565.915.859.237.294.423.641.559 1.038.096.276.255.415.476.415.221 0 .383-.139.483-.415.137-.397.321-.744.556-1.038.234-.294.538-.581.914-.859.375-.28.84-.593 1.394-.94a7.938 7.938 0 0 0 1.832-1.595 6.8 6.8 0 0 0 1.171-2.007c.269-.726.403-1.48.403-2.259 0-.936-.174-1.81-.524-2.622a6.788 6.788 0 0 0-1.455-2.146 6.748 6.748 0 0 0-2.149-1.448A6.6 6.6 0 0 0 6.747.5c-.932 0-1.804.173-2.617.521Zm4.85.919a5.84 5.84 0 0 1 3.078 3.071c.293.682.442 1.43.442 2.226 0 .657-.114 1.3-.34 1.91a5.843 5.843 0 0 1-1 1.713c-.445.531-.984 1-1.598 1.391a22.17 22.17 0 0 0-1.459.984 5.849 5.849 0 0 0-1.098 1.038 3.989 3.989 0 0 0-.255.358 4.116 4.116 0 0 0-.259-.36 6.023 6.023 0 0 0-1.094-1.034 21.147 21.147 0 0 0-1.455-.984 6.843 6.843 0 0 1-1.602-1.39 5.877 5.877 0 0 1-.998-1.716A5.482 5.482 0 0 1 1 7.237c0-.794.15-1.543.444-2.226a5.856 5.856 0 0 1 1.243-1.835A5.79 5.79 0 0 1 4.523 1.94a5.626 5.626 0 0 1 2.224-.44c.798 0 1.549.148 2.233.44Z"/><path d="M6.74 5.519c0-.017-.007-.057-.007-.097 0-.272.141-.532.288-.707.187-.221.497-.391.762-.397.006.029.006.063.006.102 0 .272-.113.532-.27.73-.176.216-.47.374-.707.374-.028 0-.05-.005-.073-.005Zm1.433 1.573c0 .775.672 1.047.695 1.053 0 .017-.102.379-.356.74-.22.318-.463.64-.813.64-.356 0-.44-.21-.853-.21-.395 0-.536.216-.858.216-.328 0-.554-.294-.814-.662a3.249 3.249 0 0 1-.542-1.726c0-1.014.661-1.551 1.305-1.551.35 0 .632.226.847.226.21 0 .525-.237.915-.237.152 0 .683.01 1.028.515-.029.028-.554.323-.554.996Z"/></g></svg>'))),a().createElement("button",{type:"button",className:"as-buttonlink rs-shipping-editaddress-button typography-body-reduced",onClick:()=>{y(!0),(0,_e.BN)()},"data-autom":"View_addres_map"},a().createElement("span",null,r.viewAddressLabel)));return a().createElement(a().Fragment,null,a().createElement(Iu,{addressFormModKey:`${e}.address`,showSaveToAddressBook:l.showSaveToAddressBook,saveToAddressBookCheckboxProps:i.props,saveToAddressBookLabel:p,maximumAddressesMsg:l.maximumAddressesMsg,isFullWidth:n,viewAddressMapBtn:A,isSmallScreen:v,shippingAddressMap:o&&d&&a().createElement(Ou,{mapApiKey:m,latitude:u.latitude,longitude:u.longitude,pinLocation:u.pinLocation})}),v&&E&&a().createElement(Pu,{visible:g,setVisible:y,pinLocation:u.pinLocation,districtVal:b,countryCodeVal:f,shippingAddressMap:o&&d&&a().createElement(Ou,{mapApiKey:m,latitude:u.latitude,longitude:u.longitude,pinLocation:u.pinLocation})}))},xu=a().memo(Du),Mu="newAddr",Fu=({modKey:e,addressOptions:t,radioProps:n,selectedAddress:r,showNewAddressForm:s,isFullWidth:l})=>{const{assets:i}=(0,Y.S)(),o=`${e}.savedAddresses`,c=`${e}.newAddress`,m=a().useRef(null);return a().createElement("div",{className:"rs-shipping-savedaddresses"},a().createElement(Am.A,{tag:"div"},t.map((e=>{const t=e.isSavedAddress?a().createElement(ku,{modKey:`${o}.${e.value}`,addressLine1:e.addressLine1,newAddressRef:m}):!e.isApplicationAddress&&a().createElement(j.x,{in:s},a().createElement(xu,{modKey:c,isFullWidth:l})),d=e.value===Mu?"rs-shipping-maximumaddresses-msg":null,u=e.value===Mu?"newAddress":"saved-address";return a().createElement(a().Fragment,{key:e.value},a().createElement(nc.Ay,(0,Ie.A)({},n,{tag:"div",name:"addressSelectorButtons",value:e.value,checked:r===e.value,className:"small-12 "+(l?"large-12":"large-6"),"aria-describedby":d,"data-autom":u,ref:e.value===Mu?m:null}),a().createElement("span",{className:"row"},a().createElement("span",{className:"form-selector-left-col"},a().createElement("span",{className:"form-selector-title"},e.addressName),(e.isSavedAddress||e.isApplicationAddress)&&a().createElement("span",{className:"form-label-small"},Boolean(e.provinceCityDistrict)&&e.provinceCityDistrict,e.addressLine1,Boolean(e.phoneNumber)&&a().createElement("span",{className:"rs-shipping-addressselector-phone"},e.phoneNumber))),e.isDefaultAddr&&a().createElement("span",{className:"form-selector-right-col nowrap"},i.default))),e.message&&a().createElement("div",{className:`rs-shipping-savedaddresses-message ${ra.A.CAPTION}`},e.message),t)}))))},Bu=({modKey:e,isFullWidth:t})=>{const[n]=(0,k.Ej)(e,"radioAddresses"),r=(0,k.tx)(e,"selectAddress"),s=(0,k.Yl)(`${e}.newAddress`);return a().createElement(Fu,{modKey:e,addressOptions:n,radioProps:r.props,selectedAddress:r.binding.value,showNewAddressForm:s.properties.visible,isFullWidth:t})},Ru=a().memo(Bu),_u=({emailFormModKey:e,phoneFormModKey:t,makoFormModKey:n,hasContactEmail:r,hasContactPhone:s,hasContactPhoneMako:l,verificationWidget:i,contactEmailSectionHeader:o,contactPhoneMakoSectionHeader:c,message:m})=>{const d=Boolean(o),u=Boolean(c);return a().createElement("fieldset",{className:"rs-shipping-addresscontact"},d&&a().createElement("legend",{className:"large-6 small-12"},a().createElement("h2",{className:"rs-address-subheader rf-form-layout-section-header"},o)),u&&a().createElement("legend",{className:"large-6 small-12"},a().createElement("h2",{className:"rs-address-subheader rf-form-layout-section-header"},c)),Boolean(i)&&i,r&&a().createElement(dl.A,{modKey:e}),s&&a().createElement(dl.A,{modKey:t}),l&&a().createElement(dl.A,{modKey:n}),a().createElement(J.Ay,{message:m}))},$u=({onVerificationSuccess:e})=>({onComplete:({data:t}={})=>{e&&e(t.token)}}),Hu=({bootstrap:e={},onVerificationSuccess:n})=>{const r=(0,t.useRef)(!1),{viewport:s}=(0,Y.S)(),l=e.containerId||"rt-apple-verify-widget",i=C().get(window,"AppleID.service.verify.init",C().noop),o={...e,containerId:l,callbacks:$u({onVerificationSuccess:n})};return(0,t.useEffect)((()=>{Boolean(s)&&!r.current&&(i(o),r.current=!0)}),[s]),a().createElement("div",{className:"rt-apple-verify",id:l})};var Ku=__webpack_require__(9826);const Vu=({modKey:e,triggerEl:n})=>{const{assets:r}=(0,Y.S)(),[s,l]=(0,k.Ej)(`${e}.verificationModule`,"authRequired",!1),{modExists:i,data:o}=(0,k.Yl)(`${e}.verificationModule`),c=(0,k.LZ)(`${e}.verificationModule`,"verificationToken"),m=c.properties.isLoadingSubmit;return(0,t.useEffect)((()=>{const e=document.querySelector(".form-textbox-with-righticon .icon-check");e&&(e.setAttribute("tabindex","-1"),e.focus())}),[m]),a().createElement(a().Fragment,null,m&&a().createElement(Ku.A,null),a().createElement(Ke.A,{className:"rs-verification-overlay",visible:s&&i,fixedWidth:!0,contentAttrs:{"aria-label":r.contactVerifyLabel},onClose:()=>{l(!1)},onExited:()=>{const e=document.getElementById(n.props.id);e&&!m&&e.focus()},unmountOnExit:!0},a().createElement(Hu,{bootstrap:o,onVerificationSuccess:e=>{l(!1),c.setValue(e),c.runSetEvents()}})))},Uu=({modKey:e})=>{const{assets:t}=(0,Y.S)(),n=`${e}.addressContactEmail`,r=`${e}.addressContactPhone`,s=`${e}.addressContactPhoneMako`,l=(0,k.M1)(n),i=(0,k.M1)(r),o=(0,k.M1)(s),[c]=(0,k.Ej)(n,"sectionHeader"),[m]=(0,k.Ej)(s,"sectionHeader"),d=(0,k.LZ)(`${r}.address`,"isDaytimePhoneSelected"),u=(0,k.LZ)(`${r}.address`,"mobilePhone"),p=(0,k.W4)(`${r}.address`,"verify"),g=(0,k.LZ)(`${r}.address`,"daytimePhoneAreaCode"),y=(0,k.M1)(`${r}.address.verificationModule`),v=d.bindExists,h=d.value,[E,b]=(0,J.oM)();return(0,G.A)((()=>{v&&(h?(b(t.landLineNumberContentUpdatedA11y),g.setProperty("focused",!0)):(b(t.mobileNumberContentUpdatedA11y),u.setProperty("focused",!0)))}),[v,h]),a().createElement(_u,{emailFormModKey:`${n}.address`,phoneFormModKey:`${r}.address`,makoFormModKey:`${s}.address`,hasContactEmail:l,hasContactPhone:i,hasContactPhoneMako:o,verificationWidget:y&&a().createElement(Vu,{modKey:`${r}.address`,triggerEl:p}),contactEmailSectionHeader:c,contactPhoneMakoSectionHeader:m,hasDaytimePhoneCheckbox:v,isDaytimePhoneSelected:h,message:E})},Wu=a().memo(Uu),Gu=({option:{value:e,sublabel:t,label:n,moduleKey:r},fapiaoSelectorProps:s,fapiaoBindingKey:l,dataAutom:i,checked:o,disabled:c})=>{const m="sVATFapiao"===r?"fapiao-message-svat-header fapiao-message-svat-content":`fapiao-message-${e}-info`;return a().createElement(nc.Ay,(0,Ie.A)({},s,{tag:"div",id:`${l}-${e}`,tagAttrs:{"data-autom":i},"data-autom":`${i}-radio`,name:l,value:e,disabled:c,classes:{input:"form-selector-input"},"aria-describedby":m,checked:o}),a().createElement("span",{className:"row"},a().createElement("span",{className:"form-selector-left-col"},n&&a().createElement("span",{className:"form-selector-title"},n),t&&a().createElement("span",{className:"form-label-small"},t))))},ju=({bankAccountNameFieldProps:e,bankAccountNumberFieldProps:t,modKey:n})=>{const{assets:r}=(0,Y.S)();return a().createElement("div",{className:"rs-company-details"},a().createElement(dl.A,{isFullWidth:!0,modKey:`${n}.eFapiaoAddress.address`}),a().createElement(ki.A,(0,Ie.A)({},e,{label:r.bankAccountHeader})),a().createElement(ki.A,(0,Ie.A)({},t,{label:r.companyBankAccountNumber})))},qu=({modKey:e,label:t,companyNameFieldProps:n,companyTaxIdFieldProps:r,bankAccountNameFieldProps:s,bankAccountNumberFieldProps:l,addCompanyInfoToggleProps:i,addCompanyInfo:o})=>{const{assets:c}=(0,Y.S)(),m=Z()("icon","icon-after",{"icon-chevronup":o},{"icon-chevrondown":!o});return a().createElement("div",{className:"rs-fapiao-padding-wrapper row"},a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",{className:"rs-fapiao-e-company-starting-textfields"},a().createElement("fieldset",null,a().createElement("legend",{className:"visuallyhidden"},t),a().createElement(ki.A,(0,Ie.A)({},n,{label:c.efapiaoCompanyName})),a().createElement(ki.A,(0,Ie.A)({},r,{label:c.companyTaxId})))),a().createElement("div",null,a().createElement("button",(0,Ie.A)({},i,{type:"button",className:"as-buttonlink rs-company-info"}),o?c.companyInfoExpanded:c.companyInfoCollapsed,a().createElement("span",{"aria-hidden":"true",className:m})),a().createElement("div",{className:"rs-fapiao-e-company-add-company-info-section"},a().createElement(j.x,{in:o},a().createElement(ju,{modKey:e,bankAccountNameFieldProps:s,bankAccountNumberFieldProps:l}))))))},Yu=({modKey:e,label:t})=>{const[n,r]=(0,k.Ej)(e,"addCompanyInfo"),s=(0,k.Pf)(e,"companyName"),l=(0,k.Pf)(e,"taxPayerIdPersonal"),i=(0,k.W4)(e,"addCompanyInfo"),o=(0,k.Pf)(`${e}.bankInfo`,"bankAccountName"),c=(0,k.Pf)(`${e}.bankInfo`,"bankAccountNumber"),m={...i.props,onClick:e=>{r(!n),i.props.onClick(e)}};return a().createElement(qu,{companyNameFieldProps:s.props,companyTaxIdFieldProps:l.props,addCompanyInfoToggleProps:m,addCompanyInfo:n,modKey:e,label:t,bankAccountNameFieldProps:o.props,bankAccountNumberFieldProps:c.props})},zu=a().memo(Yu),Zu=({fapiaoImageUrl:e,fapiaoImageAlt:t,id:n,shown:r,setShown:s})=>{const{assets:l,viewport:i}=(0,Y.S)(),o="small"===i;return a().createElement(Ke.A,{visible:r,onClose:()=>s(!1),ariaLabel:`${n}-overlayHeading`,isFullscreen:o,classes:{content:"rs-fapiaosample-overlay"}},a().createElement("h2",{id:`${n}-overlayHeading`,className:"visuallyhidden"},l.fapiaoExample),a().createElement("img",{className:"rs-fapiaosample-img",alt:t,src:e}))},Ju=({fapiaoImageUrl:e,fapiaoImageAlt:n,id:r})=>{const{assets:s}=(0,Y.S)(),[l,i]=(0,t.useState)(!1);return a().createElement("div",{className:"rs-fapiaosample"},a().createElement(Zu,{shown:l,setShown:i,fapiaoImageAlt:n,fapiaoImageUrl:e,id:r}),a().createElement("button",{className:"as-buttonlink rs-fapiaosample-link",type:"button",onClick:()=>{oe({eVar:se,feature:"ShippingAddress",part:"Fapiao",action:"DisplayInvoiceSample"}),i(!0)}},s.showFapaioexample))},Xu=({modKey:e})=>{const[t]=(0,k.lE)(e),{fapiaoImageAlt:n,fapiaoImageUrl:r,id:s}=t;return a().createElement(Ju,{fapiaoImageAlt:n,fapiaoImageUrl:r,id:s})},Qu=a().memo(Xu),ep=({fapiaoEnterpriseHeader:e,invoiceHeaderTextFieldProps:t,taxPayerIdPersonalTextFieldProps:n,showEnterpriseTaxId:r})=>{const{assets:s}=(0,Y.S)();return a().createElement("div",{className:"rs-fapiao-enterprise-fapiao-fields-info"},a().createElement("div",{className:"rs-fapiao-ep-header"},e),a().createElement(ki.A,(0,Ie.A)({},t,{label:s.fapaioTitle})),r&&a().createElement("div",{className:"rs-fapiao-ep-taxid"},a().createElement(ki.A,(0,Ie.A)({},n,{label:s.fapaiotaxId}))))},tp=({option:{value:e,label:t,sublabel:n},selectCommerceFapiaoProps:r,selectedCommerceOption:s,fapiaoEnterpriseHeader:l,invoiceHeaderTextFieldProps:i,taxPayerIdPersonalTextFieldProps:o,showEnterpriseTaxId:c})=>{const m=e===s;return a().createElement("div",{key:e,className:"column large-12 small-12 "},a().createElement(nc.Ay,(0,Ie.A)({},r,{name:"selectCommerceFapiao",value:e,classes:{input:"form-selector-input"}}),a().createElement("div",{className:"row"},a().createElement("div",{className:"form-selector-left-col"},a().createElement("div",{className:"form-selector-title"},t),a().createElement("div",{className:"form-label-small"},n)))),"enterprise"===e&&a().createElement(j.x,{in:m},a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-12 small-12"},a().createElement(ep,{fapiaoEnterpriseHeader:l,invoiceHeaderTextFieldProps:i,taxPayerIdPersonalTextFieldProps:o,showEnterpriseTaxId:c})))))},ap=({modKey:e,useDeliveryAddress:t,useDeliveryAddressCheckboxProps:n,commerceFapiaoHeader:r,options:s,fapiaoAddressExists:l,showUseDelivery:i,commerceOptionProps:o})=>{const{assets:c}=(0,Y.S)(),m=!t;return a().createElement("div",{className:"rs-fapiao-padding-wrapper row"},a().createElement("div",{className:"rs-fapiao-commerce typography-body column large-6 small-12"},a().createElement("fieldset",{className:"row"},a().createElement("legend",{className:"form-selector-title"},r),a().createElement(Qu,{modKey:e}),s.map((e=>a().createElement(tp,(0,Ie.A)({},o,{option:e,key:`fapiao-commerce-option-${e.moduleKey}`}))))),a().createElement("div",{className:"rs-fapiao-checkbox"},a().createElement("div",{className:"rs-fapiao-fp-address-header rs-fapiao-checkbox-divider"},c.fapaioDeliveryAddress),i&&a().createElement(Vn.A,(0,Ie.A)({},n,{name:"useDeliveryAddress"}),c.useDeliveryAddress),a().createElement("div",{className:"rs-fapiao-address-form-background"},l&&a().createElement(j.x,{in:m},a().createElement(dl.A,{modKey:`${e}.fapiaoAddress.address`,isFullWidth:!0,classes:{layout:"commerce-fapiao-address-section",field:"rs-invoice-address-rowfields"}}))))))},np=({modKey:e})=>{const t=(0,k.DZ)(e,"useDeliveryAddress"),n=(0,k.Yl)(e),r=(0,k.M1)(`${e}.fapiaoAddress`),s=(0,k.tx)(e,"selectCommerceFapiao"),[l]=(0,k.Ej)(`${e}.enterpriseFapiao`,"OtherTitleHeader"),i=(0,k.Pf)(`${e}.enterpriseFapiao`,"invoiceHeader"),o=(0,k.Pf)(`${e}.enterpriseFapiao`,"taxPayerIdPersonal"),{useDeliveryAddress:c,commerceFapiaoHeader:m,options:d}=n.data,u={selectCommerceFapiaoProps:s.props,selectedCommerceOption:s.binding.value,fapiaoEnterpriseHeader:l,invoiceHeaderTextFieldProps:i.props,taxPayerIdPersonalTextFieldProps:o.props,showEnterpriseTaxId:o.binding.properties.submit};return a().createElement(ap,{useDeliveryAddressCheckboxProps:t.props,useDeliveryAddress:c,commerceFapiaoHeader:m,modKey:e,options:d,fapiaoAddressExists:r,showUseDelivery:t.binding.properties.visible,commerceOptionProps:u})},rp=a().memo(np),sp=({modKey:e,sVATFapiaoCompanyInfo:t,companyNameFieldProps:n,taxPayerIdFieldProps:r,bankAccountNameFieldProps:s,bankAccountNumberFieldProps:l,useDeliveryAddressCheckboxProps:i,useDeliveryAddress:o,fapiaoAddressModExists:c,fapiaoCompanyAddressModExists:m})=>{const{assets:d,viewport:u}=(0,Y.S)(),p="small"===u,g=!o;return a().createElement("div",{className:"rs-fapiao-svat"},a().createElement("div",{id:`${e}-company-info-header`,className:"rs-fapiao-svat-header"},t),a().createElement(Qu,{modKey:e}),a().createElement("fieldset",{"aria-labelledby":`${e}-company-info-header`},a().createElement("div",{className:"large-6 small-12 rs-fapiao-svat-company-details"},a().createElement(ki.A,(0,Ie.A)({},n,{label:d.sVATCompanyName})),a().createElement(ki.A,(0,Ie.A)({},r,{label:d.sVATTaxPayerId}))),m&&a().createElement("div",{className:"large-12 rs-fapiao-svat-companyaddress"},a().createElement(dl.A,{isFullWidth:p,modKey:`${e}.fapiaoCompanyAddress.address`}))),a().createElement("div",{className:"large-6 small-12"},a().createElement("fieldset",null,a().createElement("legend",{className:"rs-fapiao-header-margin"},d.companyBankAccount),a().createElement(ki.A,(0,Ie.A)({},s,{label:d.bankAccountHeader})),a().createElement("div",{className:"rs-fapiao-svat-bankaccount-number"},a().createElement(ki.A,(0,Ie.A)({},l,{label:d.bankAccountNumber}))))),a().createElement("div",{className:"rs-fapiao-fp-address-header"},d.fapaioDeliveryAddress),a().createElement("div",{className:"row"},a().createElement(Vn.A,(0,Ie.A)({},i,{name:"useDeliveryAddress",id:"svat-use-delivery-address"}),d.useDeliveryAddress)),c&&a().createElement(j.x,{in:g},a().createElement("div",{className:"large-12 rs-fapiao-svat-address"},a().createElement(dl.A,{isFullWidth:p,modKey:`${e}.fapiaoAddress.address`}))))},lp=({modKey:e})=>{const[t]=(0,k.lE)(e),n=(0,k.Pf)(e,"companyName"),r=(0,k.Pf)(e,"taxPayerId"),s=(0,k.Pf)(e,"bankAccountName"),l=(0,k.Pf)(e,"bankAccountNumber"),i=(0,k.DZ)(e,"useDeliveryAddress"),o=(0,k.M1)(`${e}.fapiaoAddress`),c=(0,k.M1)(`${e}.fapiaoCompanyAddress`),{useDeliveryAddress:m,sVATFapiaoCompanyInfo:d}=t;return a().createElement(sp,{sVATFapiaoCompanyInfo:d,companyNameFieldProps:n.props,taxPayerIdFieldProps:r.props,bankAccountNameFieldProps:s.props,bankAccountNumberFieldProps:l.props,useDeliveryAddressCheckboxProps:i.props,useDeliveryAddress:m,modKey:e,fapiaoAddressModExists:o,fapiaoCompanyAddressModExists:c})},ip=a().memo(lp),op=({invoiceTypeLabel:e,invoiceType:t,addressModKey:n})=>a().createElement("div",{className:"rs-review-invoice-details row"},a().createElement("div",{className:"column large-6 small-12 rs-review-invoice-column"},a().createElement("div",{className:"rs-review-invoice-section rs-review-invoice-paddingbottom"},a().createElement("div",{className:"rs-review-invoice-label"},e),a().createElement("div",{className:"rs-review-invoice-value"},t))),a().createElement("div",{className:"column large-6 small-12 rs-review-invoice-column"},a().createElement(dl.A,{modKey:n,isFullWidth:!0}))),cp=({consumerInvoiceAddressExists:e,useBillingAddressButtonProps:t,isUseBillingAddress:n,useBillingAddressLabel:r,consumerAddressModKey:s})=>{const{viewport:l}=(0,Y.S)(),i="small"===l;return a().createElement("div",{className:"rs-consumerinvoice-container large-12 small-12"},a().createElement("div",{className:"rs-consumerinvoice-address"},n&&a().createElement("div",{className:"rs-consumerinvoice-checkbox large-6 small-12"},a().createElement("button",(0,Ie.A)({},t,{type:"button",className:"block-link rs-consumerinvoice-usebusinessaddress"}),e&&r)),e&&a().createElement(dl.A,{isFullWidth:i,modKey:s,classes:{field:"rs-invoice-address-rowfields"}})))},mp=({modKey:e,mode:t="EDIT"})=>{const[n]=(0,k.lE)(e),r=(0,k.Yl)(`${e}.consumerInvoiceAddress`),s=(0,k.W4)(`${e}.consumerInvoiceAddress`,"isUseBillingAddress"),{isUseBillingAddress:l,useBillingAddressLabel:i}=r.data,{invoiceTypeLabel:o,invoiceType:c}=n;return"EDIT"!==t?a().createElement(op,{invoiceTypeLabel:o,invoiceType:c,addressModKey:`${e}.address`}):a().createElement(cp,{consumerInvoiceAddressExists:r.modExists,useBillingAddressButtonProps:s.props,isUseBillingAddress:l,useBillingAddressLabel:i,consumerAddressModKey:`${e}.consumerInvoiceAddress.address`})},dp=a().memo(mp),up=({corporateIdFieldProps:e,emailAddressFieldProps:t,corporateIdInstruction:n,enterpriseInvoiceAddressExists:r,enterpriseAddressModKey:s,isUseBillingAddress:l,useBillingAddressLabel:i,useBillingAddressButtonProps:o,isEmailAddressField:c})=>{const{assets:m,viewport:d}=(0,Y.S)(),u="small"===d;return a().createElement("div",{className:Z()({"rs-enterpriseinvoice-container":c},{"rs-enterpriseinvoice-gstin-container":!c},"large-12 small-12")},a().createElement("div",{className:"rs-enterpriseinvoice-address"},a().createElement("div",{className:"row"},a().createElement("div",{className:"rs-enterpriseinvoice-field-container column large-6 small-12"},a().createElement("div",{className:"rs-enterpriseinvoice-corporateid-field"},a().createElement(ki.A,e))),a().createElement("div",{className:"rs-invoice-supplementalinfo column large-6 small-12"},a().createElement("div",(0,Ie.A)({className:"as-supplementalinfo"},(0,Le.OH)(n))))),c&&a().createElement("div",{className:"rs-enterpriseinvoice-field-container large-6 small-12"},a().createElement("div",{className:"rs-enterpriseinvoice-email-field"},a().createElement(ki.A,t))),c&&a().createElement("div",{className:"rs-enterpriseinvoice-field-container large-6 small-12"},a().createElement("div",{className:"rs-enterpriseinvoice-label"},m.enterpriseInvoiceLabel)),l&&a().createElement("div",{className:"rs-enterpriseinvoice-checkbox large-6 small-12"},a().createElement("button",(0,Ie.A)({},o,{type:"button",className:"block-link rs-enterpriseinvoice-usebusinessaddress"}),r&&i)),r&&a().createElement(dl.A,{isFullWidth:u,modKey:s,classes:{field:"rs-invoice-address-rowfields"}})))},pp=({invoiceTypeLabel:e,invoiceType:t,corporateIdLabel:n,corporateId:r,emailAddressLabel:s,emailAddress:l,addressModKey:i})=>a().createElement("div",{className:"rs-review-invoice-details row"},a().createElement("div",{className:"column large-6 small-12 rs-review-invoice-column"},a().createElement("div",{className:"rs-review-invoice-section rs-review-invoice-paddingbottom"},a().createElement("div",{className:"rs-review-invoice-label"},e),a().createElement("div",{className:"rs-review-invoice-value"},t)),a().createElement("div",{className:"rs-review-invoice-section rs-review-invoice-paddingbottom"},a().createElement("div",{className:"rs-review-invoice-label"},n),a().createElement("div",{className:"rs-review-invoice-value"},r)),a().createElement("div",{className:"rs-review-invoice-section"},a().createElement("div",{className:"rs-review-invoice-label"},s),a().createElement("div",{className:"rs-review-invoice-value"},l))),a().createElement("div",{className:"column large-6 small-12 rs-review-invoice-column"},a().createElement(dl.A,{modKey:i,isFullWidth:!0}))),gp=({modKey:e,mode:n="EDIT"})=>{const{assets:r}=(0,Y.S)(),[s]=(0,k.lE)(e),l=(0,k.Pf)(e,"corporateId"),i=(0,k.Pf)(e,"emailAddress"),o=(0,k.Yl)(`${e}.enterpriseInvoiceAddress`),c=(0,k.W4)(`${e}.enterpriseInvoiceAddress`,"isUseBillingAddress"),m=(0,k.LZ)(e,"currentGstinState"),d=m.bindExists,u=(0,k.sW)(),{corporateIdLabel:p,emailAddressLabel:g,corporateIdInstruction:y,emailAddress:v,corporateId:h,invoiceTypeLabel:E,invoiceType:b,options:f,billingState:A,currentGstinState:w}=s,{isUseBillingAddress:N,useBillingAddressLabel:S}=o.data;(0,t.useEffect)((()=>{A&&u({type:W.Ru.BLUR,modKey:e,bindName:"corporateId"}),""!==A&&A!==w&&l.props.ref&&l.props.ref.current&&l.props.ref.current.focus()}),[A]);const C={...l.props,label:p,"aria-label":d&&r.gstInAriaLabel,"aria-labelledby":"",onChange:e=>{l.props.onChange(e),(e=>{if(d&&f){const t=e.target.value,a=f.filter((e=>t.slice(0,2)===e.value&&e));m.setValue(a[0]&&a[0].label)}})(e)}},I={...i.props,label:g},P=i.binding.bindExists;return"EDIT"!==n?a().createElement(pp,{emailAddressLabel:g,emailAddress:v,corporateIdLabel:p,corporateId:h,invoiceTypeLabel:E,invoiceType:b,addressModKey:`${e}.address`}):a().createElement(up,{corporateIdFieldProps:C,emailAddressFieldProps:I,corporateIdInstruction:y,enterpriseInvoiceAddressExists:o.modExists,enterpriseAddressModKey:`${e}.enterpriseInvoiceAddress.address`,isUseBillingAddress:N,useBillingAddressLabel:S,useBillingAddressButtonProps:c.props,isEmailAddressField:P})},yp=a().memo(gp),vp=({commonMediaNumberCDCInstruction:e,commonMediaNumberCDCFieldProps:t,citizensDigitalCertificateSrc:n,citizensDigitalCertificateAlt:r,commonMediaNumberCDCValidationInstruction:s,commonMediaNumberCDCValidationFieldProps:l})=>a().createElement("div",{className:"rs-invoice-container"},a().createElement("div",{className:"row"},a().createElement("div",{className:"rs-invoice-accountnumber-field form-tooltip-textbox-wrapper form-icons-focusable column large-6 small-12"},a().createElement(ki.A,(0,Ie.A)({},t,{classes:{root:Z()({"form-tooltip-right-textbox-wrapper":n})}})),n&&a().createElement(Bn.Ay,{after:!0,right:!0},a().createElement(Bn.ZI,{className:"rs-invoice-tooltip-citizen-logo"},a().createElement(kt.Ay,{src:n,alt:r})))),a().createElement("div",{className:"rs-invoice-supplementalinfo column large-6 small-12"},a().createElement("div",{className:"as-supplementalinfo"},e))),a().createElement("div",{className:"row"},a().createElement("div",{className:"rs-invoice-accountnumber-validation-field column large-6 small-12",onPaste:e=>{e.preventDefault(),e.stopPropagation()}},a().createElement(ki.A,l)),a().createElement("div",{className:"rs-invoice-supplementalinfo column large-6 small-12"},a().createElement("div",{className:"as-supplementalinfo"},s)))),hp=({modKey:e})=>{const[t]=(0,k.lE)(e),n=(0,k.Pf)(e,"commonMediaNumberCDC"),r=(0,k.Pf)(e,"commonMediaNumberCDCValidation"),{commonMediaNumberCDCLabel:s,src:l,alt:i,commonMediaNumberCDCInstruction:o,commonMediaNumberCDCValidationInstruction:c,commonMediaNumberCDCValidationLabel:m}=t,d={...n.props,label:s,onChange:e=>{n.props.onChange(e),n.binding.setValue(e.target.value.toString().toUpperCase())}},u={...r.props,label:m,onChange:e=>{r.props.onChange(e),r.binding.setValue(e.target.value.toString().toUpperCase())}};return a().createElement(vp,{commonMediaNumberCDCFieldProps:d,citizensDigitalCertificateSrc:l,citizensDigitalCertificateAlt:i,commonMediaNumberCDCInstruction:o,commonMediaNumberCDCValidationFieldProps:u,commonMediaNumberCDCValidationInstruction:c})},Ep=a().memo(hp),bp=({commonMediaNumberHandphoneInstruction:e,commonMediaNumberHandphoneFieldProps:t,eguiMobileBarcodeSrc:n,eguiMobileBarcodeAlt:r,commonMediaNumberHandphoneValidationInstruction:s,commonMediaNumberHandphoneValidationFieldProps:l})=>a().createElement("div",{className:"rs-invoice-container"},a().createElement("div",{className:"row"},a().createElement("div",{className:"rs-invoice-accountnumber-field form-tooltip-textbox-wrapper form-icons-focusable column large-6 small-12"},a().createElement(ki.A,(0,Ie.A)({},t,{classes:{root:Z()({"form-tooltip-right-textbox-wrapper":n})}})),n&&a().createElement(Bn.Ay,{after:!0,right:!0},a().createElement(Bn.ZI,{className:"rs-invoice-tooltip-mobilebarcode-logo"},a().createElement(kt.Ay,{src:n,alt:r})))),a().createElement("div",{className:"rs-invoice-supplementalinfo column large-6 small-12"},a().createElement("div",{className:"as-supplementalinfo"},e))),a().createElement("div",{className:"row"},a().createElement("div",{className:"rs-invoice-accountnumber-validation-field column large-6 small-12",onPaste:e=>{e.preventDefault(),e.stopPropagation()}},a().createElement(ki.A,l)),a().createElement("div",{className:"rs-invoice-supplementalinfo column large-6 small-12"},a().createElement("div",{className:"as-supplementalinfo"},s)))),fp=({modKey:e})=>{const[t]=(0,k.lE)(e),n=(0,k.Pf)(e,"commonMediaNumberHandphone"),r=(0,k.Pf)(e,"commonMediaNumberHandphoneValidation"),{commonMediaNumberHandphoneInstruction:s,commonMediaNumberHandphoneLabel:l,src:i,alt:o,commonMediaNumberHandphoneValidationInstruction:c,commonMediaNumberHandphoneValidationLabel:m}=t,d={...n.props,label:l,onChange:e=>{n.props.onChange(e),n.binding.setValue(e.target.value.toString().toUpperCase())}},u={...r.props,label:m,onChange:e=>{r.props.onChange(e),r.binding.setValue(e.target.value.toString().toUpperCase())}};return a().createElement(bp,{commonMediaNumberHandphoneInstruction:s,commonMediaNumberHandphoneFieldProps:d,eguiMobileBarcodeSrc:i,eguiMobileBarcodeAlt:o,commonMediaNumberHandphoneValidationFieldProps:u,commonMediaNumberHandphoneValidationInstruction:c})},Ap=a().memo(fp),wp=({donationOrgCodeInstruction:e,donationOrgCodeFieldProps:t,donationOrgCodeValidationFieldProps:n})=>a().createElement("div",{className:"rs-invoice-container"},a().createElement("div",{className:"row"},a().createElement("div",{className:"rs-invoice-accountnumber-field column large-6 small-12"},a().createElement(ki.A,t)),a().createElement("div",{className:"rs-invoice-supplementalinfo column large-6 small-12"},a().createElement("div",{className:"as-supplementalinfo"},e))),a().createElement("div",{className:"rs-invoice-accountnumber-validation-field large-6 small-12",onPaste:e=>{e.preventDefault(),e.stopPropagation()}},a().createElement(ki.A,n))),Np=({modKey:e})=>{const[t]=(0,k.lE)(e),n=(0,k.Pf)(e,"donationOrgCode"),r=(0,k.Pf)(e,"donationOrgCodeValidation"),{donationOrgCodeLabel:s,donationOrgCodeInstruction:l,donationOrgCodeValidationLabel:i}=t,o={...n.props,label:s},c={...r.props,label:i};return a().createElement(wp,{donationOrgCodeInstruction:l,donationOrgCodeFieldProps:o,donationOrgCodeValidationFieldProps:c})},Sp=a().memo(Np),Cp=({sectionHeader:e,LegalNameFieldProps:t,companyKeyFieldProps:n,corporatepostalcodeField:r,taxRegimeDropdown:s,taxRegimaOption:l,endUseCodeDropdown:i,endUseCodeOptions:o})=>a().createElement("div",{className:"rs-cfdi-tax-invoice-container"},a().createElement("h3",{className:"rs-invoice-section-header large-6 small-12"},e),a().createElement("div",{className:"rf-form-layout-row rf-form-layout-row-combo--companyKey"},a().createElement("div",{className:"rf-form-layout-row-fields rs-invoice-payment-rfc-field column small-12 large-6"},a().createElement(ki.A,n)),n.fieldLevelMessage&&a().createElement("div",{className:"rs-invoice-field-message typography-body-reduced column small-12 large-6"},n.fieldLevelMessage)),a().createElement("div",{className:"rs-invoice-payment-field column large-6 small-12"},a().createElement(ki.A,t),a().createElement(ki.A,r)),a().createElement("div",{className:"rf-form-layout-row rf-form-layout-row-combo--taxRegime"},a().createElement("div",{className:"rf-form-layout-row-fields rs-invoice-payment-rfc-field column small-12 large-6"},a().createElement(Gr.A,(0,Ie.A)({},s,{id:"rs-invoice-tax-regime"}),l.map((e=>a().createElement(Gr.n,{key:e.value,value:e.value},e.label))))),s.fieldLevelMessage&&a().createElement("div",{className:"rs-invoice-field-message typography-body-reduced rs-taxregime-message column small-12 large-6"},s.fieldLevelMessage)),a().createElement("div",{className:"rs-invoice-payment-field column large-6 small-12"},a().createElement(Gr.A,(0,Ie.A)({},i,{id:"rs-invoice-enduse-code"}),o.map((e=>a().createElement(Gr.n,{key:e.value,value:e.value},e.label)))))),kp=({modKey:e})=>{const[t]=(0,k.lE)(e),[n]=(0,k.Ej)(e,"companyKey"),r=(0,k.Pf)(e,"companyKey"),s=(0,k.Pf)(e,"legalName"),l=(0,k.Pf)(e,"corporatePostalCode"),i=(0,k.TP)(e,"taxRegime"),o=(0,k.TP)(e,"endUseCode"),{taxRegimeOptions0:c,taxRegimeOptions1:m,endUseCodeOptions:d,layout:u}=t,{sectionHeader:p,fields:g}=u[0];let y,v,h,E,b,f,A,w=c;n.length>12&&(w=m),g.map((e=>{const{name:t,label:a,fieldLevelMessage:n}=e[0];switch(t){case"companyKey":y=a,f=n;break;case"legalName":v=a;break;case"corporatePostalCode":h=a;break;case"taxRegime":E=a,A=n;break;case"endUseCode":b=a}return null}));const N={...s.props,label:v,classes:{root:"rf-form-layout-row"},onKeyUp:e=>{s.binding.setValue(e.target.value.toString().toUpperCase())}},S={...r.props,label:y,fieldLevelMessage:f},C={...l.props,label:h,classes:{root:"rf-form-layout-row"}},I={...i.props,label:E,fieldLevelMessage:A},P={...o.props,label:b};return a().createElement(Cp,{sectionHeader:p,companyKeyFieldProps:S,LegalNameFieldProps:N,corporatepostalcodeField:C,taxRegimeDropdown:I,taxRegimaOption:w,endUseCodeDropdown:P,endUseCodeOptions:d})},Ip=a().memo(kp),Pp=({overlayControls:e,taxDetailsOverlayImage:t,taxDetailsOverlayImageAlt:n})=>{const{isSmallScreen:r,isVisible:s,close:l}=e,{assets:i,fragments:o}=(0,Y.S)(),c={src:t,alt:n,className:"rs-taxpayer-invoice-details-image"};return a().createElement(Ke.A,{visible:s,isFullscreen:r,onClose:l,className:"rs-taxpayer-invoice--overlay",ariaLabel:"rs-taxpayer-invoice-header"},a().createElement("div",{className:"typography-body"},a().createElement("h2",{className:"rs-taxpayer-invoice-overlayheader typography-headline-reduced",id:"rs-taxpayer-invoice-header"},i.taxDetailsOverlayHeader),a().createElement("p",(0,Ie.A)({className:"rs-taxpayer-invoice-overlaysubheader"},(0,Le.OH)(i.taxDetailsOverlaySubHeader))),a().createElement("div",(0,Ie.A)({className:"rs-taxpayer-invoice-info-list typography-label"},(0,Le.OH)(o.taxPayerDetailsList))),a().createElement(kt.Ay,c),a().createElement("div",(0,Ie.A)({className:"rs-taxpayer-invoice-overlay-info"},(0,Le.OH)(i.taxPayerInvoiceInfo)))))},Lp=({customerNameFieldProps:e,taxPayerIdOptionalFieldProps:t})=>{const{assets:n}=(0,Y.S)();return a().createElement("div",{className:"rs-boleto-tax-invoice-container"},a().createElement("div",{className:"rf-form-layout-row rf-form-layout-row-combo--taxPayerIdOptional"},a().createElement("div",{className:"rf-form-layout-row-fields rs-tax-field-container column small-12 large-6"},a().createElement("fieldset",null,a().createElement("legend",{className:"visuallyhidden"},n.boletaInvoiceTitle),a().createElement(ki.A,t),a().createElement(ki.A,e)))))},Tp=({modKey:e})=>{const[t]=(0,k.lE)(e),n=(0,k.Pf)(e,"taxPayerIdOptional"),r=(0,k.Pf)(e,"customerName"),{layout:s}=t,{fields:l}=s[0];let i,o,c,m;l.map((e=>{const{name:t,label:a,fieldLevelMessage:n,autoCapitalization:r}=e[0];switch(t){case"taxPayerIdOptional":i=a,c=n,m=r;break;case"customerName":o=a}return null}));const d={...r.props,label:o},u={...n.props,label:i,fieldLevelMessage:c,onChange:e=>{n.props.onChange(e),m&&n.binding.setValue(e.target.value.toString().toUpperCase())}};return a().createElement(Lp,{taxPayerIdOptionalFieldProps:u,customerNameFieldProps:d})},Op=a().memo(Tp),Dp=({companyNameFieldProps:e,taxPayerIdFieldProps:t,lineOfBusinessFieldProps:n,modKey:r})=>{const{assets:s}=(0,Y.S)();let l="";return l=a().createElement(Ru,{modKey:`${r}.addressSelector`,isFullWidth:!0}),a().createElement("div",{className:"rs-factura-tax-invoice-container"},a().createElement("div",{className:"rf-form-layout-row  rs-tax-field-container large-6 small-12"},a().createElement("div",{className:"rf-form-layout-row-fields  column small-12 large-12"},a().createElement("fieldset",null,a().createElement("legend",{className:"visuallyhidden"},s.facturaInvoiceTitle),a().createElement(ki.A,t),a().createElement(ki.A,e),a().createElement(ki.A,n))),a().createElement("div",{className:"large-12 rs-shippingaddress column small-12"},a().createElement("div",{className:"rf-factura-keyline large-12 small-12"}),a().createElement("fieldset",null,a().createElement("legend",{className:"rs-factura-section-content"},a().createElement("h3",null,s.taxAddressHeader)),l))))},xp=({modKey:e})=>{const[t]=(0,k.lE)(e),n=(0,k.Pf)(e,"taxPayerId"),r=(0,k.Pf)(e,"companyName"),s=(0,k.Pf)(e,"lineOfBusiness"),l=(0,k.Yl)(`${e}.addressSelector.savedAddresses`).childModKeys.length>0,{layout:i}=t,{fields:o}=i[0];let c,m,d,u,p;o.map((e=>{const{name:t,label:a,fieldLevelMessage:n,autoCapitalization:r}=e[0];switch(t){case"taxPayerId":c=a,u=n,p=r;break;case"companyName":m=a;break;case"lineOfBusiness":d=a}return null}));const g={...r.props,label:m},y={...s.props,label:d},v={...n.props,label:c,classsName:"rs-field-margin-top",fieldLevelMessage:u,onChange:e=>{n.props.onChange(e),p&&n.binding.setValue(e.target.value.toString().toUpperCase())}};return a().createElement(Dp,{taxPayerIdFieldProps:v,companyNameFieldProps:g,lineOfBusinessFieldProps:y,hasSavedAddresses:l,modKey:e})},Mp=a().memo(xp),Fp=({modKey:e,hasNewAddress:t,hasSavedAddresses:n})=>{const{assets:r}=(0,Y.S)(),s=t&&!n;return a().createElement("div",{className:"rs-business-invoice-container"},a().createElement("div",{className:"rs-business-invoice-taxinfo"},a().createElement("h3",{className:"rs-business-invoice-header typography-body"},r.invoiceTaxInfoHeader),a().createElement(dl.A,{modKey:e})),a().createElement("div",{className:"rs-business-invoice-address"},(t||n)&&a().createElement("h3",{className:"rs-business-invoice-header typography-body"},r.invoiceTaxAddressHeader),n&&a().createElement(Ru,{modKey:`${e}.addressSelector`}),s&&a().createElement(xu,{modKey:`${e}.addressSelector.newAddress`})))},Bp=({modKey:e})=>{const t=(0,k.M1)(`${e}.addressSelector.newAddress`),[n]=(0,k.Ej)(`${e}.addressSelector`,"radioAddresses"),r=n&&n.length>1;return a().createElement(Fp,{modKey:e,hasNewAddress:t,hasSavedAddresses:r})},Rp=a().memo(Bp),_p=({modKey:e,option:n,option:{value:r,moduleKey:s,label:l},disableTradeInSvat:i,tradeInSubsidy:o,isESDCartOnly:c,selectedFapiaoOption:m,fapiaoSelectorProps:d,invoiceHeaderFieldProps:u,fapiaoBindingKey:p,optionIndex:g,taxDetailsOverlayImage:y,taxDetailsOverlayImageAlt:v,invoiceHeaderIN:h,optionDisabled:E,optionDisabledMessage:b})=>{const{assets:f,fragments:A}=(0,Y.S)(),[w,N]=(0,t.useState)(!1),S=r===m,C=s||"noneFapiao",k=S?A[`${C+(!("noneFapiao"===C||"sVATFapiao"===C)&&o?"Delayed":c?"ADC":"")}Message`]:"",I=n.disabled?A[`${C}DisabledMessage`]:"",P=`fapiao-invoice-option-${g}`,L=wm(!1,fe);let T;switch(s){case"commerceFapiao":T=a().createElement(rp,{modKey:e});break;case"eCompanyFapiao":T=a().createElement(zu,{modKey:e,label:l});break;case"sVATFapiao":T=a().createElement(ip,{modKey:e});break;case"consumerInvoice":T=a().createElement(dp,{modKey:e});break;case"enterpriseInvoice":T=a().createElement(yp,{modKey:e});break;case"mediaCitizensDigitalCertificateInvoice":T=a().createElement(Ep,{modKey:e});break;case"mediaHandPhoneInvoice":T=a().createElement(Ap,{modKey:e});break;case"donateInvoice":T=a().createElement(Sp,{modKey:e});break;case"cFDI":T=a().createElement(Ip,{modKey:e});break;case"boleta":T=a().createElement(Op,{modKey:e});break;case"factura":T=a().createElement(Mp,{modKey:e});break;case"business":T=a().createElement(Rp,{modKey:e});break;default:T=null}return a().createElement(Am.A,{key:`fapiao-option-${r}`,tag:"div"},a().createElement("div",{className:"rs-fapiao-option"},a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-6 small-12"},a().createElement(Gu,{option:n,fapiaoSelectorProps:d,fapiaoBindingKey:p,dataAutom:P,checked:S,disabled:n.disabled||"enterpriseInvoice"===n.moduleKey&&E})),I&&!i&&a().createElement("div",(0,Ie.A)({className:"rs-fapiao-option-message column large-6 small-12"},(0,Le.OH)(I))),E&&"enterpriseInvoice"===n.moduleKey&&a().createElement("div",(0,Ie.A)({className:"rs-fapiao-option-message rs-fapiao-disabled-message column large-6 small-12"},(0,Le.OH)(b)))),"enterprise"===r&&a().createElement(j.x,{in:S},a().createElement("div",{className:"rs-fapiao-padding-wrapper rs-fapiao-other large-6 small-12"},a().createElement(ki.A,(0,Ie.A)({},u,{label:f.efapiaoInvoiceHeader})))),T&&a().createElement(j.x,{in:S},T)),S&&"cFDI"===r&&a().createElement("div",{className:"rs-fapiao-option-message rs-fapiao-message column large-6 small-12",id:`fapiao-message-${r}-info`},a().createElement("div",(0,Le.OH)(A.vatIDInfoMessage)),a().createElement(Wt.A,{id:"rs-tax-payer-info-link",className:"as-buttonlink icon icon-after icon-chevronright no-wrap",hasDefaultClass:!1,onClick:()=>{N(!0),L.open()}},f.taxPayerInfo),w&&a().createElement(Pp,{overlayControls:L,taxDetailsOverlayImage:y,taxDetailsOverlayImageAlt:v})),k&&!h&&a().createElement("div",(0,Ie.A)({className:"rs-fapiao-option-message column large-6 small-12",id:`fapiao-message-${r}-info`},(0,Le.OH)(k))))},$p=({modKey:e,option:t,disableTradeInSvat:n,selectorBinding:r,optionIndex:s,invoiceHeaderIN:l})=>{const i=`${e}.${t.moduleKey}`,[o]=(0,k.lE)(e),c=(0,k.Pf)(i,"invoiceHeader"),m=(0,k.tx)(e,r),{tradeInSubsidy:d,isESDCartOnly:u}=o,[p]=(0,k.Ej)(i,"taxDetailsOverlayImage"),[g]=(0,k.Ej)(i,"taxDetailsOverlayImageAlt"),y=(0,k.Yl)(`${e}.enterpriseInvoice`),{disabled:v,disabledMessage:h}=y.data;return a().createElement(_p,{invoiceHeaderFieldProps:c.props,tradeInSubsidy:d,isESDCartOnly:u,selectedFapiaoOption:o[r],option:t,disableTradeInSvat:n,fapiaoSelectorProps:m.props,fapiaoBindingKey:m.binding.properties.key,modKey:i,optionIndex:s,taxDetailsOverlayImage:p,taxDetailsOverlayImageAlt:g,invoiceHeaderIN:l,optionDisabled:v,optionDisabledMessage:h})},Hp=a().memo($p),Kp=({modKey:e,focusFapiao:t,scrollToSelection:n,selectedInvoice:r,options:s,selectorBinding:l,disableTradeInSvat:i,invoiceHeaderIN:o,invoiceMessage:c})=>{const{assets:m}=(0,Y.S)(),d=Z()("rs-fapiao-section",{"rs-checkout-headerfocus":t||n}),u=o||m.shippingFapiaoHeader;return a().createElement("div",{className:d,tabIndex:"-1"},a().createElement("fieldset",{className:"rs-fapiao"},a().createElement("legend",null,a().createElement("h2",{className:"rs-fapiao-header typography-label"},u)),r&&!o&&a().createElement("div",{className:"rs-fapiao-subHeader typography-body"},m.eGUISubHeader),a().createElement("div",{className:"rs-fapiao-selector-container"},a().createElement("div",{className:"form-selector-group"},s.map(((t,n)=>a().createElement(Hp,{key:`fapiao-option-container-${t.value}`,modKey:e,option:t,optionIndex:n,selectorBinding:l,disableTradeInSvat:i,invoiceHeaderIN:o})))),a().createElement("div",(0,Ie.A)({className:"rs-fapiao-supplementmessage large-6 small-12 typography-body-reduced"},(0,Le.OH)(c))))))},Vp=({disableTradeInSvat:e,modKey:t,selectorBinding:n})=>{const[r]=(0,k.lE)(t),{focusFapiao:s,scrollToSelection:l,selectedInvoice:i,options:o,header:c,invoiceMessage:m}=r;return a().createElement(Kp,{focusFapiao:s,scrollToSelection:l,selectedInvoice:i,options:o,disableTradeInSvat:e,modKey:t,selectorBinding:n,invoiceHeaderIN:c,invoiceMessage:m})},Up=a().memo(Vp),Wp=({header:e,continueButtonProps:t,continueButtonLabel:n,children:r})=>a().createElement("div",{className:"rs-addressverification-section rs-addressverification-recommendedaddr"},a().createElement("h3",{className:"rs-addressverification-label typography-body"},e),a().createElement("div",{className:"rs-addressverification-list"},r),a().createElement(Wt.A,(0,Ie.A)({},t,{className:"rs-addressverification-button"}),n));var Gp=__webpack_require__(7725);const jp=({radioProps:e,children:t})=>a().createElement("div",{className:"rs-addressverification-multiaddress large-5 small-12"},a().createElement(Gp.A,(0,Ie.A)({},e,{name:"shipping-recommended-addresses"}),t)),qp=({modKey:e})=>{const{assets:t}=(0,Y.S)(),n=(0,k.Yl)(e),r=(0,k.tx)(e,"selectRecommendedAddress"),s=(0,k.W4)(e,"continueWithRecommended"),l=r.binding.value,i=s.binding.properties.isLoadingSubmit,o={...s.props,isLoading:i},c=n.data.continueLabel,m=n.childModKeys.length>1&&n.childModKeys.map((e=>{const t=e.split(".").pop(),n={...r.props,value:t,checked:t===l};return a().createElement(jp,{key:e,radioProps:n},a().createElement(dl.A,{modKey:`${e}.address`}))}));return a().createElement(a().Fragment,null,a().createElement(Wp,{header:n.data.label,continueButtonProps:o,continueButtonLabel:c},m||a().createElement(dl.A,{modKey:`${n.childModKeys[0]}.address`})),a().createElement(J.Jg,{isPending:i,messages:{pending:t.processing}}))},Yp=a().memo(qp),zp=({overlayProps:e,header:t,subheader:n,selectedAddressHeader:r,selectedAddress:s,recommendedAddresses:l,isContinueButtonLoading:i,continueButtonProps:o,continueButtonLabel:c,returnToShippingButtonProps:m,returnToShippingButtonLabel:d,reenterAddressRef:u})=>{const{assets:p,viewport:g}=(0,Y.S)(),y="small"===g;return a().createElement(Ke.A,(0,Ie.A)({},e,{doublePadding:!0,ariaLabel:"rs-addressverification-header",className:"rs-shipping-addressverification-overlay",isFullscreen:y,ref:u}),a().createElement("h2",{className:"rs-addressverification-header",id:"rs-addressverification-header"},t),a().createElement("div",{className:"rs-addressverification-info"},n),a().createElement("div",{className:"rs-addressverification-section"},a().createElement("h3",{className:"rs-addressverification-label typography-body"},r),s),l||a().createElement(Wt.A,m,d),i?a().createElement("div",{role:"img",className:"rs-addressverification-waitindicator waitindicator waitindicator16-gray","aria-label":p.processing}):c&&a().createElement("button",(0,Ie.A)({},o,{type:"button",className:"as-buttonlink large-12 rs-addressverification-link typography-body"}),c))},Zp=({modKey:e,continueButtonRef:n})=>{const[r]=(0,k.lE)(e),[s,l]=(0,k.lf)(e,"showAddressVerificationOverlay"),[i]=(0,k.lE)(`${e}.selectedAddress`),o=(0,k.W4)(`${e}.selectedAddress`,"continueWithSelectedAddress"),c=(0,k.W4)(`${e}.selectedAddress`,"edit"),m=(0,k.Yl)(`${e}.recommendedAddresses`),{header:d,subHeader:u}=r,p=(0,t.useRef)("null"),{label:g,continueLabel:y,returnToShippingLabel:v}=i,h=a().createElement(dl.A,{modKey:`${e}.selectedAddress.address`}),E=m.childModKeys.length>0&&a().createElement(Yp,{modKey:`${e}.recommendedAddresses`}),b={...s,onExited:()=>{s.onExited();const e=C().get(n,"current");e&&e.focus()}},f={...o.props,"data-autom":"use-Existing-address"},A={...c.props,"data-autom":"Re-enter-address",onClick:e=>{c.props.onClick(e),l()}};return(0,t.useEffect)((()=>{if(p&&p.current){const e=p.current.querySelector("[data-core-overlay-content]");e&&e.focus()}}),[p]),a().createElement(zp,{overlayProps:b,header:d,subheader:u,selectedAddressHeader:g,selectedAddress:h,recommendedAddresses:E,isContinueButtonLoading:o.binding.properties.isLoadingSubmit,continueButtonProps:f,continueButtonLabel:y,returnToShippingButtonProps:A,returnToShippingButtonLabel:v,reenterAddressRef:p})},Jp=a().memo((0,t.forwardRef)(Zp)),Xp=({header:e,options:t,selectorProps:n,selectedValue:r})=>a().createElement("div",{className:"rs-changedeliverymethod-deliveryoptionsgroup"},e,a().createElement(Am.A,{className:"large-12 form-selector-twocol-threeline"},t.map((({value:e,deliveryQuote:t,name:s,shippingCost:l,relatedMessage:i,flatRateLabel:o})=>a().createElement(nc.Ay,(0,Ie.A)({},n,{key:e,value:e,checked:e===r,"data-autom":`delivery-option-${e}`}),a().createElement("span",{className:"row"},a().createElement("span",{className:"form-selector-left-col large-6"},a().createElement("span",{className:"form-selector-title"},t),a().createElement("span",{className:"form-label-small"},s),i&&a().createElement("span",{className:"form-label-small"},i)),a().createElement("span",{className:"form-selector-right-col column large-6"},l,o))))))),Qp=({modKey:e})=>{const t=(0,k.Yl)(e),n=(0,k.tx)(e,"selectDeliveryOption"),{data:{subHeader:r,options:s},properties:{key:l}}=t,i={...n.props,name:`deliveryOptions-${l}`};return a().createElement(Xp,{header:r,options:s,selectorProps:i,selectedValue:n.binding.value})},eg=a().memo(Qp),tg=({modKey:e})=>(0,k.Yl)(e).childModKeys.map((e=>a().createElement(eg,{key:e,modKey:`${e}.deliveryOptions`}))),ag=a().memo(tg),ng=({overlayProps:e,header:t,subheader:n,continueButtonProps:r,cancelButtonProps:s,children:l})=>{const{assets:i,viewport:o}=(0,Y.S)(),c="small"===o;return a().createElement(Ke.A,(0,Ie.A)({},e,{className:"rs-shipping-changedeliverymethod-overlay",ariaLabel:"rs-changedeliverymethod-header",isFullscreen:c,doublePadding:!0}),a().createElement("h2",{className:"rs-changedeliverymethod-header",id:"rs-changedeliverymethod-header"},t),a().createElement("div",{className:"rs-changedeliverymethod-info"},n),l,a().createElement(Wt.A,(0,Ie.A)({},r,{className:"rs-changedeliverymethod-button"}),i.continue),a().createElement("button",(0,Ie.A)({},s,{type:"button",className:"as-buttonlink rs-changedeliverymethod-link typography-body"}),i.cancel))},rg=({modKey:e})=>{const[t]=(0,k.lE)(e),[n,r]=(0,k._x)(e,"showChangeDeliveryMethodOverlay"),s=(0,k.Yl)(`${e}.deliveryGroups`),l=(0,k.W4)(e,"continue"),i=(0,k.W4)(e,"cancel"),{header:o,subHeader:c}=t,m={...i.props,onClick:e=>{i.props.onClick(e),r(!1)}};return a().createElement(ng,{overlayProps:n,header:o,subheader:c,continueButtonProps:l.props,cancelButtonProps:m},s.childModKeys.map((e=>a().createElement(ag,{key:e,modKey:`${e}.deliveryOptionsGroups`}))))},sg=a().memo(rg),lg=({overlayProps:e,header:t,subheader:n,selectedAddressHeader:r,selectedAddress:s,returnToBagButtonProps:l,returnToBagButtonLabel:i,returnToShippingButtonProps:o,returnToShippingButtonLabel:c})=>{const{viewport:m}=(0,Y.S)(),d="small"===m;return a().createElement(Ke.A,(0,Ie.A)({},e,{className:"rs-shippingaddressoptions-overlay",isFullscreen:d,ariaLabel:"rs-shippingaddressoptions-header",doublePadding:!0,noCloseButton:!0}),a().createElement("h2",(0,Ie.A)({id:"rs-shippingaddressoptions-header",className:"rs-shippingaddressoptions-header"},(0,Le.OH)(t))),a().createElement("span",(0,Ie.A)({className:"rs-shippingaddressoptions-subheader"},(0,Le.OH)(n))),s&&a().createElement("div",{className:"rs-shippingaddressoptions-section"},a().createElement("h3",{className:"rs-shippingaddressoptions-label typography-body"},r),s),a().createElement("div",{className:"row rs-addressoptions-actions"},i&&a().createElement("div",{className:"column large-6 small-12 rs-addressoptions-returntobag"},a().createElement(Wt.A,l,i)),a().createElement("div",{className:Z()("rs-addressoptions-editaddress column",{"small-12 large-6 ":i,"large-12":!i})},a().createElement(Wt.A,(0,Ie.A)({},o,{className:"rs-shipping-different-addressbtn"}),c))))},ig=({modKey:e})=>{const[t]=(0,k._x)(e,"shippingOptionsOverlay"),n=(0,k.M1)(`${e}.selectedAddress`),[r]=(0,k.Ej)(`${e}.selectedAddress`,"label"),[s]=(0,k.lE)(e),l=(0,k.W4)(e,"continueBagLink"),i=(0,k.W4)(e,"edit"),{header:o,subheader:c,returnToBagLabel:m,returnToShippingLabel:d}=s,u=n&&a().createElement(dl.A,{modKey:`${e}.selectedAddress.address`});return a().createElement(lg,{overlayProps:t,header:o,subheader:c,returnToBagButtonProps:l.props,returnToBagButtonLabel:m,returnToShippingButtonProps:i.props,returnToShippingButtonLabel:d,selectedAddressHeader:r,selectedAddress:u})},og=a().memo(ig),cg=({notificationsFormModKey:e,header:n,showButtonLabel:r,showForm:s})=>{const[l,i]=(0,t.useState)(s);return a().createElement("div",{className:"rs-shipping-addressnotification"},a().createElement("div",{id:"rs-shipping-address-header-row",className:"large-12 small-12 rs-shipping-address-header-row"},n),!l&&a().createElement("button",{type:"button",className:"as-buttonlink icon icon-after icon-chevrondown",onClick:()=>{i(!0),oe({eVar:re,feature:"ShippingAddress",action:"EnterEmailAddress"})},"aria-describedby":"rs-shipping-address-header-row"},r),a().createElement(j.x,{in:l,onEntered:()=>{const e=document.querySelector("#rs-shipping-notification-form input.form-textbox-input");e&&e.focus()}},a().createElement(dl.A,{modKey:e,id:"rs-shipping-notification-form"})))},mg=({modKey:e})=>{const[t]=(0,k.lE)(e),{notificationsHeaderLabel:n,notificationsToggleHeaderLabel:r,showNotification:s}=t,l=`${e}.address`;return a().createElement(cg,{notificationsFormModKey:`${e}.address`,header:n,showButtonLabel:r,showForm:s,shippingNotificationAddressKey:l})},dg=a().memo(mg),ug=({modKey:e,hasUndoMessages:n,topBanner:r,messages:s,messagesLastUpdated:l,header:i,subheader:o,hasSavedAddresses:c,hasNewAddress:m,hasAddressLookup:d,hasLockedAddress:u,shippingReminders:p,additionalReminder:g,belowFieldShippingReminders:y,hasContactForm:v,hasShippingNotifications:h,hasFapiao:E,fapiaoModKey:b,disableTradeInSvat:f,hasTaxInformation:A,showContinueButton:w,hasAddressVerification:N,hasChangeDeliveryMethod:S,hasItemsUnavailable:C,bottomBanner:I,showChat:P,hasFaq:L,footer:T})=>{const{assets:O,viewport:D}=(0,Y.S)(),x=(0,t.useRef)(null),M=P||L;let F="",B="";const R="small"===D,_="small"!==D,$=Boolean(r),H=Boolean(o),K=Boolean(p||g),V=Boolean(y),U=Boolean(I),W=(0,k.M1)(`${e}.addressSelector.newAddress.address.displayMap`),[G]=(0,k.Ej)(`${e}.addressSelector.newAddress.address.streetTypeAhead`,"typeAheadEnabled");(0,t.useEffect)((()=>{x&&x.current&&s.length<1&&x.current.focus()}),[x,s.length]);const j=Z()("rs-shipping-reminders large-6 small-12",{"rs-shipping-reminders-savedaddr":c&&!G,"rs-shipping-reminders-saved-mapdisplay":c&&G&&W,"rs-shipping-reminders-newaddr":!c&&!W,"rs-shipping-reminders-add-address":!c&&W,"rs-shipping-reminders-add-address-mapdisplay":!c&&G&&W,"rs-shipping-reminders-locked":_&&u,column:_});c?(F=O.shippingAddressSelectHeader,B=a().createElement(Ru,{modKey:`${e}.addressSelector`})):m&&(F=O.shippingEnterAddressHeader,B=a().createElement(xu,{modKey:`${e}.addressSelector.newAddress`}));const q=K&&a().createElement("div",{className:j},p&&a().createElement("div",(0,Ie.A)({className:"rs-shipping-reminders-main"},(0,Le.OH)(p))),g&&a().createElement("div",(0,Ie.A)({className:"rs-shipping-reminders-more"},(0,Le.OH)(g)))),z=(0,t.useRef)(null);return a().createElement(a().Fragment,null,n&&a().createElement(du,{modKey:`${e}.shippingMessages`,headerRef:x,showBindName:"undoDeleteBanner",closeBindName:"undoBannerClose",undoBindName:"undo"}),$&&a().createElement("div",(0,Ie.A)({className:"rs-checkout-topmerch"},(0,Le.OH)(r))),a().createElement("div",{className:"rs-checkout-shipping as-l-container"},a().createElement(ke.A,{messages:s,lastUpdated:l}),a().createElement("div",{className:"rs-shipping-header-container"},a().createElement("h1",{ref:x,id:"rs-checkout-header",className:"rs-shipping-header typography-headline-reduced",tabIndex:"-1"},i),H&&a().createElement("h2",(0,Ie.A)({className:"rs-shipping-sub-header typography-body"},(0,Le.OH)(o)))),a().createElement("div",{className:"rs-shipping-container"},a().createElement("fieldset",{role:d?"group":null,"aria-label":d?O.shippingNameAndAddressHeader:null,"aria-describedby":"rs-shipping-policy-header rs-shipping-policy-content rs-shipping-policy-link"},a().createElement("legend",null,a().createElement("h2",{className:"rf-form-layout-section-header"},a().createElement("span",(0,Le.OH)(F)))),a().createElement("div",{className:"large-12 rs-shippingaddress column small-12"},B)),_&&q),V&&a().createElement("div",(0,Ie.A)({className:"large-6 small-12 rs-shipping-reminders-belowfield typography-body-reduced"},(0,Le.OH)(y))),u&&a().createElement(a().Fragment,null,a().createElement("h2",{className:"rs-shipping-lockedaddress-header typography-label"},O.shippingAddressLockedHeader),a().createElement("div",{className:"rs-shipping-lockedaddress"},a().createElement(dl.A,{modKey:`${e}.addressSelector.lockedAddress.address`}))),R&&q,v&&a().createElement(Wu,{modKey:e}),h&&a().createElement(dg,{modKey:`${e}.addressNotification`}),E&&a().createElement(Up,{disableTradeInSvat:f,modKey:b,selectorBinding:"selectFapiao"}),A&&a().createElement(Nu,{modKey:`${e}.taxInformation`}),w&&a().createElement("div",{className:"rs-shipping-continue rs-checkout-action"},a().createElement(ea,{modKey:e,attrs:{"data-autom":"shipping-continue-button"},ref:z}))),N&&a().createElement(Jp,{modKey:`${e}.addressVerification`,ref:z}),S&&a().createElement(sg,{modKey:`${e}.changeDeliveryMethod`}),C&&a().createElement(og,{modKey:`${e}.shippingAddressOptions`}),U&&a().createElement("div",(0,Ie.A)({className:"rs-checkout-topmerch"},(0,Le.OH)(I))),M&&a().createElement("div",{className:"rs-checkout-chatfaq-wrapper"},P&&a().createElement(ya,null),L&&a().createElement(ua,{modKey:`${e}.faq`})),T)},pg=({modKey:e,noFooter:t})=>{const[n]=(0,k.lE)(e),[r]=(0,k.Ej)(`${e}.shippingMessages`,"undoMessages"),[s,l]=(0,k.fL)(`${e}.shippingMessages`),[i]=(0,k.lE)(`${e}.xMerch`),o=(0,k.M1)(`${e}.faq`),[c]=(0,k.Ej)(Re.nn,"acmiFromBag"),m=(0,k.M1)(`${e}.addressSelector.newAddress`),d=(0,k.M1)(`${e}.addressSelector.lockedAddress`),u=(0,k.M1)(`${e}.addressContactEmail`),p=(0,k.M1)(`${e}.addressContactPhone`),g=(0,k.M1)(`${e}.addressContactPhoneMako`),y=(0,k.M1)(`${e}.addressNotification`),v=(0,k.M1)(`${e}.taxInformation`),h=(0,k.M1)(`${e}.addressVerification`),E=(0,k.M1)(`${e}.changeDeliveryMethod`),b=(0,k.M1)(`${e}.shippingAddressOptions`),[f]=(0,k.Ej)(`${e}.addressSelector`,"radioAddresses"),A=(0,k.M1)(`${e}.addressSelector.newAddress.address.addressLookup`),[w]=(0,k.Ej)(`${e}.addressSelector.newAddress.address`,"layout"),{shippingHeader:N,shippingSubHeader:S,shouldShowChat:I,returnToShop:P,shippingReminders:L,additionalReminder:T,belowFieldShippingReminders:O,disableTradeInSvat:D,continueLabel:x}=n,M=Boolean(r),F=C().get(i,"placements.topBanner"),B=C().get(i,"placements.pageMerch"),R=f&&f.length>0,_=u||p||g,$=Boolean(x),H=C().get(w,"0.sectionHeader",!1);!R&&H&&delete w[0].sectionHeader;const K=(0,k.M1)(`${e}.fapiaoSelector`),V=(0,k.M1)(`${e}.eFapiaoSelector`);let U;U=K?`${e}.fapiaoSelector`:V?`${e}.eFapiaoSelector`:null;const W=!t&&a().createElement(pn,{modKey:`${e}.footnotes`,acmiCheckout:c,returnToShopForAcmi:Boolean(P)});return a().createElement(ug,{modKey:e,hasUndoMessages:M,topBanner:F,messages:s,messagesLastUpdated:l,header:N,subheader:S,hasSavedAddresses:R,hasNewAddress:m,hasAddressLookup:A,hasLockedAddress:d,shippingReminders:L,additionalReminder:T,belowFieldShippingReminders:O,hasContactForm:_,hasShippingNotifications:y,hasFapiao:null!==U,fapiaoModKey:U,disableTradeInSvat:D,hasTaxInformation:v,showContinueButton:$,hasAddressVerification:h,hasChangeDeliveryMethod:E,hasItemsUnavailable:b,bottomBanner:B,showChat:I,hasFaq:o,footer:W})},gg=a().memo(pg),yg=({showNationalIdField:e,pickupInstructions:t,nationalIDHeader:n,isThirdPartyDisabled:r,verificationWidget:s})=>{const l=Z()("large-6","small-12","rs-pickup-instructions",{"rs-pickup-instructions-thirdpartydisabled":r});return a().createElement("div",{className:"rs-pickup-contact-self rs-load-fadein"},a().createElement("div",{className:"rs-pickupoption-fields"},a().createElement(dl.A,{modKey:Re.KN})),Boolean(t)&&a().createElement("div",{className:l},t),e&&a().createElement("div",{className:"rs-pickupcontact-nationalid"},a().createElement("h2",{className:"rf-form-layout-section-header"},n),a().createElement(dl.A,{modKey:Re.qM})),Boolean(s)&&s)},vg=({header:e,headerId:t,content:n,pickupPolicyLink:r,pickupPolicyLinkId:s,apuDelayedInstruction:l,additionalInstruction:i})=>a().createElement("div",{className:`rs-pickup-instructiondetails as-supplementalinfo ${ra.A.BODY_REDUCED}`},e&&a().createElement("div",{id:t,className:"rs-pickup-instructionsheader"},e),n&&a().createElement("div",(0,Ie.A)({className:"rs-pickup-instructions-content"},(0,Le.OH)(n))),r&&a().createElement("div",(0,Ie.A)({id:s,className:"rs-pickup-instructions-link"},(0,Le.OH)(r))),l&&a().createElement("div",(0,Ie.A)({className:"rs-pickup-instructions-subcontent"},(0,Le.OH)(l))),i&&a().createElement("div",(0,Ie.A)({className:"rs-pickup-instructions-subcontent"},(0,Le.OH)(i)))),hg="THIRDPARTY",Eg="rs-pickup-self-instructionsheader",bg="rs-pickup-selfContent",fg="rs-pickup-self-policylink",Ag="rs-pickup-thirdparty-instructionsheader",wg="rs-pickup-thirdparty-policylink",Ng=()=>{const e=(0,k.Yl)(Re.VB),t=(0,k.Yl)(Re.qM),[n]=(0,k.Ej)(Re.M8,"thirdPartyDisabledMessage"),{modExists:r}=(0,k.Yl)(`${Re.KN}.verificationModule`),s=(0,k.W4)(`${Re.KN}`,"contactVerify"),{instructionsHeader:l,instructionsValue:i,viewPickupPolicyLink:o,apuDelayedInstruction:c,additionalInstruction:m}=e.data,{nationalIdHeaderLabel:d,enabled:u}=t.data;return a().createElement(yg,{showNationalIdField:u,pickupInstructions:e.modExists&&a().createElement(vg,{header:l,headerId:Eg,content:i,pickupPolicyLink:o,pickupPolicyLinkId:fg,apuDelayedInstruction:c,additionalInstruction:m}),verificationWidget:r&&a().createElement(Vu,{modKey:`${Re.KN}`,triggerEl:s}),nationalIDHeader:d,isThirdPartyDisabled:Boolean(n)})},Sg=a().memo(Ng),Cg=({acceptTextNotificationCheckboxProps:e,showNationalIdField:t,pickupInstructions:n,hasBillingContact:r,billingContactHeader:s,nationalIDHeader:l,verificationWidget:i})=>{const{assets:o}=(0,Y.S)();return a().createElement("div",{className:"rs-pickup-contact-thirdparty rs-load-fadein"},a().createElement("div",{className:"rs-pickupoption-fields"},a().createElement(dl.A,{modKey:Re.dz,classes:{root:"rs-pickup-thirdparty-fields"}}),e&&a().createElement("div",{className:"rs-pickup-thirdparty-notification"},a().createElement("div",{className:"large-6 small-12"},a().createElement(Vn.A,e,o.acceptTextNotification)))),Boolean(n)&&a().createElement("div",{className:"large-6 small-12 rs-pickup-instructions"},n),t&&a().createElement("div",{className:"rs-pickupcontact-nationalid"},a().createElement("h2",{className:"rf-form-layout-section-header"},l),a().createElement(dl.A,{modKey:Re.VO})),r&&a().createElement("div",{className:"rs-pickup-billingcontact"},a().createElement("fieldset",null,a().createElement("legend",{className:"large-6 small-12"},a().createElement("h2",{className:"rf-form-layout-section-header"},s)),a().createElement(dl.A,{modKey:Re.zY}))),Boolean(i)&&i)},kg=()=>{const e=(0,k.DZ)(Re.ns,"acceptTextNotification"),t=(0,k.Yl)(Re.CI),n=(0,k.M1)(Re.XA),[r]=(0,k.Ej)(Re.XA,"sectionHeader"),s=(0,k.M1)(`${Re.zY}.verificationModule`),l=(0,k.W4)(`${Re.zY}`,"thirdPartyContactVerify"),i=(0,k.Yl)(Re.VO),{enabled:o,nationalIdHeaderLabel:c}=i.data,{instructionsHeader:m,instructionsValue:d,viewPickupPolicyLink:u,apuDelayedInstruction:p,additionalInstruction:g}=t.data;return a().createElement(Cg,{acceptTextNotificationCheckboxProps:e.binding.bindExists&&e.props,showNationalIdField:o,pickupInstructions:t.modExists&&a().createElement(vg,{header:m,headerId:Ag,content:d,pickupPolicyLink:u,pickupPolicyLinkId:wg,apuDelayedInstruction:p,additionalInstruction:g}),hasBillingContact:n,billingContactHeader:r,nationalIDHeader:c,verificationWidget:s&&a().createElement(Vu,{modKey:`${Re.zY}`,triggerEl:l})})},Ig=a().memo(kg),Pg=({hasAuthorizedUsers:e,authorizedUsersListView:t,phoneNumber:n,pickupInstructions:r,hasBillingContact:s,billingContactHeader:l})=>a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-pickup-carriercontact row"},a().createElement("div",{className:"rs-pickup-carrierdetails large-6 small-12"},!e&&a().createElement(a().Fragment,null,a().createElement(dl.A,{modKey:Re.i$}),a().createElement("div",{className:"rs-pickup-primarynumber typography-body"},n)),e&&t),a().createElement("div",{className:"rs-pickup-carrier-instructions large-6 small-12"},r)),s&&a().createElement("div",{className:"rs-pickup-carrierbillingcontact"},a().createElement("fieldset",null,a().createElement("legend",{className:"large-6 small-12"},a().createElement("h2",{className:"rf-form-layout-section-header"},l)),a().createElement(dl.A,{modKey:Re.c})))),Lg=({authorizedUsers:e,pickupSelected:t,pickupSelectorProps:n,setPickpContactName:r})=>{const{assets:s}=(0,Y.S)();return a().createElement("div",{className:"rs-authorizedlist-container"},a().createElement("h3",null,s.pickupAuthorizedSubHeader),e.map((e=>{const s={...n,value:e.value,checked:t===e.value,onChange:t=>{n.onChange(t),r(e)}};return a().createElement("div",{className:"rs-authorizedlist-wrapper",key:e.value},a().createElement(Gp.A,(0,Ie.A)({},s,{name:"authuser"}),e.value,a().createElement("span",{className:"rs-authorizedlist-sublabel"},e.defaultMessage)))})))},Tg=()=>{const[e]=(0,k.lE)(Re.iV),[t]=(0,k.lE)(Re.VB),n=(0,k.M1)(Re.Yy),[r]=(0,k.Ej)(Re.Yy,"sectionHeader"),s=(0,k.tx)(Re.iV,"authorizedUser"),l=(0,k.LZ)(Re.iV,"firstName"),i=(0,k.LZ)(Re.iV,"lastName"),{carrierPlanInfo:o,hasAuthorizedUsers:c,authorizedUsers:m}=e,d=o&&o.carrierRatePlanPhoneNumber,{instructionsHeader:u,instructionsValue:p,viewPickupPolicyLink:g,apuDelayedInstruction:y,additionalInstruction:v}=t,h=c&&a().createElement(Lg,{authorizedUsers:m,pickupSelected:s.binding.value,pickupSelectorProps:s.props,setPickpContactName:e=>{l.setValue(e.firstName),i.setValue(e.lastName)}});return a().createElement(Pg,{hasAuthorizedUsers:c,authorizedUsersListView:h,phoneNumber:d,pickupInstructions:a().createElement(vg,{header:u,content:p,pickupPolicyLink:g,apuDelayedInstruction:y,additionalInstruction:v}),hasBillingContact:n,billingContactHeader:r})},Og=a().memo(Tg),Dg=({header:e,ariaDescribedBy:n,pickupOptions:r,isThirdPartySelected:s,hasCarrierContact:l,showTradeInMessage:i,showTradeInInfo:o})=>{const[c,m]=(0,t.useState)(!1),{assets:d,fragments:u,viewport:p}=(0,Y.S)(),g="small"===p,y=l?a().createElement(Og,null):a().createElement(U,null,a().createElement(j.A,{key:s},!s&&a().createElement(Sg,null),Boolean(r)&&s&&a().createElement(Ig,null)));return a().createElement("div",{className:Z()("rs-pickup-contact-details",{"rs-pickup-contact-tradein-info":o})},a().createElement("fieldset",{"aria-describedby":n},a().createElement("legend",{className:"large-6 small-12"},a().createElement("h2",{className:"rs-pickup-contact-subheader typography-label"},e)),r,y),i&&a().createElement("div",(0,Ie.A)({className:"large-6 small-12 rs-pickup-tradein-instructions typography-body-reduced"},(0,Le.OH)(u.pickupTradeInMessageInstructions))),o&&a().createElement("div",{className:"large-6 small-12 rs-pickup-tradein-section typography-body-reduced"},a().createElement("div",(0,Ie.A)({className:"rs-pickup-tradein-info"},(0,Le.OH)(s?u.tradeInThirdPartyMessageInstructions:u.tradeInMessageInstructions))),a().createElement("button",(0,Ie.A)({id:"tradein-overlay-button",className:"as-buttonlink",type:"button",onClick:()=>m(!0)},(0,Le.OH)(d.tradeinOverlayLink))),a().createElement(Ke.A,{visible:c,onClose:()=>m(!1),isFullscreen:g,ariaLabel:"rs-tradeinoverlay-header",fixedWidth:!0,noPadding:!0},a().createElement("div",(0,Le.OH)(u.smartphoneTradeInOverlayContent)),a().createElement(Pr,null))))},xg=({options:e,selectedIndex:t,handleIndexChange:n})=>a().createElement("div",{className:"large-6 small-12 rs-pickup-options"},a().createElement(nl,{index:t,onChange:n},e.map(((e,n)=>{let r;const s=e.value===hg?"thirdPartyPickup":"selfPickup";return t===n&&(r=e.value===hg?`${Ag} rs-pickup-thirdPartyContent ${wg}`:`${Eg} ${bg} ${fg}`),a().createElement(al,{key:e.value,"aria-describedby":r,label:e.title,"data-autom":s})})))),Mg=()=>{const[e]=(0,k.lE)(Re.M8),n=(0,k.M1)(Re.N9),[r]=(0,k.Ej)(Re.N9,"options"),s=(0,k.LZ)(Re.N9,"selectedPickupOption"),l=(0,k.M1)(Re.iV),i=s.value===hg,[o,c]=(0,t.useState)(i?1:0),{subHeader:m,showTradeInMessageInstructions:d,thirdPartyDisabledMessage:u,showTradeInInfo:p}=e;return a().createElement(Dg,{header:m,ariaDescribedBy:u&&`${Eg} ${bg} ${fg}`,pickupOptions:n&&a().createElement(xg,{options:r,selectedIndex:o,handleIndexChange:e=>{c(e),s.setValue(r[e].value),s.runSetEvents()}}),isThirdPartySelected:i,hasCarrierContact:l,showTradeInMessage:d,showTradeInInfo:p})},Fg=a().memo(Mg),Bg=({header:e,headerMessage:t,messages:n=[],messagesLastUpdated:r,hasEppPlus:s,hasTermsAndConditions:l,installmentsSummary:i,hasFapiao:o,fapiaoModKey:c,disableTradeInSvat:m,continueLabel:d,continueDisclaimer:u,acmiOtbValue:p,hasAppleCard:g,showChat:y,footer:v})=>{const{fragments:h}=(0,Y.S)(),E=g?h.otbMessageWithAppleCard:h.otbMessageWithoutAppleCard,b=Boolean(i);return a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-zoom-content as-l-container"},a().createElement(ke.A,{messages:n,lastUpdated:r}),a().createElement("div",{className:"rs-pickup-header-wrapper"},a().createElement("h1",{id:"rs-checkout-header",className:"large-9 small-12 rs-checkout-headerfocus rs-pickup-header typography-headline-reduced",tabIndex:"-1"},e),t&&a().createElement("div",{className:"rs-pickup-header-message typography-body"},t)),a().createElement(Fg,null),o&&a().createElement(Up,{disableTradeInSvat:m,modKey:c,selectorBinding:"selectFapiao"}),s&&a().createElement("div",{className:"rs-pickup-eppplus"},a().createElement(zs,{modKey:Re.Cx})),l&&a().createElement(js,{modKey:Re.Lk,isLast:!b}),b&&a().createElement("div",{className:"rs-fulfillment-webinstallment"},i,p&&a().createElement("div",(0,Ie.A)({className:"rs-acmiotb large-9 large-offset-3 small-12 small-offset-0"},(0,Le.OH)(Qe.GP(E,{acmiOtbValue:p})))))),d&&a().createElement("div",{className:"rs-pickup-button as-l-container"},a().createElement(ea,{modKey:Re.M8,applePayRequestModKey:Re.ZB,buttonDisclaimer:u,webInstallmentSummary:b,buttonRight:b})),a().createElement("div",{className:"rs-checkout-chatfaq-wrapper"},y&&a().createElement(ya,null),a().createElement(ua,{modKey:Re.xA})),v)},Rg=()=>{const[e]=(0,k.Ej)(Re.nn,"acmiFromBag"),[t]=(0,k.lE)(Re.M8),[n,r]=(0,k.fL)(Re.Pe),[s]=(0,k.lE)(Re.iV),l=(0,k.M1)(Re.ot),i=(0,k.M1)(Re.Lk),o=(0,k.M1)(Re.Cx),c=(0,k.M1)(`${Re.M8}.fapiaoSelector`),m=(0,k.M1)(`${Re.M8}.eFapiaoSelector`);let d;d=c?`${Re.M8}.fapiaoSelector`:m?`${Re.M8}.eFapiaoSelector`:null;const{acAvailable:u}=Ce(),p=(0,k.LZ)(Re.N9,"selectedPickupOption"),[g]=(0,k.Ej)(Re.CI,"agreementAcceptancePolicy"),{header:y,thirdPartyDisabledMessage:v,acmiOtbValue:h,hasAppleCard:E,shouldShowChat:b,returnToShop:f,continueLabel:A,hasDeviceTradeIn:w}=t,{hasAuthorizedUsers:N,authorizedUserPickupInfo:S,carrierPlanInfo:C}=s,I=N?S:C&&C.carrierAccountInfo,P=p.value===hg?g:"";return a().createElement(Bg,{header:y,headerMessage:v||I,messages:n,messagesLastUpdated:r,hasEppPlus:o,hasTermsAndConditions:i,installmentsSummary:l&&a().createElement(Ms,{modKey:Re.ot,isAcmi:e,showFinancingMessages:!1}),continueLabel:A,continueDisclaimer:P,acmiOtbValue:h,hasAppleCard:E||u,hasFapiao:null!==d,fapiaoModKey:d,disableTradeInSvat:w,showChat:b,footer:a().createElement(pn,{modKey:Re.Zg,buyFlowInstallments:l,acmiFromBag:e,returnToShopForAcmi:Boolean(f)})})},_g=a().memo(Rg),$g=a().createContext({modKey:"",paymentTypes:{},initialProps:{}}),Hg=({modKey:e,paymentTypes:t,initialProps:n={},children:r})=>a().createElement($g.Provider,{value:{modKey:e,paymentTypes:t,initialProps:n}},r),Kg=()=>a().useContext($g);var Vg=__webpack_require__(4111);const Ug=(e,t)=>`${e} ${e}-${t.replace(/_/g,"").toLowerCase()}`,Wg=Ug.bind(null,"rf-paymentoptions-image"),Gg=({showComponent:e,paymentType:t,moduleName:n,billingOption:r})=>{const{assets:s}=(0,Y.S)(),{modKey:l,initialProps:i}=Kg(),o=Ug("rf-paymentoptions-moduleloading",n),c=Z()("waitindicator waitindicator24-gray",o),m=i.selectedBillingOptions?`${l}.${i.selectedBillingOptions}.${n}`:`${l}.selectedBillingOptions.${n}`,d={billingOption:r};return a().createElement("div",{className:"rf-paymentoptions-item-module-container as-util-fadeaccordion rr-accordion-shown"},e?a().createElement("div",{className:"as-util-fadeaccordion-content"},t.renderPrimary(m,i,d)):a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",{role:"img",className:c,"aria-label":s.processing}))))},jg=({showComponent:e,paymentType:t,paymentTypeOpen:n,moduleName:r,billingOption:s,isRadio:l})=>{const i=`rf-paymentoptions-item-module-${r}`.toLowerCase();return a().createElement("div",{className:i},l&&a().createElement(j.x,{in:n},a().createElement(Gg,{showComponent:e,paymentType:t,moduleName:r,billingOption:s})),!l&&a().createElement(Gg,{showComponent:e,paymentType:t,moduleName:r,billingOption:s}))},qg=({option:e,paymentType:t})=>{const{modKey:n,initialProps:r}=Kg(),s="RADIO"===e.controlType,l=e.moduleKey,i=!0===e.openByDefault||"true"===e.openByDefault,o=!1===t.isAsync||i,c=r.selectedBillingOptions?`${n}.${r.selectedBillingOptions}.${l}`:`${n}.selectedBillingOptions.${l}`,m=(0,k.Yl)(n),d=(0,k.M1)(c),[u]=(0,k.Ej)(n,"selectBillingOption"),p=!(m.properties.isLoadingSubmit&&"installments"===e.moduleKey&&e.value===m.data.value)&&d||o,g=e.value===u||i&&!e.disabled,y=(0,k.M1)(`${c}.billingAddress`);return a().createElement(a().Fragment,null,a().createElement(jg,{showComponent:p,paymentType:t,paymentTypeOpen:g,moduleName:l,billingOption:e,isRadio:s}),y&&a().createElement(Vg.PV,null))},Yg=({option:e,paymentType:t,hasLabelList:n,hasPreApprovedZiniaFinancing:r})=>{const{assets:s}=(0,Y.S)(),l=e.labelImageUrl&&!e.sideImage,i=e.labelImageUrl&&e.sideImage;let o;!e.sideLabel&&t&&t.renderSideLabel&&(o=t.renderSideLabel);const c=Z()("row",{"form-selector-list-header":n}),m="TOUCHNGO"===e.labelImage;return a().createElement("span",{className:c,"aria-hidden":e.disabled},a().createElement("span",{className:Z()("form-selector-left-col",{"rf-paymentoptions-touchngo":m,"large-6 small-7":!r,"large-12":r})},l&&a().createElement(kt.Ay,{className:e.sublabel?"rf-paymentoptions-sublabel-banklogos":"rf-paymentoptions-banklogos","aria-hidden":Boolean(e.label),alt:e.labelImageAlt,src:e.labelImageUrl,width:e.labelImageWidth,height:e.labelImageHeight}),e.labelImage&&a().createElement("span",{className:Wg(e.labelImage)}),e.label&&a().createElement("span",(0,Ie.A)({className:"form-selector-title"},(0,Le.OH)(e.label))),r&&a().createElement("div",{className:"rf-paymentoptions-svgicon-container"},a().createElement("span",(0,Ie.A)({className:"rf-paymentoptions-svgicon"},(0,Le.OH)('<svg viewBox="0 0 25 25" class="as-svgicon as-svgicon-complete as-svgicon-reduced as-svgicon-completereduced" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h25v25H0z"/><path d="M12.5 4.1a8.4 8.4 0 1 1-8.4 8.4 8.409 8.409 0 0 1 8.4-8.4m0-1.1a9.5 9.5 0 1 0 9.5 9.5A9.5 9.5 0 0 0 12.5 3Z"/><path d="M11.69 16.914a.5.5 0 0 1-.809.046L7.75 13.112a.55.55 0 1 1 .854-.694l2.608 3.2 4.8-7.478a.55.55 0 0 1 .926.594Z"/></svg>'))),a().createElement("span",{className:"rf-paymentoptions-sec-label form-label-small"},s.preApprovedZiniaFinancingLabel)),e.a11yLabel&&a().createElement("span",{className:"visuallyhidden"},e.a11yLabel),e.sublabel&&a().createElement("span",{className:"form-label-small"},e.sublabel)),a().createElement("span",{className:"form-selector-right-col"},i&&a().createElement(kt.Ay,{className:"rf-paymentoptions-itemsideimage",alt:e.labelImageAlt,src:e.labelImageUrl,width:e.labelImageWidth,height:e.labelImageHeight}),a().createElement("span",(0,Le.OH)(e.sideLabel)),e.sideSubLabel&&a().createElement("span",(0,Ie.A)({className:"rf-paymentoptions-itemsidesublabel form-label-small"},(0,Le.OH)(e.sideSubLabel))),o&&o()))},zg=({option:e,selectedBillingOption:t,selectorRadioProps:n,paymentType:r,hasPreApprovedZiniaFinancing:s})=>{const{modKey:l}=Kg(),i="applePay"===e.moduleKey,o=`${l}.${e.value}`.toLowerCase(),c={id:i&&!t?"co-options-applePay":`${o}-selector`};return a().createElement("div",c,a().createElement(nc.Ay,(0,Ie.A)({},n,{tag:"div"}),e.labelList?a().createElement(a().Fragment,null,a().createElement(Yg,{option:e,paymentType:r,hasLabelList:!0,hasPreApprovedZiniaFinancing:s}),a().createElement("div",(0,Ie.A)({id:`checkout-billingOptions-list-${e.moduleKey}`,className:"rf-paymentoptions-billinginfo-list"},(0,Le.OH)(e.labelList)))):a().createElement(a().Fragment,null,a().createElement(Yg,{option:e,paymentType:r,hasLabelList:!1,hasPreApprovedZiniaFinancing:!1}))))},Zg=({option:e,paymentType:t})=>{const{modKey:n,initialProps:r}=Kg(),s=(0,k.tx)(n,"selectBillingOption"),l="APPLE_PAY"===e.value?`checkout-billingOptions-${e.value}-textID`:`checkout-billingOptions-list-${e.moduleKey}\n            checkout-billingOptions-${e.value}\n            checkout-billingOptions-${e.moduleKey}`,i={...s.props,checked:s.binding.value===e.value,id:`${n}.${e.value}`.toLowerCase(),name:s.binding.properties.key,value:e.value,"data-autom":`checkout-billingOptions-${e.value}`,"aria-describedby":l,disabled:e.disabled,withAriaLabeledBy:!0,"aria-hidden":e.disabled},[o]=(0,k.lE)(r.ziniaKey);return a().createElement(zg,{option:e,selectedBillingOption:s.value,selectorRadioProps:i,paymentType:t,hasPreApprovedZiniaFinancing:Boolean(o&&o.financingPreApprovalAmount)})},Jg=({option:e,paymentType:t})=>{const{initialProps:n}=Kg(),r=e.message||e.disabledMessage,s=t&&t.renderSupplementalInfo,l=e.disabled?e.disabledMessage:e.message;return a().createElement("div",{className:"column large-6 small-12"},s&&a().createElement("div",{className:`as-supplementalinfo ${ra.A.BODY_REDUCED}`,id:`checkout-billingOptions-${e.value}-supplementalInfo`},t.renderSupplementalInfo&&t.renderSupplementalInfo(n)),r&&a().createElement("div",(0,Ie.A)({className:`as-supplementalinfo ${ra.A.BODY_REDUCED}`,id:`checkout-billingOptions-${e.value}`},(0,Le.OH)(l))))},Xg=({option:e,paymentTypes:t,logoURL:n,description:r,logoAlt:s})=>{const{viewport:l}=(0,Y.S)(),{initialProps:i}=Kg(),o="RADIO"===e.controlType,c=!("true"===e.noDivider)&&"CHECKBOX"===e.controlType,m="MESSAGE"===e.controlType,{supplementalInfoAlternateLayout:d=[]}=i,u=d.includes(e.value),p=Boolean(o&&"small"===l&&u),g=t[e.moduleKey],y=Ug("rf-paymentoptions-item",e.moduleKey),v=Z()(y,{"rf-paymentoptions-item-standalone":c}),h=g&&"small"!==l||!u,E=g&&!m;let b=null;m&&(b=e.disabled?e.disabledMessage:e.message);const f=(n||r)&&"partnerFinancingFundingType"===e.moduleKey;return a().createElement("div",{className:v},f&&a().createElement("div",{className:"large-6 small-12 rf-paymentoptions-details"},n&&a().createElement(kt.Ay,{className:"rf-paymentoptions-details-logo",src:n,alt:s}),a().createElement("span",(0,Ie.A)({className:"rf-paymentoptions-details-list typography-body-reduced"},(0,Le.OH)(r)))),o&&a().createElement("div",{className:"row rf-paymentoptions-item-container"},a().createElement("div",{className:"column large-6 small-12"},a().createElement(Zg,{option:e,paymentType:g})),h&&a().createElement(Jg,{option:e,paymentType:g})),E&&a().createElement(qg,{option:e,paymentType:g}),p&&a().createElement("div",{className:"row"},a().createElement(Jg,{option:e,paymentType:g})),b)},Qg=(e,t)=>e.filter((e=>e.value===t)).pop(),ey=({optionKeys:e,logoURL:t,description:n,logoAlt:r})=>{const{modKey:s,paymentTypes:l}=Kg(),[i]=(0,k.lE)(`${s}`,"options");return a().createElement(a().Fragment,null,e.map((e=>a().createElement(Xg,{key:e,option:Qg(i.options,e),paymentTypes:l,logoURL:"BuyNowPayLater"===e?t:"",description:"BuyNowPayLater"===e?n:"",logoAlt:r}))))},ty=({group:e,paymentTypes:t})=>{const{viewport:n}=(0,Y.S)(),r="small"===n,{initialProps:s,modKey:l}=Kg(),{groupKey:i,title:o,enableFinancingCalculatorLink:c,moduleKey:m,description:d,logoUrl:u,logoAlt:p,subTitle:g}=e,y=Boolean(o),v=Ug("rf-paymentoptions-group",i.replace(/^group-/,"")),{renderFinanceOverlay:h}=s,E=c&&Boolean(h),b=t[m],f=e.messageType&&"ncemiPromoText"===e.messageType,A=y&&Boolean(e.message)&&!f,w=Boolean(o)||Boolean(e.header),N=Boolean(g),S=Z()("rf-paymentoptions-financing-overlay",{"rf-paymentoptions-subtitle-financing-overlay":N&&!r}),C=E&&a().createElement("div",{className:S},h&&h(`${l}.displayGroups.group-${i}`));return a().createElement("div",{className:v},w&&a().createElement("div",{className:"rf-paymentoptions-legend large-6 small-12"},e.header&&a().createElement("h2",{className:"rf-paymentoptions-splitpayment-header typography-label"},e.header),y&&a().createElement("h3",{className:"rf-paymentoptions-header typography-label"},o),N?a().createElement("div",{className:"rf-paymentoptions-subheader"},a().createElement("div",{className:"rf-paymentoptions-subtitle typography-body-reduced"},g),C):C),y&&a().createElement(a().Fragment,null,A&&a().createElement("p",null,e.message),b&&b.renderPrimary()),e.options&&a().createElement(ey,{optionKeys:e.options,logoURL:u,description:d,logoAlt:p}))},ay=()=>{const{modKey:e,paymentTypes:t,initialProps:n}=Kg(),r=n.displayGroups?`${e}.${n.displayGroups}`:`${e}.displayGroups`,s=(0,k.X8)(r);return a().createElement("div",{className:"rf-paymentoptions"},s.map((e=>a().createElement(ty,{key:e.properties.key,group:e.data,paymentTypes:t}))))},ny=a().memo(ay),ry=({modKey:e,paymentTypes:t,initialProps:n})=>a().createElement(Hg,{modKey:e,paymentTypes:t,initialProps:n},a().createElement(ny,null)),sy=a().memo(ry),ly="checkout.billing",iy="checkout.billing.billingOptions",oy="checkout.billing.billingOptions.selectedBillingOptions.appleBalance",cy="checkout.billing.billingOptions.selectedBillingOptions.netBanking",my="checkout.billing.billingOptions.selectedBillingOptions.aliPay",dy="checkout.billing.billingOptions.selectedBillingOptions.weChat",uy="checkout.billing.billingOptions.selectedBillingOptions.directTransfer",py="checkout.billing.billingOptions.selectedBillingOptions.directTransfer.taxInfoSelector",gy="checkout.billing.billingOptions.selectedBillingOptions.directTransfer.billingAddress.address",yy="checkout.billing.billingOptions.selectedBillingOptions.directTransfer.billingContact.address",vy="checkout.billing.billingOptions.selectedBillingOptions.installments",hy="checkout.billing.billingOptions.selectedBillingOptions.installments.installmentOptions",Ey="checkout.billing.billingOptions.selectedBillingOptions.ideal",by="checkout.billing.billingOptions.selectedBillingOptions.pod",fy="checkout.billing.billingOptions.selectedBillingOptions.debitEmi.debitEmiBank",Ay="checkout.billing.billingOptions.selectedBillingOptions.eWallet",wy="checkout.billing.billingOptions.selectedBillingOptions.momoInstallments",Ny=({show:e,amount:t,lastfourDigitcardNumber:n,cannotAddGiftCardMessage:r,isAppleBalance:s,remainingBalance:l,showRemoveCardButton:i,removeCardButtonProps:o})=>{const{assets:c}=(0,Y.S)(),m=Z()("rs-payment-giftcard-applied as-util-fadeaccordion rr-accordion-shown",{"rs-payment-giftcard-applied-total":r,"rs-payment-giftcard-appliedreduced":s});return a().createElement("div",{className:m},a().createElement(j.x,{in:e},a().createElement("div",{className:"rs-payment-giftcard-child as-util-fadeaccordion-content"},a().createElement("div",{className:"row rs-payment-giftcard-top-row"},a().createElement("span",{"aria-live":"polite",className:"column rs-payment-giftcard-cardNumber"},c.giftCard," ",n),a().createElement("span",{className:"rs-payment-giftcard-amount column large-last"},t)),a().createElement("div",{className:"rs-giftcard-bottom-row"},a().createElement("span",{className:"rs-giftcard-remainingbalance"},a().createElement("span",{className:"rs-giftcard-remainingbalance-label"},c.giftCardRemainingBalance),a().createElement("span",null,l)),i&&a().createElement("button",(0,Ie.A)({},o,{type:"button"}),c.remove,a().createElement("span",{className:"visuallyhidden"},c.giftCard," ",n))))))},Sy=({modKey:e,setIsGiftCardRemoved:n})=>{const r=(0,k.M1)(oy),[s]=(0,k.lE)(e),{amount:l,lastfourDigitcardNumber:i,remainingBalance:o}=s,[c]=(0,k.Ej)("checkout.billing.billingOptions.selectedBillingOptions.giftCard","cannotAddGiftCardMessage"),[m,d]=(0,t.useState)(!0),u=(0,k.W4)(e,"remove"),p=u.binding.bindExists,g={...u.props,className:"rs-giftcard-remove as-buttonlink",onClick:e=>{u.props.onClick(e),d(!1),n(!0)}};return a().createElement(Ny,{show:m,amount:l,lastfourDigitcardNumber:i,cannotAddGiftCardMessage:c,isAppleBalance:r,remainingBalance:o,showRemoveCardButton:p,removeCardButtonProps:g})},Cy=a().memo(Sy),ky=({isEdit:e,label:t,giftCardLabel:n,message:r,giftCardItems:s,isAppleBalance:l,showResetButton:i,resetButtonProps:o,hasGiftCardInput:c,cannotAddGiftCardMessage:m,valueCard:d,showGiftCardSection:u,showGiftCardMessage:p,giftCardDisabledMessage:g,giftCardPinInput:y,giftCardNumberInput:v,giftCardBillingAddress:h})=>{const{assets:E}=(0,Y.S)(),b=Z()("rs-payment-giftcard-pin",{"rs-payment-giftcard-pinreduced":l,"typography-body-reduced":l}),f=Z()(`as-supplementalinfo ${ra.A.BODY_REDUCED}`,{"rs-payment-giftcard-supplementalinfo-value":d,"rs-payment-giftcard-supplementalinfo":c&&e});return a().createElement("div",{className:"row rf-form-layout"},g&&a().createElement("div",(0,Ie.A)({className:"column large-6 small-12","aria-live":"polite"},(0,Le.OH)(g))),u&&a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",{className:"rs-payment-giftcard"},!l&&a().createElement("p",(0,Ie.A)({className:"rs-payment-giftcard-header typography-body"},(0,Le.OH)(t))),s,!m&&c&&a().createElement("div",{className:b},i&&a().createElement("button",(0,Ie.A)({},o,{type:"button"}),n,a().createElement("span",{className:"icon icon-after icon-chevrondown","aria-hidden":"true"})),y),d&&a().createElement(a().Fragment,null,a().createElement("p",{className:"rs-payment-giftcard-para"},E.giftMessage),v)),m&&a().createElement("div",{className:"form-alert rs-payment-giftcard-message"},m)),p&&a().createElement("div",{className:"rf-form-layout-row-message column large-6 small-12"},a().createElement("div",(0,Ie.A)({className:f},(0,Le.OH)(r),{id:"rs-checkout-payment-giftcard"}))),a().createElement("div",{className:"rs-payment-giftcard-billingaddress column large-12 small-12"},h))},Iy=({modKey:e,isBarclayCreditCard:n=!1,initialProps:r})=>{const{assets:s}=(0,Y.S)(),[l,i]=(0,t.useState)(!1),{data:o,childModKeys:c}=(0,k.Yl)(e),{data:m,properties:d}=(0,k.Yl)(`${e}.giftCardInput`),u=r&&r.isGetReady?r.GetReadyModKey:iy,[p]=(0,k.lE)(u),{options:g=[]}=p,y=n?o.options:g.find((({moduleKey:e})=>"giftCard"===e)),{sublabel:v,label:h,message:E,disabled:b,disabledMessage:f}=y,A=(0,k.M1)(`${e}.giftCardInput`),w=(0,k.M1)(oy),N=(0,k.M1)(`${e}.billingAddress`),{showValueLinkGiftCardNumber:S,_editing:C}=m,{cannotAddGiftCardMessage:I}=o,P=[`${e}.giftCardInput`,`${e}.billingAddress`,`${e}.billingContact`],L=(0,k.W4)(`${e}.giftCardInput`,"resetFields"),T=!C&&L.binding.bindExists,O={...L.props,className:"rs-payment-giftcard-toggle as-buttonlink","data-autom":"enter-giftcard-number","aria-describedby":"rs-checkout-payment-giftcard",disabled:b,"aria-controls":d.key};l&&O.ref.current&&(O.ref.current.focus(),i(!1));const D=c.filter((e=>!P.includes(e))),x=D.map((e=>a().createElement(Cy,{key:`giftCard-${e}`,modKey:e,setIsGiftCardRemoved:i}))),M=A&&S,F=((e,t,a,n)=>a.length?n?e.giftCardUseAnother:e.giftCardAnother:n?e.giftSubLabel:t)(s,v,D,w),B=!b||!f&&w,R=!b&&!I&&E,_=b&&f,{properties:{isLoadingSubmit:$}}=(0,k.Yl)(ly);return a().createElement(ky,{isEdit:C,label:h,giftCardLabel:F,message:E,giftCardItems:x,isAppleBalance:w,showResetButton:T,resetButtonProps:O,hasGiftCardInput:A,cannotAddGiftCardMessage:I,valueCard:M,showGiftCardSection:B,showGiftCardMessage:R,giftCardDisabledMessage:_,giftCardPinInput:a().createElement(Ln.K,{modKey:d.key,className:"rs-payment-giftcard-inlineeditor",triggerSel:".rs-payment-giftcard-toggle",triggerRef:L.props.ref,visibleKey:"_editing",textField:{label:s.pin,bindName:"giftCard","data-autom":"gift-card-pin"},applyButton:{label:s.apply,ally:s.applyGiftCardPinA11y,processingText:s.processing,bindName:!M&&"applyGiftCard","data-autom":"gift-card-apply"},cancelButton:{label:!M&&s.cancel,ally:s.cancelGiftCardPinA11y,bindName:!M&&"clear","data-autom":"gift-card-cancel"},isSubmitting:$}),giftCardNumberInput:a().createElement(Ln.K,{modKey:d.key,className:"rs-payment-value-giftcard-inlineeditor",triggerSel:".rs-payment-giftcard-toggle",triggerRef:L.props.ref,textField:{label:s.giftCardNumber,bindName:"valuelinkGiftCard","data-autom":"gift-card-valuelink-input"},applyButton:{label:s.apply,ally:s.applyGiftCardNumberA11y,processingText:s.processing,bindName:"applyGiftCard","data-autom":"gift-card-valuelink-apply"},cancelButton:{label:s.cancel,ally:s.cancelGiftCardNumberA11y,bindName:"clear","data-autom":"gift-card-valuelink-cancel"},isSubmitting:$}),giftCardBillingAddress:N&&a().createElement(Vg.PB,{modKey:`${e}`})})},Py=a().memo(Iy),Ly=({value:e,selectedBank:t,setSelectedBank:n,setAdditionalBankSelected:r,selectedBankBinding:s,src:l,height:i,alt:o,bankSelectorLabel:c,isInvalid:m})=>a().createElement(nc.Ay,{className:"form-selector form-selector-threeline column large-6 small-12",name:"netBankingSelector",value:e,checked:t===e,withAriaLabeledBy:!0,key:e,onChange:e=>{r(!1),n(e.target.value),s.runSetEvents()},"data-autom":c,"aria-invalid":m},a().createElement(kt.Ay,{src:l,height:i,alt:o})),Ty=({netBankingSelectors:e,selectedBankDropDownProps:t,additionalBankDropDownOptions:n,hasBillingAddress:r,paymentMessage:s,netBankingGroupAriaLabel:l})=>{const{assets:i}=(0,Y.S)();return a().createElement("div",{className:"rs-netbanking"},a().createElement("div",{className:"large-6 small-12"},a().createElement("p",(0,Ie.A)({className:"rs-netbanking-labelheader"},(0,Le.OH)(i.netBankingHeader))),a().createElement("fieldset",{"aria-labelledby":l},a().createElement("ul",{className:"form-selector-group-withgutters row"},e,a().createElement("li",{className:"large-12 small-12 rs-netbanking-additionalbank column"},a().createElement(Gr.A,t,n))))),r&&a().createElement(Vg.PB,{modKey:cy}),s&&s)},Oy=["installmentMessage","disableIssuerMessage","supplementalInfo"],Dy=({dataKey:e,message:t,isFullWidth:n})=>{const r=Oy.includes(e);return a().createElement(a().Fragment,null,"message"===e&&a().createElement("div",{className:"row"},a().createElement("div",(0,Ie.A)({className:"rs-payment-message column large-6 small-12"},(0,Le.OH)(t)))),r&&a().createElement("div",{className:Z()(`rs-payment-installmentmessage-section small-12 ${ra.A.BODY_REDUCED}`,{"large-12":n},{"large-6":!n})},a().createElement("div",(0,Ie.A)({className:"rs-payment-installmentmessage"},(0,Le.OH)(t)))))},xy=({modKey:e,dataKey:t,isFullWidth:n})=>{const[r]=(0,k.Ej)(e,t);return a().createElement(Dy,{dataKey:t,message:r,isFullWidth:n})},My=a().memo(xy),Fy=({paymentData:e})=>{const n=(0,k.Yl)(cy),[r,s]=(0,k.Ej)(cy,"selectedBank"),l=(0,k.TP)(cy,"selectedBank"),i=(0,k.M1)(`${cy}.billingAddress`),{bankOptions:o=[],bankSelectors:c=[]}=n.data,m=c.filter((e=>r===e.value)),[d,u]=(0,t.useState)(r&&0===m.length),p=Z()({"form-dropdown-selectnone":!d}),g=e&&e.billingOption?`${`${iy}.${e.billingOption.value}`.toLowerCase()}_label`:"",y={...l.props,id:"rs-netBanking-additionalBank",label:C().get(n,"data.bankOptions[0].label",""),classes:{select:p},"data-autom":"additional-bank-options",onChange:e=>{u(!0),s(e.target.value),l.props.onChange(e)}},v=c.map((e=>a().createElement(Ly,{key:e.value,value:e.value,selectedBank:r,setSelectedBank:s,setAdditionalBankSelected:u,selectedBankBinding:l.binding,src:e.imageAttributes.labelImageUrl,height:e.imageAttributes.labelImageHeight,alt:e.imageAttributes.labelImageAlt,bankSelectorLabel:e.label,isInvalid:Boolean(l.props.error)}))),h=o.map((e=>a().createElement(Gr.n,{key:e.label,value:e.value},e.label)));return a().createElement(Ty,{netBankingSelectors:v,selectedBankDropDownProps:y,additionalBankDropDownOptions:h,hasBillingAddress:i,paymentMessage:a().createElement(My,{modKey:cy,dataKey:"message"}),netBankingGroupAriaLabel:g})},By=a().memo(Fy),Ry=()=>{const{fragments:e}=(0,Y.S)();return a().createElement("div",{className:"rs-payment-barclaycard typography-body-reduced large-6 small-12"},a().createElement("div",(0,Le.OH)(e.barclayCard)),a().createElement("div",(0,Ie.A)({className:"rs-payment-barclaycard-para"},(0,Le.OH)(e.barclayTermsConditions))))},_y=({checkStatusButtonProps:e})=>{const{assets:t}=(0,Y.S)();return a().createElement("div",{className:"rs-load-fadein"},a().createElement("span",{className:"rs-payment-barclaycard-supplementalinfo","aria-label":t.barclayCardApplyAppleRewardsInfo},t.barclayCardApply),a().createElement(Wt.A,(0,Ie.A)({},e,{"aria-label":`${t.barclayCardStatus} ${t.barclayCardStatusInfo} ${t.externalLinkA11y}`}),t.barclayCardStatus))},$y=()=>{const[e]=(0,k.Ej)(ly,"displayBarclaysCheckStatusLink"),t={...(0,k.W4)(ly,"checkStatus").props,hasDefaultClass:!1,className:"as-buttonlink rs-payment-barclaycard-status more"};return e&&a().createElement(_y,{checkStatusButtonProps:t})},Hy=a().memo($y),Ky=({moduleDrawerInfo:e,hasUseShippingAddressCheckBoxBinding:t,useShippingAddressCheckBoxProps:n,useShippingAddressLabel:r,isLoadingSubmit:s,hasBillingAddressMod:l,hasBillingContactMod:i,receiptOptions:o,taxInfoSelectorDropdownProps:c,hasTaxInfoTypeMod:m,hasSelectedTaxInfoTypeAddressMod:d,selectedTaxInfoType:u})=>{const{assets:p,viewport:g}=(0,Y.S)();return a().createElement(a().Fragment,null,Boolean(e)&&a().createElement("div",(0,Ie.A)({className:"rs-payment-directtransfer-rightrail typography-body-reduced large-6 small-12"},(0,Le.OH)(e))),a().createElement("div",{className:"rs-payment-directtransfer-keyline large-6 small-12"}),a().createElement("div",{className:"rs-payment-directtransfer large-12 small-12 column"},a().createElement("div",{className:"rs-payment-directtransfer-address"},a().createElement("h3",{className:"rs-payment-directtransfer-subheader"},p.addressHeader),t&&a().createElement(Vn.A,n,r),s?a().createElement("div",{role:"img",className:"rs-payment-directtransfer-moduleloading waitindicator waitindicator-inline waitindicator24-gray","aria-label":p.processing}):l&&a().createElement(dl.A,{modKey:gy,isFullWidth:"small"===g}),i&&a().createElement(dl.A,{modKey:yy,isFullWidth:"small"===g}),o.length>0&&a().createElement("div",{className:"rs-payment-directtransfer-cashreceipt"},a().createElement("h3",{className:"rs-payment-directtransfer-subheader"},p.cashReceiptHeader),a().createElement(Gr.A,c,o.map((e=>a().createElement(Gr.n,{key:`receiptOption-${e.value}`,value:e.value},e.label)))),m&&a().createElement(dl.A,{modKey:`${py}.${u}`,isFullWidth:"small"===g,classes:{layout:"as-util-fadein"}}),m&&d&&a().createElement(dl.A,{modKey:`${py}.${u}.address`,isFullWidth:"small"===g,classes:{layout:"as-util-fadein"}})))))},Vy=()=>{const{assets:e}=(0,Y.S)(),[t]=(0,k.lE)(iy),{options:n=[]}=t,r=n.find((({moduleKey:e})=>"directTransfer"===e)),{modExists:s,data:l}=(0,k.Yl)(py),{data:i,properties:o}=(0,k.Yl)(uy),c=(0,k.DZ)(uy,"isUseShippingAddress"),m=(0,k.M1)(gy),d=(0,k.M1)(yy),u=(0,k.M1)(`${py}.${l.selectedTaxInfoType}`),p=(0,k.M1)(`${py}.${l.selectedTaxInfoType}.address`),g=s&&l.options||[],y=(0,k.TP)(py,"selectedTaxInfoType"),v="TaxDropDownDefault"===l.selectedTaxInfoType&&"form-dropdown-selectnone",h={...y.props,label:e.cashReceiptDropdownLabel,classes:{root:"large-6 small-12",select:v}},E=r?r.moduleDrawerInfo:"";return a().createElement(Ky,{moduleDrawerInfo:E,hasUseShippingAddressCheckBoxBinding:c.binding.bindExists,useShippingAddressCheckBoxProps:c.props,useShippingAddressLabel:i.useShippingAddressLabel,isLoadingSubmit:o.isLoadingSubmit,hasBillingAddressMod:m,hasBillingContactMod:d,receiptOptions:g,taxInfoSelectorDropdownProps:h,hasTaxInfoTypeMod:u,hasSelectedTaxInfoTypeAddressMod:p,selectedTaxInfoType:l.selectedTaxInfoType})},Uy=a().memo(Vy),Wy=({message:e})=>{const{assets:t}=(0,Y.S)();return a().createElement(a().Fragment,null,a().createElement("span",(0,Ie.A)({className:"rf-payment-applepay-setuprequired rf-payment-applepay-details typography-body-reduced",id:"checkout-billingOptions-APPLE_PAY-textID"},(0,Le.OH)(t.paymentSetupRequiredDetails))),e&&a().createElement("span",(0,Ie.A)({className:"rf-payment-applepay-message rf-payment-applepay-details typography-body-reduced"},(0,Le.OH)(e))))},Gy=({modKey:e})=>{const[t]=(0,k.Ej)(e,"message");return a().createElement(Wy,{message:t})},jy=a().memo(Gy),qy=()=>{const{assets:e}=(0,Y.S)();return a().createElement("span",(0,Ie.A)({className:"rf-payment-applepay-setuprequired rf-payment-applepay-sidelabel"},(0,Le.OH)(e.paymentSetupRequiredLabel)))},Yy=({subLabel:e,subSideLabel:t})=>a().createElement("span",{className:"row rs-payment-installments-sublabel"},e&&a().createElement("span",{className:"form-selector-left-col column large-6"},a().createElement("span",(0,Ie.A)({className:"form-label-small"},(0,Le.OH)(e)))),t&&a().createElement("span",{className:"form-selector-right-col column large-6"},a().createElement("span",(0,Ie.A)({className:"form-label-small"},(0,Le.OH)(t))))),zy=({billingOptionValue:e,title:t,subtitle:n,hasInstallmentOptionsData:r,installmentOptions:s,disableIssuerMessage:l,selectInstallmentOptionValue:i,selectorInstallmentRadioProps:o,installmentOptionsFooter:c,paymentMessage:m,issuerMessage:d})=>{const u=Boolean(l);return a().createElement(a().Fragment,null,a().createElement("div",{className:"row"},a().createElement("div",{className:"rs-payment-installments column large-6 small-12"},a().createElement("div",{className:"rs-payment-installments-header",id:`rs-payment-installments-title-${e}`},t),a().createElement("div",{className:"rs-payment-installments-subheader",id:`rs-payment-installments-subtitle-${e}`},n),a().createElement("ul",{"aria-labelledby":`rs-payment-installments-title-${e} rs-payment-installments-subtitle-${e}`,className:"rs-payment-installment-options"},!u&&r&&s.map((t=>a().createElement(nc.Ay,(0,Ie.A)({},o,{key:`${e}-${t.value}`,name:e,value:t.value,className:"rs-payment-installments-option","data-autom":`${e}-${t.value}`,checked:i===String(t.value)||i===t.value}),t.savingsPaymentPromo&&a().createElement("span",{className:"rs-payment-installments-savingsheader row"},a().createElement("span",{className:"form-selector-left-col column large-8"},a().createElement("span",{className:"form-label-small"},t.savingsPaymentPromo))),a().createElement("span",{className:"row"},a().createElement("span",{className:"form-selector-left-col column large-8"},t.label&&a().createElement("span",{className:"form-selector-title"},t.label),t.sublabel&&a().createElement("span",{className:"form-label-small"},t.sublabel)),a().createElement("span",{className:"form-selector-right-col column large-4"},t.sidelabel&&a().createElement("span",null,t.sidelabel),t.subSideLabel&&a().createElement("span",{className:"form-label-small"},t.subSideLabel))),(t.lowerSubLabel||t.lowerSubSideLabel)&&a().createElement(Yy,{subLabel:t.lowerSubLabel,subSideLabel:t.lowerSubSideLabel}))))),"1"!==i&&a().createElement("div",(0,Le.OH)(c)))),m,d)},Zy=({paymentData:e})=>{const{data:t}=(0,k.Yl)(vy),{modExists:n,data:r}=(0,k.Yl)(hy),s=(0,k.tx)(hy,"selectInstallmentOption"),l=s.binding&&s.binding.value,i=e&&e.billingOption.value||"";return a().createElement(zy,{billingOptionValue:i,title:t.title,subtitle:t.subtitle,hasInstallmentOptionsData:n,installmentOptions:n&&r.options,disableIssuerMessage:r.disableIssuerMessage,selectInstallmentOptionValue:l,selectorInstallmentRadioProps:s.props,installmentOptionsFooter:r.installmentOptionsFooter,paymentMessage:a().createElement(My,{modKey:vy,dataKey:"installmentMessage"}),issuerMessage:a().createElement(My,{modKey:vy,dataKey:"disableIssuerMessage"})})},Jy=a().memo(Zy),Xy=({header:e,productName:t,qty:n,labelImageUrl:r,labelImageAlt:s,priceDetails:l,includesTradein:i,includesAppleCare:o})=>a().createElement("div",{className:"rs-payment-line-item typography-body-reduced-tight"},a().createElement("h3",{className:"rs-payment-line-item-header typography-body"},e),a().createElement("div",{className:"rs-payment-line-item-product-container"},a().createElement(kt.Ay,{src:r,alt:s||t,"aria-hidden":"true"}),a().createElement("div",{className:"rs-payment-line-item-product-name-container"},a().createElement("div",{className:"rs-payment-line-item-product-name"},t),a().createElement("div",null,n))),l&&a().createElement("div",{className:"rs-payment-line-item-price-details-container"},l.map((e=>a().createElement("div",{key:e.label,className:"rs-payment-line-item-price-detail "+(e.name?`rs-payment-line-item-${e.name}`:"")},a().createElement("span",null,e.label),a().createElement("span",null,"promotion"===e.name?"-":"",e.price))))),(!!i||!!o)&&a().createElement("div",{className:"rs-payment-line-item-includes-container"},!!i&&a().createElement("div",{className:"rs-payment-line-item-includes-text typography-caption"},i),!!o&&a().createElement("div",{className:"rs-payment-line-item-includes-text typography-caption"},o))),Qy=a().memo(Xy),ev=({header:e,items:t=[]})=>a().createElement("div",{className:"rs-payment-line-item typography-body-reduced-tight rs-one-time-payment-line-item"},a().createElement("h4",{className:"rs-payment-line-item-header typography-body"},e),t.map((e=>{const n=e.label.replace(/\s/g,"-").toLowerCase();return a().createElement("div",{key:n,className:"rs-payment-line-item-product-container"},a().createElement(kt.Ay,{src:e.labelImageUrl,alt:e.labelImageAlt||e.label,"aria-hidden":"true"}),a().createElement("div",{className:"rs-payment-line-item-product-name-container"},a().createElement("div",{className:"rs-payment-line-item-product-name"},e.label),a().createElement("div",null,e.qty),t.length>1&&a().createElement("div",null,e.value),!!e.promotion&&a().createElement("div",{className:"rs-line-item-promotion"},e.promotion)))}))),tv=a().memo(ev),av=({installmentLineItems:e,oneTimePaymentLineItems:t})=>a().createElement("div",{className:"rs-moduledrawer"},a().createElement("div",{className:"rs-moduledrawer-info typography-body-reduced large-6 small-12"},(Array.isArray(e)||t&&t.items)&&a().createElement("div",{className:"rs-line-item-container"},Array.isArray(e)&&e.map((e=>a().createElement(Qy,(0,Ie.A)({key:e.productName},e)))),t&&t.items&&a().createElement(tv,t)))),nv=({modKey:e})=>{const[t]=(0,k.lE)(e),{installmentLineItems:n,oneTimePaymentLineItems:r}=t;return a().createElement(av,{installmentLineItems:n,oneTimePaymentLineItems:r})},rv=a().memo(nv),sv=({labelImageUrl:e,labelImageAlt:t,labelImageHeight:n,returnToBagLink:r,label:s,sublabel:l,returnToBag:i})=>a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",{className:"rs-payment-acmi typography-body-reduced"},a().createElement("div",{className:"as-icondetails-icon"},Boolean(e)&&a().createElement(kt.Ay,{height:n,src:e,alt:t,"aria-hidden":"true"})),i&&i(s,l,r)))),lv=({initialProps:e})=>{const[t]=(0,k.Ej)("checkout.billing.billingOptions.selectedBillingOptions.appleCardMonthlyInstallments","returnToShopLink"),[n]=(0,k.lE)(iy),{options:r=[]}=n,s=r.find((({moduleKey:e})=>"appleCardMonthlyInstallments"===e)),{labelImageUrl:l,labelImageAlt:i,labelImageHeight:o,label:c,sublabel:m}=s;return a().createElement(sv,{labelImageUrl:l,labelImageAlt:i,labelImageHeight:o,returnToBagLink:t,label:c,sublabel:m,returnToBag:Boolean(t)&&e&&e.renderReturnToShop})},iv=a().memo(lv),ov=({financingTooltipContent:e,financingTooltipLabel:t,moduleDrawerInfo:n,hasBillingAddress:r,editLabel:s,changeAddressButtonProps:l,billingAddress:i})=>a().createElement("div",{className:"rs-moduledrawer"},a().createElement("div",{className:"rs-moduledrawer-info typography-body-reduced large-6 small-12"},e&&a().createElement("div",{className:"rs-moduledrawer-tooltip-info"},a().createElement("span",{className:"rs-moduledrawer-tooltip-label"},t),a().createElement(Bn.Ay,{autoAlign:!0,className:"form-tooltip-content"},a().createElement("div",(0,Ie.A)({className:"form-tooltip-content"},(0,Le.OH)(e))))),a().createElement("div",(0,Le.OH)(n))),r&&a().createElement(a().Fragment,null,i,s&&a().createElement("div",{className:"rs-moduledrawer-editaddress typography-body"},a().createElement(Wt.A,l,s)))),cv=({modKey:e="",paymentData:t})=>{const[n]=(0,k.lE)(e),r={...(0,k.W4)(e,"edit").props,className:"as-buttonlink more",hasDefaultClass:!1},s=C().get(t,"billingOption.financingTooltipContent",""),l=C().get(t,"billingOption.financingTooltipLabel","");return a().createElement(ov,{financingTooltipContent:s,financingTooltipLabel:l,moduleDrawerInfo:t&&t.billingOption.moduleDrawerInfo||"",hasBillingAddress:(0,k.M1)(`${e}.billingAddress`),editLabel:n.editLabel,changeAddressButtonProps:r,billingAddress:a().createElement(Vg.PB,{modKey:e})})},mv=a().memo(cv),dv=({banks:e,selectBankDropdownProps:t})=>{const{assets:n,fragments:r}=(0,Y.S)();return a().createElement("div",{className:"rs-payment-ideal-payment row"},e&&a().createElement("div",{className:"column large-6 small-12 rs-payment-ideal-banklistdropdown"},a().createElement("div",(0,Ie.A)({className:"rs-payment-ideal-info typography-body-reduced"},(0,Le.OH)(r.idealInfo))),a().createElement("div",{className:"rs-payment-ideal-banktitle typograph-body"},n.idealBankTitle),a().createElement(Gr.A,t,e.map((e=>a().createElement(Gr.n,{key:`product-${e.label}`,value:e.value},e.label))))),a().createElement("div",{className:"column large-12 small-12"},a().createElement(Vg.PB,{modKey:Ey})))},uv=()=>{const e=(0,k.Yl)(Ey),{banks:t}=e.data,n={...(0,k.TP)(Ey,"selectedBank").props,"data-autom":"ideal-payment-bank-list"};return a().createElement(dv,{banks:t,selectBankDropdownProps:n})},pv=a().memo(uv),gv=({moduleDrawerInfo:e,moduleDrawerMessage:t,moduleAddress:n})=>a().createElement("div",{className:"rs-payment-drawerwithrightrail"},Boolean(e)&&a().createElement("div",(0,Ie.A)({className:"rs-payment-drawerwithrightrail-rightrail typography-body-reduced small-12 large-6"},(0,Le.OH)(e))),Boolean(t)&&a().createElement("div",(0,Ie.A)({className:"rs-payment-drawerwithrightrail-rightrail typography-body-reduced small-12 large-6"},(0,Le.OH)(t))),a().createElement("div",{className:"rs-payment-drawerwithrightrail large-12 small-12 column"},a().createElement("div",{className:"rs-payment-drawerwithrightrail-address"},n))),yv=({modKey:e="",paymentData:t})=>{const[n]=(0,k.lE)(e),r=C().get(t,"billingOption.moduleDrawerInfo","");return a().createElement(gv,{moduleDrawerInfo:r,moduleDrawerMessage:n.message,moduleAddress:a().createElement(Vg.PB,{modKey:e})})},vv=a().memo(yv),hv=({paymentData:e,modKey:t})=>{const{assets:n,fragments:r}=(0,Y.S)(),s=C().get(e,"billingOption.moduleKey",""),l=Ug("rs-payment-static",s),i=Z()("column large-6 small-12 rs-payment-static-message typography-body-reduced",l),o=r[`${s}Message`]||n[`${s}Message`],c=(0,k.M1)(`${t}.billingAddress`);return a().createElement(a().Fragment,null,a().createElement("div",{className:"row"},a().createElement("div",(0,Ie.A)({className:i},(0,Le.OH)(o)))),c&&a().createElement(Vg.PB,{modKey:t}))};var Ev=__webpack_require__(7920);const bv={},fv={isMetricsEnabled:!1,isOnDemand2FA:!1,metricsStage:""},Av="HSA_LOGIN_STEP_CREDENTIALS",wv="SIGNIN_WITH_APPLE_SHEET",Nv="HSA_LOGIN_STEP_TWO_FACTOR_AUTH",Sv="Sign in with Apple",Cv="Default Login",kv=e=>{const t=new CustomEvent("echoCustomEvent",{detail:e});window.dispatchEvent(t)},Iv=C().get(window,"asMetrics.sendEvent",C().noop),Pv=C().get(window,"asMetrics.fireMicroEvent",C().noop),Lv=(C().get(window,"asMetrics.sendUserInteraction",C().noop),e=>"string"==typeof e?e:JSON.stringify(e)),Tv=({requestHeaders:e,requestBody:t,bootstrap:a,setAuthState:n,onSignInSuccess:s})=>{const{callbackSignInUrl:l}=a;return{onAuthReady:()=>{const{isMetricsEnabled:e}=bv;(()=>{if(window.performance){const e="echo-as-signin.signin.dom-loaded.react",t="echo-as-signin.signin.iframe.react-render-finish";window.performance.getEntriesByName(e).length>0&&(window.performance.mark(t),window.performance.measure("echo-as-signin.signin.iframe.ready.react",e,t))}})(),window.performance&&(window.performance.mark("echo-as-signin.signin.iframe.loadtime.react-render-finish"),window.performance.measure("echo-as-signin.signin.iframe.loadtime.react","echo-as-signin.signin.iframe.loadtime.react-render-start","echo-as-signin.signin.iframe.loadtime.react-render-finish")),e&&(Iv({name:"signin",data:{events:"event415"}}),bv.metricsStage=Av)},onAuthSuccess:({grantCode:a}={})=>{const{isMetricsEnabled:n,metricsStage:i}=bv;i===wv&&window.performance&&(window.performance.mark("echo-as-signin.signin.iframe.on-auth-success"),window.performance.measure("echo-as-signin.signin.iframe.native-takeover-start-to-auth-success","echo-as-signin.signin.iframe.native-takeover-start.react-render.finish","echo-as-signin.signin.iframe.on-auth-success")),n&&(()=>{const{metricsStage:e}=bv,t={macroEvents:""};switch(e){case wv:t.macroEvents="event412";break;case Av:t.macroEvents="event416";break;case Nv:t.macroEvents="event414";break;default:t.macroEvents=""}Iv({name:"signin",data:{prop37:'D=pageName+"||Checkout|CustomerLogin"',events:t.macroEvents}})})(),s?s(a):l&&(({requestHeaders:e,requestBody:t,callbackSignInUrl:a,grantCode:n})=>{const s=(0,r.A)("react-trans/handleRedirectOnSuccess"),l={...t,deviceID:window.DeviceID&&window.DeviceID.validate()||"",grantCode:n||""},i=Object.entries(l).map((([e,t])=>`${encodeURIComponent(Lv(e))}=${encodeURIComponent(Lv(t))}`)).join("&");fetch(a,{method:"POST",headers:e,body:i}).then((e=>e.json())).then((e=>{try{Ev.L(e)}catch(e){s.error(e)}}))})({requestHeaders:e,requestBody:t,callbackSignInUrl:l,grantCode:a})},onAuthFailure:e=>{const{isMetricsEnabled:t}=bv;t&&Iv({name:"error",data:{eVar25:`${Cv} AuthFailure`,events:"event415,event388"}}),kv({message:"Sign in Authorization iframe failed to load.",id:`as-signin.iframeOnAuthFailure.react.${Date.now()}`,type:"iframeOnAuthFailure"}),n("hasError",!0),console.error("AppleAuth widget failed to load.",e)},onNativeTakeOverDidStart:()=>{const{isMetricsEnabled:e}=bv;e&&(Iv({name:"signin",data:{events:"event411"}}),bv.metricsStage=wv),window.performance&&(window.performance.mark("echo-as-signin.signin.iframe.native-takeover-start.react-render.finish"),window.performance.measure("echo-as-signin.signin.iframe.native-takeover-start.react","echo-as-signin.signin.iframe.loadtime.react-render-start","echo-as-signin.signin.iframe.native-takeover-start.react-render.finish"))},onNativeTakeOverDidCancel:()=>{const{isMetricsEnabled:e}=bv;e&&(Iv({name:"error",data:{eVar25:`${Sv} NativeTakeOverDidCancel`,events:"event411,event388"}}),bv.metricsStage=""),window.performance&&(window.performance.mark("echo-as-signin.signin.iframe.native-takeover-cancel.react-render.finish"),window.performance.measure("echo-as-signin.signin.iframe.native-takeover-cancel.react","echo-as-signin.signin.iframe.native-takeover-start.react-render.finish","echo-as-signin.signin.iframe.native-takeover-cancel.react-render.finish"))},onNativeTakeOverError:({code:e}={})=>{const{isMetricsEnabled:t}=bv;(e=>{kv({message:e,id:`as-signin.iframeOnNativeTakeoverError.react.${Date.now()}`,type:"iframeOnNativeTakeoverError"})})(e),t&&((e=>{Iv({name:"error",data:{eVar25:`${Sv} NativeTakeOverError ${e}`,events:"event411,event388"}})})(),bv.metricsStage="")},onAuthWidgetDidChangeFlow:({to:e}={})=>{const{isMetricsEnabled:t,isOnDemand2FA:a}=bv;a&&Pv({eVar:"eVar21",slot:"Apple account balance",feature:"security questions",action:"apply"}),t&&["HSA1","HSA2"].includes(e)&&(Iv({name:"signin",data:{events:"event413"}}),bv.metricsStage=Nv)},onAuthError:({message:e}={})=>{const{isMetricsEnabled:t}=bv;t&&e&&(e=>{const{metricsStage:t}=bv;let a;switch(t){case wv:a="event411";break;case Av:a="event415";break;case Nv:a="event413";break;default:a=""}Iv({name:"error",data:{eVar25:`${e}`,events:`${a},event388`}})})(e)},onRepairStart:()=>{kv({message:"Repairing and starting sign in authorization iframe.",id:`as-signin.iframeOnRepairStart.react.${Date.now()}`,type:"iframeOnRepairStart"}),n("isPrivacyScreen",!0)}}},Ov=(e,{requestHeaders:t={},requestBody:a={},bootstrap:n={},headerTag:r="h2",setAuthState:s=C().noop,isSmallScreen:l=!1,skVersion:i="7",onSignInSuccess:o})=>{const c=Boolean(n.onDemand2FAToken),m=C().get(window,"AppleID.service.auth.init",C().noop),d=C().get(n,"features.enableOnAuthError");m({accountName:"",...n,appName:"",containerId:e,signInLabelOption:{style:l?"callout":"label",headerTag:r},authUIMode:l?"embed":"inline",skVersion:i,callbacks:Tv({requestHeaders:t,requestBody:a,bootstrap:n,setAuthState:s,onSignInSuccess:o})}),window.performance&&window.performance.mark("echo-as-signin.signin.iframe.loadtime.react-render-start"),(e=>{const t={...fv,...e};Object.entries(t).forEach((([e,t])=>{bv[e]=t}))})({isMetricsEnabled:d,isOnDemand2FA:c})},Dv={hasError:!1,isPrivacyScreen:!1},xv=()=>{const[e,a]=(0,t.useState)(Dv);return[e,(t,n)=>{a({...e,[t]:n})}]},Mv=({requestHeaders:e={},requestBody:n={},bootstrap:r={},headerTag:s="h2",skVersion:l="7",onSignInSuccess:i})=>{const o=(0,t.useRef)(!1),{assets:c,viewport:m}=(0,Y.S)(),{AppleAuthError:d}=c,[u,p]=xv(),{hasError:g,isPrivacyScreen:y}=u,v=g?d:"",h=r.containerId||"rt-apple-auth-widget",E="small"===m;(0,t.useEffect)((()=>{Boolean(m)&&!o.current&&(Ov(h,{requestHeaders:e,requestBody:n,bootstrap:r,headerTag:s,setAuthState:p,isSmallScreen:E,skVersion:l,onSignInSuccess:i}),o.current=!0)}),[m]);const b=Z()("rt-apple-auth",{"rt-apple-auth-tall":!v&&y,"rt-apple-auth-error":v,"as-l-container":v&&E,column:v&&E});return a().createElement("div",{className:b,id:h},v&&a().createElement(va.A,{error:!0},v))},Fv=({shown:e,onExited:t,onEntered:n,appleBalanceApplied:r,remainingBalance:s,removeButtonProps:l})=>{const{assets:i}=(0,Y.S)();return a().createElement("div",{className:"column large-6 small-12 rs-payment-applebalance-applied"},a().createElement(j.x,{in:e,onEntered:n,onExited:t},a().createElement(j.A,{in:e},a().createElement("div",{className:"rs-payment-applebalance-child"},a().createElement("div",{className:"rs-payment-applebalance-top-row typography-body-tight"},a().createElement("span",{"aria-live":"polite",className:"rs-payment-applebalance-cardNumber"},i.appleBalanceApplied),a().createElement("span",{className:"rs-payment-applebalance-amount column large-last small-5"},r)),a().createElement("div",{className:"rs-applebalance-bottom-row"},a().createElement("span",{className:"rs-applebalance-remainingbalance typography-body-reduced-tight"},a().createElement("span",{className:"rs-applebalance-remainingbalance-label"},i.giftCardRemainingBalance),a().createElement("span",null,s)),a().createElement(Wt.A,l,i.remove,a().createElement("span",{className:"visuallyhidden"},i.removeAppleBalanceA11y)))))))},Bv=({appleBalanceKey:e})=>{const[t,n]=a().useState(!1),[r]=(0,k.lE)(e),s=(0,k.W4)(e,"remove"),l={...s.props,hasDefaultClass:!1,className:"rs-applebalance-remove as-buttonlink",onClick:e=>{s.props.onClick(e),n(!1)}};a().useEffect((()=>{n(!0)}),[]);return a().createElement(Fv,{shown:t,onEntered:()=>{l.ref.current&&l.ref.current.focus()},onExited:s.props.onClick,appleBalanceApplied:r.appleBalanceApplied,remainingBalance:r.remainingBalance,removeButtonProps:l})},Rv=a().memo(Bv),_v=({hasAppleBalanceAuth:e,hasAppleBalanceInput:t,isAppleBalanceDisabled:n,appleBalanceDisabledMessage:r,appleBalanceMessage:s,authRequired:l,showIdmsOverlay:i,setShowIdmsOverlay:o,appleBalanceInputId:c,appleAuth:m,appleBalanceAuthorization:d,appleBalanaceInput:u,appleBalanceKey:p,returnFocusRef:g})=>{const{viewport:y}=(0,Y.S)();return a().createElement("div",{className:"row"},d,u,!e&&!t&&a().createElement(Rv,{appleBalanceKey:p}),!e&&!r&&s&&a().createElement("div",{className:"column large-5 small-12"},a().createElement("div",(0,Ie.A)({className:`as-supplementalinfo ${ra.A.BODY_REDUCED} rs-payment-applebalance-info`},(0,Le.OH)(s),{id:"rs-checkout-payment-applebalance"}))),n&&a().createElement("div",(0,Ie.A)({"aria-live":"polite",className:"column large-4 small-12 typography-body-reduced rs-payment-applebalance-disabledmsg"},(0,Le.OH)(r))),a().createElement(Ke.A,{fixedWidth:!0,visible:i&&l&&t,onClose:()=>{o(!1)},isFullscreen:"small"===y,classes:{content:"rs-securityques-overlay"},ariaLabel:`${c}-overlayHeading`,unmountOnExit:!0,returnFocusRef:g},m))},$v=({supportPinLength:e,showPinFields:t,setShowPinFields:n,supportPinInputRef:r,handleShiftFocus:s,isLoading:l,invalidSupportPinError:i})=>{const{assets:o}=(0,Y.S)();return a().createElement(a().Fragment,null,a().createElement("button",{type:"button",className:Z()("as-buttonlink icon icon-after",{"icon-chevronup":t,"icon-chevrondown":!t}),onClick:()=>n(!t)},o.supportPinLabel),a().createElement(j.x,{in:t,onEntered:()=>r.current[0].focus()},a().createElement(j.A,{in:t},a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-supportpin-input-container"},[...Array(e)].map(((e,t)=>{const n=t.toString();return a().createElement(ki.A,{key:`support-pin-input-${n}`,type:"text",maxLength:"1",pattern:"[0-9]",name:`support-pin-input-${n}`,className:"rs-supportpin-input typography-body",ref:e=>{r.current[t]=e},onFocus:()=>r.current[t].select(),onChange:s,"data-index":t,disabled:l,"aria-describedby":"invalid-pin-error"})}))),a().createElement("div",(0,Ie.A)({className:"form-message-wrapper",id:"invalid-pin-error"},(0,Le.OH)(i)))))))},Hv=({modKey:e})=>{const{data:n,properties:r}=(0,k.Yl)(e),[s,l]=(0,k.Ej)(e,"supportPin",""),[i,o]=a().useState(!1),c=(0,t.useRef)([]),m=(0,k.LZ)(e,"supportPin");return a().createElement($v,{supportPinLength:n.supportPinLength,showPinFields:i,setShowPinFields:o,supportPinInputRef:c,handleShiftFocus:e=>{let t="";c.current.forEach((e=>{t+=e.value}));const a=parseInt(e.target.dataset.index,10)+1,r=e.target.value;l(t),t.length===n.supportPinLength?m.runSetEvents():a<n.supportPinLength&&r&&c.current[a].focus()},isLoading:r.isLoadingSubmit,invalidSupportPinError:n.invalidSupportPinError})},Kv=a().memo(Hv),Vv=({appleBalanceAuthModKey:e,accountVerificationIconClass:t,verificationText:n,pushNotificationButtonProps:r,disabledMessage:s,invalidSupportPinError:l})=>{const{assets:i}=(0,Y.S)();return a().createElement(a().Fragment,null,a().createElement("div",{className:"column large-12 rs-payment-pushnotification"},a().createElement("div",null,i.balanceLabel),a().createElement("div",{className:"rs-payment-pushnotification-sublabel typography-sosumi"},a().createElement("div",{className:"as-icondetails"},a().createElement("span",{className:Z()("as-icondetails-icon",t)})),a().createElement("div",{className:"as-icondetails-detail"},n)),a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-3 small-12"},a().createElement(Wt.A,r,i.pushNotificationBtn)),a().createElement("div",{className:"column large-6 large-offset-3 small-12 small-offset-0"},a().createElement("div",{className:`as-supplementalinfo ${ra.A.BODY_REDUCED}`},s)))),a().createElement("div",{className:Z()("column large-12 rs-payment-supportpin",{"is-error":l})},a().createElement(Kv,{modKey:e})))},Uv=({isAppleBalanceDisabled:e,appleBalanceLabel:t,availableAppleBalance:n,isAccountVerified:r,accountVerificationIconClass:s,verificationText:l,appleBalanceInlineEditor:i,sendAppleBalanceToolTipEvent:o,appleBalanceTooltipContent:c,hasAppleBalanceInput:m})=>{const{assets:d}=(0,Y.S)(),u=m?"column large-6 small-11":"rs-payment-applebalance-input-display";return a().createElement(a().Fragment,null,m&&a().createElement("div",{className:Z()("column large-12 rs-payment-applebalance-header typography-body",{"rs-payment-option-disabled":e})},a().createElement("h2",{className:"rs-payment-applebalance-headerwrapper typography-body"},a().createElement("span",{className:"rs-payment-applebalance-headerlabel"},t),a().createElement("span",null,n)),r&&a().createElement("div",{className:"rs-payment-pushnotification-sublabel typography-sosumi"},a().createElement("div",{className:"as-icondetails"},a().createElement("span",{className:Z()("as-icondetails-icon",s)})),a().createElement("div",{className:"as-icondetails-detail"},l))),a().createElement("div",{className:u},a().createElement("div",{className:"rs-payment-applebalance-input"},i)),m&&a().createElement("div",{className:"column rs-payment-applebalance-tooltip"},a().createElement(Bn.Ay,{labelA11y:d.appleBalanceTooltipA11y,after:!0,autoAlign:!0,onFocus:o,onMouseEnter:o},a().createElement(Bn.ZI,(0,Le.OH)(c)))))},Wv=({initialProps:e,paymentData:n})=>{const{assets:r}=(0,Y.S)(),s=(0,t.useRef)(null),l=(0,k.qB)(),{label:i,disabled:o=!1,message:c,disabledMessage:m}=n&&n.billingOption||{},d=e&&e.isGetReady?`${e.GetReadyModKey}.selectedBillingOptions.appleBalance`:"checkout.billing.billingOptions.selectedBillingOptions.appleBalance",[u]=(0,k.lE)(d),{modExists:p,data:g}=(0,k.Yl)(`${d}.appleBalanceInput`),[y,v]=(0,k.Ej)(`${d}.appleBalanceInput`,"showIdmsOverlay",!1),[h]=(0,k.lE)(`${d}.appleBalanceAuthorizationStatus`),E=h.disablePushNotification,b=(0,k.LZ)(d,"timeout"),{modExists:f,data:A,properties:w}=(0,k.Yl)(`${d}.appleBalanceAuthorization`),N=(0,k.W4)(`${d}.appleBalanceAuthorization`,"pushNotification"),S={...N.props,className:"form-button-secondary",disabled:A.disablePushNotification||w.isLoadingSubmit||E,onClick:()=>{b.runSetEvents(),N.props.onClick()}};let I="",P="";u.accountVerified?(I="form-icons-checkalt19",P=r.verifiedLabel):f&&(w.isLoadingSubmit||E)?(I="waitindicator waitindicator16-gray",P=r.waitingLabel):f&&A.pollingTimeout?(I="form-icons-unvalidatedalt19",P=r.timeOutLabel):(I="form-icons-unvalidatedalt19",P=r.notVerifiedLabel);const L=C().get(window,"asMetrics.fireMicroEvent",C().noop),T=(0,k.LZ)(`${d}.appleBalanceInput`,"successResponse");return a().createElement(_v,{appleBalanceKey:d,hasAppleBalanceAuth:f,hasAppleBalanceInput:p,isAppleBalanceDisabled:o,appleBalanceDisabledMessage:m,appleBalanceMessage:c,authRequired:g.authRequired,showIdmsOverlay:y,setShowIdmsOverlay:v,appleBalanceInputId:g.id,returnFocusRef:s,appleAuth:a().createElement(Mv,{requestHeaders:l,bootstrap:g,onSignInSuccess:()=>{v(!1),T.runSetEvents()}}),appleBalanceAuthorization:f&&a().createElement(Vv,{appleBalanceAuthModKey:`${d}.appleBalanceAuthorization`,accountVerificationIconClass:I,verificationText:P,pushNotificationButtonProps:S,disabledMessage:A.disabledMessage,invalidSupportPinError:A.invalidSupportPinError}),appleBalanaceInput:a().createElement(Uv,{isAppleBalanceDisabled:o,appleBalanceLabel:i,availableAppleBalance:g.availableAppleBalance,isAccountVerified:u.accountVerified,accountVerificationIconClass:I,verificationText:P,hasAppleBalanceInput:p,appleBalanceInlineEditor:a().createElement(Ln.K,{modKey:`${d}.appleBalanceInput`,visibleKey:"amount",textField:{label:r.applyAmount,bindName:"amount",disabled:o,"data-autom":"apple-balance-input"},applyButton:{label:r.apply,ally:`${r.apply} ${r.appleAccountBalanceLabel}`,processingText:r.processing,bindName:"applyAppleBalance","data-autom":"apple-balance-apply",triggerRef:s},isCollapsible:!1,disableErrorOnBlur:!1,isVisible:p}),sendAppleBalanceToolTipEvent:()=>{L({eVar:"eVar21",feature:"apple balance",action:"tooltip"})},appleBalanceTooltipContent:g.appleBalanceTooltipContent})})},Gv=a().memo(Wv),jv=({title:e,options:t,footer:n,handlePaymentOptionChange:r})=>a().createElement("div",{className:"row"},a().createElement("div",{className:"rs-payment-cod column large-6 small-12"},a().createElement("div",{className:"rs-payment-cod-header"},e),t.map((e=>a().createElement("div",{className:"form-selector rs-payment-cod-option",key:e.moduleKey},a().createElement(nc.Ay,{name:"pod",value:e.value,className:"row",onChange:r},a().createElement("div",{className:"row"},a().createElement("div",{className:"form-selector-left-col"},e.label&&a().createElement("div",{className:"form-selector-title"},e.label))))))),a().createElement("div",{className:"rs-payment-cod-footer"},n))),qv=()=>{const[e]=(0,k.lE)(by),t=(0,k.LZ)(by,"selectPODOption");return a().createElement(jv,{title:e.title,options:e.options||[],footer:e.footer,handlePaymentOptionChange:e=>{t.setValue(e.target.value),t.runSetEvents()}})},Yv=a().memo(qv),zv=({label:e,value:t,valuea11y:n})=>a().createElement("div",{className:"rs-summary-labelandvaluecontainer"},e&&("string"==typeof e?a().createElement("div",(0,Ie.A)({className:"rs-summary-label"},(0,Le.OH)(e))):a().createElement("div",{className:"rs-summary-label"},e)),t&&("string"==typeof t?n&&a().createElement("div",{className:"rs-summary-value"},a().createElement("span",(0,Ie.A)({"aria-hidden":"true"},(0,Le.OH)(t))),a().createElement("span",(0,Ie.A)({className:"visuallyhidden"},(0,Le.OH)(n))))||a().createElement("div",(0,Ie.A)({className:"rs-summary-value"},(0,Le.OH)(t))):a().createElement("div",{className:"rs-summary-value"},t))),Zv=({moduleDrawerInfo:e,loanInstallments:t})=>a().createElement("div",{className:"rs-moduledrawer"},a().createElement("div",{className:"large-6 small-12 rs-webinstallment-summary"},t&&t.map((e=>a().createElement("div",{className:"rf-payment-loaninstallments",key:"installments"},e.headerLabel&&a().createElement("div",{className:"rs-webinstallment-payment-header typography-body-reduced"},e.headerLabel),a().createElement("ul",{className:"rs-webinstallment-summary-list"},e.row&&e.row.map((e=>a().createElement("li",{className:"rs-summary-content",key:e.value},a().createElement(zv,{label:e.label,value:e.value,valuea11y:e.valuea11y||""}))))))))),a().createElement("div",{className:"rs-moduledrawer-info typography-body-reduced large-6 small-12"},a().createElement("div",(0,Le.OH)(e)))),Jv=({modKey:e,paymentData:t})=>{const[n]=(0,k.Ej)(e),{loanInstallments:r}=n;return a().createElement(Zv,{moduleDrawerInfo:t&&t.billingOption.moduleDrawerInfo||"",loanInstallments:r})},Xv=a().memo(Jv),Qv=({debitCardSelectors:e,selectedBankDropDownProps:t,additionalBankDropDownOptions:n,modKey:r})=>{const{assets:s}=(0,Y.S)();return a().createElement("div",{className:"rs-debitEmi"},a().createElement("div",{className:"large-6 small-12"},a().createElement("p",(0,Ie.A)({className:"rs-debitEmi-labelheader"},(0,Le.OH)(s.debitEmiHeader))),a().createElement("ul",{className:"form-selector-group-withgutters row"},e,a().createElement("li",{className:"large-12 small-12 rs-debitEmi-additionalbank column"},a().createElement(Gr.A,t,n)))),a().createElement("div",{className:"rs-debitEmi-card large-12 small-12"},a().createElement(Vg.PB,{modKey:r})))},eh=({value:e,selectedBank:t,setSelectedBank:n,selectedBankBinding:r})=>a().createElement(nc.Ay,{className:"form-selector form-selector-threeline column large-6 small-12",name:"debitEmiSelector",value:e,checked:t===e,withAriaLabeledBy:!0,key:e,onChange:e=>{n(e.target.value),r.runSetEvents()}}),th=()=>{const e=(0,k.Yl)(fy),[t,n]=(0,k.Ej)(fy,"selectedBank"),r=(0,k.TP)(fy,"selectedBank"),{bankOptions:s=[],bankSelectors:l=[]}=e.data,i=Z()({"form-dropdown-selectnone":!t}),o={...r.props,id:"rs-debitEmi-additionalBank",label:C().get(e,"data.bankOptions[0].label",""),classes:{select:i},onChange:e=>{n(e.target.value),r.props.onChange(e)}},c=l.map((e=>a().createElement(eh,{key:e.value,value:e.value,selectedBank:t,setSelectedBank:n,selectedBankBinding:r.binding}))),m=s.map((e=>a().createElement(Gr.n,{key:e.label,value:e.value},e.label)));return a().createElement(Qv,{debitCardSelectors:c,selectedBankDropDownProps:o,additionalBankDropDownOptions:m,modKey:"checkout.billing.billingOptions.selectedBillingOptions.debitEmi"})},ah=a().memo(th),nh=({title:e,options:t,handlePaymentOptionChange:n,selectEwalletOption:r,paymentMessage:s})=>a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-netbanking large-6 small-12"},a().createElement("p",(0,Ie.A)({className:"rs-netbanking-labelheader"},(0,Le.OH)(e))),a().createElement("ul",{className:"form-selector-group-withgutters row"},t.map((e=>a().createElement(nc.Ay,{key:e.moduleKey,name:"eWallet",value:e.value,disabled:e.disabled,checked:r===e.value,withAriaLabeledBy:!0,className:"form-selector form-selector-threeline column large-6 small-12",onChange:n},a().createElement(kt.Ay,{src:e.labelImageUrl,height:e.labelImageHeight,width:e.labelImageWidth,alt:e.labelImageAlt})))))),s&&a().createElement("div",{className:"rs-ewallet-message"},s)),rh=()=>{const[e]=(0,k.lE)(Ay),t=(0,k.LZ)(Ay,"selectEwalletOption");return a().createElement(nh,{title:e.title,options:e.options||[],handlePaymentOptionChange:e=>{t.setValue(e.target.value),t.runSetEvents()},selectEwalletOption:e.selectEwalletOption,paymentMessage:a().createElement(My,{modKey:Ay,dataKey:"message"})})},sh=a().memo(rh),lh=({index:e,modKey:t,totalLength:n})=>{const{assets:r}=(0,Y.S)(),s=(0,k.Yl)(t),l=(0,k.tx)(t,"selectedInstallmentTerm"),{productName:i,src:o,includesAC:c,downPayment:m,selectedInstallmentTerm:d}=s.data,u=(0,k.$J)([t]),p=u.getModuleChildren(t).map((e=>u.getModuleData(e))),g=n===e+1?"rs-momo-installment-details-last-child":"rs-momo-installment-details";return a().createElement("div",{className:"rs-momoinstallment"},a().createElement("div",{className:"large-6 small-12"},0===e&&a().createElement("p",(0,Ie.A)({className:"typography-eyebrow-reduced"},(0,Le.OH)(r.payMonthlyText))),a().createElement("div",{className:g},a().createElement("div",{className:"row rs-product-details"},a().createElement("div",{className:"rs-momo-installment-productimage column"},a().createElement(kt.Ay,{src:o,alt:""})),a().createElement("div",{className:"rs-momo-installment-productinfo typography-body-reduced column large-6 small-9"},a().createElement("span",{className:"row rs-momo-installment-product-name"},i),c&&a().createElement("span",{className:"row rs-momo-installment-product-ac"},r.includesAC)),a().createElement("div",{className:"rs-momo-installment-down-payment typography-tout"},m)),a().createElement("p",(0,Ie.A)({className:"rs-momo-installment-label"},(0,Le.OH)(r.installmentAfterDownPayment))),p&&p.map((t=>a().createElement(nc.Ay,(0,Ie.A)({},l.props,{key:`${e}-${t.value}`,name:`installment-group-${e}`,value:t.value,className:"rs-payment-installments-option","data-autom":`${e}-${t.value}`,checked:d===String(t.value)||d===t.value}),a().createElement("div",{className:"row"},a().createElement("div",{className:"form-selector-left-col column large-8 small-6"},t.label&&a().createElement("div",{className:"form-selector-title"},t.label),t.subLabel&&a().createElement("div",{className:"form-label-small"},t.subLabel)),a().createElement("div",{className:"form-selector-right-col column large-4 small-6"},t.sideLabel&&a().createElement("div",(0,Le.OH)(t.sideLabel)),t.subSideLabel&&a().createElement("div",{className:"form-label-small"},t.subSideLabel)))))))))},ih=()=>{const e=(0,k.$J)([wy]),t=e.getModuleChildren(wy).reduce(((t,a)=>(t.push(a),e.getModuleChildren(a).forEach((a=>{const{isChildItem:n,isBundlePromoItem:r}=e.getModuleData(a);n&&r&&t.push(a)})),t)),[]),n=(0,k.vh)(wy,t),r=n.length;return a().createElement(a().Fragment,null,n.map((({modKey:e},t)=>a().createElement(lh,{key:e,index:t,modKey:e,totalLength:r}))))},oh=a().memo(ih),ch={appleCard:{renderPrimary:(e,t)=>a().createElement(Vg.PB,{modKey:e,initialProps:t}),renderSupplementalInfo:e=>a().createElement(Vg.Qd,{initialProps:e})},creditCard:{renderPrimary:(e,t)=>a().createElement(Vg.PB,{modKey:e,initialProps:t}),renderSupplementalInfo:e=>a().createElement(Vg.Qd,{initialProps:e})},savedCard:{renderPrimary:(e,t)=>a().createElement(Vg.PB,{modKey:e,initialProps:t})},creditEmi:{renderPrimary:(e,t)=>a().createElement(Vg.PB,{modKey:e,initialProps:t}),renderSupplementalInfo:e=>a().createElement(Vg.Qd,{initialProps:e,isCreditEmi:!0})},lineItemCreditInstallments:{renderPrimary:(e,t)=>a().createElement(Vg.PB,{modKey:e,initialProps:t})},debitEmi:{renderPrimary:()=>a().createElement(ah,null)},aliPay:{renderPrimary:()=>a().createElement(My,{modKey:my,dataKey:"message"}),renderSupplementalInfo:()=>a().createElement(My,{modKey:my,dataKey:"supplementalInfo",isFullWidth:!0})},weChat:{renderPrimary:()=>a().createElement(My,{modKey:dy,dataKey:"message"}),renderSupplementalInfo:()=>a().createElement(My,{modKey:dy,dataKey:"supplementalInfo",isFullWidth:!0})},giftCard:{renderPrimary:(e,t)=>a().createElement(Py,{modKey:e||"",isBarclayCreditCard:!1,initialProps:t})},cod:{isAsync:!1,renderPrimary:(e,t,n)=>a().createElement(hv,{paymentData:n,modKey:e})},codpos:{isAsync:!1,renderPrimary:(e,t,n)=>a().createElement(hv,{paymentData:n,modKey:e})},netBanking:{renderPrimary:(e,t,n)=>a().createElement(By,{paymentData:n})},barclayFinance:{renderPrimary:()=>a().createElement(Ry,null),renderSupplementalInfo:()=>a().createElement(Hy,null)},applePay:{isAsync:!1,renderPrimary:(e="")=>a().createElement(jy,{modKey:e}),renderSideLabel:()=>a().createElement(qy,null)},directTransfer:{renderPrimary:()=>a().createElement(Uy,null)},appleCardMonthlyInstallments:{renderPrimary:(e,t)=>a().createElement(iv,{initialProps:t})},installments:{renderPrimary:(e,t,n)=>a().createElement(Jy,{paymentData:n})},barclayLoan:{renderPrimary:(e,t,n)=>a().createElement(mv,{modKey:e,paymentData:n})},upi:{renderPrimary:(e,t,n)=>a().createElement(mv,{modKey:e,paymentData:n})},inicis:{renderPrimary:(e,t,n)=>a().createElement(mv,{modKey:e,paymentData:n})},wireTransfer:{renderPrimary:(e,t,n)=>a().createElement(mv,{modKey:e,paymentData:n})},appleLease:{renderPrimary:(e,t,n)=>a().createElement(mv,{modKey:e,paymentData:n})},appleLoan:{renderPrimary:(e,t,n)=>a().createElement(mv,{modKey:e,paymentData:n})},payPalInstallment:{renderPrimary:(e,t,n)=>a().createElement(mv,{modKey:e,paymentData:n})},payPal:{renderPrimary:(e,t,n)=>a().createElement(mv,{modKey:e,paymentData:n})},partnerFinancingInstallments:{renderPrimary:e=>a().createElement(rv,{modKey:e})},cashiersCheck:{renderPrimary:(e,t,n)=>a().createElement(mv,{modKey:e,paymentData:n})},moneyOrder:{renderPrimary:(e,t,n)=>a().createElement(mv,{modKey:e,paymentData:n})},convenienceStore:{renderPrimary:(e,t,n)=>a().createElement(mv,{modKey:e,paymentData:n})},atm:{renderPrimary:(e,t,n)=>a().createElement(mv,{modKey:e,paymentData:n})},counterService:{renderPrimary:(e,t,n)=>a().createElement(mv,{modKey:e,paymentData:n})},ideal:{renderPrimary:()=>a().createElement(pv,null)},boleto:{renderPrimary:(e,t,n)=>a().createElement(vv,{modKey:e,paymentData:n})},moneyOrder_SG:{renderPrimary:(e,t,n)=>a().createElement(vv,{modKey:e,paymentData:n})},companyCheque:{renderPrimary:(e,t,n)=>a().createElement(vv,{modKey:e,paymentData:n})},appleBalance:{renderPrimary:(e,t,n)=>a().createElement(Gv,{initialProps:t,paymentData:n})},partnerFinancingFundingType:{renderPrimary:(e,t,n)=>a().createElement(Xv,{modKey:"checkout.billing.billingOptions.selectedBillingOptions.partnerFinancingFundingType",paymentData:n})},pod:{renderPrimary:()=>a().createElement(Yv,null)},eWallet:{renderPrimary:()=>a().createElement(sh,null)},momoInstallments:{renderPrimary:()=>a().createElement(oh,null)},tamara:{renderPrimary:(e,t,n)=>a().createElement(mv,{modKey:e,paymentData:n})},ziniaInstallments:{renderPrimary:(e,t)=>a().createElement(Vg.PB,{modKey:e,initialProps:t,ziniaKey:`${e}.ziniaInstallment`})}},mh=({isPsd2Enabled:e,hasAmountAuthorized:t,amountAuthorized:n,hasDownPayment:r,downPayment:s,hasShippingCost:l,shippingCost:i,hasTradeinCreditSecured:o,tradeinCreditSecured:c})=>{const{fragments:m}=(0,Y.S)();return a().createElement("div",{className:"row"},e?a().createElement("div",{className:"column large-6 small-12 rs-installment-verificationsummary"},r&&a().createElement("div",(0,Ie.A)({className:"row rs-installment-section"},(0,Le.OH)(Qe.GP(m.downPaymentChargedText,{downPayment:s})))),l&&a().createElement("div",(0,Ie.A)({className:"row rs-installment-section"},(0,Le.OH)(Qe.GP(m.shippingChargedText,{shipping:i})))),o&&a().createElement("div",(0,Ie.A)({className:"row rs-installment-section"},(0,Le.OH)(Qe.GP(m.tradeinCreditText,{tradeinCreditSecured:c})))),t&&a().createElement("div",(0,Ie.A)({className:"row rs-installment-section"},(0,Le.OH)(Qe.GP(m.authorizedAmountText,{amountAuthorized:n}))))):a().createElement("div",{className:"column large-6 small-12 rs-installment-verificationsummary"},r&&a().createElement("div",(0,Ie.A)({className:"row rs-installment-section"},(0,Le.OH)(Qe.GP(m.depositText,{downPayment:s})))),l&&a().createElement("div",(0,Ie.A)({className:"row rs-installment-section"},(0,Le.OH)(Qe.GP(m.shippingText,{shipping:i}))))))},dh=({hasShippingCost:e,shippingCost:t,tradeInType:n,tradeInCredit:r,outstandingLoan:s})=>{const{assets:l,fragments:i}=(0,Y.S)();let o;const c=t&&Qe.GP(i.shippingText,{shipping:t});return o="TRADE_IN_LESSER_THAN_LOAN"!==n?r&&Qe.GP(i.tradeinCreditTextFlexiblePayment,{tradeInCredit:r}):s&&Qe.GP(l.outstandingLoanPayment,{outstandingLoan:s}),a().createElement("div",{className:"column large-6 small-12 rs-installment-verificationsummary"},o?a().createElement("div",(0,Ie.A)({className:"row rs-installment-section "+(s?"rs-installment-existing-loan":"")},(0,Le.OH)(o))):null,e?a().createElement("div",(0,Ie.A)({className:"row rs-installment-section"},(0,Le.OH)(c))):"","TRADE_IN_LESSER_THAN_LOAN"===n?a().createElement("div",(0,Ie.A)({className:"rs-installment-section"},(0,Le.OH)(i.interestChargesInfo))):null,"TRADE_IN_EQUAL_TO_LOAN"===n?a().createElement("div",(0,Ie.A)({className:"rs-installment-section"},(0,Le.OH)(l.tradeinEqualToLoan))):null)},uh=({isPsd2Enabled:e,hasAmountAuthorized:t,amountAuthorized:n,hasDownPayment:r,downPayment:s,hasShippingCost:l,shippingCost:i,hasTradeinCreditSecured:o,tradeinCreditSecured:c,tradeInType:m,tradeInCredit:d,outstandingLoan:u})=>a().createElement(a().Fragment,null,m?a().createElement(dh,{hasShippingCost:l,shippingCost:i,tradeInType:m,tradeInCredit:d,outstandingLoan:u}):a().createElement(mh,{isPsd2Enabled:e,hasAmountAuthorized:t,amountAuthorized:n,hasDownPayment:r,downPayment:s,hasShippingCost:l,shippingCost:i,hasTradeinCreditSecured:o,tradeinCreditSecured:c})),ph=({hasHeader:e,header:n,showPaymentDetailsSubheader:r,paymentDetailsSubheader:s,paymentDetails:l,isPsd2Enabled:i,hasAmountAuthorized:o,amountAuthorized:c,showVerificationSummary:m,hasDownPayment:d,downPayment:u,hasShippingCost:p,shippingCost:g,hasTradeinCreditSecured:y,tradeinCreditSecured:v,tradeInType:h,tradeInCredit:E,outstandingLoan:b,summary:f})=>{const A=(0,t.useRef)(null);return(0,t.useEffect)((()=>{A&&A.current&&A.current.focus()}),[A]),a().createElement(a().Fragment,null,e&&a().createElement("h1",{id:"rs-checkout-header",className:"large-6 small-12 rs-loanpaymentsummary-header rs-checkout-headerfocus typography-headline-reduced",ref:A},n),r&&a().createElement("p",(0,Ie.A)({className:"large-6 small-12 rs-installment-section-content"},(0,Le.OH)(s))),a().createElement("p",(0,Ie.A)({className:"large-6 small-12 rs-installment-section-content"},(0,Le.OH)(l))),a().createElement("div",{className:Z()("rs-installment-summary",{"rs-installment-description":!(i&&o)||h})},m&&a().createElement(uh,{isPsd2Enabled:i,hasAmountAuthorized:o,amountAuthorized:c,hasDownPayment:d,downPayment:u,hasShippingCost:p,shippingCost:g,hasTradeinCreditSecured:y,tradeinCreditSecured:v,tradeInType:h,tradeInCredit:E,outstandingLoan:b}),f))},gh=()=>{const e=(0,k.Yl)(Re.fq),{psd2Enabled:t,amountAuthorized:n,header:r,downPayment:s,loanStatus:l,noDepositRequired:i,paymentDetailsSubheader:o,paymentDetails:c,showVerificationSummary:m,shipping:d,tradeinCreditSecured:u,tradeInType:p,tradeInCredit:g,outstandingLoan:y}=e.data,v=s&&"APPROVED"===l||i&&o,h=d&&d.cost&&!d.free;return a().createElement(ph,{hasHeader:Boolean(r),header:r,showPaymentDetailsSubheader:v,paymentDetailsSubheader:o,paymentDetails:c,isPsd2Enabled:t,hasAmountAuthorized:Boolean(n),amountAuthorized:n,showVerificationSummary:m,hasDownPayment:Boolean(s),downPayment:s,hasShippingCost:h,shippingCost:Boolean(d)&&d.cost,hasTradeinCreditSecured:Boolean(u),tradeinCreditSecured:u,tradeInType:p,tradeInCredit:g,outstandingLoan:y,summary:t&&n&&!p&&a().createElement(Ms,{modKey:Re.fq,classes:"column large-6 small-12",noOffset:!0})})},yh=a().memo(gh),vh=({approvedPartial:e,yourFinancingDetails:t,orderTotalMsg:n,orderTotalValue:r,barclayCreditLimitMsg:s,barclayCreditLimitValue:l,remainingAmountMsg:i,remainingAmountValue:o,subscriptionBillingInfo:c,remainingAmountTitle:m})=>a().createElement("div",{className:"rs-barclaycreditcard-partialamount"},a().createElement("h1",{tabIndex:-1,className:"rs-barclaycreditcard-partialamount-header typography-headline-reduced rs-checkout-headerfocus large-10 small-11"},e),a().createElement("p",{className:"rs-barclaycreditcard-partialamount-title typography-label large-6 small-12"},t),a().createElement("div",{className:"large-6 small-12"},n&&a().createElement(Je,{name:"orderDetails",label:n,value:r}),s&&a().createElement(Je,{name:"CreditLimit",label:s,value:l}),a().createElement("div",{className:"rs-barclaycreditcard-partialamount-summary"},i&&a().createElement(Je,{name:"RemainingAmount",label:i,value:o}))),c&&a().createElement("p",{className:"small-12 large-6 rs-barclaycreditcard-partialamount-subscriptioninfo"},c),a().createElement("div",{className:"rs-barclaycreditcard-partialamount-creditcard"},a().createElement("p",{className:"rs-barclaycreditcard-partialamount-creditcard-title"},m),a().createElement(Vg.PB,{modKey:Re.Wy}))),hh=({approvedHeaderMessage:e,approvedOrderTotalMessage:t,subscriptionBillingInfo:n,billingAddressMatchMessage:r,useShippingAddressCheckboxProps:s,useShippingAddressLabel:l,hasBillingAddress:i,hasBillingContact:o})=>a().createElement("div",{className:"rs-barclaycreditcard-fullamount"},a().createElement("h1",{tabIndex:-1,className:"rs-barclaycreditcard-fullamount-header typography-headline-reduced rs-checkout-headerfocus"},e),a().createElement("p",{className:"small-10 rs-barclaycrditcard-fullamount-para"},t),n&&a().createElement("p",{className:"small-12 large-6 rs-barclaycreditcard-fullamount-subscriptioninfo"},n),a().createElement("p",{className:"large-6 small-10 rs-barclaycreditcard-fullamount-title typography-label"},r),a().createElement("div",{className:"large-6 small-12"},a().createElement(Vn.A,s,l),i&&a().createElement(dl.A,{modKey:Re.V4,isFullWidth:!0}),o&&a().createElement(dl.A,{modKey:Re.Fw,isFullWidth:!0}))),Eh=({hasCardInputs:e,partialAmountApproved:t,fullAmountApproved:n})=>a().createElement("div",{className:"rs-payment-barclaycreditcard"},e?[t]:[n],a().createElement(Py,{modKey:Re.k1,isBarclayCreditCard:!0})),bh=()=>{const{assets:e}=(0,Y.S)(),[t]=(0,k.lE)(Re.Wy),n=(0,k.M1)(Re.xZ),r=(0,k.M1)(Re.V4),s=(0,k.M1)(Re.Fw),l=(0,k.DZ)(Re.Wy,"isUseShippingAddress"),{approvedPartial:i,yourfinancingdetails:o,orderTotalMsg:c,orderTotalValue:m,barclaycreditlimitMsg:d,barclaycreditlimitValue:u,remainingamountMsg:p,remainingamountValue:g,subscriptionBillingInfo:y,approvedheaderMessage:v,approvedOrderTotalMessage:h,billingaddressmatchMessage:E,useShippingAddressLabel:b}=t;return a().createElement(Eh,{hasCardInputs:n,partialAmountApproved:a().createElement(vh,{approvedPartial:i,yourFinancingDetails:o,orderTotalMsg:c,orderTotalValue:m,barclayCreditLimitMsg:d,barclayCreditLimitValue:u,remainingAmountMsg:p,remainingAmountValue:g,subscriptionBillingInfo:y,remainingAmountTitle:e.remainingAmountTitle}),fullAmountApproved:a().createElement(hh,{approvedHeaderMessage:v,approvedOrderTotalMessage:h,subscriptionBillingInfo:y,billingAddressMatchMessage:E,useShippingAddressCheckboxProps:l.props,useShippingAddressLabel:b,hasBillingAddress:r,hasBillingContact:s})})},fh=a().memo(bh),Ah=({vatIdForm:e,smbInvoiceWarning:t,isEnterpriseInvoice:n,isGstinEnabled:r})=>n?null:a().createElement("div",{className:"rs-payment-vatid"},e,Boolean(t)&&!r&&a().createElement("div",(0,Ie.A)({className:"rs-payment-vatid-smbwarning large-6 small-12"},(0,Le.OH)(t)))),wh=({modKey:e})=>{const{viewport:t}=(0,Y.S)(),[n]=(0,k.Ej)(e,"smbInvoiceWarning"),r=(0,k.M1)(Re.Yd),[s]=(0,k.Ej)(Re.Yd,"selectedInvoice"),l=r&&"enterpriseInvoice"===s,[i]=(0,k.Ej)(Re.Yd,"isGstinEnabled");return a().createElement(Ah,{vatIdForm:a().createElement(dl.A,{modKey:e,isFullWidth:"small"===t,sectionHeadingTag:"h3"}),smbInvoiceWarning:n,isEnterpriseInvoice:l,isGstinEnabled:i})},Nh=a().memo(wh),Sh=()=>{const[e]=(0,k.lE)(Re.LL),{selectBillingOption:t}=e,n=(e=>{switch(e){case"SAVED_CARD":return Re.aq;case"CREDIT":return Re.K1;case"IDEAL":return Re.Ao;default:return""}})(t),{modExists:r,properties:s}=(0,k.Yl)(n),{modExists:l,properties:i,childModKeys:o}=(0,k.Yl)(`${n}.cardInputs`),{binding:{properties:{isLoadingSubmit:c}},props:{value:m}}=(0,k.Pf)(`${o[0]}.amountInput`,"amount"),{binding:{properties:{isLoadingSubmit:d}},props:{value:u}}=(0,k.Pf)(`${o[1]}.amountInput`,"amount"),{assets:p}=(0,Y.S)();return a().createElement(a().Fragment,null,a().createElement(J.Jg,{isPending:c,messages:{pending:p.processing,finished:Qe.GP(p.splitAmountUpdatedSplitCardA11y,{amount:u})}}),a().createElement(J.Jg,{isPending:d,messages:{pending:p.processing,finished:Qe.GP(p.splitAmountUpdatedMainCardA11y,{amount:m})}}),l&&a().createElement(J.Jg,{isPending:i.isLoadingSubmit,messages:{pending:p.processing,finished:p.contentLoadedA11y}}),r&&a().createElement(J.Jg,{isPending:s.isLoadingSubmit,messages:{pending:p.processing,finished:p.contentLoadedA11y}}))},Ch=a().memo(Sh),kh=({hasShippingAddress:e,useShippingAddressCheckboxProps:t,useShippingAddressLabel:n,showVatId:r,billingAddressForm:s})=>{const{assets:l}=(0,Y.S)();return a().createElement("div",{className:"rs-payment-options"},a().createElement("div",{className:"rs-payment-header-container"},a().createElement("h1",(0,Ie.A)({id:"rs-checkout-header",className:"rs-payment-header typography-headline-reduced rs-checkout-headerfocus",tabIndex:-1},(0,Le.OH)(l.paymentFinancingHeader)))),a().createElement("h3",{className:"rs-payment-subheader"},l.paymentFinancingAddressHeader),e&&a().createElement(Vn.A,t,n),s,r&&a().createElement(Nh,null))},Ih=()=>{const{viewport:e}=(0,Y.S)(),t=(0,k.Yl)(Re.QF),{modExists:n,data:r}=(0,k.Yl)(Re.Qv),s=(0,k.DZ)(Re.QF,"isUseShippingAddress"),l=s.binding.bindExists;return a().createElement(kh,{hasShippingAddress:l,useShippingAddressCheckboxProps:s.props,useShippingAddressLabel:t.data.useShippingAddressLabel,showVatId:n&&r.enabled,billingAddressForm:a().createElement(dl.A,{modKey:`${Re.QF}.billingAddress.address`,isFullWidth:"small"===e})})},Ph=a().memo(Ih),Lh=({businessAccountName:e})=>{const{assets:t,fragments:n}=(0,Y.S)();return a().createElement("div",{className:"rs-wiretransfer"},a().createElement("h1",{tabIndex:-1,className:"rs-wiretransfer-payment-header typography-headline-reduced rs-checkout-headerfocus"},t.wireTransferPaymentHeader),a().createElement("div",{className:"rs-payment-text typography-body"},t.wireTransferPaymentMessage),a().createElement("div",{className:"row rs-wiretransfer-content"},a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",{className:"rs-company-name-label typography-label"},t.companyName),a().createElement("div",{className:"rs-wiretransfer-bankname typography-body"},e)),a().createElement("div",{className:"rs-wiretransfer-instructions typography-body-reduced column large-6 small-12"},a().createElement("div",(0,Le.OH)(n.wireTransferInstructions)))))},Th=()=>{const[e]=(0,k.Ej)(Re.Eo,"businessAccountName");return a().createElement(Lh,{businessAccountName:e})},Oh=a().memo(Th),Dh=({taxExemptLabel:e,showIsTaxExemptCheckbox:t,isTaxExemptCheckboxProps:n,isSelected:r})=>{const{assets:s,fragments:l}=(0,Y.S)();return a().createElement("div",{className:"row rs-payment-taxexempt"},a().createElement("h2",{className:"rs-payment-taxexempt-subheader typography-label"},s.taxExemptTitle),a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-6 small-12"},t&&a().createElement(Vn.A,n,e),a().createElement(j.x,{in:r},a().createElement("div",(0,Ie.A)({className:"rs-payment-taxexempt-info"},(0,Le.OH)(l.taxExemptInfo))))),a().createElement("div",{className:"column large-6 small-12 rs-payment-taxexempt-supplementalinfo"},a().createElement("div",(0,Ie.A)({className:"as-supplementalinfo"},(0,Le.OH)(l.isTaxExempt))))))},xh=()=>{const[e]=(0,k.lE)(Re.pU),{taxExemptLabel:n}=e,[r,s]=(0,t.useState)(!1),l=(0,k.DZ)(Re.pU,"isTaxExempt"),i=l.binding.bindExists,o={...l.props,onClick:()=>{s(!r)}};return a().createElement(Dh,{taxExemptLabel:n,showIsTaxExemptCheckbox:i,isTaxExemptCheckboxProps:o,isSelected:r})},Mh=a().memo(xh),Fh=({summaryModKey:e,subHeader:n,mainHeader:r,howItWorks:s,paymentDetails:l,installmentDetailsHeader:i})=>{const{assets:o,viewport:c}=(0,Y.S)(),m="small"===c,d=(0,t.useRef)(null);return(0,t.useEffect)((()=>{d&&d.current&&d.current.focus()}),[d]),a().createElement(a().Fragment,null,a().createElement("h1",{tabIndex:-1,className:"typography-headline-reduced rs-iup-header rs-checkout-headerfocus","aria-label":`${n} ${r}`,ref:d},a().createElement("span",{className:"typography-eyebrow-reduced","aria-hidden":"true"},n),r),a().createElement("div",{className:"rs-installment-summary rs-iup-section"},a().createElement("h2",{className:"rs-installment-section-header typography-label large-6 small-12"},s),a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-6 small-12"},a().createElement("p",{className:"rs-iup-offersummary-body rs-installment-section-content"},l)),!m&&a().createElement("div",{className:"column large-6 small-12 rs-iup-offersummary-detailscontainer"},a().createElement("div",(0,Ie.A)({className:"as-supplementalinfo rs-installment-supplementalinfo rs-iup-offersummary-details"},(0,Le.OH)(i))))),a().createElement("div",{className:"row"},a().createElement(Ms,{modKey:e,classes:"column large-6 small-12",supplementalInfo:{installmentsAmountDue:!m&&a().createElement("div",(0,Ie.A)({className:"as-supplementalinfo"},(0,Le.OH)(o.iupCreditCardDisclaimer)))},noOffset:!0})),m&&a().createElement(a().Fragment,null,a().createElement("div",(0,Ie.A)({className:"as-supplementalinfo rs-installment-supplementalinfo"},(0,Le.OH)(i))),a().createElement("div",(0,Ie.A)({className:"as-supplementalinfo rs-installment-supplementalinfo"},(0,Le.OH)(o.iupCreditCardDisclaimer))))))},Bh=({showSsnField:e,ssnFieldProps:t,showDobField:n,dobFieldProps:r,showAnnualIncomeField:s,annualIncomeFieldProps:l,loanDetailsInfoId:i,loanDetailsInfo:o,disclaimer:c,loanMainHeader:m,loanSubHeader:d,upgradeLoanInputKey:u,showMonthlyExpenseField:p,monthlyExpenseFieldProps:g,monthlyExpenseFieldDisclaimer:y})=>{const{assets:v,fragments:h,viewport:E}=(0,Y.S)(),b="small"===E,f=a().createElement("p",(0,Ie.A)({id:i,className:"as-supplementalinfo rs-installment-supplementalinfo rs-iup-loandetail-supplementalinfo"},(0,Le.OH)(o)));return a().createElement("div",{className:"rs-iup-loandetail rs-iup-section"},a().createElement("h2",{className:"rs-installment-section-header typography-label large-6 small-12"},m),a().createElement("fieldset",null,a().createElement("legend",{className:"row"},a().createElement("p",{className:"large-6 small-12 rs-installment-section-content"},d)),a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-6 small-12"},e&&a().createElement(ki.A,(0,Ie.A)({},t,{label:v.ssnLabel})),n&&a().createElement(ki.A,(0,Ie.A)({},r,{label:v.dobLabel}))),!b&&a().createElement("div",{className:"column large-6"},f)),a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-6 small-12 rs-iup-loandetail-income"},s&&a().createElement(ki.A,(0,Ie.A)({},l,{label:v.annualIncomeLabel}))),a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",{className:"as-supplementalinfo form-icons-wrapper form-icons-focusable rs-iup-loandetail-incomesupplementalinfo"},a().createElement("span",(0,Ie.A)({id:`${u}-disclaimer`,className:"rs-iup-loandetail-income-disclaimer"},(0,Le.OH)(c))),a().createElement(Bn.Ay,{className:"rs-iup-loandetail-income-tooltip",before:b,after:!b,left:b,middle:!b,labelA11y:v.iupTooltipTitle},a().createElement(Bn.Ox,null,v.iupTooltipTitle),a().createElement(Bn.ZI,(0,Le.OH)(h.iupTooltipContent)))))),p&&a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-6 small-12 rs-iup-loandetail-income"},a().createElement(ki.A,(0,Ie.A)({},g,{label:v.monthlyExpenseLabel}))),a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",{className:"as-supplementalinfo form-icons-wrapper form-icons-focusable rs-iup-loandetail-incomesupplementalinfo"},a().createElement("span",(0,Ie.A)({id:`${u}-monthlyExpenseField-disclaimer`,className:"rs-iup-loandetail-income-disclaimer"},(0,Le.OH)(y))))))),a().createElement("div",{className:"row"},a().createElement("div",(0,Ie.A)({className:"column large-6 small-12 rs-iup-loandetail-logo"},(0,Le.OH)(h.citizensOneImage)))),b&&a().createElement("div",{className:"row"},a().createElement("div",{className:"column small-12"},f)))},Rh=({creditMainHeader:e,creditSubHeader:t,creditSubHeaderId:n,creditCardContent:r})=>a().createElement("div",{className:"rs-iup-payment rs-iup-section"},a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-6 small-12"},a().createElement("h2",{className:"rs-installment-section-header"},e),a().createElement("p",{id:n,className:"rs-installment-section-content"},t))),r),_h=({notificationMainHeader:e,notificationSubHeader:t,terms:n,notificationAddress:r,showOptInNotification:s,optInNotificationProps:l})=>a().createElement("div",{className:"rs-iup-notification rs-iup-section"},a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-6 small-12"},a().createElement("h2",{className:"rs-installment-section-header typography-label"},e)),a().createElement("div",{className:"column large-12"},a().createElement("p",{className:"rs-installment-section-content"},t),r),a().createElement("div",{className:"column large-6 small-12"},s&&a().createElement(Vn.A,l,a().createElement("span",(0,Le.OH)(n)))))),$h=({children:e})=>a().createElement("div",{className:"rs-iup typography-body"},e),Hh=({modKey:e})=>{const{data:n,modExists:r}=(0,k.Yl)(`${e}.upgradeOfferSummary`),{subHeader:s,mainHeader:l,howItWorks:i,paymentDetails:o,installmentDetailsHeader:c}=n,{data:m,properties:d,modExists:u}=(0,k.Yl)(`${e}.upgradeLoanInput`),{loanDetailsInfo:p,disclaimer:g,monthlyExpenseFieldDisclaimer:y,mainHeader:v,subHeader:h}=m,[E,b]=(0,k.Ej)(`${e}.upgradeLoanInput`,"dobIsMinAge"),{data:f,properties:A,modExists:w}=(0,k.Yl)(`${e}.upgradeCreditCard`),{mainHeader:N,subHeader:S}=f,{data:C,modExists:I}=(0,k.Yl)(`${e}.upgradeNotification`),{mainHeader:P,subHeader:L,terms:T}=C,O=d.key,D=(0,k.Pf)(`${e}.upgradeLoanInput`,"ssn",{format:{inputRegex:/[0-9]/}}),x=D.binding.bindExists,M={...D.props,type:"password","aria-describedby":`${O}-loanDetailsInfo`},F=(0,k.Pf)(`${e}.upgradeLoanInput`,"dob",{format:{inputRegex:/[0-9]/,blocks:[{length:2,pad:"0"},{length:2,start:"/",pad:"0"},{length:4,start:"/"}]}}),B=F.binding.value,R=F.binding.bindExists,_={...F.props,inputMode:"numeric",type:"text",onBlur:e=>{((e,t,a,n)=>{const{dobMinYear:r,dobMinYearsOfAge:s}=e,l=String(n).match(/^(\d+)\/(\d+)\/(\d+)$/);if(!l)return;const i=Number(l[1]),o=Number(l[2]),c=Number(l[3]);if(Number.isNaN(i)||Number.isNaN(o)||Number.isNaN(c))return;const m=new Date(c,i-1,o),d=c>=Number(r)&&m.getFullYear()===c&&m.getMonth()===i-1&&m.getDate()===o,u=Number(s),p=new Date(c+u,i-1,o),g=Date.now()-p.valueOf()>=0,y=d&&g;t!==y&&a(y)})(m,E,b,B),F.props.onBlur(e)}},$=(0,k.Pf)(`${e}.upgradeLoanInput`,"annualIncome",{format:{inputRegex:/[0-9]/,blocks:[{start:"$",maxLength:8,unit:","}]}}),H=$.binding.bindExists,K={...$.props,inputMode:"numeric",type:"text","aria-describedby":`${O}-disclaimer`},[V,U]=(0,k.Ej)(`${e}.upgradeLoanInput`,"monthlyExpense"),[W,G]=(0,t.useState)(V),j=(0,k.Pf)(`${e}.upgradeLoanInput`,"monthlyExpense",{format:{inputRegex:/[0-9]/,blocks:[{start:"$",maxLength:5,unit:","}]}}),q=j.binding.bindExists,Y={...j.props,inputMode:"numeric",type:"text",value:W,onBlur:e=>{j.props.onBlur(e),U(W.replace(/[$,]/g,""))},"aria-describedby":`${O}-monthlyExpenseField-disclaimer`},z=(0,k.DZ)(`${e}.upgradeNotification`,"optInNotification"),Z=z.binding.bindExists,J={...z.props,name:"optInNotification"},[X,Q]=(0,t.useState)(V),ee=V&&V.replace(/[$,]/g,""),te=W&&W.replace(/[$,]/g,"");return X!==V&&(Q(V),ee!==te&&G(V)),a().createElement($h,null,r&&a().createElement(Fh,{summaryModKey:`${e}.upgradeOfferSummary`,subHeader:s,mainHeader:l,howItWorks:i,paymentDetails:o,installmentDetailsHeader:c}),u&&a().createElement(Bh,{showSsnField:x,ssnFieldProps:M,showDobField:R,dobFieldProps:_,showAnnualIncomeField:H,annualIncomeFieldProps:K,loanDetailsInfoId:`${O}-loanDetailsInfo`,loanDetailsInfo:p,disclaimer:g,loanMainHeader:v,loanSubHeader:h,upgradeLoanInputKey:O,showMonthlyExpenseField:q,monthlyExpenseFieldProps:Y,monthlyExpenseFieldDisclaimer:y}),w&&a().createElement(Rh,{creditMainHeader:N,creditSubHeader:S,creditSubHeaderId:`${A.key}-subheader`,creditCardContent:a().createElement(Vg.PB,{modKey:`${e}.upgradeCreditCard`})}),I&&a().createElement(_h,{notificationMainHeader:P,notificationSubHeader:L,terms:T,notificationAddress:a().createElement(dl.A,{modKey:`${e}.upgradeNotification.notificationContact`}),showOptInNotification:Z,optInNotificationProps:J}))},Kh=a().memo(Hh),Vh=({className:e,header:n,headerClassName:r,description:s,returnButtonLabel:l,returnToBagLink:i})=>{const[o,c]=(0,t.useState)(!1),m=Boolean(n);return a().createElement("div",{className:Z()("rs-returntoshop",e)},m&&a().createElement("div",(0,Ie.A)({className:r},(0,Le.OH)(n))),a().createElement("p",(0,Le.OH)(s)),a().createElement("button",{type:"button",className:"as-buttonlink",onClick:()=>c(!0)},l),a().createElement(Ve,{showOverlay:o,setShowOverlay:c,returnToBagLink:i}))},Uh=()=>{const{assets:e}=(0,Y.S)();return a().createElement("div",{className:"rs-invoice-overlay-loading"},a().createElement("div",{role:"img","aria-label":e.processing,className:"waitindicator waitindicator40-gray rs-invoice-overlay-waitindicator"}))},Wh=({overlayProps:e,header:t,subHeader:n,businessNameLabel:r,businessName:s,corporateIdLabel:l,corporateId:i,continueButtonProps:o,cancelButtonProps:c,showSpinner:m,invoiceOverlayRef:d})=>{const{assets:u,viewport:p}=(0,Y.S)(),g="small"===p,y={...c,onClick:()=>{(0,_e.di)(),e.onClose()}};return a().createElement(Ke.A,(0,Ie.A)({},e,{fixedWidth:!0,isFullscreen:g,doublePadding:!0}),a().createElement("div",{className:"row rs-payment-invoice-overlay"},a().createElement("div",{className:"column large-12"},a().createElement("h2",{className:"rs-payment-invoice-overlay-header",id:"rs-payment-invoice-overlay-header",tabIndex:-1,ref:d},t),a().createElement("div",{className:"rs-payment-invoice-overlay-subheader typography-intro"},n),m&&a().createElement(Uh,null)),!m&&a().createElement("div",{className:"column small-12 large-12 large-centered"},a().createElement("div",{className:"rs-payment-invoice-overlay-details-container typography-body"},a().createElement("div",{className:"column small-12"},a().createElement("span",{className:"rs-payment-invoice-overlay-label"},l),a().createElement("span",{className:"rs-payment-invoice-overlay-value"},i)),a().createElement("div",{className:"column small-12"},a().createElement("span",{className:"rs-payment-invoice-overlay-label"},r),a().createElement("span",{className:"rs-payment-invoice-overlay-value"},s))),a().createElement("div",{className:"rs-payment-invoice-overlay-actions"},a().createElement(Wt.A,o,u.invoiceOverlayContinue),a().createElement("button",(0,Ie.A)({type:"button"},y),u.invoiceOverlayGoBack)))))},Gh=a().memo(Wh),jh=({modKey:e,continueButtonRef:t})=>{const[n,r]=(0,k.lf)(`${Re.SD}`),s=(0,k.W4)(e,"continueWithSelectedInvoice"),l=a().useRef(null),i={...n,ariaLabel:"rs-payment-invoice-overlay-header",onExited:()=>{n.onExited(),t&&t.current&&t.current.focus()}},o={...s.props,className:"rs-payment-invoice-overlay-continue-button",isLoading:s.binding.properties.isLoadingSubmit},c={onClick:r,className:"as-buttonlink rs-payment-invoice-overlay-cancel-link"},[m]=(0,k.lE)(e),{header:d,subHeader:u,businessNameLabel:p,businessName:g,corporateIdLabel:y,corporateId:v,showSpinner:h}=m;return a().useEffect((()=>{l&&l.current&&l.current.focus()}),[l]),a().createElement(Gh,{overlayProps:i,header:d,subHeader:u,businessNameLabel:p,businessName:g,corporateIdLabel:y,corporateId:v,continueButtonProps:o,cancelButtonProps:c,showSpinner:h,invoiceOverlayRef:l})},qh=a().memo(jh),Yh=({xMerch:e,messages:n,messagesLastUpdated:r,billingOptionsData:s,billingData:l,hasBillingOptions:i,hasFaq:o,hasEppPlus:c,hasTaxInformation:m,hasAcmiPaymentOption:d,hasAppleCardApply:u,showEGUI:p,hasDownPaymentSummary:g,hasBarclayCreditCard:y,hasPaymentToolbar:v,hasBankTranfer:h,hasIphoneUpgrade:E,hasAppleFinancing:b,showVatId:f,guestCheckoutAABSignIn:A,signInButtonProps:w,continueButtonProps:N,hasInvoiceOverlay:S,isGstinEnabled:C,hasPartnerFinancing:k})=>{const{assets:I}=(0,Y.S)(),P=(0,t.useRef)(null),[L,T]=(0,t.useState)([]),O=Z()({"rs-payment-barclaysgrouptitle":s.hideGroupTitle,"rs-payment-partner-financing":k,"rs-payment-financeoverlay-linktext":!!I.paymentCompareFinanceLinkText}),D={supplementalInfoAlternateLayout:["BARCLAY_FINANCE"],ziniaKey:"checkout.billing.billingOptions.selectedBillingOptions.ziniaInstallments",disableCreditCardAutofill:v,renderFinanceOverlay:e=>a().createElement(ts,{modKey:e}),renderCashbackOverlay:e=>a().createElement(xr,{modKey:e}),renderReturnToShop:(e,t,n)=>a().createElement(Vh,{className:"rs-payment-acmi-details",header:e,headerClassName:"rs-payment-acmi-label typography-callout",description:t,returnButtonLabel:I.returnToBagForAcmi,returnToBagLink:n})};(0,t.useEffect)((()=>{P&&P.current&&n.length<1&&P.current.focus()}),[P,n.length]),(0,t.useEffect)((()=>{T(A&&I.messageForSignInAppleAccountBalance&&I.messageForSignInAppleAccountBalance.split(I.signinLabel))}),[]);const x=A&&a().createElement("button",(0,Ie.A)({type:"button",className:"as-buttonlink as-buttonlink-inline"},w),I.signinLabel),M=(0,t.useRef)(null);return a().createElement("div",{className:"rs-payment"},e.topBanner&&a().createElement("div",(0,Ie.A)({className:"rs-checkout-topmerch"},(0,Le.OH)(e.topBanner))),a().createElement("div",{className:"as-l-container"},a().createElement(ke.A,{messages:n,lastUpdated:r}),y&&a().createElement(fh,null),g&&a().createElement(yh,null),E&&a().createElement(Kh,{modKey:Re.Rt}),h&&a().createElement(Oh,null),i&&a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-payment-header-container"},!s.noHeader&&a().createElement("h1",{id:"rs-checkout-header",className:"rs-payment-header typography-headline-reduced rs-checkout-headerfocus",tabIndex:-1,key:"paymentHeader",ref:P},s.developerHeader?s.developerHeader:I.paymentHeader),l.subHeader&&a().createElement("div",{className:"rs-payment-subheader-message"},l.subHeader)),a().createElement("div",{className:"rs-payment-options"},a().createElement("fieldset",{className:"rs-payment-section"},a().createElement("legend",{className:"visuallyhidden"},a().createElement("h2",null,I.paymentGroup)),L&&a().createElement("div",{className:"rs-payment-signin-header typography-body-reduced large-6 small-12"},L.map(((e,t)=>a().createElement(a().Fragment,null,a().createElement("span",null,e),0===t&&x)))),a().createElement(Ch,null),a().createElement("div",{className:O},a().createElement(sy,{modKey:Re.LL,paymentTypes:ch,initialProps:D}),l.smbInvoiceWarning&&!C&&a().createElement("div",(0,Ie.A)({className:"rs-payment-smbwarning large-6 small-12"},(0,Le.OH)(l.smbInvoiceWarning))))),c&&a().createElement(zs,{modKey:Re.pu}),l.taxExemptLabel&&a().createElement(Mh,null),p&&a().createElement(Up,{modKey:Re.Yd,selectorBinding:"selectedInvoice"}),f&&a().createElement(Nh,{modKey:Re.Qv}))),b&&a().createElement(Ph,null),m&&a().createElement(Nu,{modKey:Re.X0}),l.enableContinue&&a().createElement(ea,{modKey:Re.pU,attrs:N,billingOptionsModKey:Re.LL,applePayRequestModKey:Re.ZB,ref:M})),e.pageMerch&&a().createElement("div",(0,Ie.A)({className:"rs-checkout-topmerch"},(0,Le.OH)(e.pageMerch))),S&&a().createElement(qh,{modKey:`${Re.SD}`,continueButtonRef:M}),l.hasChat||o&&a().createElement("div",{className:"rs-checkout-chatfaq-wrapper"},a().createElement(ya,null)),l.showInstallmentsExample&&a().createElement("div",(0,Ie.A)({className:"rs-checkout-financingdata-wrapper"},(0,Le.OH)(l.showInstallmentsExample))),o&&a().createElement(ua,{modKey:Re.fs}),a().createElement(pn,{modKey:Re.aH,buyflowMessageFootNote:l.hasBuyflowMessages,hasAcmiPaymentOption:d,appleCardApply:u}))},zh=()=>{const[e]=(0,k.Ej)(Re.nO,"placements"),[n,s]=(0,k.fL)(Re.pU),[l]=(0,k.lE)(Re.LL),[i]=(0,k.lE)(Re.pU),[o]=(0,k.Ej)(Re.Qv,"enabled"),c=(0,k.W4)(Re.LL,"signInForAppleAccountBalance"),{properties:{isLoadingSubmit:m}}=(0,k.Yl)(Re.zj),d=c.binding.bindExists,u=(0,k.M1)(`${Re.SD}`),[p]=(0,k.Ej)(Re.Yd,"isGstinEnabled");(0,t.useEffect)((()=>{const e=(0,r.A)("PaymentContainer/setApplePayHasActiveCard");try{window.acStoreApplePay&&i.merchantIdentifier&&window.acStoreApplePay.setApplePayHasActiveCard(i.merchantIdentifier)}catch(t){e.error(t)}}),[i.merchantIdentifier]);const g={disabled:m},y=Array.isArray(l.options)&&!!l.options.find((e=>"PARTNER_FINANCING"===e.value)),v={xMerch:e||{},messages:n,messagesLastUpdated:s,billingOptionsData:l,billingData:i,hasBillingOptions:(0,k.M1)(Re.LL),hasFaq:(0,k.M1)(Re.pU,"faq"),hasEppPlus:(0,k.M1)(Re.pu),hasTaxInformation:(0,k.M1)(Re.X0),hasAcmiPaymentOption:(0,k.M1)(Re.b4),hasAppleCardApply:(h=l.options,h&&h.some((e=>"APPLE_CARD_ON_ACCOUNT_APPLY"===e.value))),showEGUI:(0,k.M1)(Re.Yd),hasDownPaymentSummary:(0,k.M1)(Re.fq),hasBarclayCreditCard:(0,k.M1)(Re.Wy),hasPaymentToolbar:(0,k.M1)(Re.RS),hasBankTranfer:(0,k.M1)(Re.Eo),hasIphoneUpgrade:(0,k.M1)(Re.Rt),hasAppleFinancing:(0,k.M1)(Re.QF),showVatId:(0,k.M1)(Re.Qv)&&o,hasPartnerFinancing:y,guestCheckoutAABSignIn:d,signInButtonProps:c.props,continueButtonProps:g,hasInvoiceOverlay:u,isGstinEnabled:p};var h;return a().createElement(Yh,v)},Zh=a().memo(zh),Jh=({bartOverlayProps:e,bartOverlayHeader:t,bartChangeToFulfillment:n,continueLabel:r,showContinueButton:s,continueButtonProps:l,bartChangeStore:i,bartChangeToDelivery:o})=>{const{assets:c,viewport:m}=(0,Y.S)(),d="small"===m;return a().createElement(Ke.A,(0,Ie.A)({},e,{noCloseButton:!0,isFullscreen:d,doublePadding:!0,disableClickAway:!0,disableEsc:!0}),t,n,s&&a().createElement("div",{className:"rs-review-bartoverlay-placeorder"},a().createElement(Wt.A,(0,Ie.A)({},l,{"aria-label":c.reviewErrorOverlayPlaceOrderA11y}),r)),i,o)},Xh=({overlayHeader:e,overlaySubHeader:t,messages:n,messagesLastUpdated:r})=>a().createElement("div",{className:"rs-review-bartoverlay-header-section rs-review-bartoverlay-error"},a().createElement("h2",{className:"rs-review-bartoverlay-header"},e),a().createElement("span",{className:"rs-review-bartoverlay-subheader"},a().createElement(ke.A,{messages:n,lastUpdated:r})),t&&a().createElement("span",{className:"rs-review-bartoverlay-subheader"},t)),Qh=({showEditFulfillmentStoreButton:e,editFulfillmentStoreButtonProps:t,showEditFulfillmentDeliveryButton:n,editFulfillmentDeliveryButtonProps:r,changeStoreLabel:s,deliveryLinkLabel:l,deliveryQuoteLabel:i,homeDeliveryDates:o,connectLabel:c})=>a().createElement("div",null,a().createElement("div",{className:"rs-bartoverlay-changetofulfillment"},e&&a().createElement("button",(0,Ie.A)({},t,{type:"button",className:"as-buttonlink"}),s),` ${c} `,n&&a().createElement("button",(0,Ie.A)({},r,{type:"button",className:"as-buttonlink"}),l)),a().createElement("div",{className:"rs-bartoverlay-deliveryquote"},a().createElement("div",{className:"rs-bartoverlay-changestore-storename"},i),o)),eE=({storeName:e,storeLabel:t,showEditStoreButton:n,editStoreButtonProps:r})=>{const{assets:s}=(0,Y.S)();return a().createElement("div",{className:"rs-review-bartoverlay-changestore-section"},a().createElement("div",{className:"rs-review-bartoverlay-changestore-storename"},e),n&&a().createElement("button",(0,Ie.A)({},r,{type:"button",className:"as-buttonlink more","aria-label":s.reviewErrorOverlayChangeStoreA11y}),t))},tE=({deliveryLabel:e,deliverySubHeader:t,instruction:n,deliveryDates:r,showEditDeliveryButton:s,editDeliveryButtonProps:l})=>a().createElement("div",{className:"rs-review-bartoverlay-changetodelivery"},a().createElement("div",{className:"rs-review-bartoverlay-changetodelivery-title"},t),a().createElement("div",{className:"rs-review-bartoverlay-changetodelivery-instruction"},n),a().createElement("div",{className:"rs-review-bartoverlay-changetodelivery-quote"},r),s&&a().createElement("button",(0,Ie.A)({},l,{type:"button",className:"as-buttonlink more"}),e)),aE=()=>{const{data:e}=(0,k.Yl)(Re.Tl),{overlayHeader:t,overlaySubHeader:n}=e,r=(0,k.M1)(Re.HH),{data:s,properties:l}=(0,k.Yl)(Re.HH),{continueLabel:i,enableContinue:o}=s,c=(0,k.M1)(Re.Ai),[m]=(0,k.lE)(Re.Ai),{changeStoreLabel:d,deliveryLinkLabel:u,deliveryQuoteLabel:p,homeDeliveryDates:g,connectLabel:y}=m,[v]=(0,k.lE)(Re.Lq),{store_name:h,changeStoreLabel:E}=v,b=(0,k.W4)(Re.Lq,"editStore"),f=b.binding.bindExists,A=(0,k.W4)(Re.Ai,"editStore"),w=A.binding.bindExists,N=(0,k.W4)(Re.Ai,"editDelivery"),S=N.binding.bindExists,[C]=(0,k.lE)(Re.Ub),{deliveryLinkLabel:I,deliverySubHeader:P,instruction:L,homeDeliveryDates:T}=C,O=(0,k.W4)(Re.Ub,"editDelivery"),D=O.binding.bindExists,[x,M]=(0,k.fL)(Re.nd),[F]=(0,k.Ej)(Re.nd,"enableTimeSlotWindows"),[B]=(0,k.lf)(Re.Tl),R=(0,k.W4)(Re.HH,"continue"),_=r&&o&&R.binding.bindExists&&F,$={...R.props,isLoading:l.isLoadingSubmit},H={...B,className:"rs-review-bartoverlay"};return a().createElement(Jh,{bartOverlayProps:H,bartOverlayHeader:a().createElement(Xh,{overlayHeader:t,overlaySubHeader:n,messages:x,messagesLastUpdated:M}),bartChangeToFulfillment:c&&a().createElement(Qh,{showEditFulfillmentStoreButton:w,editFulfillmentStoreButtonProps:A.props,showEditFulfillmentDeliveryButton:S,editFulfillmentDeliveryButtonProps:N.props,changeStoreLabel:d,deliveryLinkLabel:u,deliveryQuoteLabel:p,homeDeliveryDates:g,connectLabel:y}),continueLabel:i,showContinueButton:_,continueButtonProps:$,bartChangeStore:a().createElement(eE,{storeName:h,storeLabel:E,showEditStoreButton:f,editStoreButtonProps:b.props}),bartChangeToDelivery:a().createElement(tE,{deliveryLabel:I,deliverySubHeader:P,instruction:L,deliveryDates:T,showEditDeliveryButton:D,editDeliveryButtonProps:O.props})})},nE=a().memo(aE),rE=({editLabel:e,editLabelA11y:t,showEditButton:n,editButtonProps:r,overlayVisible:s,setOverlayVisible:l,overlaySubheader:i,overlayDescription:o,continueShipping:c,showFlipEditButton:m,flipEditButtonProps:d,cancelButtonProps:u,isShipmentFlipOverlayLoading:p})=>{const{assets:g,viewport:y}=(0,Y.S)(),v="small"===y,h={...u,onClick:()=>{(0,_e.lN)(),u.onClick()}},E=Z()("rs-review-shipmentflipoverlay-continue large-10 small-12","large-centered");return a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-review-shipmentflipoverlay"},n&&a().createElement("button",(0,Ie.A)({},r,{type:"button","aria-label":t||e}),a().createElement("span",{className:"more rs-review-change"},e))),a().createElement(Ke.A,{fixedWidth:!0,visible:s,onClose:()=>{(0,_e.lN)(),l(!1)},isFullscreen:v},a().createElement("div",{className:"as-overlay-content rs-review-shipmentflipoverlay-wrapper"},a().createElement(J.Jg,{isPending:p,messages:{pending:g.processing,finished:""}}),a().createElement("h2",{className:"rs-review-shipmentflipoverlay-header typography-headline",id:"shipmentflipOverlay"},i),a().createElement("p",{className:"rs-review-shipmentflipoverlay-description"},o),a().createElement("div",{className:E},m&&a().createElement(Wt.A,d,c)),a().createElement("button",(0,Ie.A)({type:"button"},h),g.cancel))))},sE=({groupModKey:e})=>{const{data:n,properties:r}=(0,k.Yl)(Re.jL),{overlaySubheader:s,overlayDescription:l,continueShipping:i}=n,[o]=(0,k.lE)(e),{editLabel:c,editLabelA11y:m,metricsEvar1:d,metricsActionEvar1:u}=o,[p,g]=(0,t.useState)(!1),y=(0,k.W4)(e,"edit"),v=c&&y.binding.bindExists,h={...y.props,className:"as-buttonlink rs-review-change-button",id:`${e}-shipmentflipOverlay`,onClick:()=>{g(!0),(0,_e.fp)(d,u)}},E=(0,k.W4)(Re.jL,"edit"),b=E.binding.bindExists,f={...E.props,isLoading:r.isLoadingSubmit},A={className:"as-buttonlink",onClick:()=>g(!1)};return a().createElement(rE,{editLabel:c,editLabelA11y:m,showEditButton:v,editButtonProps:h,overlayVisible:p,setOverlayVisible:g,overlaySubheader:s,overlayDescription:l,continueShipping:i,showFlipEditButton:b,flipEditButtonProps:f,cancelButtonProps:A,isShipmentFlipOverlayLoading:r.isLoadingSubmit})},lE=a().memo(sE),iE=e=>{const t=(0,k.$J)([e]);return t.getModuleChildren(e).reduce(((e,a)=>(e.push(a),t.getModuleChildren(a).forEach((a=>{const{isChildItem:n,isBundlePromoItem:r}=t.getModuleData(a);n&&r&&e.push(a)})),e)),[])};var oE=__webpack_require__(8587);function cE(e,a){var n=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return a&&(0,t.isValidElement)(e)?a(e):e}(e)})),n}function mE(e,t,a){return null!=a[t]?a[t]:e.props[t]}function dE(e,a,n){var r=cE(e.children),s=function(e,t){function a(a){return a in t?t[a]:e[a]}e=e||{},t=t||{};var n,r=Object.create(null),s=[];for(var l in e)l in t?s.length&&(r[l]=s,s=[]):s.push(l);var i={};for(var o in t){if(r[o])for(n=0;n<r[o].length;n++){var c=r[o][n];i[r[o][n]]=a(c)}i[o]=a(o)}for(n=0;n<s.length;n++)i[s[n]]=a(s[n]);return i}(a,r);return Object.keys(s).forEach((function(l){var i=s[l];if((0,t.isValidElement)(i)){var o=l in a,c=l in r,m=a[l],d=(0,t.isValidElement)(m)&&!m.props.in;!c||o&&!d?c||!o||d?c&&o&&(0,t.isValidElement)(m)&&(s[l]=(0,t.cloneElement)(i,{onExited:n.bind(null,i),in:m.props.in,exit:mE(i,"exit",e),enter:mE(i,"enter",e)})):s[l]=(0,t.cloneElement)(i,{in:!1}):s[l]=(0,t.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:mE(i,"exit",e),enter:mE(i,"enter",e)})}})),s}var uE=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},pE=function(e){function n(t,a){var n,r=(n=e.call(this,t,a)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));return n.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},n}(0,M.A)(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,a){var n,r,s=a.children,l=a.handleExited;return{children:a.firstRender?(n=e,r=l,cE(n.children,(function(e){return(0,t.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:mE(e,"appear",n),enter:mE(e,"enter",n),exit:mE(e,"exit",n)})}))):dE(e,s,l),firstRender:!1}},r.handleExited=function(e,t){var a=cE(this.props.children);e.key in a||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var a=(0,Ie.A)({},t.children);return delete a[e.key],{children:a}})))},r.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,oE.A)(e,["component","childFactory"]),s=this.state.contextValue,l=uE(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?a().createElement(B.A.Provider,{value:s},l):a().createElement(B.A.Provider,{value:s},a().createElement(t,r,l))},n}(a().Component);pE.propTypes={},pE.defaultProps={component:"div",childFactory:function(e){return e}};const gE=pE;var yE=__webpack_require__(3510);const vE=({children:e,...t})=>a().createElement(yE.A,(0,Ie.A)({classNames:"rs-bag-item-transition",timeout:600},t),e),hE=({linkClassName:e,linkText:t,linkMetrics:n,content:r,...s})=>{const{isVisible:l,open:i,close:o}=wm(!1,n);return a().createElement("div",{className:e},a().createElement("button",(0,Ie.A)({className:"as-buttonlink",type:"button",onClick:i},(0,Le.OH)(t))),a().createElement(Ke.A,(0,Ie.A)({},s,{visible:l,onClose:o}),a().createElement("div",(0,Le.OH)(r))))},EE=({messages:e,isGiftCard:t,hasBuyFlowInstallmentDetails:n,priceMessage:r,hasPreOrderTradeIn:s,hasCarrierTradeIn:l,isRecommendedSystems:i,recommendedSystemsQuantity:o,recommendedSystemsActions:c,promoLabel:m,brandTitle:d,productTitle:u,productImage:p,showProductImage:g,productInfo:y,productInfoTrigger:v,carrierLearnMoreTrigger:h,description:E,processLinkText:b,processLinkMetrics:f,processOverlayContent:A,showQuantity:w,quantity:N,price:S,carrierLabel:C,carrierName:k,relatedParentLabel:I,relatedParent:P,inlineFees:L,installmentPrice:T,fullPriceInfo:O,hasSegmentSavingsMessage:D,removeButton:x,saveForLaterButtonMarkup:M,partNumber:F,isNonRefundable:B,installmentDetails:R=[],hasPromos:_,itemRef:$,itemTabIndex:H,changeProduct:K,changeAppleCare:V,changeProductDisclaimer:U,children:W,dataAutom:G,purchaseOptionDescription:j,alignDetailsLeft:q,appleCareDescription:z,vatInfo:J,itemBundleHeader:X,itemBundleDetails:Q,itemDownPayment:ee,isFullWidthTitleMow:te,carrierDiscountMessage:ne,carrierConnectivityCalloutInfo:re,carrierConnectivityDiscountMessage:se,priceAfterDiscountMessage:le,savingsBadge:ie})=>{const{isReview:oe,isEditable:me,isBundle:de}=Fl(),ue=Boolean(R.length),pe=Boolean(C&&k),ge=ue&&!_,ye=!ge,ve=Boolean(r),{viewport:he,assets:Ee}=(0,Y.S)(),be="small"===he,fe="small"!==he,Ae=Z()("rs-bag-item rs-iteminfo-wrap",{"rs-bag-item-bundle":de}),we=Z()("rs-iteminfo","row",{"rs-iteminfo-giftcardcontent":t}),Ne=Z()("rs-iteminfo-image","column","large-3",{"small-3":oe,"small-12":!oe}),Se=Z()("rs-iteminfo-content","column",{"large-9":g,"large-12":!g,"small-9":oe,"small-12":!oe}),Ce=Z()("rs-iteminfo-details",{"rs-has-segmentsavings":D,"rs-has-pricemessage":ve}),ke=Z()("rs-iteminfo-title-wrapper","large-6",{"small-12":te,"small-6 rs-iteminfo-halfwidth":!te||l}),Pe=Z()("rs-iteminfo-quantity",{"large-2":n,"small-12":r}),Te=Z()("rs-iteminfo-pricedetails","large-last",{"rs-iteminfo-averageprice":l||ve,"large-4":i||n,"large-6":!w&&!i,"small-9":i||l,"small-6":!w&&!i,"small-12":w&&n||ve||de}),Oe=Z()("rs-iteminfo-detail-wrap",{"rs-iteminfo-detail-wrap-nocarrier":!pe}),De=ne?`- ${ne}`:"",xe=pe&&a().createElement("div",{className:"rs-iteminfo-carrier-details small-12"},a().createElement("span",{className:"rs-carrier-label"},C),a().createElement("span",{className:"rs-carrier-name"},`${k} ${De}`),h&&a().createElement("div",{className:"rs-carrier-learnmore"},h)),Me=I&&P&&a().createElement("div",{className:"rs-iteminfo-related-details small-12"},a().createElement("div",{className:"rs-related-label"},I),a().createElement("div",{className:"rs-related-name"},P)),Fe=b&&a().createElement(hE,{linkClassName:"rs-iteminfo-process-link",className:"rs-iteminfo-process-overlay",linkText:b,linkMetrics:()=>{(e=>{ce({name:"metrics",data:{[ae]:e}})})(f)},content:A}),Be=E&&a().createElement("span",{className:"rs-iteminfo-description"},E),Re=ie&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-savings-badge"},(0,Le.OH)(ie)));return a().createElement("li",{className:Ae,"data-autom":G,role:"listitem"},!be&&e,a().createElement("div",{className:we,tabIndex:H,ref:$},g&&a().createElement("div",{className:Ne,"aria-hidden":"true"},p),a().createElement("div",{className:Se},be&&e,m&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-savings-promo"},(0,Le.OH)(m))),a().createElement("div",{className:Ce},d&&a().createElement("span",(0,Ie.A)({className:"rs-iteminfo-brand-title"},(0,Le.OH)(d))),a().createElement("div",{className:ke},u,X,fe&&a().createElement(a().Fragment,null,F&&a().createElement("div",{className:"rs-iteminfo-partnumber"},Ee.partNumber,": ",F),Re,se&&a().createElement("p",{className:"rs-iteminfo-carrie-connectivity"},se),le&&a().createElement("p",{className:"rs-iteminfo-price-discount-message"},le),Me,xe,!ge&&q&&a().createElement("div",{className:Oe},ve&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-detail"},(0,Le.OH)(r))),s&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-detail"},(0,Le.OH)(Ee.preOrderTradeInMessage))),j&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-detail small-12"},(0,Le.OH)(j))),z&&a().createElement("div",{className:"rs-iteminfo-detail"},z),J&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-detail"},(0,Le.OH)(J)))),Q,ye&&a().createElement("div",{className:"rs-iteminfo-actions-left"},Be,v,y,Fe,B&&a().createElement("div",{className:"rs-iteminfo-noreturnlabel"},Ee.noReturns)))),w&&a().createElement("div",{className:Pe},N),i&&o&&a().createElement("div",{className:"rs-iteminfo-recommendedsystemsqty large-2"},o),a().createElement("div",{className:Te},a().createElement("div",{"data-autom":"Monthly_price",className:"rs-iteminfo-price"},S),!ge&&fe&&L,T&&a().createElement("div",{className:"rs-iteminfo-installmentprice"},T),O&&a().createElement("div",{className:"rs-iteminfo-fullpriceinfo"},O),fe&&me&&ye&&a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-iteminfo-actions-right"},x),a().createElement("div",{className:"rs-iteminfo-actions-right"},M)),fe&&c),ee,be&&a().createElement(a().Fragment,null,se&&a().createElement("p",{className:"rs-iteminfo-carrie-connectivity"},se),le&&a().createElement("p",{className:"rs-iteminfo-price-discount-message"},le),Me,xe,Q,!ge&&q&&a().createElement("div",{className:Oe},ve&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-detail"},(0,Le.OH)(r))),s&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-detail"},(0,Le.OH)(Ee.preOrderTradeInMessage))),j&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-detail small-12"},(0,Le.OH)(j))),z&&a().createElement("div",{className:"rs-iteminfo-detail"},z),J&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-detail"},(0,Le.OH)(J))))),ge&&a().createElement("div",{className:"rs-iteminfo-pricelineitemwrapper"},q&&ve&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-detail"},(0,Le.OH)(r))),s&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-detail"},(0,Le.OH)(Ee.preOrderTradeInMessage))),R.map((({label:e,value:t})=>a().createElement(Je,{key:`installment-detail-${e}`,name:"iteminfopricelineitem",label:e,value:t}))),q&&a().createElement(a().Fragment,null,j&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-detail small-12"},(0,Le.OH)(j))),z&&a().createElement("div",{className:"rs-iteminfo-detail"},z),J&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-detail"},(0,Le.OH)(J)))),fe&&L,fe&&a().createElement(Je,{name:"iteminfoactions",label:a().createElement("div",{className:"rs-iteminfo-actions-left"},Be,v,y,Fe,B&&a().createElement("div",{className:"rs-iteminfo-noreturnlabel"},Ee.noReturns)),value:me&&a().createElement("div",{className:"rs-iteminfo-actions-right"},x)}),fe&&a().createElement(Je,{name:"iteminfosavelater",value:a().createElement("div",{className:"rs-iteminfo-actions-right"},M)}))),fe&&K,fe&&V,be&&a().createElement(a().Fragment,null,L,a().createElement("div",{className:"row rs-iteminfo-actions"},a().createElement("div",{className:"rs-iteminfo-actions-left"},F&&a().createElement("div",{className:"rs-iteminfo-partnumber"},Ee.partNumber,": ",F),Re,Be,Fe,v),y,me&&a().createElement("div",{className:"rs-iteminfo-actions-right"},a().createElement("div",null,x),a().createElement("div",{className:"rs-iteminfo-action-savelater"},M))),K,V,c,B&&a().createElement("div",{className:"rs-iteminfo-noreturnlabel"},Ee.noReturns)),U,re,W)))},bE=({itemRef:e,setItemTabIndex:n,setAppleCarePlusType:r,removeBtnRef:s,acPlusAddRef:l,handleRemoveClick:i})=>{const o=(0,t.useRef)(!1),{assets:c}=(0,Y.S)(),{modKey:m,announceMessage:d}=Fl(),u=Bl(m),p=(0,k.vh)(m,u),[g]=(0,k.Ej)(Ge,"total"),[y]=(0,k.Ej)(je,"emiAmount"),v=y||g;return(0,t.useEffect)((()=>{if(n(-1),u.length&&o.current){e&&e.current&&e.current.focus();const t=`${c.bagUpdateSuccessAlly},${Qe.GP(c.itemsHeader,{price:v})}`;s&&s.current&&s.current.focus(),l&&l.current&&l.current.blur(),d(t)}o.current=!0}),[u.length,s,l]),a().createElement(gE,{className:"rs-bag-item-children"},p.map((({modKey:e,props:t})=>a().createElement(j.A,(0,Ie.A)({key:`bag-item-child-${e}`,className:"rs-item-child-wrap"},t,{appear:o.current,enter:!0}),a().createElement(si,{modKey:e},a().createElement(Ei,{modKey:e,setAppleCarePlusType:r,removeBtnRef:s,handleRemoveClick:i}))))))},fE=a().memo(bE),AE=({isFirst:e,isAdding:t,imageData:n,title:r,titleA11y:s,appleCareTitle:l,descriptions:i,addBtnProps:o,learnMoreBtn:c,savingsMessage:m,isLast:d,options:u,appleCarePartNumber:p,appleCareDropdownProps:g,id:y,acPlusAddRef:v,savingsBadge:h})=>{const{assets:E}=(0,Y.S)(),b=Z()("rs-inline-recommendation","rs-iteminfo-child",{"rs-inline-recommendation-first":e});return a().createElement("div",{className:b},a().createElement("div",{className:"row rs-iteminfo-child-content"},a().createElement("div",{className:"column small-12 large-12 rs-iteminfo-child-details"},a().createElement("div",{className:"as-icondetails"},a().createElement("div",{className:"rs-iteminfo-child-image","aria-hidden":"true"},a().createElement(kt.Ay,{data:n}))),a().createElement("div",{className:"as-icondetails-detail"},a().createElement("h3",(0,Ie.A)({id:y,"aria-label":s,className:"rs-iteminfo-child-title small-8 "+(u?"large-5 small-12 rs-iteminfo-applecare":"large-9")},(0,Le.OH)(r))),u&&a().createElement(a().Fragment,null,a().createElement(Gr.A,(0,Ie.A)({},g,{label:E.selectCoverage,classes:{root:"rs-applecare-dropdown large-4 small-8 "+(p?"":"rs-applecare-selectnone")},value:p,allowNone:p}),u&&u.map((e=>a().createElement(Gr.n,{"aria-label":e.value?"":l,"aria-hidden":!e.value,key:e.value,value:e.value,disabled:!e.value},e.name)))),a().createElement(Bn.Ay,{labelA11y:a().createElement("span",(0,Le.OH)(E.appleCareTooltipAlly)),autoAlign:!0,after:!0},a().createElement("span",(0,Le.OH)(E.appleCareTooltip)))),a().createElement("div",{className:"rs-iteminfo-child-desc "+(u?"rs-applecare-options-desc":"")},m&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-segmentsavings"},(0,Le.OH)(m))),i.map((e=>a().createElement("p",(0,Ie.A)({key:`description-${e}`,className:"rs-iteminfo-child-tagline"},(0,Le.OH)(e))))),d&&c,h&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-savings-badge"},(0,Le.OH)(h)))),a().createElement("div",{className:"column rs-iteminfo-child-actions "+(u?"large-1 large-last":"large-3 small-4")},t?a().createElement("div",{role:"img",className:"waitindicator waitindicator-inline waitindicator16-gray","aria-label":E.processing}):a().createElement("button",(0,Ie.A)({},o,{type:"button",className:"rs-iteminfo-child-actions-button as-buttonlink","aria-label":s,ref:v}),E.add))))))},wE=({modKey:e,isLast:n,acPlusAddRef:r,removeClick:s})=>{const{modKey:l,announceMessage:i}=Fl(),[o]=(0,k.Ej)(`${l}.inlineRecommendations`,"isLightning"),c=(0,k.Yl)(e),m=(0,k.TP)(`${e}`,"appleCarePartNumber").props,{isLoadingSubmit:d}=c.properties,{width:u,height:p,src:g,dataScaleParams1:y,id:v,title:h,price:E,acmiPrice:b,description:f,descriptionA11Y:A,details:w,insurancePremiumTax:N,unitListSavings:S,learnMoreOverlay:C,learnMoreLink:I,AppleCareEvar1:P,productEvar1:L,options:T,monthlyPrice:O,priceA11y:D,monthlyPriceA11y:x,appleCarePartNumber:M,productMetricId:F,ACPlusForiUPEnabled:B,segmentSavingsMessage:R,displayNameVO:_,savingsBadge:$}=c.data,H={width:u,height:p,srcSet:{src:g,scaleParams1:y}},{viewReady:K,acShowInstallment:V}=mn(),U=K&&V,W=U&&b?b:E,G=[];w&&G.push(w),N&&G.push(N);const{assets:j,fragments:q}=(0,Y.S)(),z=q[`inlineRecommendationTitle${f?"Desc":""}`],Z=Qe.GP(z,{title:h,price:W,description:f}),J=q.combinationTitle,X=Qe.GP(J,{title:h,price:W,monthlyPrice:O}),Q=Qe.GP(j.combinationTitleAlly,{title:h,priceA11y:D,monthlyPriceA11y:x}),ee=q[`inlineRecommendationTitle${f&&A?"DescA11y":"A11y"}`],te=Qe.GP(ee,{title:h,price:W,descriptionA11Y:A,displayNameVO:_}),ne=Qe.GP(j.loyaltySavingsLabel,{unitListSavings:S}),re=S?ne:"",se=(0,k.W4)(e,"add",{focusDelay:250,deferLoadWithDelete:!0}),le=T&&{disabled:!M},ie={...se.props,"data-autom":"bag-inlineattach-add",...le,onClick:e=>{i(j.processing),se.props.onClick(e)}},[me,de]=(0,t.useState)(!1),ue=o&&n&&Boolean(C),ge=Boolean(C||I)&&!(o&&!n),ye=!o&&Boolean(C),ve=ue||ye;let he="";ue?he=j.compareCoverage:ge&&(he=j.learnMore),B&&(he=j.learnMoreIup);const Ee=ge&&a().createElement(mi,{hasOverlay:ve,label:he,labelA11y:Qe.GP(q.inlineRecommendationLearnMoreA11y,{title:h}),href:I,setOverlayVisible:de,sendOmniClickEvents:()=>{ve?pe({isLightning:o,feature:P}):(({feature:e})=>{oe({action:"LearnMoreSelected",feature:e,eVar:ae})})({feature:P}),U&&ce({name:"metrics",data:{hier1:"aos:bag",channel:"aos:bag",prop3:"modal open|inline recommendation|learn more about apple care"}})},productMetricId:F,productEvar1:L,ACPlusForiUPEnabled:B}),be=ve?Qe.GP(C,{id:v,title:h,price:W},"${","}"):"";return(0,t.useEffect)((()=>{s&&r&&r.current&&r.current.focus()}),[s,r]),a().createElement(a().Fragment,null,a().createElement(AE,{isAdding:d,imageData:H,title:O&&X||Z,titleA11y:O&&Q||te,descriptions:G,addBtnProps:ie,learnMoreBtn:Ee,appleCareTitle:h,isLast:n,options:T,appleCarePartNumber:M,appleCareDropdownProps:m,savingsMessage:R||re,id:h.split("for")[0].trim(),acPlusAddRef:r,savingsBadge:$}),ve&&a().createElement(di,{visible:me,setVisible:de,content:be,id:v}))},NE=a().memo(wE),SE=({appleCarePlusType:e,acPlusAddRef:n,removeClick:r})=>{const s=(0,t.useRef)(!1),{assets:l}=(0,Y.S)(),{modKey:i,announceMessage:o}=Fl(),c=(0,k.sW)(),m=`${i}.inlineRecommendations`,{childModKeys:d,modCreatedAt:u}=(0,k.Yl)(m),{modActive:p,setModWillPersist:g}=(0,k.gv)(m),y=Boolean(d.length)&&p,[v]=(0,k.Ej)(Ge,"total"),[h]=(0,k.Ej)(je,"emiAmount"),E=h||v;(0,t.useEffect)((()=>{s.current=!0}),[s]),(0,t.useEffect)((()=>{if(d.length){const t=`${l.bagUpdateSuccessAlly},${Qe.GP(l.itemsHeader,{price:E})}`;if(e){const t=document.getElementById(`${e}`);t&&t.focus()}o(t)}}),[d.length,e]),(0,t.useEffect)(g,[u]);return a().createElement(j.A,{className:"rs-item-inline-recommendations",in:y,onExited:()=>{c({type:W.Ru.RUN_DEFERRED_DATA_UPDATES})},appear:s.current,enter:!0,unmountOnExit:!0,mountOnEnter:!0},d.map(((e,t)=>a().createElement(NE,{key:m,modKey:e,isLast:t===d.length-1,acPlusAddRef:n,removeClick:r}))))},CE=a().memo(SE),kE=({messages:e,lastUpdated:t})=>a().createElement("div",{className:"rs-iteminfo-messages large-9  small-12 small-offset-0"},a().createElement(ke.A,{messages:e,lastUpdated:t})),IE=()=>{const{modKey:e}=Fl(),[t,n]=(0,k.fL)(e);return Boolean(t.length)&&a().createElement(kE,{messages:t,lastUpdate:n})},PE=a().memo(IE),LE=({showAddBtn:e,addBtnProps:t,showDeleteBtn:n,deleteBtnProps:r})=>{const{assets:s}=(0,Y.S)();return a().createElement("div",{className:"rs-iteminfo-recommendedsystemsactions"},e&&a().createElement("button",(0,Ie.A)({type:"button",className:"form-button"},t),s.addToBag),n&&a().createElement("button",(0,Ie.A)({type:"button",className:"as-buttonlink rs-iteminfo-recommended-systems-delete"},r),s.delete))},TE=()=>{const{modKey:e}=Fl(),[t]=(0,k.lE)(e),{isValidSystem:n}=t,r=(0,k.W4)(e,"addToCart"),s=r.binding.bindExists&&Boolean(n),l=(0,k.W4)(e,"delete"),i=l.binding.bindExists;return a().createElement(LE,{showAddBtn:s,addBtnProps:r.props,showDeleteBtn:i,deleteBtnProps:l.props})},OE=a().memo(TE),DE=({name:e,productUrl:t,productEvar1:n,productMetricId:r,linkRef:s,productTitleHeadingLevel:l=2})=>{const i=`h${l}`;return Boolean(s&&t)?a().createElement(i,{className:"rs-iteminfo-title"},a().createElement("a",{href:t,"data-evar1":n,"data-s-object-id":r,"data-autom":"bag-item-name",ref:s},e)):a().createElement(i,{className:"rs-iteminfo-title"},e)},xE=({linkRef:e,productTitleHeadingLevel:t=2,shouldFormatName:n=!1})=>{const{modKey:r}=Fl(),[s]=(0,k.lE)(r),{name:l="",productUrl:i,productEvar1:o,productMetricId:c}=s,m=l&&l.replace(/\u00a0/g," ");return a().createElement(DE,{name:n?m:l,productUrl:i,productEvar1:o,productMetricId:c,linkRef:e,productTitleHeadingLevel:t})},ME=a().memo(xE),FE=({data:e,onClick:t})=>{const n=Z()({"as-util-relatedlink":Boolean(t)});return a().createElement(kt.Ay,{data:e,className:n,onClick:t,"aria-hidden":"true","data-autom":"bag-item-image"})},BE=({linkRef:e})=>{const{modKey:t}=Fl(),[n]=(0,k.lE)(t),r={width:n.width,height:n.height,srcSet:{src:n.src,scaleParams1:n.dataScaleParams1}},s=Boolean(e&&e.current)?()=>e.current.click():null;return a().createElement(FE,{data:r,onClick:s})},RE=a().memo(BE),_E=({type:e,label:t,a11y:n,visible:r,setVisible:s,onVisibilityChange:l})=>{const i=Z()("rs-iteminfo-link","icon","icon-after",{"icon-chevronup":r,"icon-chevrondown":!r});return a().createElement("button",{type:"button",className:i,onClick:()=>{s((e=>(l(!e),!e)))},"data-autom":`item-${e}details-link`,"aria-label":`${t} ${n}`,"aria-expanded":r},t)},$E=({modKey:e,visible:t,setVisible:n})=>{const{modKey:r}=Fl(),[s]=(0,k.lE)(e||r),[l,i]=Hl(e||r),o=l.modExists&&i,{assets:c,fragments:m,viewport:d}=(0,Y.S)();if(!s.standaloneDeviceActivation&&!o&&!i)return null;const u=(({type:e,itemData:t,assets:a,viewport:n,visible:r})=>{const{isRecommendedSystems:s,standaloneDeviceActivation:l}=t,i="small"===n;if(l)return r?a.hideCarrierDetailsLabel:a.showCarrierDetailsLabel;switch(e){case _l:return r?a.hideDetailsLabel:a.showDetailsLabel;case $l:return r?i||s?a.hideDetailsLabel:a.hidePhoneDetailsLabel:s?a.showDetailsLabel:a.showPhoneDetailsLabel;default:return""}})({type:i,itemData:s,assets:c,viewport:d,visible:t}),p=i===$l?Qe.GP(m.phoneDetailsExpandedA11y,l.data):Qe.GP(m.macDetailsExpandedA11y,l.data),g=s.standaloneDeviceActivation&&Qe.GP(m.phoneDetailsExpandedA11y,{model:s.name});return a().createElement(_E,{type:i,label:u,a11y:g||p,visible:t,setVisible:n,onVisibilityChange:e=>{(e=>{ce({name:"metrics",data:{evar21:`D=pageName+"|Cart|${e} carrier details and charges"`}})})(e?"Show":"Hide")}})},HE=a().memo($E),KE=({children:e})=>a().createElement("div",{className:"rs-quantity"},e),VE=({id:e,productName:n,maxQty:r,maxDropdownQty:s,quantity:l,onChange:i})=>{const o=[...Array(r<=s?r:s+1)],{assets:c}=(0,Y.S)(),m=Qe.GP(c.quantityA11y,{productName:n}),[d,u]=(0,t.useState)({width:"0rem"}),p=(0,t.useRef)();return(0,t.useEffect)((()=>{if(p.current){const e=p.current.clientWidth/17+"rem";u({width:e})}}),[l,p]),a().createElement("div",{className:"rs-quantity-selector"},a().createElement("div",{className:"rs-quantity-wrapper form-dropdown"},a().createElement("select",{className:"rs-quantity-dropdown form-dropdown-select",id:e,onChange:i,style:d,value:l,"data-autom":"item-quantity-dropdown"},o.map(((e,t)=>{const n=t+1,r=n>s?`${n}+`:n;return a().createElement("option",{key:`option-${n}`,value:n,"aria-label":`${r} ,  ${m}`},r)}))),a().createElement("label",{htmlFor:e,"aria-hidden":"true",className:"visuallyhidden"},l),a().createElement("span",{className:"rs-quantity-icon form-dropdown-chevron","aria-hidden":"true"}),a().createElement("select",{ref:p,"aria-hidden":"true",className:"rs-quantity-hidden-select",onChange:C().noop},a().createElement("option",null,l))))},UE=({label:e})=>{const{viewport:n,assets:r}=(0,Y.S)(),l="small"===n,{modKey:i,announceMessage:o}=Fl(),[c]=(0,k.lE)(i),{originalQty:m,name:d,totalPrice:u}=c,p=`${i}.itemQuantity`,[g]=(0,k.lE)(p),{maxQuantity:y,quantity:v}=g,[h,E]=(0,k.Ej)(p,"wasUpdateQuantityInvoked"),b=(0,k.LZ)(p,"quantity"),f=(0,fi.A)(b.runSetEvents,500,{leading:!1}),A=b.bindExists,w=b.properties.enabled,[N]=(0,k.Ej)(Ge,"total"),[S]=(0,k.Ej)(je,"emiAmount"),C=S||N,[I,P]=(0,t.useState)(b.value),[L,T]=(0,t.useState)(!1);(0,t.useEffect)((()=>{if(L){const e=`${Qe.GP(r.quantityUpdateSuccessAlly,g)}, ${Qe.GP(r.itemsHeader,{price:C})}`;o(e)}}),[u]);const O=l||y<=10?y:9,[D,x]=(0,t.useState)(b.value<=O);(0,t.useEffect)((()=>{D&&x(b.value<=O),P(b.value)}),[b.value,O]);const M=(0,t.useRef)(null);(0,t.useEffect)((()=>{!D&&M.current&&I!==b.value&&M.current.focus()}),[D]),(0,t.useEffect)((()=>{M.current&&h&&(setTimeout((()=>{M.current.focus()}),0),E(!1))}),[h]);if(Boolean(m)||!A||!w){const t=m||v;return a().createElement(KE,null,a().createElement(Rl,{quantity:t,productName:d,label:e}))}const F=e=>{const t=(e.target.value||String(b.value)).replace(/^0+|\D/g,""),a=t?parseInt(t,10):0,n=a>0?String(a):"";if(P(n),D&&a>O)return a;return b.value!==a&&!(""===n)&&(b.setValue(a),o(r.processing),f()),T(!0),a};if(D){const e=e=>{((e=b.value)=>{x(e<=O)})(F(e))};return a().createElement(KE,null,a().createElement(VE,{id:b.properties.id,productName:d,maxQty:y,maxDropdownQty:O,quantity:b.value,onChange:e}))}return a().createElement(KE,null,a().createElement(ki.A,{id:b.properties.id,ref:M,classes:{input:"rs-quantity-textbox form-textbox-entered"},label:r.quantityLabel,type:"tel",value:I,maxLength:b.properties.maxLen,onChange:e=>{const t=e.target.value.replace(/^0+|\D/g,"");P(t)},onFocus:e=>{setTimeout((()=>{e.target.select()}),1)},onBlur:e=>{h||F(e)},onKeyDown:e=>{e.keyCode===s.HP.Return&&F(e)}}))},WE=a().memo(UE),GE=({totalPrice:e,totalPriceA11y:t,unitPrice:n,message:r,isRecommendedSystems:s,recSysSubTotal:l,recSysSavings:i,segmentSavingsMessage:o})=>{const{assets:c}=(0,Y.S)();return a().createElement(a().Fragment,null,t?a().createElement(a().Fragment,null,a().createElement("span",(0,Ie.A)({className:"visuallyhidden"},(0,Le.OH)(t))),a().createElement("span",(0,Ie.A)({"aria-hidden":"true"},(0,Le.OH)(e)))):a().createElement(a().Fragment,null,s&&a().createElement("div",{className:"rs-iteminfo-recommendedsystemstotal"},c.systemstotal),a().createElement("p",(0,Le.OH)(e||n))),s&&a().createElement(a().Fragment,null,l&&a().createElement("div",{className:"rs-recommended-systems-price-row"},a().createElement("span",{className:"rs-iteminfo-label"},c.subtotal),a().createElement("span",(0,Ie.A)({className:"rs-iteminfo-value"},(0,Le.OH)(l)))),i&&a().createElement("div",{className:"rs-recommended-systems-price-row"},a().createElement("span",{className:"rs-iteminfo-label"},c.savingsLabel),a().createElement("span",(0,Ie.A)({className:"rs-iteminfo-value"},(0,Le.OH)(i))))),o&&a().createElement("div",{className:"rs-iteminfo-segmentsavings"},o),r&&a().createElement("div",(0,Ie.A)({className:"rs-iteminfo-pricemessage"},(0,Le.OH)(r))))},jE=()=>{const{assets:e,viewport:t}=(0,Y.S)(),n="small"===t?"16":"18",r=Z()("waitindicator","waitindicator-inline",`waitindicator${n}-gray`);return a().createElement("div",{role:"img",className:r,"aria-label":e.processing})},qE=({itemData:e})=>{const{priceMessage:t,hasCarrierFinancedPromo:a,billedByCarrier:n,promoMessage:r}=e;return t||(a&&n?n:r||"")},YE=({showPriceMessage:e=!0})=>{const{modKey:t}=Fl(),[n]=(0,k.lE)(t),r=(0,k.Yl)(`${t}.itemQuantity`),{isLoadingSubmit:s}=r.properties,{totalPrice:l,totalPriceAlly:i,unitPrice:o,purchaseOptionDescription:c,segmentSavingsMessage:m,isRecommendedSystems:d,subTotal:u,savings:p,isValidSystem:g}=n;return d&&!g?null:s?a().createElement(jE,null):a().createElement(GE,{totalPrice:l,totalPriceA11y:i,unitPrice:o,purchaseOptionDescription:c,message:e&&qE({itemData:n}),isRecommendedSystems:d,recSysSubTotal:u,recSysSavings:p,segmentSavingsMessage:m})},zE=a().memo(YE),ZE=({fees:e})=>a().createElement("div",{className:"rs-iteminfo-inlinefee-container"},e.map((({label:e,value:t})=>a().createElement("p",{key:`inline-fee-${e}-${t}`,className:"rs-iteminfo-inlinefee-wrapper"},a().createElement("span",null,e," "),a().createElement("span",{className:"rs-iteminfo-inlinefee-price"},t))))),JE=()=>{const{modKey:e}=Fl(),[t]=(0,k.lE)(e),{inlineCopyrightFee:n,inlineRecycleFee:r}=t,{assets:s}=(0,Y.S)(),l=[];n&&l.push({label:s.inlineCopyrightFee.trim(),value:n}),r&&l.push({label:s.inlineRecycleFee.trim(),value:r});return Boolean(l.length)&&a().createElement(ZE,{fees:l})},XE=a().memo(JE),QE=({content:e,removeButtonLabel:t,cancelButtonLabel:n,overlayControls:r,removeButtonProps:s})=>{const{isVisible:l,close:i}=r;return a().createElement(Ke.A,{className:"rs-item-remove-overlay",footerContent:a().createElement(ya,null),ariaLabel:"item-remove-overlay-header",visible:l,onClose:i,fixedWidth:!0},a().createElement("div",(0,Ie.A)({className:"rs-item-remove-overlay-content"},(0,Le.OH)(e))),a().createElement("div",{className:"rs-item-remove-overlay-actions"},a().createElement(Wt.A,(0,Ie.A)({type:"button",className:"rs-item-overlay-button"},s),t),a().createElement("button",{type:"button",className:"as-buttonlink",onClick:()=>{ce({name:"metrics",data:{[se]:'D=pageName+"||Cart|NoKeep"'}}),i()}},n)))},eb=({index:e,removedItemIndex:t})=>{const{assets:n,fragments:r}=(0,Y.S)(),{modKey:s,announceMessage:l}=Fl(),[i]=(0,k.lE)(s),{name:o,isRemovable:c=!0}=i,m=(0,k.Yl)(`${s}.phoneDetails`),d=m.modExists,{model:u,capacity:p,finish:g}=m.data,y=(0,k.Yl)(`${s}.cartItemDeleteOverlay`),{contentType:v,removeButtonLabel:h,cancelButtonLabel:E,eVar6Metrics:b}=y.data,f=y.modExists,A=wm(!1),w=Qe.GP(r[`content${v}`]||"",y.data),N=(0,k.W4)(s,"delete",{deferLoadWithDelete:!0}),{isLoadingSubmit:S}=N.binding.properties,C=d?`${u} ${p} ${g}`:o,I=(0,k.W4)(`${s}.cartItemDeleteOverlay`,"remove-button"),{isLoadingSubmit:P}=I.binding.properties;return c&&a().createElement(a().Fragment,null,a().createElement(yi,(0,Ie.A)({},!f&&N.props,{onClick:f?()=>{var e;e=b,ce({name:"metrics",data:{[ne]:e}}),A.open()}:a=>{l(n.processing),N.props.onClick(a),t.current=e},className:"rs-iteminfo-remove",a11yLabel:C,isLoading:S,"data-autom":"bag-item-remove-button"})),f&&a().createElement(QE,{content:w,removeButtonLabel:h||n.removeCartItem,cancelButtonLabel:E||n.keepCartItem,removeButtonProps:{...I.props,disabled:P,isLoading:P,onClick:a=>{l(n.processing),I.props.onClick(a),t.current=e}},overlayControls:A}))},tb=a().memo(eb),ab=({a11yLabel:e,isSaving:t,...n})=>{const{assets:r}=(0,Y.S)();return t?a().createElement("div",{role:"img",className:"waitindicator waitindicator-inline waitindicator16-gray","aria-label":r.processing}):a().createElement("button",(0,Ie.A)({type:"button",className:"rs-iteminfo-savelater as-buttonlink"},n),r.saveLaterLabel,a().createElement("span",(0,Ie.A)({className:"visuallyhidden"},(0,Le.OH)(e))))},nb=({overlayContent:e,overlayControls:t,saveConfirmButtonProps:n,dontSaveButtonProps:r,handleOverlayExited:s})=>{const{isVisible:l,close:i}=t,{assets:o}=(0,Y.S)();return a().createElement(Ke.A,{className:"rs-item-saveforlater-overlay",footerContent:a().createElement(ya,null),ariaLabel:"item-saveforlater-overlay-header",visible:l,onClose:i,onExited:s,fixedWidth:!0},a().createElement("h2",{className:"rs-item-saveforlater-overlay-header",id:"item-saveforlater-overlay-header"},o.saveLaterOverlayHeader),a().createElement("div",(0,Ie.A)({className:"rs-item-saveforlater-overlay-content"},(0,Le.OH)(e))),a().createElement("div",{className:"rs-item-saveforlater-overlay-actions"},a().createElement(Wt.A,(0,Ie.A)({type:"button",className:"rs-item-overlay-button"},n),o.saveItemsButtonLabel),a().createElement("button",(0,Ie.A)({type:"button",className:"as-buttonlink"},r),o.dontSaveButtonLabel)))},rb=()=>{const{modKey:e}=Fl(),[n]=(0,k.lE)(e),{sku:r}=n,s=C().get(window,"asMetrics.takeaway.onProductSaved",C().noop),l=(0,k.Yl)(`${e}.savedItemOverlay`),{content:i,dontSaveMetric:o,saveForLaterMetric:c}=l.data,m=l.modExists,d=wm(!1),u=(0,k.W4)(`${e}.savedItemOverlay`,"saveForLaterButton"),p=(0,k.W4)(e,"saveForLater"),[g,y]=(0,t.useState)(!1),[v,h]=(0,k.fL)(We),E=Boolean(v.length);(0,t.useEffect)((()=>{E&&d.isVisible&&(y(!0),d.close())}),[E,h]);const{properties:{isLoadingSubmit:b},bindExists:f}=p.binding,A={onClick:()=>{ce({name:"metrics",data:{prop3:o}}),d.close()}};return f&&a().createElement(a().Fragment,null,a().createElement(ab,(0,Ie.A)({},p.props,{onClick:m?()=>{ce({name:"metrics",data:{prop3:c}}),d.open()}:e=>{p.props.onClick(e),s({sku:r})},a11yLabel:n&&n.name,isSaving:b,"data-autom":"bag-item-savelater-button"})),m&&a().createElement(nb,{overlayContent:i,saveConfirmButtonProps:{...u.props,disabled:u?.binding?.properties?.isLoadingSubmit,isLoading:u?.binding?.properties?.isLoadingSubmit},dontSaveButtonProps:A,overlayControls:d,handleOverlayExited:g&&(()=>{y(!1),window.scrollTo(window.pageXOffset,0)})}))},sb=a().memo(rb),lb=({amount:e})=>{const{assets:t}=(0,Y.S)();return a().createElement("div",{className:"row rs-iteminfo-child"},a().createElement("div",{className:"column large-9 small-8 rs-iteminfo-child-details"},a().createElement("h3",{className:"as-icondetails-detail rs-iteminfo-child-title"},t.copyRightFeeLabel)),a().createElement("div",{className:"column large-3 small-4 rs-iteminfo-child-actions"},a().createElement("p",{className:"rs-iteminfo-child-price"},e)))},ib=()=>{const{modKey:e}=Fl(),[t]=(0,k.Ej)(e,"exclusiveCopyrightFee");return Boolean(t)&&a().createElement(lb,{amount:t})},ob=a().memo(ib),cb=({promos:e=[],priceDetails:t=[]})=>{const n=Boolean(t.length),r=Boolean(e.length);return a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-iteminfo-savings"},e.map((({label:e,amount:t})=>a().createElement("div",{key:`promo-${e}`,className:"rs-iteminfo-savings-line large-12 small-12 row"},a().createElement("div",{className:"column large-9 small-8 rs-iteminfo-child-details"},a().createElement("div",{className:"rs-iteminfo-savings-title"},e)),a().createElement("div",{className:"column large-3 small-4 rs-iteminfo-child-actions"},a().createElement("p",{className:"rs-iteminfo-savings-price"},t)))))),n&&r&&a().createElement("div",{className:"rs-iteminfo-pricelineitem"},t.map((({label:e,name:t,value:n})=>a().createElement(Je,{key:`price-detail-${e}`,name:t||"itempricedetail",label:e,value:n})))))},mb=()=>{const{modKey:e}=Fl(),{assets:t}=(0,Y.S)(),[n]=(0,k.lE)(e),{promos:r,priceDetails:s=[]}=n;if(!r)return null;const l=(({list:e,taxInclusive:t},a)=>e.map((e=>{const{showPrefix:n}=e;let{label:r,amount:s}=e;return n&&(r=t?a.totalSavings:a.savingsLabel),s&&(s=`-${s}`),{label:r,amount:s}})))(r,t);return a().createElement(cb,{promos:l,priceDetails:s})},db=a().memo(mb),ub=({title:e,products:t})=>a().createElement("div",{className:"rs-iteminfo-recommendedsystemschild-wrapper large-7 small-12"},a().createElement("div",{className:"rs-iteminfo-recommendedsystemschild-title"},a().createElement("span",(0,Le.OH)(e))),a().createElement("div",{className:"rs-iteminfo-recommendedsystemschild-items"},t.map((({name:e,quantity:t})=>a().createElement("div",{key:e},e," ",t>1?`(${t})`:t))))),pb=()=>{const{modKey:e}=Fl(),[t]=(0,k.lE)(`${e}.recommendedSystemCartMoreProducts`),{name:n,productsInSystem:r=[]}=t;return Boolean(r.length)&&a().createElement(ub,{title:n,products:r})},gb=a().memo(pb),yb=({editLocation:e,deliveryData:t,hasDeliveryOptions:a})=>{if(!a)return!1;const{isElectronic:n}=t,{isDefaultDeliveryOptionEnabled:r}=e.deliveryOptions,s=e.state===kl;if(n)return!1;const l=e.type===Sl,i=e.type===Nl;if(l||i)return!1;if(e.type===wl&&!s)return!1;return!(e.type===Cl&&(!s||r))},vb=({editLocation:e,assets:t})=>{const{type:a,state:n,deliveryOptions:r,provSelectData:s}=e,{isDefaultDeliveryOptionEnabled:l}=r,i=n===Il;switch(a){case wl:return i?t.warmDeliveryLabel:t.coldDeliveryTitle;case Sl:return i?t.warmDeliveryOptionsLabel:t.coldDeliveryOptionsLabel;case Cl:return i||l?t.warmDeliveryLabel:t.coldDeliveryTitle;case Nl:return s.label;default:return""}},hb=({editLocation:e,assets:t})=>{const{type:a,state:n,current:r,provSelectData:s,deliveryOptions:l}=e,i=n===Il;switch(a){case wl:return r||t.taxZipCode;case Sl:case Cl:return l.deliveryLocationLinkText||l.showCaseText;case Nl:return i?s.provinceCityDistrict:s.linkText;default:return""}},Eb=({editLocation:e,assets:t,productName:a})=>{const{type:n,state:r}=e,s=r===Il;switch(n){case wl:return s?Qe.GP(t.wasPostalCodeA11y,{productName:a}):"";case Sl:case Cl:return s?t.deliveryLocationLinkTextA11y:t.deliveryOptionCityTownTextA11y;default:return""}},bb=({editLocation:e})=>{const{type:t,state:a}=e,n=a===Il;switch(t){case wl:return n?"bag-zipcode-edit":"bag-zipcode-edit-cold";case Nl:return n?"bag-province-edit":"bag-province-edit-cold";case Sl:return n?"bag-prefecture-edit":"bag-prefecture-edit-cold";case Cl:return n?"bag-location-edit":"bag-location-edit-cold";default:return""}},fb=({callout:e,hasDelivery:t,hasPickup:n,showPickupFirst:r,children:s})=>{const l=Z()("rs-item-fulfillment","rs-iteminfo-child",{"rs-has-delivery":t,"rs-has-pickup":n,"rs-show-pickup-first":r});return a().createElement("div",{className:l},e,a().createElement("div",{className:"rs-item-fulfillment-columns"},s))},Ab=({title:e,editBtn:t,children:n})=>a().createElement("div",{className:"rs-item-fulfillment-callout"},a().createElement("div",{className:"rs-fulfillment-callout-title"},a().createElement("span",{className:"rs-fulfillment-callout-title-text"},e)," ",t),n),wb=()=>{const{assets:e}=(0,Y.S)(),{modKey:t,editLocation:n}=Fl(),r=`${t}.delivery.lineDeliveryOptions.address`,{type:s,isEditing:l,setIsEditing:i}=n,[o]=(0,k.Ej)(t,"productName"),[c]=(0,k.lE)(r),{showGeoLocationDisclaimer:m}=c,d=s===Cl,u=s===wl,p=!l,[g]=(0,k.lE)(`${t}.delivery.lineDeliveryOptions`),y=vb({editLocation:n,deliveryOptionsData:g,assets:e}),v=hb({editLocation:n,assets:e}),h=Eb({editLocation:n,assets:e,productName:o}),E=bb({editLocation:n}),b=il(l),f=a().createElement(ol,{showBtn:p,isEditing:l,wasEditing:b,setIsEditing:i,showDagger:m,label:v,"aria-label":`${v} ${h}`,"data-autom":E,showChevron:!d});return a().createElement(Ab,{title:y,editBtn:f},u&&a().createElement(ml,{modKey:r,isBagApp:!0}))},Nb=a().memo(wb),Sb=({template:e="",children:t})=>{const n=e.toLowerCase().replace(/_/g,"-"),r=n?`rs-${n}`:"",s=Z()("rs-item-shipping rs-item-delivery","as-icondetails",r,{"rs-item-shipping-template":Boolean(e)});return a().createElement("div",{className:s},a().createElement("div",(0,Ie.A)({className:"as-icondetails-icon as-svgicon-container"},(0,Le.OH)('<svg class="as-svgicon-rtl-mirrored as-svgicon as-svgicon-boxtruck as-svgicon-tiny as-svgicon-boxtrucktiny" viewBox="0 0 21 21" role="img" aria-hidden="true" width="21px" height="21px"><path fill="none" d="M0 0h21v21H0z"/><path fill="#1d1d1f" d="M19.559 10.274 17.24 7.53A1.688 1.688 0 0 0 15.918 7H15v-.75A2.25 2.25 0 0 0 12.75 4h-8.5A2.25 2.25 0 0 0 2 6.25V13a2.25 2.25 0 0 0 2.25 2.25h.56A2.248 2.248 0 0 0 7 17a2.202 2.202 0 0 0 2.19-2H14a2.214 2.214 0 0 0 2.25 2 2.248 2.248 0 0 0 2.19-1.75h.016A1.4 1.4 0 0 0 20 13.747v-2.363a1.61 1.61 0 0 0-.441-1.11ZM8.142 15.25a1.245 1.245 0 0 1-2.284 0 1.212 1.212 0 0 1 0-1 1.245 1.245 0 0 1 2.284 0 1.212 1.212 0 0 1 0 1ZM9.15 14a2.267 2.267 0 0 0-4.34.25h-.56A1.252 1.252 0 0 1 3 13V6.25A1.251 1.251 0 0 1 4.25 5h8.5A1.251 1.251 0 0 1 14 6.25V14Zm8.242 1.25a1.245 1.245 0 0 1-2.284 0 1.212 1.212 0 0 1 0-1 1.245 1.245 0 0 1 2.284 0 1.212 1.212 0 0 1 0 1ZM19 13.747c0 .334-.084.503-.544.503h-.016A2.245 2.245 0 0 0 15 12.88V8h.918a.681.681 0 0 1 .592.211l2.324 2.752a.617.617 0 0 1 .166.42Z"/></svg>'))),a().createElement("div",{className:"as-icondetails-detail","data-autom":"rs-item-delivery-details"},t))},Cb=({quote:e})=>e?a().createElement("div",{className:"rs-item-electronic-delivery rs-item-delivery"},a().createElement("span",{className:"rs-bag-delivery-egc"},e)):null,kb="DUDE_APU_N",Ib=({template:e,deliveryHeader:t,shippingLabel:n,deliveryToLabel:r,shipMethodQuote:s,showEditBtn:l,editBtn:i,inlineEditor:o})=>{const{assets:c}=(0,Y.S)();if(e===kb){const{dudeDeliversToLabelCondensed:e,dudeDeliversToLabelFull:m=""}=c;let d=r||e;if(l){d=(r||m).split("{loc}").filter((e=>e)).map(((e,t)=>a().createElement(a().Fragment,{key:e},e,0===t&&i)))}return a().createElement(a().Fragment,null,t&&a().createElement("div",{className:"rs-item-shipping-header"},t),a().createElement("div",{className:"rs-item-shipping-summary as-icondetails-label"},n&&a().createElement("span",{className:"rs-item-shipping-label"},n),a().createElement("span",{className:"rs-item-delivers-to"},d)),o,s.map((({date:e,postfix:t,tooltip:n})=>a().createElement("div",{key:`${e}-${t}`,className:"rs-item-shipping-quote-line as-icondetails-value"},t?a().createElement(a().Fragment,null,e,"  ",t):e,n&&a().createElement(Bn.Ay,{className:"rs-item-shipping-tooltip",labelA11y:a().createElement("span",(0,Le.OH)(n)),autoAlign:!0,after:!0},a().createElement("span",(0,Le.OH)(n)))))))}return null},Pb=({shippingLabel:e,shipMethodQuote:t=[],showEditLine:n,editTitle:r,editBtn:s,isPrescription:l,inlineEditor:i})=>{const o=n&&l;return a().createElement("div",{className:Z()({"rs-item-shipping-prescription":l})},a().createElement("div",{className:"rs-item-shipping-label as-icondetails-label"},e," ",o&&s),o&&i,t.map((({date:e,postfix:t})=>a().createElement("div",{key:`${e}-${t}`,className:"rs-item-shipping-detail-line as-icondetails-value"},t?`${e} - ${t}`:e))),n&&!l&&a().createElement("div",{className:"rs-item-shipping-detail-line"},`${r} `,s))},Lb=()=>{const{assets:e}=(0,Y.S)(),n=(0,t.useRef)(null),{modKey:r,editLocation:s}=Fl(),[l]=(0,k.lE)(r),{name:i}=l,[o]=(0,k.lE)(`${r}.delivery`),{ships:c={},delivers:m={},pickup:d,isElectronic:u}=o,p=Boolean(d),g=Boolean(o.delivers&&u),y=Boolean(c.templateID),{type:v,isEditing:h,setIsEditing:E,showGeoLocationDisclaimer:b,deliveryOptions:f}=s,A=`${r}.delivery.lineDeliveryOptions`,w=`${r}.delivery.lineDeliveryOptions.address`,N=(0,k.M1)(`${r}.delivery.lineDeliveryOptions`),S=il(h);if(g)return a().createElement(Cb,{quote:m.quote});const C=yb({editLocation:s,deliveryData:o,hasDeliveryOptions:N}),I=v===Cl,P=v===Nl,L=v===Sl,T=v===wl&&!C,O=c.showShipLabel?e.deliveryLabel:c.resolvedShipLabel,D=vb({editLocation:s,assets:e}),x=N&&!C,M=I||P||f.isDeliveryOptionDrawerEnabled,F=M||!M&&!h,B=hb({editLocation:s,assets:e}),R=Eb({editLocation:s,assets:e,productName:i}),_=bb({editLocation:s}),$=a().createElement(ol,{showBtn:F,isEditing:h,wasEditing:S,setIsEditing:E,showDagger:b,label:B,"aria-label":`${B} ${R}`,"data-autom":_,showChevron:!I,btnRef:n,"aria-controls":`rs-edit-location-${A}`}),H=a().createElement(a().Fragment,null,T&&a().createElement(ml,{triggerRef:n,modKey:w,isBagApp:!0}),L&&a().createElement(fl,{modKey:A,className:Z()({"as-icondetails-detail":!y}),hasSearchTypeAhead:f.hasSearchTypeAhead,isBagApp:!0}));return a().createElement("div",{className:"rs-delivery-container"},a().createElement(Sb,{hasPickup:p,template:c.templateID},y?a().createElement(Ib,{template:c.templateID,shippingLabel:O,deliveryToLabel:c.deliveryToLabel,shipMethodQuote:c.shipMethodQuote,deliveryHeader:c.deliveryHeader,showEditBtn:x&&void 0!==h&&!h,editBtn:$,inlineEditor:H}):a().createElement(Pb,{shippingLabel:O,shipMethodQuote:c.shipMethodQuote,showEditLine:x,isPrescription:c.isPrescription,inlineEditor:H,editTitle:D,editBtn:$})),!y&&!c.isPrescription&&H,P&&a().createElement(yl,{modKey:w,className:"as-icondetails-detail",mobileColumns:2,desktopColumns:2,hideInput:!0,isBagApp:!0,isFullWidth:!0}),I&&a().createElement(El,{modKey:A,isBagApp:!0}))},Tb=a().memo(Lb),Ob=({template:e,children:t})=>{const n=e.toLowerCase().replace(/_/g,"-"),r=n?`rs-${n}`:"",s=Z()("rs-item-pickup","as-icondetails",r,{"rs-item-shipping-template":Boolean(e)});return a().createElement("div",{className:s},a().createElement("div",(0,Ie.A)({className:"as-icondetails-icon as-svgicon-container"},(0,Le.OH)('<svg viewBox="0 0 25 25" class="as-svgicon as-svgicon-applestorepickup as-svgicon-reduced as-svgicon-applestorepickupreduced" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h25v25H0z"/><path d="M18.5 5h-1.775a4.231 4.231 0 0 0-8.45 0H6.5A2.5 2.5 0 0 0 4 7.5v11A2.5 2.5 0 0 0 6.5 21h12a2.5 2.5 0 0 0 2.5-2.5v-11A2.5 2.5 0 0 0 18.5 5Zm-6-3a3.245 3.245 0 0 1 3.225 3h-6.45A3.245 3.245 0 0 1 12.5 2ZM20 18.5a1.5 1.5 0 0 1-1.5 1.5h-12A1.5 1.5 0 0 1 5 18.5v-11A1.5 1.5 0 0 1 6.5 6h12A1.5 1.5 0 0 1 20 7.5Z"/><path d="M14.4 12.448a1.592 1.592 0 0 1 .738-1.328 1.607 1.607 0 0 0-1.37-.687c-.52 0-.941.317-1.22.317s-.663-.3-1.129-.3a1.861 1.861 0 0 0-1.739 2.068 4.32 4.32 0 0 0 .723 2.3c.346.491.648.883 1.084.883s.617-.287 1.144-.287c.55 0 .663.279 1.137.279s.791-.43 1.084-.853a3.24 3.24 0 0 0 .474-.989 1.516 1.516 0 0 1-.926-1.403ZM12.583 10.357a1.346 1.346 0 0 0 .941-.5 1.594 1.594 0 0 0 .361-.974.731.731 0 0 0-.008-.136 1.5 1.5 0 0 0-1.016.528 1.547 1.547 0 0 0-.384.943c0 .053.008.106.008.128.03.004.06.011.098.011Z"/></svg>'))),a().createElement("div",{className:"as-icondetails-detail","data-autom":"rs-item-delivery-details"},t))},Db=({pickupLabel:e,pickupDescription:t,pickupQuote:n,removeGiftingBtn:r,storeLocatorBtn:s})=>a().createElement(a().Fragment,null,e&&a().createElement("span",(0,Ie.A)({className:"as-icondetails-label"},(0,Le.OH)(e))),t&&a().createElement("span",(0,Ie.A)({className:"as-icondetails-value"},(0,Le.OH)(t))),n&&a().createElement("span",(0,Ie.A)({className:"as-icondetails-value"},(0,Le.OH)(n))),r&&a().createElement("span",{className:"as-icondetails-value"},r),s&&a().createElement("span",{className:"as-icondetails-value"},s)),xb="DUDE_APU_N",Mb=({template:e,pickupLabel:t,pickupDescription:n,pickupQuote:r,storeName:s,quoteValue:l,isPickupStoreAvailable:i,showStoreLocator:o,storeLocatorBtn:c,isWarmState:m,showLabelInBold:d})=>{if(e===xb){let e=r;i&&l&&(e=e.replace(l,`<strong>${l}</strong>`));const u=o&&s?e.split(s).filter((e=>e)):[e],p=e.startsWith(s),g=!m||d?`<strong>${t}</strong>`:t;return a().createElement(a().Fragment,null,t&&a().createElement("div",(0,Ie.A)({className:"rs-pickup-label"},(0,Le.OH)(g))),n&&a().createElement("div",(0,Ie.A)({className:"rs-pickup-description"},(0,Le.OH)(n))),e&&a().createElement("div",{className:"rs-pickup-quote"},u.map(((e,t)=>a().createElement(a().Fragment,{key:e},0===t&&s&&p&&o&&c,a().createElement("span",(0,Ie.A)({className:"rs-pickup-quote-piece"},(0,Le.OH)(e))),0===t&&s&&!p&&o&&c)))),!s&&o&&c)}return null},Fb=({children:e,...t},n)=>{const{assets:r}=(0,Y.S)();return a().createElement("button",(0,Ie.A)({},t,{ref:n,type:"button",className:"as-buttonlink","data-autom":"bag-giftmessage-remove","aria-label":`${r.remove} ${r.giftMsgLabel}`}),e)},Bb=a().forwardRef(Fb),Rb=({isLoading:e,children:t,...n},r)=>e?a().createElement("div",{role:"img",className:"waitindicator waitindicator-inline waitindicator16-gray"}):a().createElement("button",(0,Ie.A)({},n,{ref:r,type:"button",className:"as-buttonlink as-buttonlink-inline","data-autom":"bag-seemorestores-link"}),t),_b=a().forwardRef(Rb),$b=({hasResults:e,hasProvinceSelector:t,overlayProps:n,searchField:r,messages:s,storeLocator:l,footerContent:i})=>{const{viewport:o,assets:c}=(0,Y.S)(),m="small"===o,d=Z()("rs-store-locator-overlay",{"rs-has-results":e,"rs-has-province-selector":t});return a().createElement(Ke.A,(0,Ie.A)({},n,{className:d,isFullscreen:m,footerContent:i,fixedWidth:!0,noPadding:!0,ariaLabel:"rs-store-locator-title-id"}),a().createElement("div",{className:"rs-store-locator-header"},a().createElement("h2",{id:"rs-store-locator-title-id",className:"rs-store-locator-title"},c.storeLocatorHeader),r),a().createElement("div",{className:"rs-store-locator-wrap"},s,l))},Hb=({submitBtnProps:e})=>{const{assets:t}=(0,Y.S)();return a().createElement("div",{className:"rs-store-locator-submit"},a().createElement(Wt.A,(0,Ie.A)({},e,{"data-autom":"bag-storelocator-confirmstore"}),t.confirmStore))},Kb=({triggerRef:e,triggerClicked:n,setTriggerClicked:r})=>{const{assets:s}=(0,Y.S)(),{modKey:l,announceMessage:i}=Fl(),o=`${l}.delivery.storeLocator`,[c,m]=(0,k.fL)(o),d=Cd(o),[u=[]]=(0,k.Ej)(`${o}.searchResults`,"retailStores"),p=u.length>0,[g]=(0,k.Ej)(`${l}.delivery`,"singleStoreCountry"),[y]=(0,k.lE)(o),{retailStoreAutoComplete:v=""}=y,h=(0,k.M1)(`${o}.address.localitySearchTypeAhead`),E=(0,k.M1)(`${o}.address.localitySearchTypeAheadWithGeoLocation`),b=h||E,[f]=(0,k.lf)(o),A={...f,visible:f.visible&&n,onExited:()=>{f.onExited(),r(!1),i(s.contentLoadedA11y),e.current&&e.current.focus()}},w=(0,k.Pf)(o,"searchInput"),N=(0,k.W4)(o,"search"),S=N.binding.properties.isLoadingSubmit,C=w.binding.bindExists&&w.props.error,I=(0,k.W4)(o,"submitStore"),P=!g,L=I.binding.properties.isLoadingSubmit,T={...I.props,isLoading:L,disabled:I.props.disabled||!p||C},O=s.storeResults,D=`${u.length} ${O}`;(0,t.useEffect)((()=>{S&&N.props.ref&&setTimeout((()=>{i(D)}),3e3)}),[S,N.props.ref]);const x=`${o}.address.provinceCityDistrictTabs`,M=(0,k.M1)(x),[F]=(0,k.Ej)(x,"provinceCityDistrict"),B=(0,k.sW)(),R=C;(0,t.useEffect)((()=>{M&&A.visible&&(w.binding.setValue(F),F&&B({type:W.Ru.ACTION,modKey:o,name:"search"}))}),[A.visible,F]);const _={...d,onShowAllStoresClick:()=>ye(),onExpandMapClick:ve};let $;return $=M?a().createElement(yl,{modKey:x,error:R,mobileColumns:2,desktopColumns:4,isBagApp:!0,isFullWidth:!0}):b?a().createElement(fl,{modKey:o,visibleKey:"_editing",hasSearchTypeAhead:b,isBagApp:!0,hideCancel:!0}):a().createElement(Kd,{isLoading:S,autoCompleteUrl:v,textFieldProps:w.props,searchBtnProps:N.props,ariaLiveLabels:{autoCompleteChoicesAllyTxt:s.multipleSuggestionsLabel,autoCompleteChoiceAllyTxt:s.suggestionLabel},isBagApp:!0}),a().createElement($b,{hasResults:p,hasProvinceSelector:M,overlayProps:A,searchField:$,messages:a().createElement(ke.A,{messages:c,lastUpdated:m}),storeLocator:a().createElement(Sd,_),footerContent:P&&a().createElement(Hb,{submitBtnProps:T})})},Vb=a().memo(Kb),Ub=()=>{const{assets:e}=(0,Y.S)(),{acShowInstallment:n}=mn(),{modKey:r}=Fl(),[s]=(0,k.lE)(r),l=`${r}.delivery`,[i]=(0,k.lE)(l),o=C().get(i,"pickup.pickupLabel",""),c=C().get(i,"pickup.showLabelInBold",!1),m=C().get(i,"pickup.pickupDescription",""),d=C().get(i,"pickup.quote",""),u=C().get(i,"pickup.templateID",""),p=Boolean(u),g=C().get(i,"pickup.dudeAttributeStore",""),y=C().get(i,"pickup.dudeAttributeQuote",""),v=C().get(i,"pickup.isPickupStoreAvailable",!1),h=C().get(i,"pickup.warmStateForPickup",!1),E=C().get(i,"pickup.hasRemoveGiftMessageLink",!1),b=`${r}.delivery.removeGifting`,f=(0,k.W4)(b,"remove"),[A,w]=(0,t.useState)(!1),N=C().get(i,"pickup.enableStoreSelectorLink",!1),S=p&&g?g:C().get(i,"pickup.storeSelectorLinkText",""),I=C().get(i,"pickup.storeSelectorLinkTextA11y",""),P=Qe.GP(I,{productName:s.name}),L=(0,k.W4)(l,"storeLocatorView"),T={...L.props,isLoading:L.binding.properties.isLoadingSubmit,"aria-label":P,onClick:e=>{L.props.onClick(e),w(!0),n&&ce({name:"metrics",data:{hier1:"aos:bag",channel:"aos:bag",prop3:"modal open|pickup|show more stores"}})}},O=E&&a().createElement(Bb,f.props,e.remove),D=N&&a().createElement(_b,T,S);return a().createElement(a().Fragment,null,a().createElement(Ob,{template:u,pickupLabel:o,pickupQuote:d},p?a().createElement(Mb,{template:u,pickupLabel:o,pickupDescription:m,pickupQuote:d,storeName:g,quoteValue:y,isPickupStoreAvailable:v,showStoreLocator:N,storeLocatorBtn:D,isWarmState:h,showLabelInBold:c}):a().createElement(Db,{pickupLabel:o,pickupDescription:m,pickupQuote:d,removeGiftingBtn:O,storeLocatorBtn:D})),N&&a().createElement(Vb,{triggerRef:T.ref,triggerClicked:A,setTriggerClicked:w}))},Wb=a().memo(Ub),Gb=()=>{const{modKey:e,editLocation:n}=Fl(),[r]=(0,k.lE)(`${e}.delivery`),s=Boolean(r.ships||r.delivers),l=Boolean(r.pickup),i=C().get(r,"ships.leadByPickup",!1),o="true"===i||!0===i,c=(0,k.M1)(`${e}.delivery.lineDeliveryOptions`),m=yb({editLocation:n,deliveryData:r,hasDeliveryOptions:c}),{templateID:d,deliveryHeader:u,source:p={}}=C().get(r,"ships",{}),{deliveryOrderSortBy:g,fastestShipMethodPriceLabel:y,cutoffFormat:v,eaglePosition:h}=p;return(0,t.useEffect)((()=>{d&&(({eaglePosition:e,...t})=>{ue({position:e,...t})})({templateId:d,deliveryHeader:u,leadByPickup:i,deliveryOrderSortBy:g,fastestShipMethodPriceLabel:y,cutoffFormat:v,eaglePosition:h})}),[d,u,i,g,y,v,h]),a().createElement(fb,{callout:m&&a().createElement(Nb,null),hasDelivery:s,hasPickup:l,showPickupFirst:o},l&&o&&a().createElement(Wb,null),s&&a().createElement(Tb,null),l&&!o&&a().createElement(Wb,null))},jb=a().memo(Gb),qb=({message:e})=>a().createElement("div",{className:"rs-iteminfo-child"},a().createElement("span",{className:"rs-iteminfo-child-tagline"},e)),Yb=()=>{const{modKey:e}=Fl(),[t]=(0,k.lE)(e),{isBundlePromoItem:n,displayTagLine:r}=t,s=n?r:"";return s&&a().createElement(qb,{message:s})},zb=a().memo(Yb),Zb=e=>{if("none"===e.value)return e.value;if(e.values){if(e.values.length>1)return e.displayName;return e.values[0].value}return""},Jb=({group:e,optionProps:t,selectedGroup:n,selectedOption:r,onGroupSelection:s})=>{const{displayName:l,groupDescription:i,groupPrice:o,groupSelectorFooter:c}=e,m=l===n,d=e.values&&e.values.length>1,u=Boolean(o),p=Boolean(i),g=d?e.values.sort(((e,t)=>e.sortOrder-t.sortOrder)):[],y=Z()("row","form-selector-list-header",{"rs-changeapplecare-nodesc":!p}),v=Z()("form-selector-title","form-selector-left-col","column",{"large-6":u,"large-12":!u});return a().createElement("div",{className:"rs-changeapplecare-option"},a().createElement(nc.Ay,(0,Ie.A)({tag:"div"},t,{onChange:a=>{t.onChange(a),s(e)},value:Zb(e),checked:m,name:"change-apple-care",withAriaLabeledBy:!0}),a().createElement("span",{className:y},a().createElement("span",(0,Ie.A)({className:v},(0,Le.OH)(l))),u&&a().createElement("span",(0,Ie.A)({className:"form-selector-right-col column large-6"},(0,Le.OH)(o)))),p&&a().createElement("div",(0,Ie.A)({className:"form-selector-list-content"},(0,Le.OH)(i)))),d&&a().createElement(j.x,{in:m},a().createElement("div",{className:"rs-changeapplecare-overlay-tray"},a().createElement(Am.A,null,g.map((e=>a().createElement(nc.Ay,(0,Ie.A)({},t,{key:e.value,value:e.value,checked:e.value===r,name:`change-apple-care-${l}`,withAriaLabeledBy:!0}),a().createElement("span",{className:"row"},a().createElement("span",(0,Ie.A)({className:"form-selector-left-col form-selector-title column large-6"},(0,Le.OH)(e.selectorDisplayName))),a().createElement("span",(0,Ie.A)({className:"form-selector-right-col column large-6"},(0,Le.OH)(e.price)))))))),a().createElement("div",(0,Ie.A)({className:"rs-changeapplecare-overlay-trayfooter typography-caption"},(0,Le.OH)(c))))))},Xb="rs-changeapplecare-overlay-header",Qb=({overlayProps:e,updateButtonProps:t,optionProps:n,selectedGroup:r,onGroupSelection:s,selectedOption:l,originalSelection:i,isUpdating:o,groups:c=[]})=>{const{assets:m}=(0,Y.S)(),d=o||!l||i===l;return a().createElement(Ke.A,(0,Ie.A)({ariaLabel:Xb,className:"rs-changeapplecare-overlay"},e),a().createElement("div",{className:"rs-changeapplecare-overlay-wrap"},a().createElement("h2",{className:"rs-changeapplecare-overlay-header typography-headline-reduced",id:Xb},m.changeACTitle),a().createElement("fieldset",null,a().createElement("legend",{className:"visuallyhidden"},m.changeACTitle),a().createElement(Am.A,{tag:"div"},c.map((e=>a().createElement(Jb,{group:e,key:e.displayName,optionProps:n,selectedGroup:r,onGroupSelection:s,selectedOption:l}))))),a().createElement(Wt.A,(0,Ie.A)({},t,{className:"rs-changeapplecare-overlay-update",isLoading:o,disabled:d}),m.changeACUpdate),a().createElement("div",(0,Ie.A)({className:"rs-changeapplecare-overlay-footnotes typography-caption"},(0,Le.OH)(m.changeACFooter)))))},ef=({isFetchingOverlay:e,buttonLabel:t,buttonProps:n,overlayProps:r,updateButtonProps:s,optionProps:l,selectedGroup:i,onGroupSelection:o,selectedOption:c,originalSelection:m,groups:d,isUpdating:u})=>a().createElement("div",{className:"rs-changeapplecare"},e?a().createElement("div",{role:"img",className:"waitindicator waitindicator-inline waitindicator16-gray"}):t&&a().createElement("button",(0,Ie.A)({type:"button",className:"as-buttonlink more"},n),t),a().createElement(Qb,{overlayProps:r,updateButtonProps:s,optionProps:l,selectedOption:c,originalSelection:m,selectedGroup:i,onGroupSelection:o,groups:d,isUpdating:u})),tf="none",af=({removeClick:e})=>{const{modKey:n}=Fl(),[r,s]=(0,t.useState)(""),l=(0,k.W4)(n,"changeAppleCareModal"),[i]=(0,k.Ej)(n,"changeAppleCareLinkText"),o=l.binding.properties.isLoadingSubmit,c=(0,t.useRef)(null),m=`${n}.changeAppleCare`,[d]=(0,k.lf)(m),u=(0,k.W4)(m,"updateAppleCareSelection"),p=(0,k.tx)(m,"appleCarePartNumber"),g=p.binding.value,y={...d,returnFocusRef:l.props.ref,onClose:()=>{s(""),d.onClose()}},[v]=(0,t.useState)(g),{data:h,properties:E}=(0,k.Yl)(m),{appleCareGroups:b=[]}=h,f=b.sort(((e,t)=>e.sortOrder-t.sortOrder)),A=E.isLoadingSubmit,w={...l.props,ref:c,onClick:e=>{(()=>{const e=C().get(window,"s.prop8","");oe({eVar:te,slot:e,feature:"link | change your AppleCare+ plan",action:""})})(),l.props.onClick(e)}};(0,t.useEffect)((()=>{e&&c.current&&setTimeout((()=>{c.current.focus()}),1e3)}),[e,c]);return(0,t.useEffect)((()=>{f.some((e=>{const{displayName:t}=e;if(g===tf&&e.value===tf)return s(t),!0;if(e.values){if(e.values.some((e=>e.value===g)))return s(t),!0}return!1}))}),[g]),a().createElement(ef,{isFetchingOverlay:o,buttonLabel:i,buttonProps:w,overlayProps:y,updateButtonProps:u.props,optionProps:p.props,selectedGroup:r,onGroupSelection:e=>{if(s(e.displayName),e.values&&e.values.length>1){const[t]=e.values;p.binding.setValue(t.value)}},selectedOption:g,originalSelection:v,groups:f,isUpdating:A})},nf=a().memo(af),rf=({header:e,message:t})=>a().createElement("div",{className:"rs-changedisclaimer"},a().createElement("div",{className:"rs-changedisclaimer-wrap"},a().createElement("h3",{className:"rs-changedisclaimer-title typography-body"},e),a().createElement("div",(0,Ie.A)({className:"rs-changedisclaimer-message typography-body-reduced"},(0,Le.OH)(t))))),sf=()=>{const{modKey:e}=Fl(),t=`${e}.changeProductDisclaimer`,[n]=(0,k.Ej)(t,"changesAndAvailabilityHeader"),[r]=(0,k.Ej)(t,"changesAndAvailabilityText");return a().createElement(rf,{header:n,message:r})},lf=a().memo(sf),of=({showHeader:e=!0,showDetails:t=!0,headerLabel:n,carrierLabel:r,carrierName:s})=>a().createElement("div",{className:"rs-item-bundle"},e&&a().createElement("h3",{className:"rs-item-bundle-header"},n),t&&a().createElement("div",{className:"rs-item-bundle-detail"},a().createElement("span",{className:"rs-item-bundle-detail-label"},r),a().createElement("span",{className:"rs-item-bundle-detail-value"},s))),cf=({downPayment:e,downPaymentTermsUrl:t})=>{const{assets:n}=(0,Y.S)();return a().createElement("div",{className:"rs-item-downpayment-message"},a().createElement("div",(0,Ie.A)({className:"rs-item-downpayment-message-text"},(0,Le.OH)(Qe.GP(n.downPaymentMessage,{downPayment:e})))),a().createElement("button",(0,Ie.A)({className:"as-buttonlink",type:"button",onClick:()=>{window.open(t,"termsWin","width=450,height=773,menubar=no,location=no,status=no"),ce({name:"metrics",data:{evar6:'D=pageName+"|Select|Link|learn more about down payments|Selected"'}})}},(0,Le.OH)(n.downPaymentLinkText))))},mf=e=>{const[a,n]=(0,t.useState)(!1),r=e.showConsent&&e.url&&e.label;return{consent:a,handleChange:t=>{n(t),(t=>{const a=Qe.k0(e.url,{consent:t});(0,Pa.hI)(a).then((e=>{const t=C().get(e,"body.consent",!1);n(t)}))})(t)},showConsent:r,getConsentCookie:()=>(0,Pa.hI)(e.url).then((e=>{const t=C().get(e,"body.consent",!1);n(t)}))}},df=({consent:e,handleChange:t,label:n})=>a().createElement("div",{className:"rc-cookie-compliance"},a().createElement(Vn.A,{className:"rc-cookie-compliance-checkbox",checked:e,onChange:e=>t(e.target.checked)},n)),uf=(e,t)=>encodeURI(`${e}=${t}`),pf=e=>Object.keys(e).filter((t=>t in e&&void 0!==e[t]&&null!==e[t]&&""!==e[t])).map((t=>"parts"===t?e[t].map(((e,t)=>{if(e&&"object"==typeof e){const a=[];return e.part&&a.push(uf(`parts.${t}`,e.part)),e.option&&a.push(uf(`option.${t}`,e.option.join(","))),e.cppart&&a.push(uf("cppart",e.cppart)),e.purchaseOption&&a.push(uf("purchaseOption",e.purchaseOption)),a.join("&")}return uf(`parts.${t}`,`${e}`)})).join("&"):uf(`${t}`,`${e[t]}`))).join("&"),gf=(e,t={})=>((e,t)=>(e=(e=C().unescape(e)).indexOf("?")>-1?/&$/.test(e)?e:`${e}&`:`${e}?`,e+t))(e,pf(t)),yf=Object.freeze({FETCH_PICKUP_AVAILABILITY:"FETCH_PICKUP_AVAILABILITY",SET_PICKUP_AVAILABILITY:"SET_PICKUP_AVAILABILITY",UPDATE_PICKUP_AVAILABILITY:"UPDATE_PICKUP_AVAILABILITY",SET_STORE_ID:"SET_STORE_ID",SET_GEO_STORE_ID:"SET_GEO_STORE_ID",SET_OVERLAY:"SET_OVERLAY",SELECTED_PART_DATA:"SELECTED_PART_DATA",SL_FETCH_PICKUP_START:"SL_FETCH_PICKUP_START",SL_FETCH_PICKUP_ERROR:"SL_FETCH_PICKUP_ERROR",SL_FETCH_PICKUP_SUCCESS:"SL_FETCH_PICKUP_SUCCESS",SL_CLEAR_PICKUP_DATA:"SL_CLEAR_PICKUP_DATA",PL_FETCH_META_START:"PL_FETCH_META_START",PL_FETCH_META_ERROR:"PL_FETCH_META_ERROR",PL_FETCH_META_SUCCESS:"PL_FETCH_META_SUCCESS",PL_META_SET_CONFIG:"PL_META_SET_CONFIG",PL_FILTER_INIT:"PL_FILTER_INIT",PL_FILTER_UPDATE:"PL_FILTER_UPDATE",PL_FILTER_SET_PART:"PL_FILTER_SET_PART",PL_FILTER_SHOW:"PL_FILTER_SHOW",PL_FILTER_HIDE:"PL_FILTER_HIDE",PL_PICKUP_SHOW_TOGGLE:"PL_PICKUP_SHOW_TOGGLE",PL_PICKUP_HIDE_TOGGLE:"PL_PICKUP_HIDE_TOGGLE",PL_PICKUP_UPDATE_STORE_SELECTION:"PL_PICKUP_UPDATE_STORE_SELECTION",PL_PICKUP_REMOVE_STORE_SELECTION:"PL_PICKUP_REMOVE_STORE_SELECTION",PL_FETCH_PICKUP_START:"PL_FETCH_PICKUP_START",PL_FETCH_PICKUP_ERROR:"PL_FETCH_PICKUP_ERROR",PL_FETCH_PICKUP_SUCCESS:"PL_FETCH_PICKUP_SUCCESS",PL_CLEAR_PICKUP_DATA:"PL_CLEAR_PICKUP_DATA",PL_FETCH_DELIVERY_START:"PL_FETCH_DELIVERY_START",PL_FETCH_DELIVERY_ERROR:"PL_FETCH_DELIVERY_ERROR",PL_FETCH_DELIVERY_SUCCESS:"PL_FETCH_DELIVERY_SUCCESS",PL_CLEAR_DELIVERY_DATA:"PL_CLEAR_DELIVERY_DATA",PL_FETCH_SUGGESTIONS_START:"PL_FETCH_SUGGESTIONS_START",PL_FETCH_SUGGESTIONS_ERROR:"PL_FETCH_SUGGESTIONS_ERROR",PL_FETCH_SUGGESTIONS_SUCCESS:"PL_FETCH_SUGGESTIONS_SUCCESS",PL_CLEAR_SUGGESTIONS_DATA:"PL_CLEAR_SUGGESTIONS_DATA",PL_SUGGESTIONS_UPDATE_STORE_SELECTION:"PL_SUGGESTIONS_UPDATE_STORE_SELECTION",PL_SUGGESTIONS_REMOVE_STORE_SELECTION:"PL_SUGGESTIONS_REMOVE_STORE_SELECTION",PL_SUGGESTIONS_SHOW_TOGGLE:"PL_SUGGESTIONS_SHOW_TOGGLE",PL_SELECTION_UPDATE:"PL_SELECTION_UPDATE",PL_SELECTION_REMOVE:"PL_SELECTION_REMOVE",PL_SELECTION_CLEAR:"PL_SELECTION_CLEAR"}),vf=(e,t,a)=>n=>{const s=(0,r.A)("productlocator/meta-reducer/fetchMetaData");n({type:yf.PL_FETCH_META_START});const l=(0,Pa.hI)(gf(e,t));return l.then((e=>{const t=C().get(e,"body.productLocatorOverlayData.productLocatorMeta"),r=C().get(e,"body.productLocatorOverlayData.errorMessage");if(!e.body||r||C().isEmpty(t))s.debug(`ResponseError: ${r}`),n({type:yf.PL_FETCH_META_ERROR,error:{isResponseError:!0,message:r||a}});else{const t=C().get(e,"body.productLocatorOverlayData",{});t.assets=((e,t)=>({...C().get(e,"overlayLevelTextAssets.namedTextAssets",{}),footer:C().get(e,"familyLevelFragments.namedFragments.footer",""),coldStartPickupInfo:C().get(e,"overlayLevelFragments.namedFragments.coldStartPickupInfo",""),filterButtonText:C().get(e,"familyLevelTextAssets.namedTextAssets.filterButtonText",""),errorMessage:t}))(t,a);const r=C().get(t,"productLocatorMeta.dimensionsVariations",{});t.noConfigurator=C().isEmpty(r),n({type:yf.PL_FETCH_META_SUCCESS,data:t})}})).catch((e=>{s.error(e),n({type:yf.PL_FETCH_META_ERROR,error:{isNetworkError:!0,error:e,message:a}})})),l},hf={isFetching:!1,isFetched:!1,data:{},error:null},Ef=(e,t)=>{switch(t.type){case yf.PL_FETCH_META_START:return{...e,isFetching:!0,isFetched:!1,error:null};case yf.PL_FETCH_META_ERROR:return{...e,isFetching:!1,isFetched:!0,error:t.error,data:{}};case yf.PL_FETCH_META_SUCCESS:return{...e,isFetching:!1,isFetched:!0,error:null,data:t.data};case yf.PL_META_SET_CONFIG:return{...e,config:t.config};default:return e}},bf={},ff=(e,t,a,n)=>{const r=C().get(t,e,[]),s=C().map(C().sortBy(r,"sortOrder"),"key"),l=C().sortBy(C().uniq(C().map(C().filter(a,e),e)),(e=>s.indexOf(e)));return C().map(l,(t=>{const a=C().find(r,{key:t})||{};return{value:t,image:a.swatchImage,label:a.value,selected:!!n&&n[e]===t}}))},Af=e=>e.filter((e=>C().find(e.options,"selected"))).map((e=>({key:e.key,value:C().find(e.options,"selected").value}))).reduce(((e,t)=>(e[t.key]=t.value,e)),{}),wf=(e,t,a=!1)=>{const{key:n,value:r}=e,s=Af(t);if(!((e,t,a=[])=>{let n=!1;return a.forEach((a=>{a.key===e&&C().findIndex(a.options,{value:t})>=0&&(n=!0)})),n})(n,r,t))return s;if(!a)return{...s,[n]:r};const l=((e,t)=>{let a=!1;const n=t.filter((t=>{if(t.key===e&&(a=!0),!a)return t.key}));return C().map(n,"key")})(n,t);return{...C().pick(s,l),[n]:r}},Nf=(e,t,a)=>{let n=C().find(a,e);if(n)return n.partNumber;const r=Object.keys(e).length-1,s=r&&t[r]&&t[r].key,l=C().omit(e,s);return n=C().find(a,l),Nf(l,t,a)},Sf=(e,t,a)=>{const n=bf[t];if(!n||!n.products||!n.prices)return null;const r=a?{partNumber:e,carrierModel:a}:{partNumber:e},s=C().find(n.products,r)||{},l=C().get(n.prices,s.price,{});switch(n.purchaseOption||"fullPrice"){case"ipp":return C().get(l,"iupPrice");case"iupPriceNonDefault":return C().get(l,"iupPriceNonDefault");case"ipi":return C().get(l,"ipiPrice");case"cp":return C().get(l,"carrierInstallment");default:return C().get(l,"fullPrice")}},Cf=(e,t,a)=>{const n=bf[t];if(!n||!n.products||!n.imageDictionary)return{};const r=a?{partNumber:e,carrierModel:a}:{partNumber:e},s=C().find(n.products,r)||{};return C().get(n.imageDictionary,s.image)},kf=(e,...t)=>{const a=bf[e];return a&&a.products?t.map((e=>(C().find(a.products,{partNumber:e})||{}).basePartNumber)):null},If=e=>{const t=bf[e];t.products=C().sortBy(t.products,(t=>((e,t)=>{const{displayValues:a,dimensionsVariations:n}=bf[t];return C().reduce(a.items,((t,a)=>{const r=C().get(a,"value.dimensionValue"),s=C().get(e,r),l=C().get(n,r,[]);return t+(C().find(l,{key:s})||{}).sortOrder}),0)})(t,e)))},Pf=(e,t)=>{var a,n;return a=t.config,n=t.family,bf[n]||(bf[n]={...a}),If(t.family),{...e,isInitialized:!0}},Lf=(e,t)=>{const a=bf[t.family],{products:n,displayValues:r,dimensionsVariations:s}=a;let l;if(t.part)bf[t.family]={...a,purchaseOption:t.purchaseOption},l=t.part;else{const a=Af(e.dimensions),{key:r,value:s}=t.selection,i={...a,[r]:s};l=Nf(i,e.dimensions,n)}const i={partNumber:l},{cppart:o}=e;o&&(i.carrierModel=o);const c=C().find(n,i),m=Sf(l,t.family,o),d=Cf(l,t.family);let u=((e,t,a,n,r)=>{const s=e.items.map((e=>({label:e.value.dimensionLabel,key:e.value.dimensionValue,showDisabledSelectors:e.value.showDisabledSelectors}))),l={partNumber:n};r&&(l.carrierModel=r);const i=C().find(a,l);return s.map(((e,n)=>({header:e.label,key:e.key,id:`pl-dim-${n}`,options:ff(e.key,t,a,i),modelMessage:C().get(window,"fulfillmentBootstrap.modelMessage",""),showDisabledSelectors:e.showDisabledSelectors})))})(r,s,n,l,o);return u=((e,t)=>e.map((a=>(a.options=a.options.map((n=>{const r={key:a.key,value:n.value},s=wf(r,e,!0),l=C().find(t,s);return{...n,enabled:!!l}})),a))))(u,n),{...e,dimensions:u,part:l,product:c,displayPrice:m,productImage:d}},Tf={isShown:!1,isInitialized:!1},Of=(e,t)=>{switch(t.type){case yf.PL_FILTER_INIT:return{...e,...Pf(e,t)};case yf.PL_FILTER_UPDATE:return{...e,...Lf(e,t)};case yf.PL_FILTER_SET_CPPART:return{...e,cppart:t.cppart};case yf.PL_FILTER_SET_PART:return{...e,part:t.part};case yf.PL_FILTER_SHOW:return{...e,isShown:!0};case yf.PL_FILTER_HIDE:return{...e,isShown:!1};default:return e}},Df=(e,t,a)=>{const n=(0,r.A)("productlocator/handleDeliveryData");if(t.deliveryMessage){const r=C().get(t,"deliveryMessage.errorMessage");if(r)n.debug(`ResponseError: ${r}`),a({type:yf.PL_FETCH_DELIVERY_ERROR,error:{isResponseError:!0,message:r}});else{let n=C().get(t,"deliveryMessage");n=((e,t)=>{const a={...e};return a.deliveryQuoteNorm=C().get(e,t),a.partNorm=t,a})(n,e["parts.0"]),a({type:yf.PL_FETCH_DELIVERY_SUCCESS,data:n})}}},xf={isFetching:!1,isFetched:!1,data:{},error:null},Mf=(e,t)=>{switch(t.type){case yf.PL_FETCH_DELIVERY_START:return{...e,isFetching:!0,isFetched:!1,error:null};case yf.PL_FETCH_DELIVERY_ERROR:return{...e,isFetching:!1,isFetched:!0,error:t.error,data:{}};case yf.PL_FETCH_DELIVERY_SUCCESS:return{...e,isFetching:!1,isFetched:!0,error:null,data:t.data};case yf.PL_CLEAR_DELIVERY_DATA:return xf;default:return e}},Ff=e=>C().sortBy(e,(e=>C().get(e,"partsAvailabilityNorm.messageTypes.regular.storeSelectionEnabled",!1)?-1:1)),Bf=(e,t)=>e.slice().map((e=>(t&&e.storeNumber===t&&C().get(e,"partsAvailabilityNorm.messageTypes.regular.storeSelectionEnabled",!1)?e.selected=!0:e.selected=!1,e))),Rf=e=>C().filter(e,(e=>C().get(e,"partsAvailabilityNorm.messageTypes.regular.storeSelectionEnabled",!1))).length,_f=(e,t,a,n,s)=>(l,i)=>{n&&l({type:yf.PL_FETCH_PICKUP_START}),s&&i({type:yf.PL_FETCH_DELIVERY_START});const o=(0,r.A)("productlocator/fetchFulfillmentData"),c=(0,Pa.hI)(gf(e,t));return c.then((e=>({pickupMessage:C().get(e,"body.content.pickupMessage"),deliveryMessage:C().get(e,"body.content.deliveryMessage")}))).then((e=>{if(n&&e.pickupMessage){const t=C().get(e,"pickupMessage.errorMessage");if(t)o.debug(`ResponseError: ${t}`),l({type:yf.PL_FETCH_PICKUP_ERROR,data:{location:C().get(e.pickupMessage,"location","")},error:{isResponseError:!0,message:t}});else{let t=e.pickupMessage,n=(e=>e.map((e=>{const t=C().get(e,"partsAvailability",{}),a=C().keys(t)[0];return e.partsAvailabilityNorm=C().get(t,a,{}),e})))(C().get(e,"pickupMessage.stores"));n=Ff(n),t.stores=Bf(n,a),t.availableStoreCount=Rf(n),0===t.availableStoreCount&&(t=(e=>{const t=C().get(e,"notAvailableNearby",""),a=e.stores||[],n=t.replace("[X]",a.length);return{...e,notAvailableNearby:n}})(t)),l({type:yf.PL_FETCH_PICKUP_SUCCESS,data:t})}}s&&e.deliveryMessage&&Df(t,e,i)})).catch((e=>{o.error(e),l({type:yf.PL_FETCH_PICKUP_ERROR,data:{},error:{isNetworkError:!0,message:e}}),i&&i({type:yf.PL_FETCH_DELIVERY_ERROR,error:{isNetworkError:!0,message:e}})})),c},$f={isFetching:!1,isFetched:!1,data:{},error:null,isShown:!0,isToggleBtnNeeded:!1},Hf=(e,t)=>{switch(t.type){case yf.PL_PICKUP_SHOW_TOGGLE:return{...e,isToggleBtnNeeded:!0,isShown:!1};case yf.PL_PICKUP_HIDE_TOGGLE:return{...e,isToggleBtnNeeded:!1,isShown:!0};case yf.PL_PICKUP_UPDATE_STORE_SELECTION:{const a=Bf(C().get(e,"data.stores",[]),t.selectedStore);return{...e,data:{...e.data,stores:a}}}case yf.PL_PICKUP_REMOVE_STORE_SELECTION:{const{stores:t}=e.data;if(t){const a=(e=>{const t=e.slice(),a=C().find(t,{selected:!0});return a&&(a.selected=!1),t})(t);return{...e,data:{...e.data,stores:a}}}return e}case yf.PL_FETCH_PICKUP_START:return{...e,isFetching:!0,isFetched:!1,error:null};case yf.PL_FETCH_PICKUP_ERROR:return{...e,isFetching:!1,isFetched:!0,error:t.error,data:t.data};case yf.PL_FETCH_PICKUP_SUCCESS:return{...e,isFetching:!1,isFetched:!0,error:null,data:t.data};case yf.PL_CLEAR_PICKUP_DATA:return $f;default:return e}},Kf=(e,t,a,n)=>{let r=[];return e.forEach((e=>{C().forEach(e.partsAvailability,((t,s)=>{const l=C().cloneDeep(e);l.partsAvailabilityNorm=t,l.selected=!1;let i=C().find(r,{part:s});i?i.stores.push(C().omit(l,"partsAvailability")):(i={stores:[]},i.part=s,i.displayPrice=Sf(s,a,n),i.productImage=Cf(s,a,n),i.productTitle=((e,t,a)=>{const n=bf[t];if(!n||!n.products)return null;const r=a?{partNumber:e,carrierModel:a}:{partNumber:e};return(C().find(n.products,r)||{}).productTitle})(s,a,n),i.isShown=!1,i.stores.push(C().omit(l,"partsAvailability")),r.push(i))}))})),t&&(r=C().sortBy(r,(e=>t.indexOf(e.part)))),r},Vf=(e,t,a)=>{const n=C().get(e,"PickupMessage.stores",[]),r=C().get(e,"PickupMessage.recommendedProducts");e.products=Kf(n,r,t,a);let s=C().omit(e,"PickupMessage");return s.products=s.products.map((e=>(e.stores=Ff(e.stores),e))),s=(e=>(e.products=e.products.map((t=>{const a=Rf(t.stores),n=a>1?e.availableStoresText:e.availableStoreText;return t.availabilityText=n&&n.replace("[X]",a),t})),e))(s),s},Uf={isFetching:!1,isFetched:!1,data:{},error:null},Wf=(e=Uf,t)=>{switch(t.type){case yf.PL_FETCH_SUGGESTIONS_START:return{...e,isFetching:!0,isFetched:!1,error:null};case yf.PL_FETCH_SUGGESTIONS_ERROR:return{...e,isFetching:!1,isFetched:!0,error:t.error,data:{}};case yf.PL_FETCH_SUGGESTIONS_SUCCESS:return{...e,isFetching:!1,isFetched:!0,error:null,data:t.data};case yf.PL_CLEAR_SUGGESTIONS_DATA:return Uf;case yf.PL_SUGGESTIONS_UPDATE_STORE_SELECTION:{const a=((e,t,a)=>e.slice().map((e=>{const n=C().find(e.stores,{selected:!0});if(n&&(n.selected=!1),e.part===t){const t=C().find(e.stores,{storeNumber:a});t&&(t.selected=!0)}return e})))(e.data.products,t.part,t.selectedStore);return{...e,data:{...e.data,products:a}}}case yf.PL_SUGGESTIONS_REMOVE_STORE_SELECTION:{const{products:t}=e.data;if(t){const a=(e=>e.slice().map((e=>{const t=C().find(e.stores,{selected:!0});return t&&(t.selected=!1),e})))(t);return{...e,data:{...e.data,products:a}}}return e}case yf.PL_SUGGESTIONS_SHOW_TOGGLE:{const{products:a}=e.data;if(a){const n=((e,t)=>e.slice().map((e=>(e.part===t&&(e.isShown=!e.isShown),e))))(a,t.part);return{...e,data:{...e.data,products:n}}}return e}default:return e}},Gf=window.asMetrics,{sendUserInteraction:jf=(()=>{}),util:qf={}}=window.asMetrics||{},{OmnitureCollection:Yf,OmnitureEvent:zf}=qf.omnitureCollection;let Zf,Jf="storeLocator";const Xf=(e,t)=>{const a=((e,t)=>{const a=bf[t],n=C().find(a.products,{partNumber:e})||{},{displayValues:r}=a,s={};return r.items.forEach((e=>{const t=C().get(e,"value.dimensionValue");Object.prototype.hasOwnProperty.call(n,t)&&(s[t]=n[t])})),s})(e,t)||{},n=C().toArray(C().omit(a,"carrierModel")).join(" > ").toUpperCase();Gf.fireMicroEvent({part:n,feature:Jf,eVar:"eVar6",action:"Selected"})},Qf={submitSelection:!1,isPickupSelected:!1,isDeliverySelected:!1,isSuggestionSelected:!1},eA=(e,t)=>{switch(t.type){case yf.PL_SELECTION_UPDATE:return{...e,...t.prop};case yf.PL_SELECTION_REMOVE:return{submitSelection:!1};case yf.PL_SELECTION_CLEAR:return Qf;default:return e}};let tA={isMetaReceived:!1,combinePickupWithMeta:!1,pickupDebounceInterval:300,metaRequest:{},pickupRequest:{searchNearby:!0},suggestionsRequest:{},deliveryRequest:{"mts.1":"compact"}};const aA=({fireRecommendations:e,params:t,location:a,family:n},s)=>{if(e){const e={...t};e["parts.0"]&&(e.product=e["parts.0"],delete e["parts.0"]),a&&(delete e.store,delete e.searchNearby),((e,t,a)=>n=>{const s=(0,r.A)("productlocator/suggestions-reducer/fetchSuggestionsData");n({type:yf.PL_FETCH_SUGGESTIONS_START});const l=(0,Pa.hI)(gf(e,t));return l.then((e=>{if(e.body){const r=C().get(e,"body.PickupMessage.errorMessage")||e.body.errorMessage;r?(s.debug(`ResponseError: ${r}`),n({type:yf.PL_FETCH_SUGGESTIONS_ERROR,error:{isResponseError:!0,message:r}})):(e.body=Vf(e.body,a,t.cppart),n({type:yf.PL_FETCH_SUGGESTIONS_SUCCESS,data:e.body}))}else s.debug("ResponseError: No response data"),n({type:yf.PL_FETCH_SUGGESTIONS_ERROR,error:{isResponseError:!0}})})).catch((e=>{s.error(e),n({type:yf.PL_FETCH_SUGGESTIONS_ERROR,error:{isNetworkError:!0,message:e}})})),l})(tA.suggestionsURL,e,n)(s).then((e=>{((e,t,a)=>{let n=C().map(e,(e=>e.part));n=kf(a,...n);const r=['D=pageName+"',"",Jf,"Recommended",`${n}"`].join("|"),s=['D=pageName+"',"",Jf,'No Availaibility"'].join("|"),l=new Yf(new zf("event127"));let i={eVar6:r,eVar5:s};t&&(i={...i,events:l}),jf({name:Jf,beacon:i})})(C().get(e,"body.products",[]),a,n)}))}},nA=({response:e,params:t,location:a,isDeliverySelected:n,fireRecommendations:r,family:s},l,i,o)=>{const c=C().get(e,"body.availableStoreCount");if(0===c?(l({type:yf.PL_PICKUP_SHOW_TOGGLE}),aA({params:t,fireRecommendations:r,location:a,family:s},i)):(l({type:yf.PL_PICKUP_HIDE_TOGGLE}),i({type:yf.PL_CLEAR_SUGGESTIONS_DATA}),((e,t)=>{const a=new Yf(new zf("event127")),n=['D=pageName+"',"",Jf,"APU",`${e}"`].join("|");t?jf({name:Jf,beacon:{events:a,eVar6:n}}):Gf.fireMicroEvent({part:"APU",feature:Jf,eVar:"eVar6",action:e})})(c,a)),!n){const a=C().find(C().get(e,"body.stores"),{storeNumber:t.store}),n=C().get(a,"partsAvailabilityNorm.messageTypes.regular.storeSelectionEnabled",!1);o({type:yf.PL_SELECTION_UPDATE,prop:{part:t["parts.0"],isPickupSelected:n,isDeliverySelected:!1,isSuggestionSelected:!1}})}},rA=({part:e,family:t,location:a,isDeliverySelected:n,needsDeliveryData:r,fireRecommendations:s},l,i,o,c)=>{const m={...tA.pickupRequest},d={...tA.deliveryRequest};e&&(tA.pickupRequest["parts.0"]=e,m["parts.0"]=e,d["parts.0"]=e),a&&(tA.pickupRequest.location=a),tA.pickupRequest.location&&(m.location=tA.pickupRequest.location),m.location&&(delete m.store,delete m.searchNearby);const u=m.location||m.store,p={"mts.0":"regular",...r?d:{},...u?m:{}};(u||r)&&_f(tA.pickupURL,p,n?null:tA.pickupRequest.store,u,r)(l,c).then((e=>({body:C().get(e,"body.content.pickupMessage")}))).then((c=>{u&&nA({response:c,params:{...p,store:tA.pickupRequest.store},location:a,isDeliverySelected:n,fireRecommendations:s,family:t},l,i,o),r&&n&&o({type:yf.PL_SELECTION_UPDATE,prop:{part:e,isPickupSelected:!1,isDeliverySelected:!0,isSuggestionSelected:!1}})}))},sA=e=>{e&&(tA.pickupRequest.cppart=e,tA.deliveryRequest.cppart=e)},lA=({bootstrap:e,part:t,storeId:n,visible:r,onStoreChange:s,cppart:l,preventClearOnSave:i,stickyTrigger:o})=>{tA={...tA,...e};const[c,m]=a().useReducer(Ef,hf),[d,u]=a().useReducer(Of,Tf),[p,g]=a().useReducer(Hf,$f),[y,v]=a().useReducer(Mf,xf),[h,E]=a().useReducer(Wf,Uf),[b,f]=a().useReducer(eA,Qf),[A,w]=a().useState(""),[N,S]=a().useState(),k=C().get(tA,"fireRecommendationsAvailability",!1)||!C().get(c,"data.hideRecommendations",!0),I=C().get(d,"cppart")||C().get(d,"product.carrierModel"),{isDeliverySelected:P}=b,L=a().useRef(null),T=a().useRef(!0);a().useEffect((()=>{e.family&&(tA.metaRequest.family=e.family,tA.metaRequest.node=e.node,((e,t,a)=>{vf(tA.metaURL,tA.metaRequest,tA.errorMessage)(e).then((e=>{const n=C().get(e,"body.productLocatorOverlayData.productLocatorMeta");n&&a({type:yf.PL_FILTER_INIT,config:{...n},family:t})}))})(m,e.family,u))}),[]),a().useEffect((()=>{u({type:yf.PL_FILTER_SET_CPPART,cppart:l}),sA(l)}),[l]),a().useEffect((()=>{var a,s;r&&t&&d.isInitialized&&(tA.part=t,a=u,s=e.family,tA.part&&a({type:yf.PL_FILTER_UPDATE,part:tA.part,purchaseOption:tA.purchaseOptionType,family:s}),f({type:yf.PL_SELECTION_CLEAR}),tA.pickupRequest.store=n,((e,t)=>{Zf=e,Jf=t?"storeLocator - sticky":"storeLocator"})(t,o),((e,t)=>{const a=new Yf(new zf("event29"));e?a.add(new zf("event32")):a.add(new zf("event31"));const n=['D=pageName+"',"",Jf,"",(e?"See more stores":"Check availability")+'"'].join("|"),r=t.substring(0,5);jf({name:Jf,beacon:{linkTrackVars:"eVar67,prop37,events",linkTrackEvents:a,events:a,prop37:n,eVar67:r}})})(n,t))}),[r,t,d.isInitialized,n,e.family]),a().useEffect((()=>{d.part&&(tA.part=d.part,sA(I),rA({part:d.part,family:e.family,fireRecommendations:k,isDeliverySelected:P,needsDeliveryData:!0},g,E,f,v),T.current?T.current=!1:Xf(d.part,e.family))}),[d.part,k,I,e.family]);const O=()=>{u({type:yf.PL_FILTER_HIDE}),g({type:yf.PL_CLEAR_PICKUP_DATA}),v({type:yf.PL_CLEAR_DELIVERY_DATA}),E({type:yf.PL_CLEAR_SUGGESTIONS_DATA}),u({type:yf.PL_FILTER_SET_PART,part:null}),S(),tA.pickupRequest={searchNearby:!0},T.current=!0};return{metaState:c,filterState:d,pickupState:p,deliveryState:y,suggestionsState:h,selectionState:b,store:A,inputRef:L,localLocation:N,setLocalLocation:S,handleFormSubmit:t=>{t.search&&rA({location:t.search,fireRecommendations:k,family:e.family},g,E,f)},handleInputBlur:e=>{tA.pickupRequest.location=e},handleDimensionChange:(e,t,a)=>{L.current&&""===tA.pickupRequest.location?L.current.focus():u({type:yf.PL_FILTER_UPDATE,selection:{key:e,value:t},family:a})},handleStoreChange:(e,t)=>{tA.pickupRequest.store=e,w(e),E({type:yf.PL_SUGGESTIONS_REMOVE_STORE_SELECTION}),g({type:yf.PL_PICKUP_UPDATE_STORE_SELECTION,selectedStore:e}),f({type:yf.PL_SELECTION_UPDATE,prop:{store:e,part:t,isPickupSelected:!0,isDeliverySelected:!1,isSuggestionSelected:!1}})},handleDeliverySelection:e=>{g({type:yf.PL_PICKUP_REMOVE_STORE_SELECTION}),E({type:yf.PL_SUGGESTIONS_REMOVE_STORE_SELECTION}),f({type:yf.PL_SELECTION_UPDATE,prop:{part:e,store:null,isPickupSelected:!1,isDeliverySelected:!0,isSuggestionSelected:!1}})},handleSuggestionsToggle:e=>{E({type:yf.PL_SUGGESTIONS_SHOW_TOGGLE,part:e})},handleSuggestionStoreChange:(e,t)=>{g({type:yf.PL_PICKUP_REMOVE_STORE_SELECTION}),E({type:yf.PL_SUGGESTIONS_UPDATE_STORE_SELECTION,part:t,selectedStore:e}),f({type:yf.PL_SELECTION_UPDATE,prop:{store:e,part:t,isDeliverySelected:!1,isSuggestionSelected:!0}})},handleSaveSelection:()=>{f({type:yf.PL_SELECTION_UPDATE,prop:{submitSelection:!0}}),((e={},t)=>{const a=kf(t,e.part),n=e.isDeliverySelected?"STH":"APU",r=new Yf(new zf("event128")),s=['D=pageName+"',"",Jf,"Continue",`${n}"`].join("|"),l=a[0];e.part!==Zf&&(e.isSuggestionSelected?r.add(new zf("event130")):r.add(new zf("event129"))),jf({name:Jf,beacon:{events:r,eVar6:s,eVar67:l}})})(b,e.family),s&&s({...b,submitSelection:!0}),i||O()},clearOverlayData:O}},iA="search",oA=({fieldData:e,form:t,inputProps:n,setOptions:r,onInputBlur:s,inputRef:l,resetA11yText:i,errorMessageId:o=""})=>a().createElement(a().Fragment,null,a().createElement("label",{className:"visuallyhidden",htmlFor:iA},e.searchPlaceholder),a().createElement(ki.A,(0,Ie.A)({type:"text","data-autom":"zipCode",classes:{input:"rf-productlocator-form-textinput"},name:iA,search:!0,placeholder:e.searchPlaceholder,autoComplete:"off",maxLength:e.maxlength,value:t.values[iA],onChange:t.handleChange,error:t.touched[iA]&&t.errors[iA],onReset:()=>{t.setFieldValue(iA,""),r([]);const e=l||n.ref;e&&e.current.focus()},resetA11y:i,ref:l},n,{onBlur:e=>{n?(n.onBlur(),s(n.value)):s(t.values[iA]),t.handleBlur(e)},"aria-describedby":o}))),cA=({onSubmit:e,fieldData:t,consent:n,classes:s={},inputValue:l,onInputBlur:i,inputRef:o,errorMessageId:c})=>{const{initialValues:m,validationSchema:d}=a().useMemo((()=>((e,t)=>{const a={[iA]:t||""},n={};return n[iA]=[],n[iA].push({type:"required",message:e.requiredError}),e.isAutoCompleteEnabled||n[iA].push({type:"regEx",regEx:e.required?[e.pattern]:[e.pattern,"^$"],message:e.invalidFormatError}),{initialValues:a,validationSchema:n}})(t,l)),[t,l]),{isAutoCompleteEnabled:u}=t,[p,g]=a().useState([]),[y,v]=(({autoCompleteChoiceAllyTxt:e,autoCompleteChoicesAllyTxt:t})=>{const[n,r]=a().useState(),s=a().useRef();return a().useEffect((()=>{n&&(s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{r()}),400))}),[n]),[n,a=>{1===a&&e&&r(`${a} ${e}`),(0===a||a>1&&t)&&r(`${a} ${t}`),n&&r(null)}]})(t),h=yc({initialValues:m,validationSchema:d,onSubmit:e}),{consent:E,handleChange:b,showConsent:f}=n.cookieCompliance||{};a().useEffect((()=>{h.resetForm(),h.setValues(m)}),[m]);const{assets:A}=(0,Y.S)(),w=C().get(A,"reset");return a().createElement("div",{className:Z()("rf-productlocator-search",s.search)},a().createElement("form",{className:"rf-productlocator-form",onSubmit:h.handleSubmit},a().createElement("div",{className:"field-wrapper",key:iA},u?a().createElement(a().Fragment,null,a().createElement(Rd.A,{value:h.values[iA],onChange:e=>{const a=(0,r.A)("productlocator/SearchForm/onChange");h.setFieldValue(iA,e.target.value),(0,Pa.hI)(gf(t.autoCompleteUrl,{value:e.target.value})).then((e=>{const t=C().get(e,"body.matches",[]);g(t),v(t.length)})).catch((e=>a.error(e)))},onSelection:t=>{h.setFieldValue(iA,t),e({[iA]:t})},options:p,getPosition:e=>e?{width:e.width,left:0}:{},renderInput:e=>{const n={...e,ref:o};return a().createElement(oA,{fieldData:t,form:h,inputProps:n,setOptions:g,onInputBlur:i,resetA11yText:w,errorMessageId:c})},classes:{root:"rf-productlocator-autocomplete"}}),y&&a().createElement(J.Ay,{message:y})):a().createElement(oA,{fieldData:t,form:h,setOptions:g,onInputBlur:i,inputRef:o,resetA11yText:w,errorMessageId:c})),f?a().createElement(df,{consent:E,handleChange:b,label:n.label}):null))};cA.displayName="SearchForm";const mA=cA;var dA=__webpack_require__(8294);const uA=({onSubmit:e,fieldData:t,consent:n,classes:r={},inputRef:s,pickup:l,localLocation:i,onLocalLocationChange:o})=>{const[c,m]=a().useState(!1),d=a().useRef(!1),{showingOptionsLabel:u,selectLocationLabel:p,provinceSelectorTabs:g,addressLookupUrl:y}=t,v=a().useMemo((()=>{const e=g.map((e=>e.name));return g.map(((t,a)=>({...t,update:e.slice(a+1)})))}),[g]),h=(0,dA.vH)({addressLookupUrl:y,provinceSelectorTabs:v,onChange:(t,a)=>{m(!1),e({search:t}),o(C().get(a,"city"))}}),{consent:E,handleChange:b,showConsent:f}=n.cookieCompliance||{},A=(e=>C().get(e,"data.locationLabel")||C().get(e,"data.location"))(l),w=i||A;return a().createElement("div",{className:Z()("rf-productlocator-search-province-selector",r.search)},a().createElement("form",{className:"rf-productlocator-province-selector-form"},w&&a().createElement("span",null,u),a().createElement("button",{type:"button",className:Z()(r.button,"rf-productlocator-province-selector-button","icon","icon-after",{"icon-chevrondown":!c,"icon-chevronup":c}),onClick:()=>{m(!c),c||(d.current=!0)},ref:s,"aria-expanded":c},w||p),a().createElement("div",{className:"column large-12 small-12"},a().createElement(j.x,{in:c},f?a().createElement(df,{consent:E,handleChange:b,label:n.label}):null,d.current&&a().createElement(dA.Ay,{activeTab:h.activeTab,onTabChange:h.setActiveTab,selection:h.selection,onSelection:h.handleSelection,tabs:h.tabs,desktopColumns:2,mobileColumns:2})))))},pA=({className:e,text:t,...n})=>a().createElement("span",(0,Ie.A)({className:Z()("rf-pickup-recommended-violator",ra.A.CAPTION,e)},(0,Le.OH)(t),n)),gA=({stores:e,handleStoreChange:t,legend:n=""})=>a().createElement("div",{className:"rf-productlocator-stores"},a().createElement(Pm,{name:"store",legend:n},e&&e.map(((e,n)=>a().createElement(nc.Ay,(0,Ie.A)({key:e.storeNumber,name:`store-${e.partsAvailabilityNorm.partNumber}`,value:e.storeNumber,checked:e.selected,withAriaLabeledBy:!0,"data-pl-partnumber":e.partsAvailabilityNorm.partNumber,disabled:!C().get(e,"partsAvailabilityNorm.messageTypes.regular.storeSelectionEnabled",!1)},rc((a=>t(a,e.partsAvailabilityNorm.partNumber)),!0),{className:Z()("rf-productlocator-storeoption","form-selector-twocol-threeline",{disabled:!C().get(e,"partsAvailabilityNorm.messageTypes.regular.storeSelectionEnabled",!1)}),tagAttrs:{"data-autom":`pickupStore_${n}`},render:({SelectorLabel:t})=>a().createElement(a().Fragment,null,a().createElement(t,null,a().createElement("span",{className:"row"},a().createElement("span",{className:Z()("form-selector-left-col","column","large-6")},e.recommendationLabel&&a().createElement(pA,{text:e.recommendationLabel}),a().createElement(Dm,{text:e.address.address}),a().createElement(Om,{text:e.state?`${e.city}, ${e.state}`:e.city}),a().createElement(Om,{text:e.storeDistanceWithUnit})),a().createElement("span",{className:Z()("form-selector-right-col","column","large-6")},a().createElement("span",(0,Le.OH)(e.partsAvailabilityNorm.pickupSearchQuote)),e.partsAvailabilityNorm.pickupType&&a().createElement(Om,{text:e.partsAvailabilityNorm.pickupType})))),a().createElement(j.x,{in:e.selected},a().createElement("div",{className:"rf-productlocator-storedetails",id:`${e.partsAvailabilityNorm.partNumber}-${e.storeNumber}-details`},a().createElement("div",null,e.address&&a().createElement("span",(0,Ie.A)({className:"rf-productlocator-storename row"},(0,Le.OH)(e.address.address2))),a().createElement("span",{className:"rf-productlocator-storeaddress row"},e.state?`${e.city}, ${e.state}`:`${e.city}`),e.address&&e.address.postalCode&&a().createElement("span",(0,Ie.A)({className:"row"},(0,Le.OH)(e.address.postalCode))),e.storeHours&&a().createElement("div",{className:"rf-productlocator-storehours"},a().createElement("span",{className:"visuallyhidden"},e.storeHours.storeHoursText),e.storeHours.hours&&e.storeHours.hours.map((t=>a().createElement("div",{key:`${e.storeNumber}-${t.storeDays}`,className:"rf-productlocator-storehours-row"},a().createElement("span",(0,Ie.A)({className:"rf-productlocator-storehoursdays"},(0,Le.OH)(t.storeDays))),a().createElement("span",(0,Ie.A)({className:"rf-productlocator-storehourstiming"},(0,Le.OH)(t.storeTimings)))))),e.specialHours&&e.specialHours.specialHoursData&&a().createElement("div",{className:"rf-productlocator-specialhours"},a().createElement("p",(0,Le.OH)(e.specialHours.specialHoursText)),e.specialHours.specialHoursData.map((t=>a().createElement("div",{key:`${e.storeNumber}-${t.specialDays}`,className:"rf-productlocator-storehours-row"},a().createElement("span",(0,Ie.A)({className:"rf-productlocator-storehoursdays"},(0,Le.OH)(t.specialDays))),a().createElement("span",(0,Ie.A)({className:"rf-productlocator-storehourstiming"},(0,Le.OH)(t.specialTimings))))))))),e.pickupOptionsDetails&&a().createElement("div",{className:Z()("rf-productlocator-pickupdetails",ra.A.CAPTION)},a().createElement("div",(0,Le.OH)(e.pickupOptionsDetails.whatToExpectAtPickup)),e.pickupOptionsDetails.pickupOptions&&e.pickupOptionsDetails.pickupOptions.map((e=>a().createElement("ul",{key:e.index,className:"form-selector-group"},a().createElement("li",{className:"rf-productlocator-pickupoption"},a().createElement("div",(0,Le.OH)(e.pickupOptionTitle)),a().createElement("div",(0,Le.OH)(e.pickupOptionDescription)))))),a().createElement("div",(0,Le.OH)(e.pickupOptionsDetails.comparePickupOptionsLink))))))}))))));gA.displayName=gA;const yA=gA,vA=({pickup:e,localLocation:t,handleStoreChange:n,assets:r,errorMessageId:s})=>{const[l,i]=a().useState(!1),{pickupHeader:o,pickupHeaderNear:c,coldStartPickupInfo:m}=r,d=C().get(e,"data.stores"),u=C().get(e,"data.availability.isComingSoon",!1),p=t||(e=>C().get(e,"data.locationLabel")||C().get(e,"data.location"))(e),g=C().get(e,"data.legendLabelText",""),y=a().createElement("span",(0,Ie.A)({className:"visuallyhidden"},(0,Le.OH)(g)));return a().createElement(a().Fragment,null,a().createElement("div",{className:"rf-productlocator-pickuploctionheader"},p?a().createElement("h3",null,c," ",p):a().createElement("h3",null,o),e.isFetched?"":a().createElement("div",(0,Ie.A)({className:"rf-productlocator-pickupinfo"},(0,Le.OH)(m)))),e.isFetched&&!u&&a().createElement("div",{className:Z()("rf-productlocator-pickupstoreslist",{"rf-productlocator-nopickupstores":e.isToggleBtnNeeded,"rf-productlocator-togglebtn-open":l})},e.isToggleBtnNeeded?a().createElement(a().Fragment,null,a().createElement("button",{type:"button",className:Z()("rf-productlocator-nopickupstores-btn as-buttonlink",ra.A.BODY_REDUCED),"aria-expanded":l,onClick:()=>i(!l)},a().createElement("span",(0,Ie.A)({className:"rf-productlocator-buttontitle"},(0,Le.OH)(d&&d.length>1?e.data.notAvailableNearby:e.data.notAvailableNearOneStore))),a().createElement("span",{className:"icon icon-after icon-chevrondown rf-productlocator-buttonicon"})),a().createElement(j.x,{in:l,className:"rf-productlocator-notavailablestores"},a().createElement(yA,{stores:d,handleStoreChange:n,legend:y}))):a().createElement(a().Fragment,null,e.error&&a().createElement("div",{className:Z()("rf-productlocator-errormsg",ra.A.BODY_REDUCED,"is-error"),id:s},a().createElement(ul.A,{error:e.error.message})),a().createElement(yA,{stores:d,handleStoreChange:n,legend:y}))),e.isFetched&&u&&a().createElement("div",(0,Ie.A)({className:"rf-productlocator-pickupinfo rf-productlocator-comingsoon"},(0,Le.OH)(C().get(e,"data.availability.comingSoonText","")))))};vA.displayName="ProductLocatorPickup";const hA=vA,EA=({delivery:e,selected:t,handleDeliverySelection:n})=>{const{deliveryQuoteNorm:r,partNorm:s}=e,l=C().get(r,"compact.label",""),i=C().get(r,"compact.quote",""),o=C().get(r,"compact.isBuyable",!0);return r?a().createElement("div",{className:"rf-productlocator-deliveryquotes"},a().createElement(Tm,{name:"delivery",value:s,checked:t,tag:"div",disabled:!o,className:"rf-productlocator-deliveryquotesoption",skipChangeSelection:!0,handleChange:n,render:({SelectorLabel:e})=>a().createElement(e,null,a().createElement("span",{className:"row"},a().createElement("span",{className:Z()("form-selector-left-col","column","large-12","small-12")},a().createElement(Dm,{text:`${l} ${i}`}))))})):""};EA.displayName="Delivery";const bA=EA,fA=({suggestions:e,assets:t,handleSuggestionStoreChange:n,handleSuggestionsToggle:r})=>{const{recommendationSectionHeader:s,errorMessage:l}=t,{isFetching:i,isFetched:o,data:c,error:m}=e,d=C().get(c,"products",[]),u=0===d.length;return a().createElement("div",{className:"rf-productlocator-suggestions"},a().createElement("div",{className:"rf-productlocator-suggestionheader"},a().createElement("h3",null,s)),i&&a().createElement("div",{className:"column large-12 small-12 rf-pickupinfo-spinner"},a().createElement("div",{role:"img",tabIndex:-1,className:"waitindicator waitindicator40-blue","aria-label":"loading"})),o&&a().createElement("div",{className:Z()("rf-productlocator-suggestionitems",{"rf-productlocator-nosuggestionitems":u})},m&&a().createElement("div",(0,Ie.A)({className:"rf-productlocator-errormsg is-error"},(0,Le.OH)(m.isResponseError?m.message:l))),u?a().createElement("div",(0,Ie.A)({className:Z()("rf-productlocator-suggestions-nosimilarmodels",ra.A.BODY_REDUCED)},(0,Le.OH)(c.noSimilarModelsText))):d.map(((e,t)=>{const{part:s,productImage:l,productTitle:i,displayPrice:o,availabilityText:c,stores:m}=e;return a().createElement("div",{className:"rf-productlocator-suggestionitem","data-autom":`productLocator-suggestions-${t}`,key:s},a().createElement("div",{className:"rf-productlocator-productdetails"},l&&a().createElement("div",{className:"rf-productlocator-productimg"},a().createElement("img",{src:l.srcSet.src,className:"ir",alt:l.alt?l.alt:"",width:l.width,height:l.height})),a().createElement("div",{className:Z()("rf-productlocator-productinfo",{"rf-productlocator-togglebtn-open":e.isShown})},a().createElement("button",{type:"button",className:"rf-productlocator-suggestionstogglebtn",onClick:()=>r(s)},a().createElement("span",{className:"rf-productlocator-togglebtn-content"},a().createElement("span",{className:ra.A.BODY_REDUCED},i),a().createElement("span",(0,Ie.A)({className:Z()("rf-productlocator-productprice",ra.A.BODY_REDUCED)},(0,Le.OH)(o))),a().createElement("span",{className:Z()("rf-productlocator-suggestionsstoresbtn",ra.A.CAPTION)},c)),a().createElement("span",{className:"icon icon-after icon-chevrondown rf-productlocator-buttonicon"})))),a().createElement(j.A,{in:e.isShown,className:"rf-productlocator-suggestionoptions"},a().createElement(yA,{stores:m,handleStoreChange:e=>n(e,s)})))}))))};fA.displayName="Suggestions";const AA=fA,wA=({state:e,onDimensionChange:t})=>{const n=C().get(e,"dimensions",[]),r=e=>e.showDisabledSelectors?e.options:e.options.filter((e=>e.enabled));return n.map((e=>"carrierModel"!==e.key&&a().createElement("div",{key:e.key,className:"rf-productlocator-filter-dimension"},e.header&&a().createElement("h3",(0,Ie.A)({className:Z()("rf-productlocator-filter-dimensionlabel",ra.A.BODY)},(0,Le.OH)(e.header))),"dimensionColor"===e.key?a().createElement(km,{name:"color",legend:a().createElement("span",(0,Ie.A)({className:"visuallyhidden"},(0,Le.OH)(e.header))),className:"rf-productlocator-filter-dimensiongroup"},r(e).map((n=>{const r={...n.image,alt:""};return a().createElement(Im,{key:n.value,name:"pl_dimensionColor",value:n.value,checked:n.selected,image:r,text:n.label,isProductRed:"product_red"===n.value,skipChangeSelection:!0,handleChange:a=>t(e.key,a)})}))):a().createElement(Pm,{name:e.key,legend:a().createElement("span",(0,Ie.A)({className:"visuallyhidden"},(0,Le.OH)("dimensionConnection"!==e.key?e.header:C().get(e,"modelMessage")))),className:"rf-productlocator-filter-dimensiongroup",withGutters:!0},r(e).map((n=>a().createElement(Lm,{key:n.value,name:`pl_${e.key}`,value:n.value,checked:n.selected,disabled:!n.enabled,className:"rf-productlocator-filteroption",itemsPerRowLarge:"dimensionConnection"===e.key||"dimensionPackQty"===e.key||"dimensionScreensize"===e.key||"dimensionFinish"===e.key||"dimensionStandType"===e.key?1:3===r(e).length?3:2,itemsPerRowSmall:"dimensionConnection"===e.key||"dimensionPackQty"===e.key||"dimensionScreensize"===e.key||"dimensionFinish"===e.key||"dimensionStandType"===e.key?1:2,skipChangeSelection:!0,handleChange:a=>t(e.key,a)},a().createElement(Om,{text:n.label}))))))))},NA=({ariaLabel:e,entered:t})=>{const n=a().useRef(null),r=a().useRef(null);return a().useEffect((()=>(t&&(r.current=document.activeElement,n.current&&n.current.focus()),()=>{r.current&&window.setTimeout((()=>{r.current.focus()}),0)})),[t]),a().createElement("div",{className:"column large-12 small-12 rf-pickupinfo-spinner"},a().createElement("div",{ref:n,role:"img",tabIndex:-1,className:"waitindicator waitindicator40-blue","aria-label":e}))};NA.displayName="Loader";const SA=NA,CA=({bootstrap:e,part:t,storeId:n,visible:r,consent:s,isSaving:l,onClose:i,onStoreChange:o,cppart:c,onMetaInitialized:m=C().noop,preventClearOnSave:d,stickyTrigger:u=!1})=>{const p=lA({bootstrap:e,visible:r,part:t,storeId:n,onStoreChange:o,cppart:c,preventClearOnSave:d,stickyTrigger:u}),{viewport:g}=(0,Y.S)(),[y,v]=a().useState(!1),[h,E]=a().useState(!1),[b,f]=(0,J.oM)({resetDelay:4e3}),A=a().useId(),{metaState:w={},filterState:N={},pickupState:S,deliveryState:k,suggestionsState:I,selectionState:P={},inputRef:L,localLocation:T,setLocalLocation:O,handleDimensionChange:D,handleStoreChange:x,handleDeliverySelection:M,handleFormSubmit:F,handleInputBlur:B,handleSuggestionsToggle:R,handleSuggestionStoreChange:_,handleSaveSelection:$,clearOverlayData:H}=p,K="small"===g,{data:V={},error:U,isFetched:W,isFetching:G}=w,{overlayHeader:q,search:z,assets:X={}}=V,{deliveryHeader:Q,storeSelectionButtonText:ee,filterButtonText:te,footer:ae}=X,ne=C().get(S,"data.location"),{displayPrice:re,productImage:se,product:le={}}=N,{part:ie,isPickupSelected:oe,isDeliverySelected:ce,isSuggestionSelected:me}=P,de=Boolean(ie)&&(oe||ce||me),ue=C().get(w,"data.displayableDimensionVariants"),pe=ue&&ue.size,ge=ue&&ue.items.some((e=>"dimensionColor"===e.value)),{provinceSelector:ye,showingOptionsLabel:ve,selectLocationLabel:he,provinceSelectorTabs:Ee,addressLookupUrl:be,resultVoText:fe,resultsVoText:Ae}=e,we=C().get(S,"data.stores",[]),Ne=C().get(S,"isFetched",""),Se=C().get(S,"data.availability.isComingSoon",!1),Ce=we.length,ke=1===Ce?fe:Ae;return a().useEffect((()=>{W&&m()}),[W,U,m]),a().useEffect((()=>{f(`${Ce} ${ke}`)}),[Ne]),a().createElement(Ke.A,{visible:r,classes:{root:"rf-productlocator-overlay",content:Z()("rf-productlocator-overlay-content",{"rf-productlocator-overlay-comingsoon":Se})},fixedWidth:!0,noPadding:!0,appear:!0,ariaLabel:"rf-productlocator-overlay-label",onClose:()=>{i(),Gf.fireMicroEvent({feature:Jf,eVar:"eVar6",action:"Close"}),H(),E(!1)},onEntered:()=>v(!0),onExited:()=>v(!1)},G&&a().createElement(SA,{ariaLabel:"loading",entered:y}),Ne&&Ce>0&&a().createElement(J.Ay,{message:b}),W&&(C().isEmpty(U)?a().createElement(a().Fragment,null,a().createElement("div",{className:"rf-productlocator-header"},a().createElement("h2",(0,Ie.A)({id:"rf-productlocator-overlay-label"},(0,Le.OH)(q))),r&&K&&z&&a().createElement(a().Fragment,null,ye?a().createElement(uA,{fieldData:{showingOptionsLabel:ve,selectLocationLabel:he,provinceSelectorTabs:Ee,addressLookupUrl:be},onSubmit:F,onInputBlur:B,pickup:S,inputRef:L,consent:s,localLocation:T,onLocalLocationChange:O}):a().createElement(mA,{fieldData:z,onSubmit:F,onInputBlur:B,inputValue:ne,inputRef:L,consent:s,errorMessageId:A}))),a().createElement("div",{className:"row"},a().createElement("div",{className:Z()("column","large-5","small-12","rf-productlocator-column",{"rf-productlocator-hidedimensions":1===pe&&ge,"rf-productlocator-filter-scrollable":!K})},r&&!K&&z&&a().createElement(a().Fragment,null,ye?a().createElement(uA,{fieldData:{showingOptionsLabel:ve,selectLocationLabel:he,provinceSelectorTabs:Ee,addressLookupUrl:be},onSubmit:F,onInputBlur:B,pickup:S,inputRef:L,consent:s,localLocation:T,onLocalLocationChange:O,classes:{search:"column large-12 small-12"}}):a().createElement(mA,{fieldData:z,onSubmit:F,onInputBlur:B,inputValue:ne,inputRef:L,consent:s,errorMessageId:A})),a().createElement("div",{className:Z()("rf-productlocator-filter",ra.A.CAPTION)},K?a().createElement(a().Fragment,null,a().createElement("button",{type:"button",className:Z()("rf-productlocator-filterbtn",ra.A.BODY_REDUCED,{"rf-productlocator-filterbtn-show":h}),onClick:()=>{E(!h),(e=>{const t=e?"Check availability of another device - open":"Check availability of another device - close";Gf.fireMicroEvent({part:"Link",feature:Jf,eVar:"eVar6",action:t})})(!h)}},a().createElement("span",{className:"icon icon-after icon-chevrondown"},te)),a().createElement(j.A,{in:h,className:"rf-productlocator-filtercontent"},a().createElement(wA,{state:N,onDimensionChange:(t,a)=>D(t,a,e.family)}))):a().createElement(wA,{state:N,onDimensionChange:(t,a)=>D(t,a,e.family)}))),a().createElement("div",{className:Z()("column","large-7","small-12","rf-productlocator-column",{"rf-productlocator-ispickuploading":S.isFetching})},a().createElement("div",{className:Z()("rf-productlocator-options",{"rf-productlocator-scrollable":!K})},S.isFetching&&a().createElement(SA,{ariaLabel:"loading",entered:y}),a().createElement("div",{className:"rf-productlocator-main"},a().createElement("div",{className:"rf-productlocator-productdetails"},a().createElement("div",{className:"rf-productlocator-productimg"},se&&a().createElement(kt.Ay,{data:se})),a().createElement("div",{className:"rf-productlocator-productinfo"},a().createElement("div",{className:ra.A.BODY_TIGHT},le.productTitle),a().createElement("div",(0,Ie.A)({className:Z()("rf-productlocator-productprice",ra.A.BODY)},(0,Le.OH)(re))))),a().createElement("div",{className:"rf-productlocator-maincontent"},!S.isFetching&&a().createElement(a().Fragment,null,a().createElement(hA,{pickup:S,localLocation:T,handleStoreChange:x,assets:X,errorMessageId:A}),k.data&&!k.error&&a().createElement(a().Fragment,null,a().createElement("div",{className:"rf-productlocator-deliveryheader"},a().createElement("h3",null,Q)),a().createElement(bA,{delivery:k.data,handleDeliverySelection:M,selected:P.isDeliverySelected}))))),S.isToggleBtnNeeded&&!Se&&a().createElement(AA,{suggestions:I,handleSuggestionsToggle:R,handleSuggestionStoreChange:_,assets:X}),a().createElement("div",(0,Ie.A)({className:Z()("rf-productlocator-footer",ra.A.CAPTION)},(0,Le.OH)(ae)))),a().createElement("div",{className:"rf-productlocator-sticky"},a().createElement(Wt.A,{className:Z()("button","button-block","rf-productlocator-selectstorebtn",{disabled:!de}),"data-autom":"continuePickUp",disabled:!de||l,type:"button",isLoading:l,onClick:()=>$()},ee))))):a().createElement("div",(0,Ie.A)({className:"rf-productlocator-error"},(0,Le.OH)(U.message)))))},kA=({bootstrap:e,...t})=>e&&e.metaURL?a().createElement(CA,(0,Ie.A)({bootstrap:e},t)):null;kA.displayName="ProductLocatorOverlay";const IA=kA,PA=({onChangeModelClick:e,changeModelButtonLabel:t,changeModelOverlay:n,showChangeFamilyOverlay:r,onChangeFamilyClick:s,changeFamilyButtonLabel:l,changeFamilyOverlay:i})=>a().createElement("div",{className:"rs-iteminfo-changeproduct"},t&&a().createElement("button",{onClick:e,className:"rs-iteminfo-changeproduct-link as-buttonlink more",type:"button"},t),r&&a().createElement("button",{onClick:s,className:"rs-iteminfo-changeproduct-link as-buttonlink more",type:"button"},l),n,r&&i),LA=()=>{const{modKey:e}=Fl(),[n,r]=(0,t.useState)(!1),s=(0,k.sW)(),l=`${e}.changeProduct`,i=(0,k.Yl)(l),{data:o,properties:c}=i,m=c.isLoadingSubmit,{currentFamilyNode:d,currentFamilyName:u,cppart:p,nextFamilyNode:g,nextFamilyName:y,nextFamilyDefaultPart:v,nextFamilyCppart:h,changeFamilyLinkTxt:E,changeProductLinkTxt:b,bootstrapURL:f}=o,[A,w]=(0,t.useState)(!1),[N,S]=(0,t.useState)(!1),[I,P]=(0,t.useState)(),L=mf(C().get(I,"consent",{})),T={label:C().get(I,"consent.label"),cookieCompliance:L},O=(0,k.LZ)(l,"part"),D=(0,k.LZ)(l,"store"),x=Boolean(E);(0,t.useEffect)((()=>{(e=>{const t=`${window.location.origin}${e}`;return(0,Pa.hI)(t).then((e=>{const t=C().get(e,"body.fulfillmentMessageBootstrap"),a=C().get(e,"body.productLocatorBootstrap");return{...t,...a,fireRecommendationsAvailability:!1,metaURL:a.productLocatorMetaDataUrl,pickupURL:t.storePickupMessageUrlForPL,suggestionsURL:a.productLocatorRecommendedProductsUrl,maxParamsPerURL:t.batchSize||3,isAutoCompleteEnabled:t.autoCompleteEnabled,cookie:{name:t.cookieName,expiry:t.cookieExpiry,domain:t.cookieDomain,countryCode:t.countryCode,enabled:t.enabled},storeCookie:t.retailStoreCookie,validation:{zip:{pattern:t.locationValidationRegEx,invalidFormatError:t.invalidFormatErrorMessage,requiredError:t.requiredFieldErrorMessage}},availabilityUnknownError:t.availabilityUnknownErrorMessage,searchPlaceholder:t.searchPlaceholderText,searchButton:t.searchButtonText,availabilityFor:t.availabilityForText,personalPickup:t.personalPickupFragment,previousButton:t.previousButtonText,nextButton:t.nextButtonText,cancelButton:t.cancelButtonText,selectButton:t.selectButtonText,dataVersion:t.dataVersionValue,moreInformation:t.moreInformationText,url:t.storePickupMessageUrl,isSingleStorePickup:C().get(t,"singleStoreMetaData.singleStoreCountry",!1),singleStoreId:t.defaultRetailStoreId,productLocatorColdStartText:a.checkAvailabilityText,productLocatorWarmStartText:a.pickupLinkText,notificationMessage:a.toastNotificationText,setAPUCookie:!1,combinePickupWithMeta:!0,closeOverlayOnSelectStore:!1,deliveryURL:a.deliveryMessageUrl,searchForStoresNearLabel:a.searchForNearbyStoresLabel,showingStoresNearLabel:a.showingStoresNearLabel}}))})(f).then((e=>{P(e)}))}),[]);const M=e=>{var t,a;r(!0),t=e.part,a=e.store,O.setValue(t),D.setValue(a),s({type:W.Ru.ACTION,modKey:l,name:"update"})};(0,t.useEffect)((()=>{n&&!m&&(S(!1),w(!1),r(!1))}),[n,m]);const F=Boolean(I&&A)&&a().createElement(IA,{preventClearOnSave:!0,visible:A,part:O.value,storeId:D.value,bootstrap:{...I,family:u,node:d},cppart:p,onClose:()=>w(!1),consent:T,onStoreChange:M,isSaving:m}),B=Boolean(I&&N)&&a().createElement(IA,{preventClearOnSave:!0,visible:N,part:v,storeId:D.value,bootstrap:{...I,family:y,node:g},cppart:h,onClose:()=>S(!1),consent:T,onStoreChange:M,isSaving:m});return a().createElement(PA,{onChangeModelClick:()=>{(e=>{const t=C().get(window,"s.prop8","");oe({eVar:te,slot:t,feature:`link | update your ${e} selections`,action:""})})(u),w(!0)},changeModelButtonLabel:b,changeModelOverlay:F,showChangeFamilyOverlay:x,onChangeFamilyClick:()=>{(()=>{const e=C().get(window,"s.prop8","");oe({eVar:te,slot:e,feature:"link | choose a different iPhone model",action:""})})(),S(!0)},changeFamilyButtonLabel:E,changeFamilyOverlay:B})},TA=a().memo(LA),OA=({header:e,message:t})=>a().createElement("div",{className:"rs-carrier-connectivity"},a().createElement("div",{className:"rs-carrier-connectivity-wrap"},a().createElement("h3",{className:"rs-carrier-connectivity-title"},e),a().createElement("div",(0,Ie.A)({className:"rs-carrier-connectivity-message typography-body-reduced"},(0,Le.OH)(t))))),DA=({modKey:e})=>{const[t]=(0,k.Ej)(e,"connectivityHeader"),[n]=(0,k.Ej)(e,"connectivityText");return a().createElement(OA,{header:t,message:n})},xA=a().memo(DA),MA=({upgradingFrom:e,productDetails:t,upgradeDetails:n})=>a().createElement("div",{className:"rs-iteminfo-child rs-iteminfo-upgradedetails"},a().createElement("h3",{className:"rs-iteminfo-upgradedetails-header typography-body"},e,":"),a().createElement("span",{className:"rs-iteminfo-upgradedetails-productdetails typography-body"},t),Array.isArray(n)&&n.map((e=>a().createElement("div",{key:e,className:"rs-iteminfo-child-details"},a().createElement("span",{className:"rs-iteminfo-child-details-label"},e.label,":"),a().createElement("span",{className:"rs-iteminfo-child-details-value"},e.value))))),FA=({modKey:e,isReview:n,isEditable:r,announceMessage:s=C().noop,showQuantity:l=!0,showImage:i=!0,quantityLabel:o,dataAutom:c,productTitleHeadingLevel:m=2,alignDetailsLeft:d,index:u,itemLength:p,removedItemIndex:g,isFullWidthTitleMow:y=!0})=>{const{viewport:v,assets:h,fragments:E}=(0,Y.S)(),b="small"===v,[f]=(0,k.lE)(`${e}.cartItemBundleDownPaymentReview`),A=(0,k.Yl)(e),{isGiftCard:w,promoLabel:N,showIntentToGift:S,isBundlePromoItem:I,buyFlowInstallmentsDetails:P,hasCarrierTradeIn:L,carrierLabel:T,carrierName:O,relatedParentLabel:D,relatedParent:x,purchaseOptionDescription:M,appleCareIncluded:F,priceMessage:B,preOrderDeviceTradein:R,productId:_,notReturnable:$,installmentPrice:H,fullPriceInfo:K,vatInfo:V,segmentSavingsMessage:U,standAloneDeviceActivationDetails:W={},description:G,processLinkText:j,processLinkMetrics:q,processOverlayText:z,bundleDetails:Z,brandTitle:J,carrierConnectivityDiscountMessage:X,priceAfterDiscountMessage:Q,savingsBadge:ee,upgradingFrom:te,upgradeFromProductDetails:ae,bundleUpgradeFromDetails:ne}=A.data,re=Boolean(P),se=Boolean(U),le=C().get(F,"label"),ie=le?`${le} ${F.value}`:"",oe=(0,k.M1)(`${e}.recommendedSystemCartMoreProducts`),ce=(0,k.M1)(`${e}.egc`),me=(0,k.M1)(`${e}.giftCard`),de=ce||me,ue=(0,k.M1)(`${e}.engraving`),pe=(0,k.M1)(`${e}.gifting`),ge=(0,k.M1)(`${e}.delivery`),ye=(0,k.M1)(`${e}.itemQuantity`),ve=(0,k.M1)(`${e}.changeProduct`),he=(0,k.M1)(`${e}.changeProductDisclaimer`),Ee=(0,k.M1)(`${e}.carrierConnectivityCallout`),be=(0,k.LZ)(e,"changeAppleCareModal"),fe=W&&W.hasLearnMoreOverlay,Ae=a().createElement(PE,null),{isRecommendedSystems:we,quantity:Ne}=A.data,Se=we&&a().createElement(OE,null),Ce=(0,t.useRef)(),ke=r?Ce:null,Ie=b&&(!y||L),Pe=a().createElement(ME,{linkRef:ke,productTitleHeadingLevel:m,shouldFormatName:Ie}),Le=a().createElement(RE,{linkRef:ke}),[Te,Oe]=(0,t.useState)(!1),De=a().createElement(Yl,{visible:Te}),xe=!fe&&a().createElement(HE,{visible:Te,setVisible:Oe}),Me=fe&&a().createElement(pi,{btnLabel:h.carrierLearnMore,overlayContent:E.carrierLearnMoreOverlayContent}),{originalQty:Fe}=A.data,Be=Boolean(Z),Re=l&&(Fe||ye)&&!(L&&b)&&!Be,_e=Re&&a().createElement(WE,{label:o}),$e=a().createElement(zE,{showPriceMessage:!d}),He=a().createElement(XE,null),Ke=a().createElement(tb,{index:u,removedItemIndex:g}),Ve=a().createElement(sb,null),Ue=ve&&a().createElement(TA,null),[qe,Ye]=a().useState(!1),ze=be.bindExists&&a().createElement(nf,{removeClick:qe}),Ze=he&&a().createElement(lf,null),Je=Ee&&a().createElement(xA,{modKey:`${e}.carrierConnectivityCallout`}),Xe=Be&&b&&a().createElement(of,{showDetails:!1,headerLabel:Z.headerLabel}),et=Be&&a().createElement(of,{showHeader:!b,showDetails:!0,headerLabel:Z.headerLabel,carrierLabel:T,carrierName:O}),tt=te&&a().createElement(MA,{upgradingFrom:te,productDetails:ae,upgradeDetails:ne}),at=f.downPayment&&a().createElement(cf,{downPayment:f.downPayment,downPaymentTermsUrl:f.downPaymentTermsUrl}),{priceDetails:nt,promos:rt}=A.data,st=Boolean(rt),[lt,it]=(0,k.Ej)(e,"isNewItemAdded"),ot=a().useRef(),[ct,mt]=(0,k.Ej)("shoppingCart.items","isItemRemoved",!1),[dt,ut]=(0,t.useState)(lt||ct?-1:null),[pt,gt]=(0,t.useState)("");(0,t.useEffect)((()=>{lt&&ot.current&&(ot.current.focus(),it(!1))}),[lt,ot]),(0,t.useEffect)((()=>{ct&&ot.current&&(u===g.current||g.current===p&&u===g.current-1)&&(ot.current.focus(),mt(!1))}),[ct,ot,g]),(0,t.useEffect)((()=>()=>{g&&(g.current=u,mt(!0))}),[]);const[yt]=(0,k.Ej)(Ge,"total"),[vt]=(0,k.Ej)(je,"emiAmount"),ht=vt||yt,[Et]=(0,k.lE)(We),bt=Boolean(Et.undoMessages);(0,t.useEffect)((()=>{if(bt){const e=`${Qe.GP(h.itemsHeader,{price:ht})}`;s(e)}}),[ht]);const ft=Pl(`${e}.delivery.lineDeliveryOptions`),At={modKey:e,isReview:n,isEditable:r,announceMessage:s,editLocation:ft,isBundle:Be},wt=!Be&&(W.carrierLabelText||O),Nt=!Be&&(W.carrierLabel||T),St=(0,t.useRef)(""),Ct=(0,t.useRef)("");return a().createElement(Ml.Provider,{value:At},a().createElement(EE,{messages:Ae,isGiftCard:w,hasBuyFlowInstallmentDetails:re,hasCarrierTradeIn:L,isRecommendedSystems:we,recommendedSystemsQuantity:Ne,recommendedSystemsActions:Se,promoLabel:N,carrierDiscountMessage:W.carrierDiscountMessage,brandTitle:J,productTitle:Pe,productImage:Le,showProductImage:i,productInfo:De,productInfoTrigger:xe,carrierLearnMoreTrigger:Me,description:G,processLinkText:j,processLinkMetrics:q,processOverlayContent:z,showQuantity:Re,quantity:_e,price:$e,carrierLabel:Nt,carrierName:wt,carrierConnectivityDiscountMessage:X,priceAfterDiscountMessage:Q,relatedParentLabel:D,relatedParent:x,inlineFees:He,installmentPrice:H,fullPriceInfo:K,hasSegmentSavingsMessage:se,removeButton:Ke,saveForLaterButtonMarkup:Ve,partNumber:_,isNonRefundable:$,hasPromos:st,installmentDetails:nt,itemTabIndex:dt,changeProduct:Ue,changeAppleCare:ze,changeProductDisclaimer:Ze,itemRef:ot,dataAutom:c,purchaseOptionDescription:M,alignDetailsLeft:d,priceMessage:B,hasPreOrderTradeIn:R,appleCareDescription:ie,vatInfo:V,itemBundleHeader:Xe,itemBundleDetails:et,itemDownPayment:at,isFullWidthTitleMow:y,carrierConnectivityCalloutInfo:Je,savingsBadge:ee},tt,a().createElement(ob,null),a().createElement(db,null),oe&&a().createElement(gb,null),a().createElement(fE,{itemRef:ot,setItemTabIndex:ut,setAppleCarePlusType:gt,removeBtnRef:St,acPlusAddRef:Ct,handleRemoveClick:()=>{Ye(!0)}}),a().createElement(CE,{appleCarePlusType:pt,acPlusAddRef:Ct,removeClick:qe}),de&&a().createElement(Mi,null),ue&&a().createElement(Mc,null),S&&a().createElement(Rc,null),pe&&a().createElement(im,null),ge&&a().createElement(jb,null),I&&a().createElement(zb,null)))},BA=a().memo(FA),RA=({items:e,announceMessage:t,isEditable:n,quantityLabel:r,productTitleHeadingLevel:s=2,isReview:l,removedItemIndex:i})=>a().createElement(gE,{className:"rs-bag-items rs-iteminfos",component:"ol",role:"list","data-autom":"bag-items","data-analytics-region":"bag-items"},e.map((({modKey:o,props:c},m)=>a().createElement(vE,(0,Ie.A)({key:`bag-item-${o}`},c,{enter:!0}),a().createElement(BA,{modKey:o,announceMessage:t,isEditable:n,quantityLabel:r,dataAutom:`bag-item-${m+1}`,productTitleHeadingLevel:s,isReview:l,index:m,itemLength:e.length,removedItemIndex:i}))))),_A=(e,t)=>{const a=e.items.length===t.items.length,n=e.isEditable===t.isEditable;return a&&n},$A=a().memo(RA,_A),HA=({modKey:e,quantityLabel:n,isEditable:r,productTitleHeadingLevel:s=2,isReview:l=!1})=>{const{assets:i}=(0,Y.S)(),o=iE(e),c=(0,k.vh)(e,o),[m]=(0,k.Ej)(e,Kn),d=r||m,[u,p]=(0,J.oM)(),[g,y]=(0,J.oM)(),v=(0,t.useRef)(0);return a().createElement(a().Fragment,null,a().createElement($A,{items:c,announceMessage:e=>{e===i.processing?p(e):y(e)},isEditable:d,quantityLabel:n,productTitleHeadingLevel:s,isReview:l,removedItemIndex:v}),a().createElement(J.Ay,{message:u}),a().createElement(J.Ay,{message:g}))},KA=a().memo(HA),VA=({id:e,editLabel:t,editLabelA11y:n,shipQuote:r,deliveryQuote:s,deliveryTimeSlot:l,pickupDescription:i,pickupTimeSlot:o,storeAddressQuote:c,hasShipmentFlipOverlay:m,showEditButton:d,editButtonProps:u,shipmentFlipOverlay:p,reviewGroupItemInfos:g})=>a().createElement(a().Fragment,null,r&&a().createElement("h2",{className:"rs-review-shipquote typography-callout",id:`${e}-shipquote`},a().createElement("span",null,r,l&&a().createElement("span",null,` ${l}`))),o&&a().createElement("div",{className:"rs-review-deliveryquote typography-body"},o),i&&a().createElement("div",{className:"rs-review-deliveryquote typography-body"},i),s&&a().createElement("div",{className:"rs-review-deliveryquote typography-body"},a().createElement("span",null,s)),c&&a().createElement("div",(0,Le.OH)(c)),d&&a().createElement("div",{className:"rs-review-shipping-method"},m?p:a().createElement("button",(0,Ie.A)({},u,{type:"button",role:"link","aria-labelledby":`${u.id} ${e}-shipquote`,"data-autom":"changeShippingMethod"}),t||n)),g),UA=({modKey:e})=>{const{data:t,properties:n}=(0,k.Yl)(e),{editLabel:r,editLabelA11y:s,delivers:l,pickup:i,isElectronic:o}=t,{shipQuote:c,deliveryQuote:m}=(e=>{const{delivers:t,pickup:a}=e;let n="",r="";return t?(n=t.shipQuote,r=t.deliveryQuote):a&&(n=a.quote,r=a.pickupQuote),{shipQuote:n,deliveryQuote:r}})(t),{timeslot:d,storeAddressQuote:u,pickupDescription:p}=i||{},g=(0,k.M1)(Re.jL),y=(0,k.W4)(e,"edit"),v=!o&&r&&y.binding.bindExists,h={...y.props,className:"as-buttonlink more rs-review-change"};return a().createElement(VA,{id:n.key,editLabel:r,editLabelA11y:s,shipQuote:c,deliveryQuote:m,deliveryTimeSlot:l&&l.deliveryTimeSlot,pickupDescription:p,pickupTimeSlot:d,storeAddressQuote:u,hasShipmentFlipOverlay:g,showEditButton:v,editButtonProps:h,shipmentFlipOverlay:a().createElement(lE,{groupModKey:e}),reviewGroupItemInfos:a().createElement(KA,{key:e,modKey:e,isEditable:!1,isReview:!0})})},WA=a().memo(UA),GA=({reviewGroups:e})=>a().createElement("div",{className:"rs-review-fulfillment"},e),jA=()=>{const{childModKeys:e}=(0,k.Yl)(Re.U$),t=e.map((e=>a().createElement(WA,{key:e,modKey:e})));return a().createElement(GA,{reviewGroups:t})},qA=a().memo(jA),YA=({hasShipmentFlipOverlay:e,shipmentFlipOverlay:t,editLabel:n,editLabelButtonProps:r,shippingReviewAddressLayout:s})=>{const{assets:l}=(0,Y.S)();return a().createElement("div",{className:"row rs-review-shipping rs-review-details"},a().createElement("div",{className:"column large-3 small-12"},a().createElement("h2",{className:"rs-review-title"},l.reviewShippingHeader),e?t:n&&a().createElement("button",(0,Ie.A)({type:"button"},r),n)),a().createElement("div",{className:"column large-9 small-12"},a().createElement("div",{className:"row"},s)))},zA=({children:e})=>a().createElement("div",{className:"rs-shipping-review-address-layout column large-6 small-12"},e),ZA=()=>{const{data:e,childModKeys:t}=(0,k.Yl)(Re.Wg),n=(0,k.M1)(Re.jL),r={...(0,k.W4)(Re.Wg,"edit").props,"data-autom":"rs-review-shipping-details","aria-label":e.editLabelA11y,className:"as-buttonlink more rs-review-change"};return a().createElement(YA,{hasShipmentFlipOverlay:n,shipmentFlipOverlay:a().createElement(lE,{groupModKey:Re.Wg}),editLabel:e.editLabel,editLabelButtonProps:r,shippingReviewAddressLayout:t.map((e=>a().createElement(zA,{key:e},a().createElement(dl.A,{modKey:e,sectionHeadingTag:"h3",isFullWidth:!0}))))})},JA=a().memo(ZA),XA=({editLabel:e,editLabelA11y:t,editButtonProps:n,hasShipmentFlipOverlay:r,shipmentFlipOverlay:s,shipQuote:l,productNameA11y:i})=>{if(r)return s;const o=`${t||e} ${l} ${i}`.trim();return a().createElement("button",(0,Ie.A)({},n,{type:"button",className:"as-buttonlink more rs-review-change","aria-label":o}),e,i)},QA=({modKey:e,shipQuote:t="",productNameA11y:n=""})=>{const r=(0,k.W4)(e,"edit"),[s]=(0,k.lE)(e),l=(0,k.M1)(Re.jL),{editLabel:i,editLabelA11y:o}=s;return a().createElement(XA,{editLabel:i,editLabelA11y:o,editButtonProps:r.props,hasShipmentFlipOverlay:l,shipmentFlipOverlay:a().createElement(lE,{groupModKey:e}),shipQuote:t,productNameA11y:n})},ew=a().memo(QA),tw=({noFapiaoReview:e,mobilePhone:t,email:n,fapiaoReview:r,showShippingDescription:s,showSVATDeliveryAddress:l,sVATDeliveryAddressModKey:i,editModKey:o})=>{const{assets:c,viewport:m}=(0,Y.S)(),d="small"===m;return a().createElement("div",{className:"row rs-review-details rs-review-fapiao-details"},a().createElement("div",{className:"column large-3 small-12"},a().createElement("h2",{className:"rs-review-title"},c.reviewFapiaoHeader),a().createElement(ew,{modKey:o})),a().createElement("div",{className:"rs-review-fapiao-content column large-9 small-12"},e&&a().createElement("div",{className:"rs-review-nofapiao-description-information"},a().createElement("p",{className:"rs-review-nofapiao-description typography-body"},c.statusDescription),a().createElement("p",{className:"rs-review-nofapiao-contact typography-body"},`${c.contactDescription} ${t||n}`)),a().createElement("div",{className:"row"},r,l&&a().createElement("div",{className:"column large-6 small-12"},a().createElement(dl.A,{modKey:i,isFullWidth:d})),s&&a().createElement("div",{className:"rs-fapiao-shipping-description typography-body-reduced column large-6 small-12"},c.shippingDescription))))},aw=({sectionHeader:e,name:t,invoiceTaxHeader:n,invoiceTaxId:r,tradeInSubsidy:s})=>{const{fragments:l}=(0,Y.S)();return a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",{className:"rs-review-cfapiao-header typography-body"},e),t&&a().createElement("div",{className:"rs-review-cfapiao-details"},t),n&&a().createElement("div",{className:"rs-review-cfapiao-details"},n),r&&a().createElement("div",{className:"rs-review-cfapiao-details"},r),s&&a().createElement("div",(0,Ie.A)({className:"rs-review-delayed-cfapiao-details"},(0,Le.OH)(l.commerceFapiaoDelayedMessage))))},nw=({modKey:e,tradeInSubsidy:t})=>{const[n]=(0,k.lE)(e),{sectionHeader:r,name:s,invoiceTaxHeader:l,invoiceTaxId:i}=n;return a().createElement(aw,{sectionHeader:r,name:s,invoiceTaxHeader:l,invoiceTaxId:i,tradeInSubsidy:t})},rw=a().memo(nw),sw=({sectionHeader:e,companyHeader:t,companyName:n,companyTaxId:r,bankHeader:s,bankAccountName:l,bankAccountNumber:i,companyAddressExists:o,companyAddressModKey:c})=>{const{viewport:m}=(0,Y.S)(),d="small"===m;return a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",{className:"rs-review-cfapiao-header typography-body"},e),a().createElement("div",{className:"rs-review-sfapiao-header typography-body"},t),a().createElement("div",{className:"rs-review-sfapiao-details"},n),a().createElement("div",{className:"rs-review-sfapiao-details"},r),a().createElement("div",{className:"rs-review-sfapiao-details"},o&&a().createElement(dl.A,{modKey:c,isFullWidth:d})),a().createElement("div",{className:"rs-review-sfapiao-header typography-body"},s),a().createElement("div",{className:"rs-review-sfapiao-details"},l),a().createElement("div",{className:"rs-review-sfapiao-details"},i))},lw=({modKey:e,companyAddressModName:t})=>{const[n]=(0,k.lE)(e),r=(0,k.M1)(`${e}.${t}`),{sectionHeader:s,companyHeader:l,companyName:i,companyTaxId:o,bankHeader:c,bankAccountName:m,bankAccountNumber:d}=n;return a().createElement(sw,{sectionHeader:s,companyHeader:l,companyName:i,companyTaxId:o,bankHeader:c,bankAccountName:m,bankAccountNumber:d,companyAddressExists:r,companyAddressModKey:`${e}.${t}`})},iw=a().memo(lw),ow=({sectionHeader:e,invoiceTaxHeader:t,companyName:n,companyHeader:r,companyTaxId:s,emailLabel:l,email:i,mobilePhone:o,bankHeader:c,bankAccountName:m,bankAccountNumber:d,showFapiaoAddress:u,addressModKey:p})=>{const{assets:g,viewport:y}=(0,Y.S)(),v="small"===y;return a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",{className:"rs-review-efapiao-header typography-body"},g.fapiaoSectionHeader),a().createElement("div",{className:"rs-review-efapiao-details-wrapper"},e),a().createElement("div",{className:"rs-review-cfapiao-details"},t),n&&a().createElement("div",{className:"rs-review-efapiao-details-wrapper"},a().createElement("div",{className:"rs-review-efapiao-header typography-body"},r),a().createElement("div",{className:"rs-review-cfapiao-details"},n),a().createElement("div",{className:"rs-review-cfapiao-details"},s)),a().createElement("div",{className:"rs-review-efapiao-show-delivery-address"},u&&a().createElement(dl.A,{modKey:p,isFullWidth:v}))),a().createElement("div",{className:"column large-6 small-12 rs-review-efapiao-commercial-content"},a().createElement("div",{className:"rs-review-efapiao-header typography-body"},l),a().createElement("div",{className:"rs-review-efapiao-details-wrapper"},i),a().createElement("div",{className:"rs-review-efapiao-info typography-body-reduced"},o?`${g.fapiaoMakoInformation} ${o}`:g.fapiaoInformation),a().createElement("div",{className:"rs-review-efapiao-header typography-body"},c),a().createElement("div",{className:"rs-review-efapiao-details-wrapper"},a().createElement("div",{className:"rs-review-cfapiao-details"},m),a().createElement("div",{className:"rs-review-cfapiao-details"},d))))},cw=({parentModKey:e,modKey:t})=>{const[n]=(0,k.lE)(e),[r]=(0,k.lE)(t),s=(0,k.M1)(`${t}.address`),{emailLabel:l,email:i,mobilePhone:o}=n,{sectionHeader:c,invoiceTaxHeader:m,companyName:d,companyHeader:u,companyTaxId:p,bankHeader:g,bankAccountName:y,bankAccountNumber:v}=r;return a().createElement(ow,{sectionHeader:c,invoiceTaxHeader:m,companyName:d,companyHeader:u,companyTaxId:p,bankHeader:g,bankAccountName:y,bankAccountNumber:v,emailLabel:l,email:i,mobilePhone:o,showFapiaoAddress:s,addressModKey:`${t}.address`})},mw=a().memo(cw),dw=({modKey:e})=>{const{viewport:t}=(0,Y.S)(),n="small"===t;return a().createElement("div",{className:"rs-review-efapiao-svat column large-6 small-12"},a().createElement(dl.A,{modKey:e,isFullWidth:n,sectionHeadingTag:"h3"}))},uw=()=>{const e=(0,k.M1)(Re.aM)?Re.aM:Re.db,t=(0,k.M1)(`${e}.fapiaoSVATReview`),n=(0,k.M1)(`${e}.eFapiaoSVATReview`),r=t||n,s=(0,k.M1)(`${e}.fapiaoCommerceReview`),l=`${e}.eFapiaoSVATReview.deliveryAddress`,i=(0,k.M1)(l),[o]=(0,k.lE)(e),{noFapiaoReview:c,mobilePhone:m,email:d}=o,u=(0,k.M1)(`${e}.address`),p=a().createElement(a().Fragment,null,s&&a().createElement(rw,{modKey:`${e}.fapiaoCommerceReview`}),a().createElement(q,null,a().createElement(iw,{modKey:`${e}.fapiaoSVATReview`,companyAddressModName:"address"}),a().createElement(iw,{modKey:`${e}.eFapiaoSVATReview`,companyAddressModName:"companyAddress"})),a().createElement(q,null,a().createElement(mw,{modKey:`${e}.eFapiaoCompanyReview`,parentModKey:e}),a().createElement(mw,{modKey:`${e}.eFapiaoPersonReview`,parentModKey:e})),u&&a().createElement(dw,{modKey:`${e}.address`}));return a().createElement(tw,{fapiaoReview:p,noFapiaoReview:c,mobilePhone:m,email:d,showSVATDeliveryAddress:r&&i,sVATDeliveryAddressModKey:l,showShippingDescription:s||r,editModKey:e})},pw=a().memo(uw),gw=({editButtonLabel:e,editButtonA11yLabel:t,showEditButton:n,editButtonProps:r,pickupContactFields:s,hasShipmentFlipOverlay:l,shipmentFlipOverlay:i})=>{const{assets:o}=(0,Y.S)();return a().createElement(a().Fragment,null,a().createElement("div",{className:"row rs-review-details"},a().createElement("div",{className:"column large-3 small-12"},a().createElement("h2",{className:"rs-review-title"},o.reviewPickupDetails),n&&a().createElement("div",{className:"rs-review-shipping-method"},l?i:a().createElement("button",(0,Ie.A)({},r,{type:"button","aria-label":t||e,className:"as-buttonlink more rs-review-change","data-autom":"pickup-changeLink"}),e))),a().createElement("div",{className:"column large-9 small-12"},s)))},yw=()=>{const e=(0,k.W4)(Re.X1,"edit"),t=(0,k.M1)(Re.jL),{data:n,childModKeys:r}=(0,k.Yl)(Re.X1),{editLabel:s,editLabelA11y:l}=n,i=s&&e.binding.bindExists,o=r.map((e=>a().createElement(dl.A,{key:e,modKey:e,sectionHeadingTag:"h3"})));return a().createElement(gw,{editButtonLabel:s,editButtonA11yLabel:l,showEditButton:i,editButtonProps:e.props,pickupContactFields:o,hasShipmentFlipOverlay:t,shipmentFlipOverlay:a().createElement(lE,{groupModKey:Re.X1})})},vw=a().memo(yw),hw=({editButtonLabel:e,editButtonA11yLabel:t,showEditButton:n,editButtonProps:r,hasShipmentFlipOverlay:s,shipmentFlipOverlay:l,hasTradeInDropOffReview:i,retailStoresAddress:o,shippingReviewAddress:c})=>{const{assets:m}=(0,Y.S)();return a().createElement("div",{className:"row rs-review-details"},a().createElement("div",{className:"column large-3 small-12"},a().createElement("h2",{className:"rs-review-title"},m.reviewTradinHeader),n&&(s?l:a().createElement("button",(0,Ie.A)({},r,{type:"button","aria-label":t||e}),e))),a().createElement("div",{className:"column large-9 small-12"},i&&a().createElement("div",{className:"rs-review-tradeininformation typography-body"},a().createElement("div",{className:"rs-review-tradeindropoff-header"},m.tradeInDropoffStoreHeader),o),c))},Ew=()=>{const[e]=(0,k.lE)(Re.WL),{editLabel:t,editLabelA11y:n}=e,r=(0,k.M1)(Re.jL),s=(0,k.M1)(Re.lQ),l=(0,k.W4)(Re.WL,"edit"),i=t&&l.binding.bindExists,o={...l.props,className:"as-buttonlink more rs-review-change"},{modExists:c,data:m}=(0,k.Yl)(Re.wx),{retailStores:d}=m,u=d&&d.map((e=>{const t=e.retailAddress&&e.retailAddress.layout;return a().createElement(a().Fragment,null,e.storeName,t&&a().createElement(dl.V,{layout:e.retailAddress.layout,data:e.retailAddress}),e.phoneNumber)}));return a().createElement(hw,{editButtonLabel:t,editButtonA11yLabel:n,showEditButton:i,editButtonProps:o,hasShipmentFlipOverlay:r,shipmentFlipOverlay:a().createElement(lE,{groupModKey:Re.WL}),hasTradeInDropOffReview:c,retailStoresAddress:u,shippingReviewAddress:s&&a().createElement(dl.A,{modKey:Re.cI,sectionHeadingTag:"h3",isFullWidth:!0})})},bw=a().memo(Ew),fw=({header:e,appleIdFieldProps:t,passwordFieldProps:n,passwordConfirmationFieldProps:r,showSignInButtonProps:s,createAccountButtonProps:l,isSubmitting:i,hasPrivacyAgreement:o,privacyAgreementCheckboxProps:c})=>{const{assets:m,fragments:d}=(0,Y.S)();return a().createElement("div",{className:"large-6 small-12"},a().createElement("div",(0,Ie.A)({className:"rs-review-accountcreateheader"},(0,Le.OH)(e))),a().createElement("div",{className:"rs-review-content typography-body"},a().createElement("p",{className:"rs-review-createmessage"},m.reviewAccountCreateMessage),a().createElement("span",(0,Ie.A)({className:"rs-review-accountcreateinfo"},(0,Le.OH)(m.reviewAccountCreateInfo))),a().createElement("button",(0,Ie.A)({},s,{className:"as-buttonlink",type:"button"}),m.reviewExistingAccount),` ${m.reviewAccountOrderPlace}`),a().createElement("div",{className:"rs-review-account-form"},a().createElement(ki.A,(0,Ie.A)({},t,{label:m.reviewAccountCreationHeader})),a().createElement(ki.A,(0,Ie.A)({},n,{type:"password",label:m.reviewAccountPassword})),a().createElement(ki.A,(0,Ie.A)({},r,{type:"password",label:m.reviewAccountConfirmPassword})),o&&a().createElement("div",{className:"rs-review-account-privacy"},a().createElement(Vn.A,c,a().createElement("span",(0,Le.OH)(d.privacyAgreementLabel))))),a().createElement("div",{className:"large-6 small-12 large-last rs-review-account-action"},a().createElement(Wt.A,(0,Ie.A)({},l,{className:"form-button form-button-secondary",isLoading:i}),m.reviewAccountCreateAppleId),a().createElement(J.Jg,{isPending:i,messages:{pending:m.reviewAccountCreateAppleIdA11y}})))},Aw=()=>{const e=(0,k.lE)(Re.L8),t=(0,k.Pf)(Re.L8,"appleId"),n=(0,k.Pf)(Re.L8,"password"),r=(0,k.Pf)(Re.L8,"passwordConfirmation"),s=(0,k.W4)(Re.L8,"showSignIn"),l=(0,k.W4)(Re.L8,"createAccount"),i=(0,k.DZ)(Re.L8,"privacyAgreement"),{accountHeader:o}=e;return a().createElement(fw,{header:o,appleIdFieldProps:t.props,passwordFieldProps:n.props,passwordConfirmationFieldProps:r.props,showSignInButtonProps:s.props,createAccountButtonProps:l.props,isSubmitting:l.binding.properties.isLoadingSubmit,hasPrivacyAgreement:i.binding.bindExists,privacyAgreementCheckboxProps:i.props})},ww=a().memo(Aw),Nw=({header:e,appleIdFieldProps:t,passwordFieldProps:n,forgotPasswordUrl:r,forgotPasswordProp37:s,signInButtonProps:l,isSubmitting:i})=>{const{assets:o,fragments:c}=(0,Y.S)();return a().createElement("div",{className:"large-6 small-12 rs-review-signin"},a().createElement("div",(0,Ie.A)({className:"rs-review-signin-header"},(0,Le.OH)(e))),a().createElement("div",(0,Ie.A)({className:"rs-review-signin-contentheader","aria-live":"assertive"},(0,Le.OH)(c.reviewSignInHeader))),a().createElement("div",{className:"rs-review-signin-content"},a().createElement(ki.A,(0,Ie.A)({},t,{label:o.reviewAccountCreationHeader})),a().createElement(ki.A,(0,Ie.A)({},n,{type:"password",label:o.reviewAccountPassword}))),a().createElement("div",{className:"rs-review-signin-actions row"},a().createElement("div",{className:"large-8 small-12 rs-review-signin-forgotlink"},a().createElement("a",{href:r,target:"_blank",className:"icon icon-after icon-external","data-prop37":s},o.reviewForgotPassword)),a().createElement("div",{className:"large-4 small-12"},a().createElement(Wt.A,(0,Ie.A)({},l,{className:"form-button form-button-secondary",isLoading:i}),o.signinTxt),a().createElement(J.Jg,{isPending:i,messages:{pending:o.signinTxtA11y}}))))},Sw=()=>{const[e]=(0,k.lE)(Re.vo),t=(0,k.Pf)(Re.vo,"appleId"),n=(0,k.Pf)(Re.vo,"password"),r=(0,k.W4)(Re.vo,"signIn"),{accountHeader:s,iForgotUrl:l,iForgotProp37:i}=e;return a().createElement(Nw,{header:s,appleIdFieldProps:t.props,passwordFieldProps:n.props,forgotPasswordUrl:l,forgotPasswordProp37:i,signInButtonProps:r.props,isSubmitting:r.binding.properties.isLoadingSubmit})},Cw=a().memo(Sw),kw=({messages:e=[],messagesLastUpdated:t,hasAccountCreation:n,hasSignIn:r,accountMessage:s})=>{const{assets:l}=(0,Y.S)();return a().createElement("div",{className:"row rs-review-details"},a().createElement(ke.A,{messages:e,lastUpdated:t,className:"large-12"}),a().createElement("div",{className:"large-3 small-12"},a().createElement("h2",{className:"rs-review-title"},l.reviewAccountHeader),!s&&a().createElement("div",{className:"rs-review-account-subtitle"},l.reviewAccountOptional)),n&&a().createElement(ww,null),r&&a().createElement(Cw,null),s&&a().createElement("div",{className:"large-9 small-12 rs-review-content typography-body","aria-live":"assertive"},a().createElement("span",(0,Ie.A)({className:"rs-review-accountmessage"},(0,Le.OH)(s)))))},Iw=()=>{const e=(0,k.M1)(Re.L8),t=(0,k.M1)(Re.vo),n=(0,k.M1)(Re.lc),[r]=(0,k.Ej)(Re.lc,"message"),[s,l]=(0,k.fL)(Re.L8),[i,o]=(0,k.fL)(Re.vo),[c,m]=(0,k.fL)(Re.lc);let d,u;return e?(d=s,u=l):t?(d=i,u=o):n&&(d=c,u=m),a().createElement(kw,{messages:d,messagesLastUpdated:u,hasAccountCreation:e,hasSignIn:t,accountMessage:r})},Pw=a().memo(Iw),Lw=({billingRef:e,editButtonLabel:t,editButtonA11yLabel:n,showEditButton:r,editButtonProps:s,hasShipmentFlipOverlay:l,shipmentFlipOverlay:i,billingReviewLayout:o,hasWebInstallments:c,hasFinancePartner:m,hasCarrierFinancePromo:d})=>{const{assets:u}=(0,Y.S)(),p=Z()("row","rs-review-details","rs-review-billing",{"rs-review-webinstallments":c},{"rs-review-carrierpromo":d},{"rs-review-finance-partner":m});return a().createElement("div",{className:p,ref:e},a().createElement("div",{className:"column large-3 small-12"},a().createElement("h2",{className:"rs-review-title"},u.reviewPaymentsHeader),r&&a().createElement("div",{className:"rs-review-shipping-method"},l?i:a().createElement("button",(0,Ie.A)({},s,{type:"button","aria-label":n||t}),t))),o)},Tw=({hasiUPEligibilityReviewMod:e,hasCCI:t,children:n})=>{const r=Z()("column small-12",{"large-6":t,"large-12":!t,"rs-review-billing-address":!e,"rs-review-iup-billing-address":e});return a().createElement("div",{className:r},n)},Ow=()=>{const e=(0,k.M1)(Re.D9);return a().createElement(Tw,{hasiUPEligibilityReviewMod:e},a().createElement(dl.A,{modKey:Re.CN,sectionHeadingTag:"h3",isFullWidth:!0}))},Dw=a().memo(Ow),xw=({header:e,appliedAppleAccountBalance:t})=>a().createElement("div",{className:"large-12 small-12 rs-review-billing-cards"},a().createElement("div",{className:"rf-form-layout-section"},a().createElement("div",{className:"rf-form-layout-section-header"},e),a().createElement("div",{className:"rs-address-form-label"},t))),Mw=()=>{const[e]=(0,k.lE)(Re.jD);return e.appliedAppleAccountBalance?a().createElement(xw,{header:e.header,appliedAppleAccountBalance:e.appliedAppleAccountBalance}):null},Fw=a().memo(Mw),Bw=({paymentTypeLabel:e,hidePaymentLogo:t,acApprovedValue:n,acBalanceAvailable:r,appleCardTerms:s})=>a().createElement("div",{className:"large-12 small-12 rs-review-billing-cards"},a().createElement("div",{className:"rf-form-layout-section"},t&&e&&a().createElement("span",{className:"rs-payment-details-cardtitle"},e),n&&a().createElement("div",{className:"rs-payment-ac-value"},n),r&&a().createElement("div",{className:"rs-payment-ac-balance"},r),s&&a().createElement("div",(0,Ie.A)({className:"rs-payment-ac-termslink"},(0,Le.OH)(s))))),Rw=()=>{const[e]=(0,k.lE)(Re.Yg);return a().createElement(Bw,{paymentTypeLabel:e.paymentTypeLabel,hidePaymentLogo:e.hidePaymentLogo,acApprovedValue:e.acApprovedValue,acBalanceAvailable:e.acBalanceAvailable,appleCardTerms:e.appleCardTerms})},_w=a().memo(Rw),$w=({header:e,financeProvider:t,creditInstallmentAmount:n,creditInstallmentTerm:r,apr:s,EMICostOrSaved:l})=>{const{assets:i}=(0,Y.S)();return a().createElement("div",{className:"column large-12 small-12 rs-review-finance"},a().createElement("div",{className:"rf-form-layout-section"},a().createElement("div",{className:"rf-form-layout-section-header"},e),a().createElement("div",{className:"rs-address-form-label"},t)),a().createElement("div",{className:"rf-form-layout-section rs-review-terms"},a().createElement("div",{className:"rf-form-layout-section-header"},i.terms),a().createElement("div",{className:"rs-address-form-label"},a().createElement("span",{"aria-hidden":"true"},Qe.GP(i.installmentsReview,{amount:n,term:r})),a().createElement("span",{className:"visuallyhidden"},Qe.GP(i.installmentsReviewA11y,{amount:n,term:r}))),a().createElement("div",{className:"rs-address-form-label"},a().createElement("span",{"aria-hidden":"true"},Qe.GP(i.apReview,{apr:s})),a().createElement("span",(0,Ie.A)({className:"visuallyhidden"},(0,Le.OH)(Qe.GP(i.apReviewA11y,{apr:s}))))),a().createElement("div",{className:"rs-address-form-label"},l)))},Hw=()=>{const[e]=(0,k.lE)(Re.GA);return a().createElement($w,{header:e.header,financeProvider:e.financeProvider,creditInstallmentAmount:e.creditInstallmentAmount,creditInstallmentTerm:e.creditInstallmentTerm,apr:e.apr,EMICostOrSaved:e.EMICostOrSaved})},Kw=a().memo(Hw),Vw=({header:e,appliedGCCount:t})=>t&&a().createElement("div",{className:"large-12 small-12 rs-review-billing-cards"},a().createElement("div",{className:"rf-form-layout-section"},a().createElement("div",{className:"rf-form-layout-section-header"},e),a().createElement("div",{className:"rs-address-form-label"},t))),Uw=()=>{const[e]=(0,k.lE)(Re.il);return a().createElement(Vw,{header:e.header,appliedGCCount:e.appliedgccount})},Ww=a().memo(Uw),Gw=({isAppleFinancing:e,isBarclaysLoan:t,financingHeader:n,financingBankImage:r,header:s,socialSecurityNumber:l,dateOfBirth:i,totalAnnualIncome:o})=>{const{assets:c}=(0,Y.S)(),m=e||t;return a().createElement("div",{className:"column large-12 small-12 rs-review-iup-eligibility"},m&&a().createElement("div",{className:"large-7 small-12 rs-review-installmentsection"},a().createElement("div",{className:"rs-review-installmentheader typography-body"},n),a().createElement("div",(0,Ie.A)({className:"rs-review-installmentimage"},(0,Le.OH)(r)))),a().createElement("div",{className:"rf-form-layout-section "},(l||i||o)&&s&&a().createElement("div",{className:"rf-form-layout-section-header"},s),a().createElement("div",{className:"rs-payment-details"},a().createElement("div",{className:"rs-address-form-label"},l&&`${c.reviewSsn} ${l}`,i&&a().createElement("div",{className:"rs-review-dob"},`${c.reviewBirthDate} ${i}`),o&&a().createElement("div",{className:"rs-review-annual-income"},`${c.reviewAnnualIncome} ${o}`)))))},jw=()=>{const[e]=(0,k.lE)(Re.D9);return a().createElement(Gw,{isAppleFinancing:e.isAppleFinancing,financingHeader:e.financingHeader,financingBankImage:e.financingBankImage,header:e.header,socialSecurityNumber:e.socialSecurityNumber,dateOfBirth:e.dateOfBirth,totalAnnualIncome:e.totalAnnualIncome})},qw=a().memo(jw),Yw=({isAppleFinancing:e,isBarclaysLoan:t,financingHeader:n,financingBankImage:r,installmentNumbers:s})=>{const l=e||t;return a().createElement("div",{className:"row rs-review-loan-eligibility"},a().createElement("div",{className:"column large-12 small-12 rs-review-iup-eligibility"},l&&a().createElement("div",{className:"large-7 small-12 rs-review-installmentsection"},a().createElement("div",{className:"rs-review-installmentheader typography-body"},n),a().createElement("div",(0,Ie.A)({className:"rs-review-installmentimage"},(0,Le.OH)(r)))),s&&a().createElement("div",{className:"rs-review-installment"},s)))},zw=({modKey:e})=>{const[t]=(0,k.lE)(e);return a().createElement(Yw,{isAppleFinancing:t.isAppleFinancing,isBarclaysLoan:t.isBarclaysLoan,financingHeader:t.financingHeader,financingBankImage:t.financingBankImage,installmentNumbers:t.installmentNumbers})},Zw=a().memo(zw),Jw=({hasTaxDetails:e,header:t,paymentType:n,hidePaymentLogo:r,displayPaymentType:s,paymentTypeLabel:l,cardNumber:i,bankName:o,hasCCI:c,orderTotal:m,cciFee:d,totalWithCCIFee:u,expirationDate:p,label:g,loyaltyPointsAmount:y,creditInstallmentAmount:v,creditInstallment:h,noCostEMILabel:E,sectionHeader:b,labelImageUrl:f,labelImageAlt:A,description:w,savingsDescription:N,type:S,businessAccountName:C,creditInstallmentTerm:k,creditInstallmentApr:I,imageWidth:P,imageHeight:L})=>{const{fragments:T,assets:O}=(0,Y.S)(),D=y||v||h,x=s||n;return a().createElement("div",{className:"rs-review-billing-cards"},c&&a().createElement("div",{className:"row"},a().createElement("div",{className:"rf-form-layout-section column large-4 small-12"},a().createElement("div",{className:"rf-form-layout-section-header"},O.orderTotalLabel),a().createElement("div",{className:"rs-address-form-label"},m)),a().createElement("div",{className:"rf-form-layout-section column large-4 small-12"},a().createElement("div",{className:"rf-form-layout-section-header"},O.interestCharged),a().createElement("div",{className:"rs-address-form-label"},d)),a().createElement("div",{className:"rf-form-layout-section column large-4 small-12"},a().createElement("div",{className:"rf-form-layout-section-header"},O.totalCostWithInterest),a().createElement("div",{className:"rs-address-form-label"},u))),e&&a().createElement("div",{className:"row"},a().createElement("div",{className:Z()("rf-form-layout-section",{"large-4":c})},t&&a().createElement("h3",{className:"rf-form-layout-section-header"},t),a().createElement("div",{className:"rs-payment-details"},a().createElement("div",{className:"rs-address-form-label"},n&&"MOMOPAY"!==n&&"SHOPEEPAY"!==n&&!r&&a().createElement("span",{className:"rf-creditcardlogo rf-creditcardlogo-leftaligned rs-review-cardimg","data-logo":x},a().createElement("span",{className:"visuallyhidden"},l)),i&&a().createElement("span",{className:Z()("rs-review-cardnumber",{"rs-reviewcardnumber-centeraligned":"TROY"===n})},i),p&&a().createElement("div",{className:"rs-address-form-label"},p),o&&a().createElement("div",{className:"rs-address-form-label"},o),g&&a().createElement("div",{className:"rs-review-financinglabel"},g),I&&a().createElement("div",(0,Ie.A)({className:"rs-review-installmentapr"},(0,Le.OH)(Qe.GP(T.creditInstallmentInterest,{creditInstallmentTerm:k,creditInstallmentApr:I})))),D&&a().createElement("div",{className:"rs-review-installments"},y&&a().createElement("div",(0,Le.OH)(Qe.GP(T.loyaltyPointsAmount,{loyaltyPointsAmount:y}))),v&&a().createElement("div",(0,Le.OH)(Qe.GP(T.creditInstallments,{creditInstallmentTerm:k,creditInstallmentAmount:v}))),h&&a().createElement("div",(0,Le.OH)(h)),E&&a().createElement("div",(0,Le.OH)(E)))),b&&a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-review-payment-header typography-body"},b),f&&a().createElement("div",null,a().createElement("img",{className:Z()({"rs-review-paymenttype-image":n&&"SHOPEEPAY"===n},{"rs-review-momopaymenttype-image":n&&"MOMOPAY"===n},{"rs-review-payment-image":!n}),src:f,alt:A,height:L,width:P})),w&&a().createElement("div",(0,Ie.A)({className:"rs-review-payment-description typography-body-reduced"},(0,Le.OH)(w))),S&&a().createElement("div",{className:"rs-review-payment-type"},S),C&&a().createElement("div",{className:"rs-review-payment-account-name"},C)),N&&a().createElement("div",(0,Ie.A)({className:"rs-review-payment-description typography-body-reduced"},(0,Le.OH)(N))))),c&&a().createElement(Tw,{hasCCI:c},a().createElement(dl.A,{modKey:Re.qE,sectionHeadingTag:"h3",isFullWidth:!0}))))},Xw=({modKey:e})=>{const[t]=(0,k.lE)(e),n=null!==(t.taxRegNumber||t.taxOffice);return a().createElement(Jw,{hasTaxDetails:n,header:t.header,paymentType:t.paymentType,hidePaymentLogo:t.hidePaymentLogo,displayPaymentType:t.displayPaymentType,paymentTypeLabel:t.paymentTypeLabel,cardNumber:t.cardNumber,bankName:t.bankName,hasCCI:t.hasCCI,orderTotal:t.orderTotal,cciFee:t.cciFee,totalWithCCIFee:t.totalWithCCIFee,expirationDate:t.expirationDate,label:t.label,loyaltyPointsAmount:t.loyaltyPointsAmount,creditInstallmentAmount:t.creditInstallmentAmount,creditInstallment:t.creditInstallment,noCostEMILabel:t.noCostEMILabel,sectionHeader:t.sectionHeader,labelImageUrl:t.labelImageUrl,labelImageAlt:t.labelImageAlt,imageHeight:t.imageHeight,imageWidth:t.imageWidth,description:t.description,savingsDescription:t.savingsDescription,type:t.type,businessAccountName:t.businessAccountName,creditInstallmentTerm:t.creditInstallmentTerm,creditInstallmentApr:t.creditInstallmentApr})},Qw=a().memo(Xw),eN=()=>{const[e]=(0,k.lE)(Re.Eb),t=e.taxRegime;return e.taxRegNumber?a().createElement(dl.V,{className:Z()("rs-review-billing-cards",{"rs-billing-review-vatid":!t}),sectionHeadingTag:"h3",layout:e.layout,data:e}):null},tN=a().memo(eN),aN=({orderTotal:e,interest:t,totalWithInterest:n,header:r,labelImageUrl:s,labelImageAlt:l,mixedTotalFinancedLabel:i,mixedFinancedByLabel:o,mixedTotalFinanced:c,hasZiniaInstallments:m,hasAdditionalDetails:d,description:u})=>{const{assets:p,viewport:g}=(0,Y.S)(),y="small"===g;return a().createElement("div",{className:Z()("rs-financing-partner-section row large-12 small-12",{"rs-financing-partner-additional-details-section":d})},a().createElement("div",{className:Z()({"column large-6 small-12":d,row:!m})},a().createElement("div",{className:"rf-form-layout-section rf-form-layout-section-partner column large-4 small-12"},a().createElement("div",{className:"rf-form-layout-section-header"},o||r),a().createElement(kt.Ay,{src:s,alt:l})),c&&a().createElement("div",{className:"rf-form-layout-section column large-4 small-12"},a().createElement("div",{className:"rf-form-layout-section-header"},i),a().createElement("div",{className:"rs-address-form-label"},c)),!y&&m&&a().createElement(Tw,null,a().createElement(dl.A,{modKey:Re.Ms,sectionHeadingTag:"h3",isFullWidth:!0}))),a().createElement("div",{className:Z()({"column large-6 small-12":d})},u&&a().createElement("div",{className:"rf-form-layout-section column"},a().createElement("div",{className:"rf-form-layout-section-header"},u)),e&&a().createElement("div",{className:"rf-form-layout-section column"},a().createElement("div",{className:"rf-form-layout-section-header"},p.orderTotalLabel),a().createElement("div",{className:"rs-address-form-label"},e)),t&&a().createElement("div",{className:"rf-form-layout-section column"},a().createElement("div",{className:"rf-form-layout-section-header"},p.interestCharged),a().createElement("div",{className:"rs-address-form-label"},t)),n&&a().createElement("div",{className:"rf-form-layout-section column"},a().createElement("div",{className:"rf-form-layout-section-header"},p.totalCostWithInterest),a().createElement("div",{className:"rs-address-form-label"},n))),y&&m&&a().createElement(Tw,null,a().createElement(dl.A,{modKey:Re.Ms,sectionHeadingTag:"h3",isFullWidth:!0})))},nN=({modKey:e,modName:t})=>{const[n]=(0,k.lE)(e);return a().createElement(aN,{orderTotal:n.orderTotal,interest:n.interest,totalWithInterest:n.totalWithInterest,header:n.header,labelImageUrl:n.labelImageUrl,labelImageAlt:n.labelImageAlt,mixedTotalFinanced:n.mixedTotalFinanced,mixedTotalFinancedLabel:n.mixedTotalFinancedLabel,mixedFinancedByLabel:n.mixedFinancedByLabel,description:n.description,hasZiniaInstallments:t===Re.Zk,hasAdditionalDetails:[Re.uE,Re.Zk].includes(t)})},rN=a().memo(nN),sN=({orderTotal:e,interest:t,totalWithInterest:n,paymentLabel:r,paymentType:s})=>{const{assets:l,viewport:i}=(0,Y.S)(),o="small"===i;return a().createElement("div",{className:"rs-digitalfinance-section row large-12 small-12"},o&&a().createElement("div",{className:"row"},a().createElement("div",{className:"rf-form-layout-section column large-4 small-12"},a().createElement("div",{className:"rf-form-layout-section-header"},r),a().createElement("div",{className:"rs-address-form-label"},s))),a().createElement("div",{className:"row"},a().createElement("div",{className:"rf-form-layout-section column large-4 small-12"},a().createElement("div",{className:"rf-form-layout-section-header"},l.orderTotalLabel),a().createElement("div",{className:"rs-address-form-label"},e)),a().createElement("div",{className:"rf-form-layout-section column large-4 small-12"},a().createElement("div",{className:"rf-form-layout-section-header"},l.interestCharged),a().createElement("div",{className:"rs-address-form-label"},t)),a().createElement("div",{className:"rf-form-layout-section column large-4 small-12"},a().createElement("div",{className:"rf-form-layout-section-header"},l.totalCostWithInterest),a().createElement("div",{className:"rs-address-form-label"},n))),!o&&a().createElement("div",{className:"row"},a().createElement("div",{className:"rf-form-layout-section column large-4 small-12"},a().createElement("div",{className:"rf-form-layout-section-header"},r),a().createElement("div",{className:"rs-address-form-label"},s))))},lN=()=>{const[e]=(0,k.lE)(Re.li);return a().createElement(sN,{orderTotal:e.orderTotal,interest:e.interest,totalWithInterest:e.totalWithInterest,paymentLabel:e.header,paymentType:e.paymentType})},iN=a().memo(lN),oN=({corporateIdLabel:e,corporateId:t,businessNameLabel:n,businessName:r})=>a().createElement("div",{className:"large-12 small-12 rs-review-billing-cards"},a().createElement("div",{className:"rf-form-layout-section"},a().createElement("div",{className:"rf-form-layout-section-header"},e),a().createElement("div",{className:"rs-address-form-label"},t),a().createElement("div",{className:"rf-form-layout-section-header"},a().createElement("span",null,n)),a().createElement("div",{className:"rs-address-form-label"},a().createElement("span",null,r)))),cN=()=>{const[e]=(0,k.lE)(Re.Jc);return a().createElement(oN,{corporateIdLabel:e.corporateIdLabel,corporateId:e.corporateId,businessNameLabel:e.businessNameLabel,businessName:e.businessName})},mN=a().memo(cN),dN=a().lazy((()=>__webpack_require__.e(888).then(__webpack_require__.bind(__webpack_require__,991)))),uN=({billingRef:e,modName:t,modKey:n,paymentError:r})=>{if(t.startsWith("cc"))return a().createElement(Qw,{modKey:n});switch(t){case"address":return a().createElement(Dw,null);case"appleAccountBalanceReview":return a().createElement(Fw,null);case"buyFlowInstallmentsReview":return a().createElement(_w,null);case"financeReview":return a().createElement(Kw,null);case"giftCardReview":return a().createElement(Ww,null);case"iUPEligibilityReview":return a().createElement(qw,null);case"loanEligibilityReviewModule":case"barclaysLoansEligibility":return a().createElement(Zw,{modKey:n});case"vatID":return a().createElement(tN,null);case"bundle":return a().createElement(a().Suspense,{fallback:null},a().createElement(dN,{modKey:n,billingRef:e,paymentError:r}));case"initBundle":return a().createElement(a().Suspense,{fallback:null},a().createElement(dN,{modKey:n,paymentError:r}));case"affirmReview":case"ziniaReview":case"tamaraReview":return a().createElement(rN,{modKey:n,modName:t});case"momoInstallmentsReview":return a().createElement(iN,null);case"enterpriseInvoiceReview":return a().createElement(mN,null);case"paidyReview":return a().createElement(rN,{modKey:n});default:return a().createElement(Qw,{modKey:n})}},pN=({billingReviewModData:e,billingReviewModKey:t,paymentError:n,showAmountSplit:r})=>a().createElement("div",{className:"column large-9 small-12 rs-review-billing-details"},a().createElement("div",{className:"row"},e&&e.map((e=>a().createElement("div",{key:`review-billing-${e}`,className:e.includes("momoInstallmentsReview")||e.includes("paidyReview")||e.includes("bundle")||e.includes(Re.uE)||e.includes(Re.Zk)||e.includes("cc-0")&&r?"column large-12":"column large-6 small-12"},e.map((e=>a().createElement(uN,{key:`review-billing-${e}`,modName:e,modKey:`${t}.${e}`,paymentError:n})))))))),gN=({billingRef:e,paymentError:t})=>{const[n]=(0,k.Ej)(Re.t,"buyFlowInstallments"),r=(0,k.M1)(Re.bW),s=(0,k.M1)(`${Re.hu}.affirmReview`),l=(0,k.M1)(`${Re.hu}.paidyReview`),i=s||l,o=(0,k.W4)(Re.hu,"edit"),[c]=(0,k.Ej)(Re.t,"isCciSelected"),[m]=(0,k.Ej)(`${Re.hu}.cc-0`,"hasCCI"),d=(0,k.M1)(Re.jL),u=(0,k.M1)(Re.e3),[p]=(0,k.lE)(Re.hu),{editLabel:g,editLabelA11y:y}=p,v=g&&o.binding.bindExists&&!u,h={...o.props,className:"as-buttonlink more rs-review-change","data-autom":"billing-changeLink"},E=m&&c;return a().createElement(Lw,{billingRef:e,editButtonLabel:g,editButtonA11yLabel:y,showEditButton:v,editButtonProps:h,hasShipmentFlipOverlay:d,shipmentFlipOverlay:a().createElement(lE,{groupModKey:Re.hu}),hasFinancePartner:i,hasWebInstallments:n,hasCarrierFinancePromo:r,billingReviewLayout:a().createElement(pN,{showAmountSplit:E,billingReviewModData:p.layouts||[],billingReviewModKey:Re.hu,paymentError:t})})},yN=a().memo(gN),vN=({overlayError:e,errorLabel:t,editLabel:n,changeDeliveryProps:r})=>a().createElement("div",{className:"rs-review-idl-overlay"},a().createElement("div",{className:"rs-review-idl-error"},e,a().createElement("p",null,`${t} `,a().createElement("button",(0,Ie.A)({type:"button",className:"as-buttonlink"},r),n)))),hN=({enableContinue:e,continueLabel:t,continueProps:n})=>a().createElement(a().Fragment,null,a().createElement($m,{modKey:Re.$D}),e&&a().createElement("div",{className:"rs-delivery-selection-section"},a().createElement(Wt.A,n,t))),EN=()=>{const{props:e}=(0,k.W4)(Re.$D,"continue"),[t]=(0,k.lE)(Re.$D),{enableContinue:n,continueLabel:r}=t;return a().createElement(hN,{enableContinue:!!n,continueLabel:r,continueProps:e})},bN=(0,t.memo)(EN),fN=({showOverlay:e,dismissOverlay:t,isImmediateDeliveryAvailable:n,overlayHeader:r,showSubheader:s,overlaySubHeader:l,overlayError:i,editLabel:o,errorLabel:c,changeDeliveryProps:m})=>{const{viewport:d}=(0,Y.S)();return a().createElement(Ke.A,{visible:e,isFullscreen:"small"===d,onClose:t,className:"rs-review-idl-overlay"},a().createElement("div",{className:"rs-review-idl-header-section"},a().createElement("h2",null,r),s&&a().createElement("p",null,l)),n?a().createElement(bN,null):a().createElement(vN,{overlayError:i,errorLabel:c,editLabel:o,changeDeliveryProps:m}))},AN=()=>{const e=(0,k.M1)(Re._9),{props:t}=(0,k.W4)(Re.$D,"changeDelivery"),[n]=(0,k.lE)(Re.$D),[r,s]=(0,k.Ej)(Re.$D,"deliveryTimeSlotErrorOverlay",!1),{overlayError:l,overlayHeader:i,overlaySubHeader:o,editLabel:c,errorLabel:m,isIdlUnavailble:d}=n;return a().createElement(fN,{showOverlay:r,dismissOverlay:()=>s(!1),isImmediateDeliveryAvailable:e,overlayHeader:i,showSubheader:!d,overlaySubHeader:o,overlayError:l,editLabel:c,errorLabel:m,changeDeliveryProps:t})},wN=a().memo(AN),NN=({header:e,content:t,shouldShowCheckbox:n,checkboxProps:r})=>a().createElement("fieldset",{className:"rs-optin-review"},a().createElement("legend",{className:"rs-optin-review-header"},a().createElement("h2",{className:"rs-optin-review-title typography-label"},e)),n&&a().createElement(Vn.A,r,a().createElement("span",(0,Ie.A)({className:"rs-optin-review-content typography-body-reduced"},(0,Le.OH)(t))))),SN=({modKey:e})=>{const[t]=(0,k.lE)(e),{headerLabel:n,shouldShowCheckbox:r,optInCheckboxContent:s}=t,l=(0,k.DZ)(e,"optInCheckbox");return C().isEmpty(t)?null:a().createElement(NN,{header:n,content:s,shouldShowCheckbox:r,checkboxProps:l.props})},CN=a().memo(SN),kN=({hasBundleUpgrade:e,appleCreditBalance:t,appleAccountBalanceDisclaimer:n})=>{const{assets:r}=(0,Y.S)(),s=e?r.appleCreditBalanceLabel:r.appleAccountBalance;return a().createElement("div",{className:"row rs-applecredit-container"},a().createElement("div",{className:"column large-3 small-12"},a().createElement("h2",{className:"rs-review-title"},s)),a().createElement("div",{className:"column rs-applecredit large-9 small-12"},a().createElement("h3",{className:"rs-applecredit-header"}," ",t),a().createElement("p",{className:"rs-applecredit-disclaimer"},n)))},IN=()=>{const[e]=(0,k.lE)(Re.Ch),{appleAccountBalance:t,appleAccountBalanceDisclaimer:n,hasBundleUpgrade:r}=e;return a().createElement(kN,{hasBundleUpgrade:r,appleCreditBalance:t,appleAccountBalanceDisclaimer:n})},PN=a().memo(IN),LN=({hasFinancePartner:e,hasBuyFlowInstallmentsFinancing:n,hasCarrierFinancePromoSummary:r,hasMonthlySummary:s,hasReviewSummary:l,hasInstallmentsFinancing:i,installmentsHeader:o,hasItemsBilledSeparately:c,hasCashBackReview:m,hasSegmentSavingsMessages:d,showTermsLast:u,showTradeInAfterReviewSummary:p,hasMultipleFlexTradeIn:g,hasDeviceTradeinServicesSummary:y,xMerch:v,reviewHeader:h,reviewSubHeader:E,emailInfoHeader:b,emailInfoSubHeader:f,showInstallmentsExample:A,reviewSummaryHeader:w,cashBackReviewHeader:N,cashBackReviewContent:S,cashBackReviewMessage:C,reviewSummaryContent:k,reviewNotificationBanner:I,reviewRCCToolBar:P,reviewMessages:L,invalidPaymentMessages:T,reviewErrorMsg:O,topCheckoutButton:D,shipmentFlipOverlay:x,shippingFlipLoanOverlay:M,fulfillmentReview:F,shippingReview:B,fapiaoReview:R,pickupContactReview:_,tradeInReview:$,termsAndConditionsReview:H,bundleTermsAndConditionReview:K,accountsReview:V,billingReview:U,invoiceReview:W,isTermsLast:G,showTradeInAfterPayment:j,showTermsAfterMultipleFlexTradeIn:q,itemsBilledSeparately:z,monthlyServiceSummary:J,tradeUpSummary:X,continueButton:Q,placeOrderErrorOverlay:ee,idlErrorOverlay:te,chat:ae,faq:ne,footer:re,hasIupSummary:se,iUpSummary:le,cmkManagePaymentsState:ie,cmkManagePaymentsScreen:oe,optInReview:ce,appleAccountCreditsBalance:me,hasPartnerZinia:de})=>{const{assets:ue}=(0,Y.S)(),pe=(0,t.useRef)(null);(0,t.useEffect)((()=>{pe&&pe.current&&pe.current.focus()}),[pe]);const ge=u&&g&&!de&&!q,ye=u&&a().createElement("div",{className:o?"rs-review-termslast-noborder":"rs-review-termslast"},H);return a().createElement("div",{className:Z()("rs-review",{"rs-review-bundle":K})},I,v.topBanner&&a().createElement("div",(0,Ie.A)({className:"rs-checkout-topmerch"},(0,Le.OH)(v.topBanner))),P,null!==ie&&oe,a().createElement("div",{className:Z()("as-l-container",{"rs-review-bundle-cmk-mp-ready":"ready"===ie})},O,L,T,a().createElement("h1",{id:"rs-checkout-header",className:"rs-review-header rs-checkout-headerfocus",ref:pe,tabIndex:"-1"},a().createElement("span",{role:"text"},h&&a().createElement("span",(0,Ie.A)({className:"rs-review-header-text"},(0,Le.OH)(h))),E&&a().createElement("span",(0,Ie.A)({className:"rs-review-subheader"},(0,Le.OH)(E))))),window.showTopCheckoutButton&&a().createElement("div",{id:"mvt-rs-review-action",className:"rs-review-action"},D),b&&a().createElement("div",{className:"rs-review-header"},a().createElement("span",(0,Le.OH)(b)),a().createElement("span",(0,Ie.A)({className:"rs-review-emailinfo-subheader typography-body"},(0,Le.OH)(f)))),x,M,F,B,_,R,$,!g&&(n&&!o||r)?[u?void 0:H,ce,V,U,W]:G,l&&a().createElement("div",{className:Z()("rs-review-summary",{"rs-review-installments-summary":i,"rs-review-segmentsavings":d})},!(n||r||s)&&a().createElement("h2",{className:Z()("rs-review-title",{"column large-3 small-12":i})},w||ue.reviewSummaryHeader),n&&(o||e)&&a().createElement("div",{className:"row"},a().createElement("h2",{className:Z()("rs-review-title",{"column large-3 small-12":n})},w||ue.reviewSummaryHeader),o&&a().createElement("h2",{className:Z()("rs-review-installments-header typography-label",{"column large-6 small-12":o})},o)),k),p&&X,c&&a().createElement("div",{className:"rs-review-itembilledseparately"},z),J,me,m&&a().createElement("div",{className:Z()("row rs-review-cashback",{"rs-review-cashback-termslast":u})},a().createElement("div",{className:"column large-3 small-12"},a().createElement("h2",{className:"rs-review-title"},N)),a().createElement("div",{className:"column large-9 small-12 rs-review-cashbackdesc"},a().createElement("div",{className:"row"},a().createElement("p",(0,Ie.A)({className:"rs-review-cashbackamount"},(0,Le.OH)(S))),a().createElement("p",(0,Le.OH)(C))))),se&&a().createElement("div",{className:"rs-checkout-review-iup"},le),ge&&ye,y&&!j&&a().createElement("div",{className:"rs-review-summary-trade-up"},X),!ge&&ye,K&&a().createElement("div",{className:"row rs-termsandconditions-bundle"},a().createElement("div",{className:"column large-3 small-12"},a().createElement("h2",{className:"rs-review-title"},ue.reviewTermsAndConditions)),a().createElement("div",{className:"column large-9 small-12"},K)),a().createElement("div",{className:"rs-review-action"},Q),ee),te,v.pageMerch&&a().createElement("div",(0,Ie.A)({className:"rs-checkout-pagemerch"},(0,Le.OH)(v.pageMerch))),a().createElement("div",{className:"rs-checkout-chatfaq-wrapper"},ae),A&&a().createElement("div",(0,Ie.A)({className:"rs-checkout-financingdata-wrapper"},(0,Le.OH)(A))),ne,re)},TN=({isToolbarLoadingSubmit:e,toolbarSuccessMessage:n,isToolbarExpanded:r,rccToolbarCustomerId:s,rccToolbarAgentName:l,showToolbarOptions:i,isSavedCart:o,isThankYouToolBar:c,isCheckoutToolBar:m,commentsFieldProps:d,notificationBanner:u,rccHeaderLinks:p,productQuickLinks:g,rccOptions:y,dealCloserOverlay:v})=>{const{assets:h,viewport:E}=(0,Y.S)(),b="small"===E,[f,A]=(0,t.useState)([]),[w,N]=(0,t.useState)(r||!1),S=!o&&!m&&!c,C=0===f.length?h.showProductLinks:h.hideProductLinks,k=w?h.hideToolbar:h.viewToolbar,I=a().createElement("button",{type:"button",className:Z()("as-buttonlink icon icon-after rs-rcctoolbar-button",{row:b},{"icon-chevronup rs-rcctoolbar-hidetoolbar":w},{"icon-chevrondown rs-rcctoolbar-viewtoolbar":!w}),onClick:()=>{N(!w)}},k);return a().createElement("div",{className:"rs-rcctoolbar-container","data-trigger-context":!0,"aria-label":h.rccDashBoardA11y,role:"region"},a().createElement(J.Jg,{isPending:e,messages:{pending:h.processing,finished:n}}),u,a().createElement("div",{className:"rs-rcctoolbar-header as-l-container"},a().createElement("div",{className:"row rs-rcctoolbar-header-info"},a().createElement("div",{className:"rs-rcctoolbar-appleid",tabIndex:"-1"},s),a().createElement("div",{className:"rs-rcctoolbar-headerright"},a().createElement("div",{className:"rs-rcctoolbar-agent-name"},l),!b&&I)),b&&I,a().createElement(j.x,{in:w},p,i&&a().createElement("div",{className:"rs-rcctoolbar-options row"},a().createElement("div",{className:"column large-6 small-12"},y,v),a().createElement("div",{className:"rs-rcctoolbar-comments column large-6 small-12"},a().createElement(Ci,(0,Ie.A)({},d,{className:"rs-form-textbox-textarea"})))),S&&g&&a().createElement("div",{className:"as-l-container"},a().createElement("div",{className:"rs-rcctoolbar-productlinks"},a().createElement(ma,{index:f,handleChange:A,id:"rs-rcctoolbar-productlinks",compact:!0,onClick:()=>{oe({action:C,feature:"Agent",eVar:se})}},a().createElement(ca,{title:C,withPlus:!1,withChevron:!0,role:"listitem",iconAttrs:{"aria-hidden":"true"},classes:{root:"rs-rcctoolbar-accordionitem"}},a().createElement("div",(0,Ie.A)({className:"row rs-rcctoolbar-drawer"},(0,Le.OH)(g))))))))))},ON=({id:e,messages:t,messageLastUpdated:n,isEmailOverlayVisible:r,setEmailOverlayVisible:s,emailBagButtonProps:l,messageFieldProps:i,sendButtonProps:o,toEmailFieldProps:c,email2FieldProps:m,email3FieldProps:d,email4FieldProps:u,email5FieldProps:p})=>{const{assets:g}=(0,Y.S)();return a().createElement("div",{className:"rs-rcctoolbar-emailoverlay-editbag rs-rcctoolbar-link"},a().createElement("button",(0,Ie.A)({},l,{type:"button",className:"as-buttonlink"}),g.emailBag),a().createElement(Ke.A,{visible:r,doublePadding:!0,onClose:()=>s(!1),ariaLabel:`${e}-overlayHeading`,fixedWidth:!0},a().createElement("div",{className:"rs-rcctoolbar-emailoverlay"},a().createElement("h2",{className:"rs-rcctoolbar-emailoverlay-header",id:`${e}-overlayHeading`},g.shareViaEmailLabel),a().createElement(ke.A,{messages:t,lastUpdated:n}),a().createElement("div",{className:"rs-rcctoolbar-emailoverlay-section"},a().createElement("div",{className:"rs-rcctoolbar-overlay-subsection"},a().createElement("p",{className:"rs-rcctoolbar-emailoverlay-label"},g.primaryRecipient),a().createElement(ki.A,c)),a().createElement("div",{className:"rs-rcctoolbar-emailoverlay-subsection"},a().createElement("p",{className:"rs-rcctoolbar-emailoverlay-label"},g.additionalRecipients),a().createElement(ki.A,m,a().createElement("span",{className:"visuallyhidden"},`${g.additionalRecipientA11y} 1`)),a().createElement(ki.A,d,a().createElement("span",{className:"visuallyhidden"},`${g.additionalRecipientA11y} 2`)),a().createElement(ki.A,u,a().createElement("span",{className:"visuallyhidden"},`${g.additionalRecipientA11y} 3`)),a().createElement(ki.A,p,a().createElement("span",{className:"visuallyhidden"},`${g.additionalRecipientA11y} 4`))),a().createElement("div",{className:"rs-rcctoolbar-overlay-subsection"},a().createElement("div",{className:"rs-rcctoolbar-overlay-message",htmlFor:"emailCartMessageId"},g.messageOptionalLabel),a().createElement(Ci,i))),a().createElement("div",{className:"rs-rcctoolbar-emailoverlay-buttoncontainer"},a().createElement(Wt.A,o,g.sendEmailLabel),a().createElement("div",{className:"rs-rcctoolbar-emailoverlay-cancel"},a().createElement("button",{className:"as-buttonlink",type:"button",onClick:()=>s(!1)},g.cancel))))))},DN=({modKey:e})=>{const{assets:n}=(0,Y.S)(),[r,s]=(0,t.useState)(!1),l=`${e}.toolbarHeader.emailCart`,{properties:i}=(0,k.Yl)(l),[o,c]=(0,k.Ej)(l,"isEmailSent"),[m,d]=(0,k.fL)(l);(0,t.useEffect)((()=>{o&&(s(!1),c(!1))}),[o]);const u={...(0,k.Pf)(l,"message").props,className:"rs-rcctoolbar-emailoverlay-textarea",id:"emailCartMessageId","aria-label":n.emailOverlayMessageA11y,label:"Enter Message"},p=(0,k.W4)(`${e}.toolbarHeader`,"emailBag"),g={...p.props,onClick:e=>{s(!0),oe({action:"EmailBag",feature:"Agent",eVar:se}),p.props.onClick(e)}},y={...(0,k.W4)(l,"send").props,disabled:i.isLoadingSubmit,isLoading:i.isLoadingSubmit},v={...(0,k.Pf)(l,"toEmails").props,label:n.emailAddressLabel},h={...(0,k.Pf)(l,"email2").props,label:n.emailAddressOptional},E={...(0,k.Pf)(l,"email3").props,label:n.emailAddressOptional},b={...(0,k.Pf)(l,"email4").props,label:n.emailAddressOptional},f={...(0,k.Pf)(l,"email5").props,label:n.emailAddressOptional};return a().createElement(ON,{id:l,messages:m,messagesLastUpdated:d,isEmailOverlayVisible:r,setEmailOverlayVisible:s,emailBagButtonProps:g,messageFieldProps:u,sendButtonProps:y,toEmailFieldProps:v,email2FieldProps:h,email3FieldProps:E,email4FieldProps:b,email5FieldProps:f})},xN=a().memo(DN),MN=({isSavedCart:e,isBagToolBar:n,isThankYouToolBar:r,isCheckoutToolBar:s,emailOverlayWithButton:l,hasInstallmentsFinancing:i,clearCustomerLink:o,findCustomerLink:c,clearBagLink:m,saveBagLink:d,editBagLink:u,copyToClipBoardLink:p,copyCartLinkProps:g,returnToBagLink:y})=>{const{assets:v}=(0,Y.S)(),[h,E]=(0,t.useState)(!1);return a().createElement(a().Fragment,null,n&&!r&&a().createElement("div",{className:"row rs-rcctoolbar-header-links"},a().createElement("div",{className:"rs-rcctoolbar-content-left large-6 small-12"},!e&&o,c,m,d,u),a().createElement("div",{className:"rs-rcctoolbar-content-right large-5 small-12"},l,p,a().createElement(Wt.A,g,i?v.copyAcmiBagToClipBoard:v.copyToClipBoard))),s&&!r&&a().createElement("div",{className:"row rs-rcctoolbar-header-links"},a().createElement(Ve,{showOverlay:h,setShowOverlay:E,returnToBagLink:y}),a().createElement("button",{type:"button",id:"returnToBagOverlaySelector",className:"as-buttonlink",onClick:()=>{oe({part:"Checkout",action:"ReturnToBag",feature:"Agent",eVar:se}),E(!0)}},v.returnToBag)))},FN=({buttonProps:e,linkLabel:t})=>a().createElement("div",{className:"rs-rcctoolbar-link rs-load-fadein"},a().createElement("button",(0,Ie.A)({type:"button"},e),t)),BN=({modKey:e,bindKey:t,linkLabel:n,setToolbarSuccessMessage:r})=>{const{assets:s}=(0,Y.S)(),l=(0,k.W4)(`${e}.toolbarHeader`,t),i=l.binding.bindExists,o={...l.props,className:"as-buttonlink",onClick:e=>{switch(e.target.id){case"cart-toolbar-header-clearCustomer":r(s.clearCustomerA11y);break;case"cart-toolbar-header-savedBag":r(s.bagSavedA11y);break;case"cart-toolbar-header-copyToClipBoard":r(s.copyToClipBoardA11y);break;case"cart-toolbar-header-clearEntireBag":r(s.clearBagA11y);break;default:r("")}l.props.onClick(e)}};return i&&a().createElement(FN,{buttonProps:o,linkLabel:n})},RN=a().memo(BN),_N=({modKey:e,isBagToolBar:n,isCheckoutToolBar:s,isThankYouToolBar:l,setToolbarSuccessMessage:i,setFlagNotificationBanner:o})=>{const{assets:c}=(0,Y.S)(),[m]=(0,k.lE)(Ue),d=m.savedCart,{data:u}=(0,k.Yl)(`${e}.toolbarHeader`),p=!!u.cartLink,[g]=(0,k.Ej)(Ge,"buyFlowInstallmentsFinancing"),y={hasDefaultClass:!1,className:"as-buttonlink rs-load-fadein",disabled:!u.cartLink,onClick:()=>{if(oe({action:"CopySharedBagLink",feature:"Agent",eVar:se}),u.cartLink){const e=document.createElement("textarea");document.body.appendChild(e),e.textContent=u.cartLink,e.select(),document.execCommand("Copy"),document.body.removeChild(e),o(!0)}}};return(0,t.useEffect)((()=>{if(u.cartLink){((e,t)=>{const a=(0,r.A)("utils/sendBagIdToPrism");try{e&&window.webkit&&window.webkit.messageHandlers.updateValueFromAOS.postMessage(JSON.stringify({key:t,value:e}))}catch(e){a.error(e)}})(u.cartLink.match(/<SHAREDITEMSID>(.+)<\/SHAREDITEMSID>/)[1],"SHARED_BAG_ID")}}),[u.cartLink]),a().createElement(MN,{isSavedCart:d,isBagToolBar:n,isThankYouToolBar:l,isCheckoutToolBar:s,emailOverlayWithButton:a().createElement(xN,{modKey:e}),hasInstallmentsFinancing:g,clearCustomerLink:n&&!l&&!d&&a().createElement(RN,{modKey:e,bindKey:"clearCustomer",linkLabel:c.clearCustomer,setToolbarSuccessMessage:i}),findCustomerLink:n&&!l&&a().createElement(RN,{modKey:e,bindKey:"findCustomer",linkLabel:c.findCustomer,setToolbarSuccessMessage:i}),clearBagLink:n&&!l&&a().createElement(RN,{modKey:e,bindKey:"clearBag",linkLabel:c.clearBag,setToolbarSuccessMessage:i}),saveBagLink:n&&!l&&a().createElement(RN,{modKey:e,bindKey:"saveBag",linkLabel:c.saveBag,setToolbarSuccessMessage:i}),editBagLink:n&&!l&&a().createElement(RN,{modKey:e,bindKey:"editBag",linkLabel:c.editBag,setToolbarSuccessMessage:i}),copyToClipBoardLink:n&&!l&&a().createElement(RN,{modKey:e,bindKey:"copyToClipBoard",linkLabel:g?c.createAcmiSharedBagLabel:c.createSharedBagLabel,setToolbarSuccessMessage:i,disabled:!p}),copyCartLinkProps:y,returnToBagLink:u.returnToBag})},$N=a().memo(_N),HN=({addToCartModExists:e,isAddToCartLoadingSubmit:t,addToCartFieldProps:n,addToCartButtonProps:r,otherProductsLink:s,holdCodeOptions:l})=>{const{assets:i}=(0,Y.S)();return a().createElement(a().Fragment,null,e&&a().createElement("div",{className:"row rs-rcctoolbar-addtocart-otherproducts-wrapper"},a().createElement(J.Jg,{isPending:t,messages:{pending:i.processing,finished:i.itemAddedSucessAlly}}),a().createElement(ki.A,n,t?a().createElement("div",{role:"img",className:"rs-rcctoolbar-loading waitindicator waitindicator16-gray","aria-label":i.processing}):a().createElement(ki.M,r,i.addToBagLabel)),s&&a().createElement("div",{className:"rs-rcctoolbar-otherproducts column"},a().createElement("a",{href:s,target:"_blank",className:"icon-wrapper",onClick:()=>{oe({action:"OtherProducts",feature:"Agent",eVar:se})}},a().createElement("span",{className:"icon-copy"},i.otherProducts,a().createElement("span",{className:"visuallyhidden"},i.newWindowAlly)),a().createElement("span",{className:"more","aria-hidden":"true"})))),l)},KN=({holdCodeDropDownProps:e,defaultSelectLabel:t,holdCodeOptions:n})=>a().createElement("div",{className:"rs-rcctoolbar-hold-code large-10"},a().createElement("div",{className:"form-dropdown"},a().createElement(Gr.A,e,a().createElement(Gr.n,{disabled:!0},t),n.map((e=>a().createElement(Gr.n,{key:`product-${e.label}`,value:e.value},e.label)))))),VN=({modKey:e})=>{const{assets:t}=(0,Y.S)(),[n]=(0,k.lE)(`${e}.toolbarOptions`),{holdCodeOptions:r}=n,s={...(0,k.TP)(`${e}.toolbarOptions`,"holdCode").props,label:t.holdCodeLabel};return a().createElement(KN,{holdCodeDropDownProps:s,defaultSelectLabel:t.selectOne,holdCodeOptions:r})},UN=a().memo(VN),WN=({modKey:e})=>{const{assets:t}=(0,Y.S)(),{data:n}=(0,k.Yl)(`${e}.toolbarOptions`),{modExists:r,properties:s}=(0,k.Yl)(`${e}.toolbarOptions.addToCart`),l=(0,k.Pf)(`${e}.toolbarOptions.addToCart`,"product"),i={...l.props,label:t.partNumber,classes:{root:"column rs-rcctoolbar-partnumber",input:"rs-rcctoolbar-partnumber-input"},"data-trigger-return":"click .form-textbox-button","data-trigger-esc":"click .form-textbox-sidebutton"},o={...(0,k.W4)(s.key,"add-to-cart-button").props,className:"form-textbox-button",disabled:!l.binding.value};return a().createElement(HN,{addToCartModExists:r,isAddToCartLoadingSubmit:s.isLoadingSubmit,addToCartFieldProps:i,addToCartButtonProps:o,otherProductsLink:n.otherProductsLink,holdCodeOptions:Boolean(n.holdCodeOptions)&&a().createElement(UN,{modKey:e})})},GN=a().memo(WN),jN=({priceOptionLabel:e,priceOptionRadioFieldEnabled:t,priceOptionRadioFieldProps:n,products:r=[]})=>{const{assets:s}=(0,Y.S)(),l=Boolean(r.length);return a().createElement(a().Fragment,null,a().createElement(nc.Ay,n,a().createElement("span",{className:"row"},a().createElement("span",{className:"form-selector-left-col column large-6"},a().createElement("span",{className:"form-selector-title"},e)),!t&&a().createElement("span",{className:"form-selector-right-col column large-6"},s.orderUnavailable))),l&&a().createElement("ul",{className:"rs-dealcloseroverlay-productinfo"},r))},qN="order_level",YN="price_match",zN=({isActive:e,priceOptionValue:t,title:n,originalPrice:r,discount:s,maxPriceMatchDiscount:l,discountOptions:i,productDiscountDropdownProps:o,productDiscountTextFieldProps:c})=>{const{assets:m}=(0,Y.S)();return a().createElement(j.x,{in:e},a().createElement("li",null,a().createElement("div",{className:"rs-dealcloseroverlay-innersection"},t!==qN&&a().createElement("p",{className:"rs-dealcloseroverlay-productname"},a().createElement("span",null,n)),a().createElement("div",{className:"rs-dealcloseroverlay-options"},a().createElement("div",{className:"large-7"},a().createElement("p",{className:"rs-dealcloseroverlay-columnheader"},"order_level"===t?m.originalOrderTotalHeader:m.originalPriceHeader),a().createElement("p",{className:"rs-dealcloseroverlay-columncontent"},r)),a().createElement("div",{className:"rs-dealcloseroverlay-dropdown"},a().createElement("div",{className:"rs-dealcloseroverlay-discountlabel"},s,i?a().createElement(Gr.A,o,i.map(((e,t)=>a().createElement(Gr.n,{key:`discount-${e}`,value:0===t?-1:t},e)))):a().createElement(ki.A,c)),t===YN&&a().createElement("div",{className:"rs-dealcloseroverlay-maxdiscount"},`${m.maxDiscountAmount} ${l}`))))))},ZN=({isActive:e,modKey:t,priceOptionValue:n})=>{const{assets:r}=(0,Y.S)(),[s]=(0,k.lE)(t),l={...(0,k.TP)(t,"selectedDealCloserIndex").props,label:r.discountLabel},i={...(0,k.Pf)(t,"deal-discount").props,label:r.discountLabel};return a().createElement(zN,{isActive:e,priceOptionValue:n,title:s.title,originalPrice:s.originalPrice,discount:s.discount,discountOptions:s.discountOptions,maxPriceMatchDiscount:s.maxPriceMatchDiscount,productDiscountDropdownProps:l,productDiscountTextFieldProps:i})},JN=a().memo(ZN),XN=({modKey:e,priceOptionValue:t,priceOptionLabel:n})=>{const[r,s]=(0,k.Ej)(`${e}.toolbarOptions.dealCloserPriceAdjustment`,"priceAdjustmentTab"),{childModKeys:l}=(0,k.Yl)(`${e}.toolbarOptions.dealCloserPriceAdjustment.${t}`),i=(0,k.tx)(`${e}.toolbarOptions.dealCloserPriceAdjustment`,`show-${t}`),o={...i.props,key:i.binding.properties.key,value:t,checked:r===t,disabled:!i.binding.properties.enabled,onChange:e=>{s(e.target.value),i.binding.runClickEvents()}},c=l.map((e=>a().createElement(JN,{key:`product-list-item-${e}`,isActive:r===t,modKey:e,priceOptionValue:t})));return a().createElement(jN,{priceOptionLabel:n,priceOptionRadioFieldEnabled:i.binding.properties.enabled,priceOptionRadioFieldProps:o,products:c})},QN=a().memo(XN),eS=({id:e,overlayProps:t,cancelOverlay:n,priceAdjustmentLabel:r,isToolbarOptionsLoadingSubmit:s,pricingSections:l,priceAdjustmentButtonProps:i,savePriceAdjustmentButtonProps:o,removePriceAdjustmentButtonProps:c,isRemoving:m})=>{const{assets:d}=(0,Y.S)(),{priceAdjustmentLabel:u}=d,p=Boolean(r),g=Z()("as-buttonlink column",{"rs-dealcloseroverlay-change":p}),y=Z()("row",{"rs-dealcloseroverlay-label":p}),v=Z()("large-6",{"small-12":!p}),h=Z()("rs-dealcloseroverlay",{"rs-apply-price-adjustment":!p});return a().createElement("div",{className:h},p&&a().createElement("div",{className:"rs-dealcloseroverlay-label-header"},`${u}:`),a().createElement("div",{className:y},p&&a().createElement("div",{className:"large-6"},r),a().createElement("div",{className:v},a().createElement("div",{className:"row rs-dealcloseroverlay-buttons"},a().createElement(J.Jg,{isPending:s,messages:{pending:d.processing,finished:""}}),a().createElement("button",(0,Ie.A)({},i,{type:"button",className:g}),p?a().createElement(a().Fragment,null,d.changeLabel,a().createElement("span",{className:"visuallyhidden"},u)):d.applyPriceAdjustments),a().createElement(Ke.A,(0,Ie.A)({},t,{className:"rs-dealcloser-overlay",ariaLabel:`${e}-overlayHeading`,fixedWidth:!0,noPadding:!0,footerContent:a().createElement("div",{className:"rs-dealcloseroverlay-buttoncontainer"},a().createElement("div",{className:"rs-dealcloseroverlay-save"},a().createElement(Wt.A,o,d.save),a().createElement(J.Jg,{isPending:o.isLoading,messages:{pending:d.processing,finished:d.itemAddedSucessAlly}})),a().createElement("div",{className:"rs-dealcloseroverlay-cancel"},a().createElement("button",{type:"button",className:"as-buttonlink",onClick:n},d.cancel)))}),a().createElement("div",{className:"rs-dealcloseroverlay-content"},a().createElement("h2",{id:`${e}-overlayHeading`,className:"rs-dealcloseroverlay-header"},d.priceAdjustmentLabel),a().createElement("div",{className:"rs-dealcloseroverlay-section"},a().createElement("fieldset",{className:"form-selector-group"},a().createElement("legend",{className:"rs-dealcloseroverlay-subheader"},d.dealCloserSubHeader),l)))),p&&a().createElement(a().Fragment,null,a().createElement("button",(0,Ie.A)({},c,{type:"button",className:"as-buttonlink"}),m?a().createElement("span",{className:"waitindicator waitindicator-inline waitindicator16-gray column rs-dealcloseroverlay-loading"}):d.remove,a().createElement("span",{className:"visuallyhidden"},d.priceAdjustmentLabel)),a().createElement(J.Jg,{isPending:c.isLoading,messages:{pending:d.processing,finished:d.removedPriceAdjustmentA11y}}))))))},tS=({modKey:e})=>{const t=`${e}.toolbarOptions.dealCloserPriceAdjustment`,[n,r]=(0,k.lf)(t),{data:s,properties:l}=(0,k.Yl)(`${e}.toolbarOptions`),{priceAdjustmentLabel:i}=s,{data:o,properties:c}=(0,k.Yl)(`${e}.toolbarOptions.dealCloserPriceAdjustment`),{priceOptionsAcc:m=[]}=o,d={...(0,k.W4)(`${e}.toolbarOptions`,"priceAdjustment").props,disabled:!s.enablePriceAdjustment,id:"rccApplyPriceAdjustmentsSelector"},u=(0,k.W4)(`${e}.toolbarOptions`,"removePriceAdjustment"),p={...(0,k.W4)(`${e}.toolbarOptions.dealCloserPriceAdjustment`,"save").props,isLoading:c.isLoadingSubmit},g=m.map((t=>a().createElement(QN,{key:t,modKey:e,priceOptionValue:t.value,priceOptionLabel:t.label})));return a().createElement(eS,{id:c.key,overlayProps:n,cancelOverlay:r,priceAdjustmentLabel:i,isToolbarOptionsLoadingSubmit:l.isLoadingSubmit,pricingSections:g,priceAdjustmentButtonProps:d,savePriceAdjustmentButtonProps:p,removePriceAdjustmentButtonProps:u.props,isRemoving:u.binding.properties.isLoadingSubmit})},aS=a().memo(tS),nS=({modKey:e,isBagToolBar:n=!1,isCheckoutToolBar:r=!1,isThankYouToolBar:s=!1})=>{const l=a().useRef(null),{assets:i}=(0,Y.S)(),{customerAppleId:o,notSignedIn:c,specialistLabel:m,noSpecialist:d,comments:u}=i,[p]=(0,k.lE)(Ue),g=p.savedCart,{properties:y}=(0,k.Yl)(e),[v]=(0,k.lE)(`${e}.toolbarHeader`),[h]=(0,k.lE)(`${e}.toolbarOptions`),E=v.toolbarExpanded,b=Boolean(Object.keys(h).length),[f,A]=(0,t.useState)(""),[w,N]=(0,t.useState)(!1),S=`${o} ${v.customerId||c}`,C=`${m} ${v.agentName||d}`,I=(0,k.sW)(),P=(0,k.Pf)(`${e}.toolbarOptions`,"comments"),L={...P.props,label:u,onBlur:t=>{P.props.onBlur(t),I({type:W.Ru.COMMIT,modKey:`${e}.toolbarOptions`,bindName:"comments"})}},T=b&&!g&&!s;return a().createElement(TN,{modKey:e,isToolbarLoadingSubmit:y.isLoadingSubmit,toolbarSuccessMessage:f,flagNotificationBanner:w,headerRef:l,isToolbarExpanded:E,rccToolbarCustomerId:S,rccToolbarAgentName:C,showToolbarOptions:T,isSavedCart:g,isThankYouToolBar:s,isCheckoutToolBar:r,commentsFieldProps:L,notificationBanner:w&&a().createElement(du,{modKey:`${e}.toolbarHeader`,key:"ack-message",headerRef:l,showBindName:"ackBanner",closeBindName:"ack"}),rccHeaderLinks:a().createElement($N,{modKey:e,isBagToolBar:n,isCheckoutToolBar:r,isThankYouToolBar:s,setToolbarSuccessMessage:A,setFlagNotificationBanner:N}),productQuickLinks:v.productQuickLinks,rccOptions:T&&a().createElement(GN,{modKey:e}),dealCloserOverlay:T&&a().createElement(aS,{modKey:e})})},rS=a().memo(nS),sS=({reviewSection:e,editModKey:t})=>{const{assets:n}=(0,Y.S)();return a().createElement("div",{className:"row rs-review-details rs-review-fapiao-details"},a().createElement("div",{className:"column large-3 small-12"},a().createElement("h2",{className:"rs-review-title"},n.reviewFapiaoHeader),a().createElement(ew,{modKey:t})),a().createElement("div",{className:"rs-review-fapiao-content column large-9 small-12"},e))},lS=({invoiceTypeLabel:e,invoiceType:t,accountIdLabel:n,donationOrgCodeLabel:r,accountId:s,donationOrgCode:l})=>a().createElement("div",{className:"rs-review-invoice-details"},a().createElement("div",{className:"rs-review-invoice-section large-6 small-12 rs-review-invoice-paddingbottom"},a().createElement("div",{className:"rs-review-invoice-label"},e),a().createElement("div",{className:"rs-review-invoice-value"},t)),a().createElement("div",{className:"rs-review-invoice-section large-6 small-12"},a().createElement("div",{className:"rs-review-invoice-label"},n||r),a().createElement("div",{className:"rs-review-invoice-value"},s||l))),iS=({modKey:e})=>{const[t]=(0,k.lE)(e),{invoiceTypeLabel:n,invoiceType:r,accountIdLabel:s,donationOrgCodeLabel:l,accountId:i,donationOrgCode:o}=t;return a().createElement(lS,{invoiceTypeLabel:n,invoiceType:r,accountIdLabel:s,donationOrgCodeLabel:l,accountId:i,donationOrgCode:o})},oS=a().memo(iS),cS=({invoiceType:e,taxCodeLabel:t,taxPayerId:n,companyNameLabel:r,companyName:s,addressModKey:l})=>a().createElement("div",{className:"rs-review-invoice-details row"},e&&a().createElement("div",{className:Z()("rs-review-invoice-section rs-review-invoice-paddingbottom",{"large-6 small-12":n||s})},a().createElement("div",{className:"rs-review-invoice-value"},e)),a().createElement("div",{className:"large-4 small-12 rs-review-invoice-section rs-review-invoice-paddingbottom"},a().createElement("div",{className:"rs-review-invoice-label"},t),a().createElement("div",{className:"rs-review-invoice-value"},n)),a().createElement("div",{className:"large-4 small-12 rs-review-invoice-section rs-review-invoice-paddingbottom"},a().createElement("div",{className:"rs-review-invoice-label"},r),a().createElement("div",{className:"rs-review-invoice-value"},s)),a().createElement("div",{className:"column large-4 small-12 rs-review-invoice-column"},a().createElement(dl.A,{modKey:l,isFullWidth:!0}))),mS=({modKey:e})=>{const[t]=(0,k.lE)(e),{invoiceType:n,taxCodeLabel:r,taxPayerId:s,companyNameLabel:l,companyName:i}=t;return a().createElement(cS,{invoiceType:n,taxCodeLabel:r,taxPayerId:s,companyNameLabel:l,companyName:i,addressModKey:`${e}.address`})},dS=a().memo(mS),uS=({taxAddressExists:e,cvatInvoiceData:t,taxAddressModKey:n})=>a().createElement("div",{className:"row"},t.columns.map((t=>a().createElement("div",{key:t,className:"column large-6 small-12 rs-review-invoice-column"},Object.values(t.rows).map((t=>a().createElement("div",{key:t.label,className:"rs-review-invoice-section rs-review-invoice-paddingbottom"},a().createElement("div",{className:"rs-review-invoice-label"},t.label),t.value&&a().createElement("div",{className:"rs-review-invoice-value"},t.value),t.hasTaxAddress&&e&&a().createElement(dl.A,{modKey:n,sectionHeadingTag:"h3",isFullWidth:!0})))))))),pS=({modKey:e})=>{const[t]=(0,k.lE)(e),n=(0,k.Yl)(`${e}.address`);return a().createElement(uS,{taxAddressExists:n.modExists,cvatInvoiceData:t,taxAddressModKey:`${e}.address`})},gS=a().memo(pS),yS=({modKey:e})=>{const t=(0,k.M1)(`${e}.consumerInvoiceReview`),n=(0,k.M1)(`${e}.enterpriseInvoiceReview`),r=(0,k.M1)(`${e}.mediaCDCInvoiceReview`),s=(0,k.M1)(`${e}.mediaHPInvoiceReview`),l=(0,k.M1)(`${e}.donateInvoiceReview`),i=(0,k.M1)(`${e}.evatInvoiceReview`),o=(0,k.M1)(`${e}.invoiceReviewData`),c=a().createElement(a().Fragment,null,t&&a().createElement(dp,{modKey:`${e}.consumerInvoiceReview`,mode:"VIEW"}),n&&a().createElement(yp,{modKey:`${e}.enterpriseInvoiceReview`,mode:"VIEW"}),r&&a().createElement(oS,{modKey:`${e}.mediaCDCInvoiceReview`}),s&&a().createElement(oS,{modKey:`${e}.mediaHPInvoiceReview`}),l&&a().createElement(oS,{modKey:`${e}.donateInvoiceReview`}),i&&a().createElement(dS,{modKey:`${e}.evatInvoiceReview`}),o&&a().createElement(gS,{modKey:`${e}.invoiceReviewData`}));return a().createElement(sS,{reviewSection:c,editModKey:e})},vS=a().memo(yS),hS=({tradeInProductTitle:e,hasMultipleFlexTradeIn:n,appliedTradeInLabel:r,tradeInValue:s,subTitle:l,tradeInCreditLabel:i,tradeInType:o,tradeInCredit:c,outstandingLoan:m,additionalTradeInSummary:d,summary:u,overlayButtonLabel:p,overlayContent:g,sendOmniEvent:y=C().noop,hideTradeInOverlay:v,instantTradeInValue:h,estimatedTradeIn:E})=>{const{assets:b,fragments:f,viewport:A}=(0,Y.S)(),w="small"===A,[N,S]=(0,t.useState)(!1),k=s&&!E&&"ACDC"!==o,I=o?b.totalTradeInLabel:b.tradeInLabel;return a().createElement("div",{className:"rs-tradeup-content"},e&&a().createElement("div",{className:"row rs-tradeup-title"},a().createElement("h3",(0,Ie.A)({className:"rs-tradeup-device-name-label"},(0,Le.OH)(e)))),a().createElement("div",{className:"row"},E&&a().createElement(a().Fragment,null,a().createElement("h3",(0,Ie.A)({className:"rs-tradeup-estimated-label"},(0,Le.OH)(Qe.GP(f.estimatedTradeInLabel,{tradeInValue:s})))),a().createElement("div",(0,Ie.A)({className:"rs-tradeup-estimated-summary"},(0,Le.OH)(b.estimatedTradeInSummary)))),k&&a().createElement("h3",(0,Ie.A)({className:"rs-tradeup-estimated-label"},(0,Le.OH)(n?s:Qe.GP(I,{tradeInValue:s})))),s&&"ACDC"===o&&a().createElement("h3",(0,Ie.A)({className:"rs-tradeup-estimated-label"},(0,Le.OH)(Qe.GP(b.acdcTradeInLabel,{tradeInValue:s})))),h&&a().createElement("h3",(0,Ie.A)({className:"rs-tradeup-estimated-label"},(0,Le.OH)(Qe.GP(b.instantTradeInCreditLabel,{instantTradeInValue:h}))))),l&&a().createElement("p",(0,Le.OH)(l)),m&&a().createElement("div",{className:"rs-tradeup-outstanding-loan"},n?m:Qe.GP(b.outstandingLoan,{outstandingLoan:m})),r&&a().createElement("div",{className:"rs-tradeup-credit"},r),c&&a().createElement("div",{className:"rs-tradeup-credit"},Qe.GP(i,{tradeInCredit:c})),a().createElement("div",(0,Ie.A)({className:Z()("rs-tradeup-summary",{"rs-tradeup-summary-tradein":d})},(0,Le.OH)(u))),d&&a().createElement("div",(0,Ie.A)({className:"rs-tradeup-summary"},(0,Le.OH)(d))),!v&&a().createElement("div",{className:"rs-tradeup-instruction"},a().createElement("button",(0,Ie.A)({id:"tradeup-summary",className:"as-buttonlink",type:"button","aria-label":b.tradeUpLearnMoreA11y,onClick:()=>{S(!0),y()}},(0,Le.OH)(p))),a().createElement(Ke.A,{visible:N,onClose:()=>S(!1),isFullscreen:w,ariaLabel:"pd-overlay-header",fixedWidth:!0,noPadding:!0},a().createElement("div",(0,Le.OH)(g)))))},ES=({multipleFlexTradeIn:e,sendOmniEvent:t})=>{const{assets:n,fragments:r}=(0,Y.S)(),{multipleFlexTradeInSummary:s={}}=n,l=e.length;return a().createElement("div",{className:"rs-mutlipleflex-tradein"},e.map((({deviceName:i,isIPhone:o,installmentsWithTradeIn:c,tradeInType:m,tradeInValue:d,tradeInValueApplied:u,tradeInCredit:p,isGrv:g,grvPercentage:y,isFlexTradeIn:v,accruedInterest:h,tradeInProduct:E},b)=>{let f,A,w;const N=`multiple-flex-trade-in-${b}`;"TRADE_IN_GREATER_THAN_LOAN"===m?o?c?(f=n.multipleFlexAppliedGreaterTradeInMonthlyLabel,A=h?n.multipleFlexWithAccuredInterestCloseoutTradeInLabel:n.multipleFlexCloseoutTradeInMonthlyLabel,w=s[`${m}_MONTHLY${o&&g?"_IPHONE":""}`]):(f=n.multipleFlexAppliedGreaterTradeInLabel,A=h?n.multipleFlexWithAccuredInterestCloseoutTradeInLabel:n.multipleFlexCloseoutTradeInLabel,w=s[`${m}${o&&g?"_IPHONE":""}`]):(f=n.multipleFlexAppliedGreaterTradeInLabel,A=n.multipleFlexCloseoutTradeInLabel,w=s[`${m}_NON_IPHONE_LOB`]):(f=n.multipleFlexAppliedTradeInLabel,A=n.multipleFlexCloseoutTradeInLabel,w=s[`${m}${o&&g?"_IPHONE":""}`]);const S=(e,t,a)=>a&&Qe.GP(e,t),C=S(n.multipleFlexTradeInLabel,{tradeInValue:d},d),k="TRADE_IN_LESSER_THAN_LOAN"!==m&&S(A,{tradeInValueApplied:u,accruedInterest:h},u),I="TRADE_IN_GREATER_THAN_LOAN"===m?p:u,P="TRADE_IN_EQUAL_TO_LOAN"!==m&&S(f,{appliedTradeInValue:I,deviceName:i},I),L="TRADE_IN_MONTHLY_INSTALLMENTS"===m?n.monthlyInstallmentTradeIn:n.tradeInTagLine,T=v?S(w,{deviceName:i,grvPercentage:y},w):L,O=""+(E?`${n.tradeInDevice} ${E}`:"");return a().createElement(hS,{key:N,tradeInProductTitle:O,hasMultipleFlexTradeIn:l,tradeInValue:C,tradeInType:m,outstandingLoan:k,summary:T,additionalTradeInSummary:v&&n.additionalFlexTradeInSummary,sendOmniEvent:t,hideTradeInOverlay:b!==e.length-1,overlayButtonLabel:n.multipleFlexOverlayButtonLabel,overlayContent:r.tradeUpInstructionOverlayContent,appliedTradeInLabel:P})})))},bS=a().memo(ES),fS=({modKey:e,sendOmniEvent:t,isBorderRequired:n})=>{const{assets:r,fragments:s}=(0,Y.S)(),l=(0,k.M1)(`${e}.buyFlowInstallmentsOrderSummary`),{modExists:i,data:{tradeInValue:o,installmentsWithTradeIn:c,isTradeinDropoff:m,tradeInCredit:d,tradeInType:u,showTradeInInstruction:p,outstandingLoan:g,instantTradeInValue:y,showTradeInBalanceGiftMessage:v,subsidyValue:h,multipleFlexTradeIn:E}}=(0,k.Yl)(`${e}.deviceTradeInServicesSummary`),b=c?r.instantTradeInInstruction:r.tradeInInstruction,f=h&&Qe.GP(r.tradeInSubsidyLabel,{subsidyValue:h});let A;A="ACDC"===u?s.acdcTradeUpInstructionOverlayContent:m?s.instantTradeUpInstructionDropoffOverlayContent:c?s.instantTradeUpInstructionOverlayContent:s.tradeUpInstructionOverlayContent;const w=c?r.instantTradeInCredit:r.tradeInCredit;let N=u&&!y;const S="TRADE_IN_MONTHLY_INSTALLMENTS"===u&&o;let C;return v?C=r.tradeinOverfundSummaryInfo:c&&!u?C=r.instantTradeInTagLine:S&&p?N=!1:"TRADE_IN_MONTHLY_INSTALLMENTS"===u&&y?(C=r.tradeUpCreditDesc,N=!1):"ACDC"===u?(C=r.acdcTradeInSummary,N=!1):C=u?s[`instructionsFor_${u.toLowerCase()}${c?"_monthly":""}`]:r.tradeInTagLine,a().createElement(a().Fragment,null,l&&a().createElement("div",{className:"as-l-container rs-fulfillment-webinstallment"},a().createElement(Ms,{modKey:`${e}.buyFlowInstallmentsOrderSummary`,showFinancingMessages:!1})),i&&a().createElement("div",{className:Z()("row rs-checkout-tradeup",{"rs-tradeup-isborder-required":E&&!n})},a().createElement("h2",(0,Ie.A)({className:"column large-3 small-12 rs-tradeup-label"},(0,Le.OH)(r.tradeUpQuote))),a().createElement("div",{className:"column large-9 small-12"},E?a().createElement(bS,{multipleFlexTradeIn:E,sendOmniEvent:t}):a().createElement(hS,{tradeInValue:o,tradeInCreditLabel:w,tradeInType:u,subTitle:f,tradeInCredit:d,outstandingLoan:g,summary:C,overlayButtonLabel:b,overlayContent:A,sendOmniEvent:t,hideTradeInOverlay:N,instantTradeInValue:y,estimatedTradeIn:S}))))},AS=a().memo(fS),wS=({noKeyline:e,hasCoveragePlans:t,hasSubscriptions:n,subscriptionTitle:r,isAnnualCoverage:s,hasRecurringServices:l,isNewAppleMusicSubscriber:i,isNewICloudSubscriber:o})=>{const{assets:c}=(0,Y.S)(),m=Z()("rs-servicessummary-section",{"rs-servicessummary-multisummary":n});let d=c.coverageSubheader;return l?d=c.recurringCoverageSubheader:s&&(d=c.annualCoverageSubheader),a().createElement("div",{className:Z()("row rs-servicessummary-container",{"rs-servicessummary-keyline":e})},a().createElement("div",{className:"column large-3 small-12"},a().createElement("h2",{className:"rs-servicessummary-header"},c.monthlyServicesLabel)),a().createElement("div",{className:"column rs-servicessummary large-9 small-12"},t&&a().createElement("div",{className:m},a().createElement("h3",{className:"rs-servicessection-header"},c.coverageHeader),a().createElement("p",{className:"rs-servicessection-subheader"},d)),n&&a().createElement("div",{className:"rs-servicessummary-section rs-services-summaryrow"},a().createElement("h3",{className:"rs-servicessection-header"},r),a().createElement("p",{className:"rs-servicessection-subheader"},c.subscriptionsSubheader)),a().createElement("div",{className:"rs-servicessummary-note"},c.monthlyServiceNote),i&&a().createElement("p",{className:"rs-services-summaryrow"},c.appleMusicSubscriberLabel),o&&a().createElement("p",{className:"rs-services-summaryrow"},c.iCloudSubscriberLabel)))},NS="applemusic",SS="icloud",CS="year",kS=({modKey:e,noKeyline:t})=>{const[n]=(0,k.lE)(e),{coveragePlans:r=[],subscriptions:s=[],subscriptionTitle:l,hasRecurringServices:i}=n,o=s.some((e=>e.newSubscriberDisclaimer&&e.familyType===NS)),c=s.some((e=>e.newSubscriberDisclaimer&&e.familyType===SS)),m=r.some((e=>e.payFrequency===CS));return a().createElement(wS,{noKeyline:t,hasCoveragePlans:Boolean(r.length),hasSubscriptions:Boolean(s.length),subscriptionTitle:l,isAnnualCoverage:m,hasRecurringServices:i,isNewAppleMusicSubscriber:o,isNewICloudSubscriber:c})},IS=a().memo(kS),PS=({carrierFinancedInfo:e})=>a().createElement("div",{className:"rs-carrier-billedseparately"},a().createElement("div",(0,Ie.A)({className:"row rs-carrier-financed-info"},(0,Le.OH)(e)))),LS=({modKey:e})=>{const[t]=(0,k.Ej)(e,"itemsBilledSeparately"),{assets:{carrierFinancedItemHeader:n},fragments:{carrierFinancedIphoneBilling:r}}=(0,Y.S)(),{carrierFinancedItemHeader:s}=t,l=Qe.GP(r,{carrierFinancedItemHeader:s||n});return a().createElement(PS,{carrierFinancedInfo:l})},TS=a().memo(LS),OS=({isGetReady:e})=>{const t=e?Ks.j0:Re.zQ,[n,r]=(0,k.Ej)(t,"cmkManagePaymentsState"),{assets:s}=(0,Y.S)();return a().createElement(Ut.e2,{show:n===Ut.iT.READY,headerLabel:s.managePaymentsHeaderLabel,continueLabel:s.managePaymentsContinueLabel,onClose:()=>{(0,Ut.Q7)(),r(Ut.iT.CLOSE)}})},DS=({iUpTitle:e,iUpEstCreditMarkup:n,summary:r,overlayButtonLabel:s,overlayContent:l})=>{const[i,o]=(0,t.useState)(!1),{viewport:c}=(0,Y.S)(),m="small"===c;return a().createElement("div",{className:"rs-iup-summary"},a().createElement("div",{className:"row rs-iup-summary-content"},a().createElement("h2",{className:"column large-3 small-12 rs-iup-summary-label"},e),a().createElement("div",{className:"column large-9 small-12"},a().createElement("div",{className:"row"},n),a().createElement("div",{className:"rs-iup-summary-info"},r),a().createElement("div",{className:"rs-iup-summary-instruction"},a().createElement("button",(0,Ie.A)({id:"iup-summary",className:"as-buttonlink",type:"button",onClick:()=>{o(!0),oe({eVar:ne,feature:"Bag page - Link",action:"AOS:overlay/tradein/learn_more_about_upgrade_redemption_process| Selected"})}},(0,Le.OH)(s))),a().createElement(Ke.A,{visible:i,onClose:()=>o(!1),isFullscreen:m,ariaLabel:"rs-iup-overlay-header",fixedWidth:!0,noPadding:!0},a().createElement("div",{className:"rs-iup-summary-overlay as-overlay-content"},a().createElement("div",(0,Le.OH)(l)),a().createElement(ya,null)))))))},xS=({modKey:e})=>{const[t]=(0,k.lE)(e),{tradeInValue:n}=t,{assets:r,fragments:s}=(0,Y.S)(),l=a().createElement("div",{className:"rs-iup-estimated-label"},Qe.GP(r.iUpSummaryCreditLabel,{tradeInValue:n}));return a().createElement(DS,{iUpTitle:r.iUpCreditTitle,iUpEstCreditMarkup:l,summary:r.iUpCreditSummary,overlayButtonLabel:r.iUpCreditOverlayLabel,overlayContent:s.iUpSummaryOverlayContent})},MS=a().memo(xS),FS=()=>{const e=a().useRef(null),t=a().useRef(null),[n,r]=a().useState({}),s=(0,k.Yl)(Re.t),[l]=(0,k.Ej)(Re.jJ,"placements"),i=(0,k.Yl)(Re.Ch),o=(0,k.Yl)(Re.jP),c=(0,k.M1)(Re.lK),m=(0,k.M1)(Re.hY),d=(0,k.M1)(Re.zQ),u=(0,k.M1)(Re.jL),p=(0,k.M1)(Re._H),g=(0,k.M1)(Re.U$),y=(0,k.M1)(Re.Wg),v=(0,k.M1)(Re.db),h=(0,k.M1)(Re.aM)||v,E=(0,k.M1)(Re.X1),b=(0,k.M1)(Re.WL),f=(0,k.M1)(Re.hu),A=(0,k.M1)(Re.lg),w=(0,k.M1)(Re.ye),N=(0,k.M1)(Re.UH),S=(0,k.M1)(Re.zw),C=(0,k.M1)(Re.mO),[I]=(0,k.lE)(Re.mO),P=(0,k.M1)(Re.kH),L=(0,k.M1)(Re.$D),T=(0,k.M1)(Re.Gt),O=(0,k.M1)(Re.nW),D=(0,k.M1)(Re.ZK),x=(0,k.M1)(Re.xn),[M]=(0,k.Ej)(Re.nn,"acmiFromBag"),[F]=(0,k.Ej)(Re.nn,"partnerFinanceFromBag"),B=(0,k.M1)(`${Re.hu}.affirmReview`),R=(0,k.M1)(`${Re.hu}.paidyReview`),_=(0,k.M1)(`${Re.hu}.ziniaReview`),$=B||R||_,[H,K]=(0,k.fL)(Re.zQ),[V,U]=(0,k.fL)(Re.t),W=(0,k.M1)(Re.e3),G=Boolean(s.data.showTermsAfterMultipleFlexTradeIn),j=Object.keys(i.data.buyFlowInstallmentsFinancing||{}).length,q=Boolean(i.data.installmentsHeader),[Y]=(0,k.Ej)(Re.zQ,"cmkManagePaymentsState",W),z=Object.keys(i.data.carrierFinancePromoSummary||{}).length,Z=Object.keys(i.data.monthlySummary||{}).length,J=Object.keys(i.data.installmentsFinancing||{}).length,X=n.messages&&a().createElement(ke.A,{messages:n.messages,lastUpdated:n.lastUpdated}),Q=f&&a().createElement(yN,{billingRef:t,paymentError:X}),ee=a().createElement("div",{className:"rs-checkout-tradeup-summary"},a().createElement(AS,{modKey:Re.t,sendOmniEvent:Ee,isBorderRequired:_})),te=D&&a().createElement(vS,{modKey:Re.ZK}),ae=A&&a().createElement(Pw,null),ne=d&&w&&a().createElement(js,{modKey:Re.ye}),re=N&&a().createElement(js,{modKey:Re.UH,isBundle:!0}),se=s.data.showTradeInAfterPayment&&s.data.showTermsLast&&s.data.isCciSelected,le=s.data.showTradeInAfterPayment?[te,Q,ee,ae,ne]:[te,Q,ae,ne],ie=!D&&s.data.showTradeInAfterPayment||s.data.showInvoiceAfterShipping?le:[Q,te,ae,ne];let oe=[];oe=s.data.showTermsLast&&s.data.hasCVATInvoice?[te,Q,ae]:s.data.showTermsLast&&!q?[Q,te,ae]:s.data.showTermsLast&&q?[te,Q,ae]:ie;const ce=m&&a().createElement(du,{modKey:Re.hY,showBindName:"ackBanner",closeBindName:"ack",headerRef:e}),me=c&&a().createElement(rS,{modKey:Re.lK,isCheckoutToolBar:!0}),de=a().createElement(ke.A,{messages:H,lastUpdated:K}),ue=a().createElement(ke.A,{messages:V,lastUpdated:U}),pe=d&&a().createElement(ea,{modKey:Re.zQ,applePayRequestModKey:Re.ZB,setInvalidPaymentMsg:r,buttonRight:!0,placement:"top"}),ge=(O||M)&&a().createElement(pn,{modKey:Re.nW,buyFlowInstallments:s.data.buyFlowInstallments,partnerFinanceFromBag:F,acmiCheckout:M}),[ye]=(0,k.Ej)(Re.Ch,"appleAccountBalance");return a().createElement(LN,{hasFinancePartner:$,hasRCCToolbar:c,hasBuyFlowInstallmentsFinancing:Boolean(j),hasCarrierFinancePromoSummary:Boolean(z),hasMonthlySummary:Boolean(Z),hasReviewSummary:i.modExists,hasInstallmentsFinancing:Boolean(J),hasItemsBilledSeparately:s.data.itemsBilledSeparately,hasCashBackReview:o.modExists,hasSegmentSavingsMessages:Boolean(i.data.segmentSavingsMessages),showTermsLast:s.data.showTermsLast,hasDeviceTradeinServicesSummary:C,xMerch:l||{},reviewHeader:s.data.reviewHeader,reviewSubHeader:s.data.reviewSubHeader,emailInfoHeader:s.data.emailInfoHeader,emailInfoSubHeader:s.data.emailInfoSubHeader,showInstallmentsExample:s.data.showInstallmentsExample,showTermsAfterMultipleFlexTradeIn:G,reviewSummaryHeader:i.data.header,installmentsHeader:i.data.installmentsHeader,cashBackReviewHeader:o.data.header,cashBackReviewContent:o.data.cashBack,cashBackReviewMessage:o.data.message,hasPartnerZinia:_,reviewSummaryContent:a().createElement(Ms,{modKey:Re.Ch,isAcmi:M,showFinancingMessages:!1}),reviewNotificationBanner:ce,reviewRCCToolBar:me,reviewMessages:de,reviewErrorMsg:ue,topCheckoutButton:pe,shipmentFlipOverlay:u&&a().createElement(lE,null),shippingFlipLoanOverlay:p&&a().createElement(lE,null),fulfillmentReview:g&&a().createElement(qA,null),shippingReview:y&&a().createElement(JA,null),fapiaoReview:h&&a().createElement(pw,null),pickupContactReview:E&&a().createElement(vw,null),tradeInReview:b&&a().createElement(bw,null),termsAndConditionsReview:ne,bundleTermsAndConditionReview:re,optInReview:a().createElement(CN,{modKey:Re.NB}),accountsReview:ae,billingReview:Q,invoiceReview:te,isTermsLast:oe,showTradeInAfterPayment:s.data.showTradeInAfterPayment,showTradeInAfterReviewSummary:se,hasMultipleFlexTradeIn:Boolean(I.multipleFlexTradeIn),itemsBilledSeparately:a().createElement(TS,{modKey:Re.t}),monthlyServiceSummary:S&&a().createElement(IS,{modKey:Re.zw,noKeyline:s.data.itemsBilledSeparately}),appleAccountCreditsBalance:ye&&a().createElement(PN,null),tradeUpSummary:a().createElement(AS,{modKey:Re.t,isBorderRequired:_||G}),continueButton:d&&a().createElement(ea,{modKey:Re.zQ,applePayRequestModKey:Re.ZB,setInvalidPaymentMsg:r,buttonRight:!0,placement:"bottom"}),placeOrderErrorOverlay:P&&a().createElement(nE,null),idlErrorOverlay:L&&a().createElement(wN,null),chat:s.data.shouldShowChat&&a().createElement(ya,null),faq:T&&a().createElement(ua,{modKey:Re.Gt}),footer:ge,hasIupSummary:x,iUpSummary:a().createElement(MS,{modKey:Re.xn}),cmkManagePaymentsState:Y,cmkManagePaymentsScreen:Y&&a().createElement(OS,{billingRef:t})})},BS=a().memo(FS),RS=({tradeInInformation:e,retailStores:t,footerDisclaimer:n})=>{const{assets:r}=(0,Y.S)();return a().createElement("div",{className:"rs-tradein-dropoff"},a().createElement("div",(0,Ie.A)({className:"rs-tradein-information"},(0,Le.OH)(e))),a().createElement("div",{className:"rs-tradein-storedetails-container"},a().createElement("div",{className:"rs-tradein-storeheader"},a().createElement("h2",{className:"rs-tradein-sectiontitle"},r.tradeInAPUStoreHeader)),t.map((e=>{const{storeName:t,phoneNumber:n,retailAddress:r,storeHours:s,specialHours:l,specialHoursLabel:i}=e,o=s.length>0,c=l.length>0;return a().createElement("div",{className:"rs-tradein-storedetails",key:t},a().createElement("h3",{className:"rs-tradein-storename"},t),r&&a().createElement("div",{className:"rs-tradein-storedetails-item rs-tradein-storedetails-address"},a().createElement(dl.V,{data:r,layout:r.layout})),n&&a().createElement("div",{className:"rs-tradein-storedetails-item as-direction-ltr"},n),a().createElement("div",{className:"column large-6 small-12"},o&&a().createElement("div",{className:"rs-tradein-storedetails-item"},s.map((e=>a().createElement("div",{key:e.storeDays,className:"row"},a().createElement("div",{className:"columns large-5","aria-label":e.voStoreDays},e.storeDays),a().createElement("div",{className:"columns large-7 as-direction-ltr"},e.storeTimings))))),c&&a().createElement("div",{className:"rs-tradein-storedetails-item"},a().createElement("span",{className:"rs-tradein-storedetails-subheader"},i),l.map((e=>a().createElement("div",{key:e.storeHolidayDays,className:"row"},a().createElement("div",{className:"columns large-5"},e.storeHolidayDays),a().createElement("div",{className:"columns large-7"},e.storeHolidayTiming)))))))}))),n&&a().createElement("div",{className:"rs-tradein-footer"},n))},_S=()=>{const[e]=(0,k.lE)(Re.XB),{tradeInInformation:t,retailStores:n,footerDisclaimer:r}=e;return a().createElement(RS,{tradeInInformation:t,retailStores:n,footerDisclaimer:r})},$S=a().memo(_S),HS=({recyclingDisclaimer:e})=>a().createElement("div",{className:"rs-tradein-delivery"},a().createElement(gg,{modKey:Re.Yz,noFooter:!0}),e&&a().createElement("div",{className:"rs-tradein-recycledisclaimer"},e)),KS=()=>{const[e]=(0,k.Ej)(Re.Yz,"recyclingDisclaimer");return a().createElement(HS,{recyclingDisclaimer:e})},VS=a().memo(KS),US=({options:e,selectedIndex:t,handleIndexChange:n})=>{const{assets:r}=(0,Y.S)();return a().createElement("div",{className:"column large-6 small-12 large-centered rs-tradein-options"},a().createElement("fieldset",null,a().createElement("legend",{className:"visuallyhidden"},r.tradeinOptionsA11y),a().createElement(nl,{index:t,onChange:n},e.map((e=>a().createElement(al,{key:e.value,label:e.label}))))))},WS=()=>{const[e]=(0,k.Ej)(Re.TK,"tradeInTabOptions"),n=(0,k.LZ)(Re.TK,"selectedTradeInTab"),[r,s]=(0,t.useState)(e.findIndex((e=>e.value===n.value)));return a().createElement(US,{options:e,selectedIndex:r,handleIndexChange:t=>{s(t),n.setValue(e[t].value),n.runSetEvents()}})},GS=a().memo(WS),jS=({pageHeader:e,hasTradeInOptions:t,hasWaitIndicator:n,hasShipping:r,hasDropOff:s,hasTermsAndConditions:l,hasInstallmentsSummary:i,hasTradeInServicesSummary:o,hasContinueButton:c,hasChat:m,isAcmiFromBag:d})=>{const{assets:u}=(0,Y.S)();return a().createElement("div",{className:"rs-checkout-tradein"},a().createElement("div",{className:"as-l-container"},a().createElement("div",null,e&&a().createElement("h1",{id:"rs-checkout-header",className:"rs-tradein-header rs-checkout-headerfocus typography-headline-reduced",tabIndex:"-1"},e),t&&a().createElement(GS,null)),n&&a().createElement("div",{className:"rs-tradein-loading"},a().createElement("div",{role:"img","aria-label":u.processing,className:"waitindicator waitindicator40-gray"})),r&&a().createElement(VS,null),s&&a().createElement($S,null),l&&a().createElement(js,{modKey:Re.b1,isLast:!i}),i&&o&&a().createElement(AS,{modKey:Re.Fu}),c&&a().createElement("div",{className:"rs-checkout-action"},a().createElement(ea,{buttonRight:!0,modKey:Re.Fu,applePayRequestModKey:Re.ZB,webInstallmentSummary:i}))),a().createElement("div",{className:"rs-checkout-chatfaq-wrapper"},m&&a().createElement(ya,null),a().createElement(ua,{modKey:Re.pN})),a().createElement(pn,{modKey:Re.Vp,buyFlowInstallments:i,acmiFromBag:d}))},qS=()=>{const[e]=(0,k.lE)(Re.Fu,"pageHeader"),[t]=(0,k.Ej)(Re.nn,"acmiFromBag"),{modExists:n,properties:{isLoadingSubmit:r}}=(0,k.Yl)(Re.TK),s=(0,k.M1)(Re.Yz),l=(0,k.M1)(Re.XB),i=(0,k.M1)(Re.b1),o=(0,k.M1)(Re.Lf),c=(0,k.M1)(Re.Vs);return a().createElement(jS,{pageHeader:e.pageHeader,hasTradeInOptions:n,hasWaitIndicator:r,hasShipping:!r&&s,hasDropOff:!r&&l,hasTermsAndConditions:i,hasInstallmentsSummary:o,hasTradeInServicesSummary:c,hasContinueButton:Boolean(e.continueLabel),hasChat:e.shouldShowChat,isAcmiFromBag:t})},YS=a().memo(qS),zS=({supportEncryption:e,acmiInfo:t,personalInfoForm:n,addressInfoForm:r,incomeInfoForm:s,isAnnualIncomeOverlayOpen:l,onAnnualIncomeOverlayOpen:i,onAnnualIncomeOverlayClose:o})=>{const{assets:c,fragments:m,viewport:d}=(0,Y.S)(),u="small"===d;return a().createElement("div",{className:"rf-webapply-wrapper"},a().createElement("div",{className:"large-6 small-12"},a().createElement("h1",{className:"rf-webapply-header typography-headline-reduced"},c.webApplyHeader),!e&&a().createElement("div",{className:"small-12 form-alert is-error rf-webapply-enc-error"},c.encryptionNotSupported),t&&a().createElement("p",(0,Ie.A)({className:"rf-webapply-acinfo"},(0,Le.OH)(t)))),a().createElement("div",{className:"rf-webapply-address-layout"},a().createElement("div",{className:"rf-webapply-personalinfo"},n),a().createElement("div",{className:"rf-webapply-addressinfo"},r)),a().createElement("div",{className:"rs-weebapply-income"},a().createElement("div",{className:"rf-webapply-incomeinfo large-6 small-12"},s),a().createElement("div",{className:"rf-webapply-ssn-info"},a().createElement("div",{className:`as-supplementalinfo ${ra.A.BODY_REDUCED}`},a().createElement("div",(0,Le.OH)(m.ssnInfo)),a().createElement("p",{className:"rf-webapply-income-overlay"},a().createElement("button",{type:"button",className:"as-buttonlink",onClick:i},c.annualIncomeOverlay),a().createElement(Ke.A,{visible:l,onClose:o,isFullscreen:u,fixedWidth:!0},a().createElement("div",(0,Le.OH)(m.annualIncomeContent))))))))},ZS=C().get(window,"asMetrics.sendUserInteraction",C().noop),JS=({modKey:e,acmiInfo:n,supportEncryption:r})=>{const[s,l]=(0,t.useState)(!1),i=`${e}.personalInfo.form`,[o]=(0,k.Ej)(i,"dateOfBirth"),[,c]=(0,k.Ej)(i,"dobInvalid"),m=(0,t.useCallback)(c,[]);(0,t.useEffect)((()=>{o&&m(!(e=>{if(!e.match("^((0[1-9])|(1[0-2]))/([0-2][0-9]||3[0-1])/((1[8-9]|[2-9][0-9])[0-9]{2})$"))return!1;const t=e.split("/");let a=t[0],n=t[1],r=t[2];a=Number(a)-1,n=Number(n),r=Number(r);const s=new Date(r,a,n),l=s.getMonth()===a,i=s.getDate()===n;return s.getFullYear()===r&&l&&i})(o))}),[o,m]);return a().createElement(zS,{supportEncryption:r,acmiInfo:n,isAnnualIncomeOverlayOpen:s,onAnnualIncomeOverlayOpen:()=>{l(!0),ZS({name:"metrics",data:{evar4:"aos:apple card:web apply",evar5:"view | application start",prop37:"modal open | sidebar | annual income"}})},onAnnualIncomeOverlayClose:()=>l(!1),personalInfoForm:a().createElement(dl.A,{modKey:i}),addressInfoForm:a().createElement(dl.A,{modKey:`${e}.addressInfo.address`}),incomeInfoForm:a().createElement(dl.A,{isFullWidth:!0,modKey:`${e}.incomeInfo.form`})})},XS=a().memo(JS),QS=({terms:e,pdfTermsLink:t,pdfTermsLabel:n,iframeContent:r,onTermClick:s})=>{const{assets:l}=(0,Y.S)(),i=n&&t;return a().createElement("div",{className:"rf-webapply-termsandconditions large-6 small-12"},a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-9 small-12 rf-webapply-tc-header typography-label"},l.tcHeader),i&&a().createElement("div",{className:"column large-3 small-12 rf-webapply-tc-link"},a().createElement("a",{target:"pdfterms",href:t},n))),a().createElement("div",{className:"rf-webapply-termsandconditons-title"},l.importentText),a().createElement("div",null,l.tcInfo),a().createElement("div",{className:"rf-webapply-termsandconditons-links"},e.map(((e,t)=>a().createElement("button",{type:"button",key:e.termsLabel,onClick:()=>s(e,t),className:"as-buttonlink rf-webapply-termsandconditons-link"},e.termsLabel)))),a().createElement("div",{className:"rf-webapply-termsandconditions-schumer"},a().createElement("iframe",{srcDoc:r,className:"rf-webapply-termsandconditions-schumer-content",title:"termsandconditions-iframe",sandbox:""})))},eC={0:"terms",1:"privacy",2:"communication agreement"},tC=({modKey:e})=>{const[t]=(0,k.lE)(e),{pdfTerms:n={},terms:r=[],schumerContent:s=""}=t;return a().createElement(QS,{terms:r,pdfTermsLink:n.termsLink,pdfTermsLabel:n.termsLabel,iframeContent:s,onTermClick:(e,t)=>{window.open(e.termsLink,"termsWin","width=450,height=773,menubar=no,location=no,status=no"),ZS({name:"metrics",data:{evar6:"view | application start",prop37:`modal open | terms and conditions - ${eC[t]}`}})},onViewAsPDFClick:()=>{ZS({name:"metrics",data:{evar6:"view | application start",evar1:"aos:apple card:web apply | terms and conditions | view as pdf"}})}})},aC=a().memo(tC),nC=(e,t)=>{(e=>{if(window.CustomEvent){const t=new CustomEvent("echoCustomEvent",{detail:e});window.dispatchEvent(t)}})({message:`filetype=${e},filesize=${Math.round(t/1024)}kb`,id:"react.react-trans.imageUpload",type:"lincoln image upload"})},rC=(e,a,n)=>{const[r,s]=(0,t.useState)(""),l=(0,k.ab)(e,a,n);return{...l,props:{...l.props,error:r,onFileChange:e=>{const t=C().get(e,"target.files[0]",null);t&&(nC(t.type,t.size),s("")),l.props.onFileChange(e)},onFileDrop:e=>{const t=C().get(e,"dataTransfer.files[0]",null);var a,n;t&&(a=t,!(n=l.props.accept)||n.split(",").includes(a.type))&&(nC(t.type,t.size),s("")),l.props.onFileDrop(e)},onFileRemove:()=>{s(""),l.props.onFileRemove()}},state:{...l.state,error:r,setError:s}}},sC=({ssnFieldProps:e})=>{const{assets:t}=(0,Y.S)();return a().createElement("div",{className:"rf-webapply-stepup"},a().createElement("h1",(0,Ie.A)({className:"rf-webapply-stepup-header typography-headline-reduced large-6 small-8"},(0,Le.OH)(t.stepUpHeader))),a().createElement("div",{className:"rf-webapply-stepup-ssn"},a().createElement("p",(0,Ie.A)({className:"rf-webapply-stepup-totalassets-para large-6 small-12"},(0,Le.OH)(t.ssnInstructions))),a().createElement("div",(0,Ie.A)({className:"rf-webapply-stepup-ssn-header typography-label large-6 small-12"},(0,Le.OH)(t.ssnHeader))),a().createElement("div",{className:"row"},a().createElement("div",{className:"rf-webapply-stepup-ssn-field column large-6 small-12"},a().createElement(ki.A,e)),a().createElement("div",{className:"column large-6 small-12 rf-webapply-stepup-ssn-info"},a().createElement("div",(0,Ie.A)({className:`as-supplementalinfo ${ra.A.BODY_REDUCED}`},(0,Le.OH)(t.ssnInfo)))))))},lC=({modKey:e})=>{const{assets:t}=(0,Y.S)(),n={...(0,k.Pf)(e,"ssn").props,label:t.webApplySSNLabel,type:"password","data-autom":"step-up-ssn"};return a().createElement(sC,{ssnFieldProps:n})},iC=a().memo(lC),oC=({information:e})=>{const{assets:t}=(0,Y.S)();return a().createElement("div",{className:"rf-webapply-stepup"},a().createElement("h1",(0,Ie.A)({className:"rf-webapply-stepup-header typography-headline-reduced large-6 small-8"},(0,Le.OH)(t.stepUpHeader))),a().createElement("div",{className:"rf-webapply-stepup-shareinfo large-6 small-12"},a().createElement("div",(0,Le.OH)(e)),a().createElement("p",{className:"rf-webapply-stepup-shareinfo-para"},t.shareInfo)))},cC=({modKey:e})=>{const[t]=(0,k.Ej)(e,"information");return a().createElement(oC,{information:t})},mC=a().memo(cC),dC=({totalIncomeProps:e})=>{const{assets:t}=(0,Y.S)();return a().createElement("div",{className:"rf-webapply-stepup"},a().createElement("h1",(0,Ie.A)({className:"rf-webapply-stepup-header typography-headline-reduced large-6 small-8"},(0,Le.OH)(t.stepUpHeader))),a().createElement("div",{className:"rf-webapply-stepup-totalassets large-6 small-12"},a().createElement("p",{className:"rf-webapply-stepup-totalassets-para"},t.totalAssetsInfo),a().createElement("div",{className:"rf-webapply-stepup-totalassets-subheader typography-label","data-autom":"rf-webapply-stepup-totalassets-message"},t.totalAssetsSubHeader),a().createElement("div",{className:"rf-webapply-stepup-totalassets-field"},a().createElement(ki.A,e))))},uC=({modKey:e})=>{const{assets:t}=(0,Y.S)(),n={...(0,k.Pf)(e,"totalIncome").props,label:t.totalValue,"data-autom":"step-up-total-assets-total-income"};return a().createElement(dC,{totalIncomeProps:n})},pC=a().memo(uC),gC=({content:e})=>a().createElement("div",{className:"as-chat rs-chat"},a().createElement("div",(0,Ie.A)({className:"as-l-container rs-chat-content"},(0,Le.OH)(e)))),yC=({acmiChat:e})=>{const{chatConfig:t}=window,{fragments:n}=(0,Y.S)();let r;return e&&t&&t.chat?r=e:n.chatNow&&t&&t.chat?r=n.chatNow:n.chatNowText&&!t&&(r=n.chatNowText),r?a().createElement(gC,{content:r}):null},vC=()=>{const{assets:e}=(0,Y.S)();return a().createElement("div",{className:"rf-webapply-stepup"},a().createElement("h1",(0,Ie.A)({className:"rf-webapply-stepup-header typography-headline-reduced large-6 small-8"},(0,Le.OH)(e.smsVerifyHeader))),a().createElement("p",(0,Ie.A)({className:"rf-webapply-stepup-smsverify large-6 small-12"},(0,Le.OH)(e.smsverifyInfo))))},hC=({product:e})=>{const{assets:t}=(0,Y.S)(),{imageUrl:n,productDetails:r,monthlyInstallmentsValue:s,installmentItemsAmount:l,price:i}=e;return a().createElement("li",{className:"row rf-webapply-ac-monthly-row"},a().createElement("div",{className:"column large-6 small-6 row"},n&&a().createElement("div",{className:"rf-webapply-resultpage-image column large-4 small-6"},a().createElement("img",{src:n,alt:""})),a().createElement("div",{className:"column large-6 small-6"},r)),a().createElement("div",{className:"column large-6 small-6 rf-webapply-resultpage-installments"},a().createElement("div",{className:"rf-webapply-resultpage-monthly"},s),l?a().createElement(a().Fragment,null,a().createElement("div",(0,Ie.A)({className:"rf-webapply-resultpage-installmentprice"},(0,Le.OH)(l))),a().createElement("div",(0,Le.OH)(Qe.GP(t.installmentItemsAmount,e)))):a().createElement("span",{className:"rf-webapply-resultpage-fullprice"},i)))},EC=({header:e,productList:t,isInstallment:n,monthlyPayment:r})=>a().createElement("div",{className:Z()({"rf-webapply-installments":n},{"rf-webapply-payinfull":!n})},a().createElement("h2",{className:"rf-webapply-resultpage-ac-header"},e),a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-6 small-12 rf-webapply-ac-monthly typography-body-reduced"},a().createElement("ul",{className:"list","aria-label":"Products"},t.map((e=>a().createElement(hC,{key:e.productDetails,product:e}))))),n&&a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",{className:`as-supplementalinfo ${ra.A.BODY_REDUCED}`,id:"rs-bankdetails-sectionmessage"},r)))),bC=({isAOSStore:e,resultData:t,termLinkProps:n,continueButtonProps:r,openDeclineOverlayProps:s})=>{const{assets:l}=(0,Y.S)(),{webapplyResultHeader:i,webapplyResultSubHeader:o,webapplyResultInfo:c,installmentItems:m,fullPriceItems:d=[],appleCardLabel:u,imageUrl:p,appleCardApprovedDetails:g,aprInfo:y,appleCardInfo:v,continueLabel:h,monthlyPayment:E}=t;return a().createElement("div",{className:"rf-webapply-resultpage"},a().createElement("h1",{className:"rf-webapply-resultpage-header typography-headline-reduced rs-checkout-headerfocus small-10",tabIndex:-1},i),a().createElement("div",(0,Ie.A)({className:"rf-webapply-resultpage-subheader large-6 small-12"},(0,Le.OH)(o))),a().createElement("p",(0,Ie.A)({className:"rf-webapply-resultpage-para large-6 small-12"},(0,Le.OH)(c))),a().createElement("div",{className:"rf-webapply-resultpage-installments-details"},a().createElement(EC,{header:l.acHeader,productList:m,monthlyPayment:E,isInstallment:!0}),d.length>0&&a().createElement(EC,{header:l.amountCharged,productList:d}),a().createElement("h2",{className:"rf-webapply-resultpage-ac-header"},u),a().createElement("div",{className:"row"},a().createElement("div",{className:"row column large-6 small-12 rf-webapply-ac-section typography-body-reduced"},a().createElement("div",{className:"column large-6 small-6"},p&&a().createElement("div",{className:"rf-webapply-resultpage-image"},a().createElement("img",{src:p,alt:""}))),a().createElement("div",(0,Ie.A)({className:"column large-6 small-6  rf-webapply-resultpage-ac-installments"},(0,Le.OH)(g)))),y&&a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",{className:`as-supplementalinfo rs-bankdetails-supplementalinfo ${ra.A.BODY_REDUCED}`,id:"rs-bankdetails-sectionmessage"},y)),a().createElement("div",{className:"column large-6 small-12 rf-webapply-resultpage-ac-info typography-body-reduced"},a().createElement("div",(0,Le.OH)(v)),n&&a().createElement("p",null,a().createElement("a",(0,Ie.A)({target:"_blank"},n),l.offerTerms,a().createElement("span",{className:"visuallyhidden"},l.newWindowAlly))))),a().createElement("div",{className:"rf-webapply-continuebutton"},a().createElement("div",{className:"large-6 small-12"},a().createElement(Wt.A,r,h||l.approvedContinueLabel),a().createElement("div",{className:"rf-webapply-resultpage-declinepayment"},a().createElement(Wt.A,s,e?l.overlayDeclineLabel:l.declinePaymentLabel))))))},fC=({declineButtonProps:e,cancelButtonProps:t,...n})=>{const{assets:r}=(0,Y.S)();return a().createElement(Ke.A,(0,Ie.A)({},n,{className:"rf-webapply-decline-overlay",fixedWidth:!0}),a().createElement("h1",(0,Ie.A)({id:"decline-overlay-header"},(0,Le.OH)(r.approvedUpOverlayHeader))),a().createElement("p",(0,Le.OH)(r.approvedOverlayInfo)),a().createElement(Wt.A,(0,Ie.A)({},e,{className:"rf-webapply-confirmoverlay-button"}),r.approvedOverlayButton),a().createElement(Wt.A,(0,Ie.A)({},t,{className:"rf-webapply-setup-decline as-buttonlink"}),r.noContinueLabel))},AC="cardApprovedProcess.cardApproved",wC="checkout.acLoanApplication.webApplyThankYou",NC="getReadyCheckout.acLoanApplication.webApplyThankYou",SC=({isAOSStore:e,isGetReady:n})=>{let r="";r=e?n?NC:wC:AC;const{data:s,properties:{isLoadingSubmit:l}}=(0,k.Yl)(r),i=(0,k.W4)(r,"continue"),[o,c]=(0,t.useState)(!1),m={isAOSStore:e,resultData:s,continueButtonProps:{...i.props,isLoading:l,disabled:l||i.props.disabled},termLinkProps:s.offerTermsLink&&{href:s.offerTermsLink,onClick:()=>{ZS({name:"offer-terms-conditions",data:{hier1:"aos:apple card",evar4:"aos:apple card:web apply",prop37:"modal open | sidebar - terms and condition",evar6:"view | application approved"}})}},openDeclineOverlayProps:{hasDefaultClass:!1,className:"as-buttonlink rf-webapply-setup-decline",onClick:()=>{c(!0)}}},d={visible:o,ariaLabel:"decline-overlay-header",onClose:()=>{c(!1)},declineButtonProps:(0,k.W4)(r,"decline").props,cancelButtonProps:{hasDefaultClass:!1,onClick:()=>{c(!1)}}};return a().createElement(a().Fragment,null,a().createElement(bC,m),a().createElement(fC,d))},CC=a().memo(SC),kC=({hasError:e,previewURL:t,hasSelectedFile:n,onDrop:r,onDragOver:s,placeholder:l,unsupportedFileLabel:i,isPreviewSupported:o,hideVisual:c,previewId:m,inputId:d})=>{const u=Z()("rt-imageupload-preview",{"is-error":e});let p=null;return p=n&&!e?o?a().createElement("img",{alt:"",className:"rt-imageupload-preview-image",src:t}):a().createElement("div",{className:"rt-imageupload-unsupported"},a().createElement("span",{className:"icon icon-after icon-checksolid rt-imageupload-unsupported-icon","aria-hidden":"true"}),a().createElement("span",{className:"rt-imageupload-unsupported-title"},i)):l,a().createElement("label",{"aria-hidden":c,onDrop:r,onDragOver:s,className:u,htmlFor:d,id:m||u},p)},IC=({uploadButtonLabel:e,changeButtonLabel:t,hasSelectedFile:n,remove:r,onUploadClick:s,onRemoveClick:l})=>a().createElement("div",{className:"rt-imageupload-select"},n?a().createElement("div",{className:"row justify-content-spacebetween"},a().createElement("button",{type:"button",onClick:s,className:"as-buttonlink"},t),a().createElement("button",(0,Ie.A)({type:"button",onClick:l,className:"as-buttonlink"},(0,Le.OH)(r)))):a().createElement("button",{type:"button",onClick:s,className:"as-buttonlink rt-imageupload-select-uploadbutton"},a().createElement("span",{className:"form-icons form-icons-add19 rt-imageupload-select-uploadicon"}),a().createElement("span",null,e))),PC=["image/jpeg","image/png"],LC=({remove:e,uploadButtonLabel:n,changeButtonLabel:r,unsupportedFileLabel:s,fileSelectedA11y:l,file:i=null,label:o="",error:c="",hideVisual:m=!0,disableDrop:d=!1,description:u=null,placeholder:p=null,onFileRemove:g=C().noop,onFileChange:y=C().noop,onFileDrop:v=C().noop,...h},E)=>{const b=(0,t.useRef)(null),f=(0,Le.E2)(b,E),A=(0,t.useRef)(null),[w,N]=(0,t.useState)(""),[S,k]=(0,t.useState)(!1),I=(0,Q.A)(),P=`image-upload-label-${I}`,L=`image-upload-error-${I}`,T=`image-upload-input-${I}`,O=`image-upload-description-${I}`,D=o?"":P,x=Boolean(i),M=Boolean(c),F=Z()("rt-imageupload",{"is-error":M}),B=M||Boolean(u);(0,t.useEffect)((()=>{if(i){const{type:e}=i;if(PC.includes(e)){const e=URL.createObjectURL(i);N(e),k(!0)}else N(""),k(!1);A.current&&A.current.focus()}else N(""),k(!1)}),[i]);const R=()=>{b.current&&b.current.click()};return a().createElement("div",{className:F},a().createElement("input",(0,Ie.A)({},h,{id:T,type:"file",ref:f,"aria-invalid":M,"aria-labelledby":P,"aria-describedby":`${L} ${O}`,onChange:e=>{b.current&&(b.current.focus(),y(e))},className:"form-selector-input"})),a().createElement("div",{tabIndex:-1,ref:A},l&&x&&!M&&a().createElement("span",{className:"visuallyhidden"},l),a().createElement(kC,{hasError:M,hasSelectedFile:x,previewURL:w,placeholder:p,onDrop:e=>{d||(e.preventDefault(),e.stopPropagation(),b.current&&(b.current.focus(),v(e)))},onClick:R,onDragOver:e=>{d||(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy")},unsupportedFileLabel:s,isPreviewSupported:S,hideVisual:m,previewId:D,inputId:T})),o&&a().createElement("span",{id:P,className:"rt-imageupload-label typography-eyebrow-reduced"},o),a().createElement(IC,{remove:e,hasSelectedFile:x,onUploadClick:R,onRemoveClick:()=>{b.current&&(b.current.value="",g())},uploadButtonLabel:n,changeButtonLabel:r}),B&&a().createElement("div",{className:"rt-imageupload-details typography-body-reduced"},c&&a().createElement("div",(0,Ie.A)({id:L,className:"form-message-wrapper"},(0,Le.OH)(c))),u&&a().createElement("div",{id:O,className:"rt-imageupload-description"},u)))},TC=a().forwardRef(LC),OC=({icon:e,info:t})=>a().createElement("div",{className:"column large-3 small-12 rf-webapply-stepup-photoupload-iconcontainer"},a().createElement("div",(0,Ie.A)({className:"rf-webapply-stepup-photoupload-icon"},(0,Le.OH)(e))),a().createElement("div",(0,Ie.A)({className:"rf-webapply-stepup-photoupload-iconinfo"},(0,Le.OH)(t)))),DC=({frontImageProps:e,backImageProps:t})=>{const{assets:n,fragments:r}=(0,Y.S)(),{defaultFrontImage:s,defaultBackImage:l,iconDelete:i,iconCorners:o,iconFinger:c,iconDark:m,iconGlare:d}=r,{frontImageHeader:u,backImageHeader:p,addImageLabel:g,changeImageLabel:y,acceptFileLabel:v,selectedLabel:h,imageUploadInfo:E,imageUploadPara:b,InstructionsTitle:f,iconCornersInfo:A,iconFingerInfo:w,iconDarkInfo:N,iconGlareInfo:S,idVerify:C,photoIDHeader:k}=n;return a().createElement("div",{className:"rf-webapply-stepup"},a().createElement("div",{className:"as-l-container"},a().createElement("h1",(0,Ie.A)({className:"rf-webapply-stepup-header typography-headline-reduced large-6 small-12"},(0,Le.OH)(k)))),a().createElement("div",{className:"rf-webapply-stepup-photoupload"},a().createElement("div",{className:"as-l-container"},a().createElement("p",(0,Ie.A)({className:"rf-webapply-stepup-photoupload-info large-6 small-12"},(0,Le.OH)(E))),a().createElement("p",(0,Ie.A)({className:"rf-webapply-stepup-photoupload-para large-6 small-12"},(0,Le.OH)(b))),a().createElement("div",(0,Ie.A)({className:"rf-webapply-stepup-photoupload-instructions typography-tout"},(0,Le.OH)(f))),a().createElement("div",{className:"row"},a().createElement(OC,{icon:o,info:A}),a().createElement(OC,{icon:c,info:w}),a().createElement(OC,{icon:m,info:N}),a().createElement(OC,{icon:d,info:S}))),a().createElement("div",{className:"rf-webapply-stepup-photoupload-tile"},a().createElement("div",{className:"as-l-container row"},a().createElement("div",{className:"column large-6 small-12"},a().createElement(TC,(0,Ie.A)({},e,{label:u,placeholder:a().createElement("div",(0,Le.OH)(s)),uploadButtonLabel:g,changeButtonLabel:y,unsupportedFileLabel:h,description:v,remove:i}))),a().createElement("div",{className:"column large-6 small-12 rf-webapply-stepup-photoupload-backimage"},a().createElement(TC,(0,Ie.A)({},t,{label:p,placeholder:a().createElement("div",(0,Le.OH)(l)),uploadButtonLabel:g,changeButtonLabel:y,unsupportedFileLabel:h,description:v,remove:i}))))),a().createElement("div",{className:"as-l-container"},a().createElement("div",{className:"large-6 small-12"},a().createElement("p",(0,Ie.A)({className:"rf-webapply-stepup-photoupload-idinfo"},(0,Le.OH)(C)))))))},xC=({isAOSStore:e,isGetReady:t,messages:n,messagesLastUpdated:r,hasPosChat:s,hasPhotoIdChat:l,acmiOtbValue:i,hasApplicationInfo:o,isStepUp:c,hasStepUpPhotoId:m,hasStepUpSMSVerification:d,hasWebApplyResult:u,photoIDFrontImageProps:p,photoIDBackImageProps:g,showContinueButton:y,continueButtonProps:v,continueButtonLabel:h,continueMessage:E,declineWithdrawButtonProps:b,declineWithdrawButtonLabel:f,skipButtonProps:A,skipButtonLabel:w,loanApplication:N,termsAndConditions:S,stepUpSSN:C,stepUpShareInfo:k,stepUpTotalAssets:I},P)=>{const{assets:L,fragments:T}=(0,Y.S)();return a().createElement("div",{ref:P,className:Z()({"as-l-container":!m})},e?a().createElement("div",{className:"rf-webapply-title-container as-l-container"},a().createElement("div",{className:"rf-webapply-title typography-label"},L.acApplicationTitle)):a().createElement("div",{className:Z()("rf-webapply-appleicon",{"as-l-container":m})},a().createElement("span",{className:"icon icon-apple rf-webapply-appleicon"})),n.length>0&&a().createElement("div",{className:"as-l-container"},a().createElement(ke.A,{messages:n,lastUpdated:r}),s&&a().createElement("div",(0,Ie.A)({className:"rf-webapply-stepup-photoupload-poschat"},(0,Le.OH)(T.posChatNow))),l&&a().createElement("div",{className:"rf-webapply-stepup-photoupload-chatinfo"},a().createElement(yC,{acmiChat:T.idUploadChatNow}))),N,S,C,k,I,m&&a().createElement(DC,{frontImageProps:p,backImageProps:g}),d&&a().createElement(vC,null),u&&a().createElement(CC,{isAOSStore:e,isGetReady:t}),!(c||u)&&a().createElement("p",(0,Ie.A)({className:"rf-webapply-legal-content typography-caption large-6 small-12"},(0,Le.OH)(T.legalContent))),o&&i&&a().createElement("div",(0,Ie.A)({className:"rs-acmiotb large-6 small-12"},(0,Le.OH)(Qe.GP(T.otbMessageWithoutAppleCard,{acmiOtbValue:i})))),y&&a().createElement("div",{className:Z()("rf-webapply-continuebutton",{"rf-webapply-continuebutton-nokeyline":i||c},{"as-l-container":m})},a().createElement("div",{className:"large-6 small-12"},a().createElement(Wt.A,v,h),b&&f&&a().createElement(Wt.A,(0,Ie.A)({},b,{hasDefaultClass:!1,className:"as-buttonlink rf-webapply-setup-decline"}),f),E&&a().createElement("p",(0,Ie.A)({className:"rf-webapply-continuemessage"},(0,Le.OH)(E))))),A&&w&&a().createElement(Wt.A,(0,Ie.A)({},A,{hasDefaultClass:!1,className:"as-buttonlink"}),w))},MC=a().forwardRef(xC),FC=({modKey:e,isAOSStore:n=!1,isGetReady:r=!1})=>{const s=`${e}.applicationInfo`,l=`${e}.termsAndConditions`,i=`${e}.stepUpSSN`,o=`${e}.stepUpShareInfo`,c=`${e}.stepUpTotalAssets`,m=`${e}.stepUpPhotoID`,[d,u]=(0,k.fL)(e),p=(0,k.M1)(s),g=(0,k.M1)(m),y=(0,k.M1)(i),v=(0,k.M1)(o),h=(0,k.M1)(c),E=(0,k.M1)(`${e}.stepUpSMSVerification`),b=(0,k.M1)(`${e}.termsAndConditions`),f=(0,k.M1)(AC),A=(0,k.M1)(wC),w=(0,k.M1)(NC),[N]=(0,k.lE)(e),[S]=(0,t.useState)("false"!==window.sessionStorage.getItem("as-crypto.ces")),I=(0,t.useRef)(null);(0,t.useEffect)((()=>{var e;!S&&I.current&&(e=I.current)&&e.querySelectorAll("input, select, .rf-webapply-continuebutton button").forEach((e=>{e.setAttribute("disabled","true")}))}),[S]);const{properties:{isLoadingSubmit:P}}=(0,k.Yl)(e),L=rC(m,"frontImage",{fileSizeDataKey:"frontImageSize",fileTypeDataKey:"frontImageType"}),T=rC(m,"backImage",{fileSizeDataKey:"backImageSize",fileTypeDataKey:"backImageType"}),{chatNow:O,shouldShowChat:D,acmiInfo:x,acmiOtbValue:M,continueMessage:F,continueLabel:B}=N,R=y||v||h||g||E,_=N.declineLabel?"decline":"withdraw",$=(0,k.W4)(e,_),H=(0,k.W4)(e,"continue"),K=(0,k.W4)(e,"skip"),V=H.binding.bindExists,U={...H.props,label:N.continueLabel,isLoading:C().get(H,"binding.properties.isLoadingSubmit",!1),disabled:H.props.disabled||P,onClick:()=>{const e=L.binding.properties.valid,t=T.binding.properties.valid;if(e||t){L.state.setError(e),T.state.setError(t);const a=L.props.ref.current,n=T.props.ref.current;return e&&a?void a.focus():void(t&&n&&n.focus())}H.props.onClick()}},W={...$.props,disabled:P},G={ref:I,isAOSStore:n,isGetReady:r,messages:d,messagesLastUpdated:u,hasPosChat:g&&O,hasPhotoIdChat:g&&D&&!O,acmiOtbValue:M,hasApplicationInfo:p,hasTermsAndConditions:b,isStepUp:R,hasStepUpSMSVerification:E,hasStepUpPhotoId:g,photoIDFrontImageProps:L.props,photoIDBackImageProps:T.props,hasWebApplyResult:f||A||w,loanApplication:p&&a().createElement(XS,{modKey:s,acmiInfo:x,supportEncryption:S}),termsAndConditions:b&&a().createElement(aC,{modKey:l}),stepUpSSN:y&&a().createElement(iC,{modKey:i}),stepUpShareInfo:v&&a().createElement(mC,{modKey:o}),stepUpTotalAssets:h&&a().createElement(pC,{modKey:c}),showContinueButton:V,continueMessage:F,continueButtonProps:U,continueButtonLabel:B,declineWithdrawButtonProps:R&&$.binding.bindExists?W:null,declineWithdrawButtonLabel:N.declineLabel||N.withdrawLabel,skipButtonProps:K.props,skipButtonLabel:N.skipLabel};return a().createElement(MC,G)},BC=a().memo(FC),RC=({modKey:e})=>{const[t]=(0,k.Ej)(Re.nn,"acmiFromBag");return a().createElement("div",null,a().createElement(BC,{modKey:e,isAOSStore:!0}),a().createElement(pn,{webapplyInstallmentsFootnote:t,webapplyInstallmentsApprovedFootnote:(0,k.M1)(Re.y5)}))},_C=a().memo(RC),$C=({mainHeader:e,paymentDetails:t,sideHeader:n,summary:r})=>{const{viewport:s}=(0,Y.S)(),l="small"===s;return a().createElement("div",{className:"rs-installment-summary"},a().createElement("h2",{className:"rs-installment-section-header typography-label large-6 small-12"},e),a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-6 small-12"},a().createElement("p",{className:"rs-installment-section-content"},t)),!l&&n&&a().createElement("div",{className:"column large-6 small-12 rs-iup-offersummary-detailscontainer"},a().createElement("div",(0,Ie.A)({className:"as-supplementalinfo rs-installment-supplementalinfo rs-iup-offersummary-details"},(0,Le.OH)(n))))),r,l&&n&&a().createElement("div",(0,Ie.A)({className:"as-supplementalinfo rs-installment-supplementalinfo"},(0,Le.OH)(n))))},HC=({personalDetailsModKey:e,personalMainHeader:t,hasUserDetails:n,hasAdditionalInfo:r})=>a().createElement("div",{className:"rs-loanapplication-section"},a().createElement("fieldset",null,a().createElement("legend",null,a().createElement("h2",{className:"rs-installment-section-header typography-label"},t)),a().createElement("div",{className:"rs-loanaddress-container column small-12 large-12"},n&&a().createElement(dl.A,{modKey:`${e}.userDetails`}),r&&a().createElement(dl.A,{modKey:`${e}.additionalInfo`})))),KC=({empMainHeader:e,employmentTypeOptions:t,showEmploymentTypeDropdown:n,employmentTypeDropdownProps:r,showEmployerField:s,employerFieldProps:l,showGrossAnnualIncomeField:i,grossAnnualIncomeFieldProps:o,isEmploymentEnabled:c})=>{const{assets:m}=(0,Y.S)(),d=Z()("rs-loanapplication-section",{"rs-loanapplication-section-enabled":c,"rs-loanapplication-section-disabled":!c});return a().createElement("div",{className:d},a().createElement("fieldset",null,a().createElement("legend",null,a().createElement("h2",{className:"rs-installment-section-header typography-label"},e)),a().createElement("div",{className:"rs-loanaddress-container column small-12 large-6"},n&&a().createElement("div",{className:"rs-details-form-field"},a().createElement(Gr.A,(0,Ie.A)({},r,{label:m.employmentTypeLabel,allowNone:!0}),t.map((e=>a().createElement(Gr.n,{key:e.value,value:e.value},e.label))))),s&&a().createElement("div",{className:"rs-details-form-field"},a().createElement(ki.A,(0,Ie.A)({},l,{label:m.employerLabel}))),i&&a().createElement("div",{className:"rs-details-form-field"},a().createElement(ki.A,(0,Ie.A)({},o,{label:m.grossAnnualIncomeLabel}))))))},VC=({employIncomeMainHeader:e,incomeExpense:t,isEmployIncomeEnabled:n})=>{const r=Z()("rs-loanapplication-section",{"rs-loanapplication-section-enabled":n,"rs-loanapplication-section-disabled":!n});return a().createElement("div",{className:r},a().createElement("fieldset",null,a().createElement("legend",null,a().createElement("h2",{className:"rs-installment-section-header typography-label"},e)),a().createElement("div",{className:"rs-loanaddress-container small-12 large-12"},t)))};var UC=__webpack_require__(4786);const WC=({option:e,name:t,fieldProps:n,dropdownProps:r})=>{const{type:s,label:l,header:i,message:o,dropdownOptions:c=[]}=e;let m;const d=o&&!n.error?`${t}details-form-supplementalinfo-msg`:null;switch(s){case"text":m=a().createElement(a().Fragment,null,a().createElement(ki.A,(0,Ie.A)({},n,{label:l,name:t,classes:{root:"column large-6 small-12"},"aria-describedby":d})));break;case"select":m=a().createElement(a().Fragment,null,a().createElement(Gr.A,(0,Ie.A)({},r,{label:l,classes:{root:"column large-6 small-12"}}),c.map((e=>a().createElement(Gr.n,{key:e.value,value:e.value},e.label)))))}return a().createElement("div",{className:"rs-details-form-subquestion rs-details-form-field row"},i&&a().createElement("h3",{className:"rs-details-title typography-body column large-6 small-12"},i),a().createElement("div",{className:"row"},m,o&&a().createElement("div",{className:"rs-details-form-message column large-6 small-12"},a().createElement("div",(0,Ie.A)({className:"rs-details-form-supplementalinfo"},(0,Le.OH)(o),{id:`${t}details-form-supplementalinfo-msg`})))))},GC=({title:e,info:n,message:r,label:s,name:l,showField:i=!0,fieldProps:o,selectorProps:c,selectorOptions:m=[],selectedValue:d,dropdownProps:u,subQuestions:p})=>{const[g,y]=(0,t.useState)(i),v=m.length>0,h=Z()("rs-details-list-incomeexpense",{"rs-incomeexpense-field-hidden":!g}),E=()=>y(i),b={name:l,fieldProps:o,dropdownProps:u};return a().createElement("div",{className:h},a().createElement("fieldset",null,a().createElement("legend",{className:"rs-details-form-title typography-body column large-6 small-12"},a().createElement("h3",{className:"rs-details-form-title-header typography-body"},e)),v&&a().createElement("div",{className:"row rs-details-selector-group"},a().createElement("div",{className:"large-6 small-12 column"},a().createElement(Am.A,{className:"row large-12 small-12"},m.map((({label:e,value:t})=>a().createElement(UC.A,(0,Ie.A)({},c,{key:t,className:"form-selector-short column large-6",name:`income-question-selector-${l}`,value:t,checked:t===d,"aria-describedby":`${l}details-form-supplementalinfo`}),a().createElement("span",{className:"form-selector-title"},e)))))),n&&a().createElement("div",{className:"rs-details-form-message large-6 small-12 column"},a().createElement("div",{className:"rs-details-form-supplementalinfo",id:`${l}details-form-supplementalinfo`},n))),a().createElement(j.x,{in:i,onEnter:E,onExited:E},p?p.map((e=>a().createElement(WC,(0,Ie.A)({key:e.header,option:e},b)))):o&&a().createElement("div",{className:"row large-12"},a().createElement("div",{className:"rs-details-form-field column large-6 small-12"},a().createElement(ki.A,(0,Ie.A)({},o,{label:s,name:l}))),r&&a().createElement("div",{className:"rs-details-form-supplementalinfo column large-3 small-12"},r)))))},jC=({addressMainHeader:e,loanApplicationAddressMessage:t,isAddressLoading:n,addressDetails:r,isLoanAddressEnabled:s,headerRef:l})=>{const{assets:i,viewport:o}=(0,Y.S)(),c="small"===o,m=Z()("rs-loanapplication-address","rs-loanapplication-section",{"rs-loanapplication-section-enabled":s,"rs-loanapplication-section-disabled":!s});return a().createElement("div",{className:m},a().createElement("fieldset",null,a().createElement("legend",null,a().createElement("h2",{className:"rs-installment-section-header typography-label",ref:l},e)),a().createElement("div",{className:"rs-loanaddress-container column small-12 large-12"},!c&&t&&a().createElement("div",{className:"column large-6 rs-loanapplication-address-message"},a().createElement("div",(0,Ie.A)({},(0,Le.OH)(t),{className:"as-supplementalinfo typography-body-reduced"}))),a().createElement("div",{"aria-live":"assertive"},n&&a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",{key:"waitindicator",role:"img",className:"waitindicator waitindicator24-gray rs-barclays-address-moduleloading","aria-label":i.processing}))),r)),c&&t&&a().createElement("div",{className:"column small-12"},a().createElement("div",(0,Ie.A)({},(0,Le.OH)(t),{className:"as-supplementalinfo"})))))},qC=({bankMainHeader:e,bankAdditionalinfo:t,timeAtBankOptions:n=[],showNameOfAccountField:r,nameOfAccountFieldProps:s,showSortCodeField:l,sortCodeFieldProps:i,showAccountNumberField:o,accountNumberFieldProps:c,showTimeAtBankDropdown:m,timeAtBankDropdownProps:d,isBankAccountEnabled:u,bankDetailsCheckProps:p,acknowledgeLabel:g})=>{const{assets:y}=(0,Y.S)(),v=Z()("rs-loanapplication-section","rs-loanapplication-asaddress-section",{"rs-loanapplication-section-enabled":u,"rs-loanapplication-section-disabled":!u});return a().createElement("div",{className:v},a().createElement("fieldset",{"aria-describedby":"rs-bankdetails-sectionmessage"},a().createElement("legend",null,a().createElement("h2",{className:"rs-installment-section-header typography-label"},e)),a().createElement("div",{className:"row rs-loanaddress-container"},a().createElement("div",{className:"column small-12 large-6"},r&&a().createElement("div",{className:"rs-details-form-field"},a().createElement(ki.A,(0,Ie.A)({},s,{label:y.nameOfAccountLabel}))),l&&a().createElement("div",{className:"rs-details-form-field"},a().createElement(ki.A,(0,Ie.A)({},i,{label:y.sortCodeLabel}))),o&&a().createElement("div",{className:"rs-details-form-field"},a().createElement(ki.A,(0,Ie.A)({},c,{label:y.accountNumberLabel}))),m&&a().createElement("div",{className:"rs-details-form-field"},a().createElement(Gr.A,(0,Ie.A)({},d,{label:y.timeAtBankLabel,allowNone:!0}),n.map((e=>a().createElement(Gr.n,{key:e.value,value:e.value},e.label))))),g&&a().createElement("div",{className:"rs-details-form-field"},a().createElement(Vn.A,(0,Ie.A)({},p,{required:!0}),a().createElement("span",(0,Ie.A)({className:"typography-body-reduced"},(0,Le.OH)(g)))))),t&&a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",{className:"as-supplementalinfo",id:"rs-bankdetails-sectionmessage"},t)))))},YC=({additionalSupportMainHeader:e,accessibilityCheckBoxProps:t,vulnerabilityCheckBoxProps:n,accessibilityLabel:r,vulnerabilityLabel:s})=>a().createElement("div",{className:"rs-loanapplication-section"},a().createElement("div",{className:"column large-6 small-12"},a().createElement("h2",{className:"rs-installment-section-header typography-label"},e),a().createElement("div",{className:"rs-loanapplication-additionalsupport-checkbox"},a().createElement(Vn.A,t,a().createElement("span",(0,Ie.A)({className:"typography-body-reduced"},(0,Le.OH)(r)))),a().createElement(Vn.A,n,a().createElement("span",(0,Ie.A)({className:"typography-body-reduced"},(0,Le.OH)(s))))))),zC=({directDebitGuaranteeInfo:e})=>{const{assets:n,fragments:r}=(0,Y.S)(),{viewport:s}=(0,Y.S)(),l="small"===s,[i,o]=(0,t.useState)(!1);return a().createElement(a().Fragment,null,a().createElement("div",{className:"row rs-loanapplication-direct-debit-guarantee typography-body-reduced"},a().createElement("div",{className:"column large-6 small-12"},a().createElement("div",(0,Ie.A)({className:"rs-direct-debit-guarantee-info"},(0,Le.OH)(e))),a().createElement("button",{type:"button",role:"link",className:"rs-direct-debit-guarantee-more-details-link as-buttonlink",onClick:()=>o(!0)},n.directDebitGuaranteeBtnLabel,a().createElement("span",{"aria-hidden":"true",className:"icon icon-after icon-chevronright"})))),a().createElement(Ke.A,{className:"rs-direct-debit-guarantee-overlay",visible:i,onClose:()=>o(!1),isFullscreen:l,fixedWidth:!0,ariaLabel:"rs-direct-debit-guarantee-overlay-header"},a().createElement("div",(0,Ie.A)({className:"rs-direct-debit-guarantee-overlay-content"},(0,Le.OH)(r.directDebitGuaranteeContent)))))},ZC=({loanModKey:e,isLoanApplicationLoad:t,loanApplicationConsentInfo:n,continueLabel:r,shouldShowChat:s,messages:l,messagesLastUpdated:i,installmentSummary:o,personalDetails:c,employmentDetails:m,employIncomeExpense:d,loanAdressDetails:u,bankAccountDetails:p,additionalSupport:g,directDebitGuarantee:y})=>{const{assets:v}=(0,Y.S)();return a().createElement(a().Fragment,null,a().createElement("div",{className:"as-l-container rs-loanapplication"},a().createElement(ke.A,{messages:l,lastUpdated:i,dataAutom:"loan-application-error-message"}),a().createElement("h1",{tabIndex:-1,className:"typography-headline-reduced rs-loanapplication-header rs-checkout-headerfocus"},a().createElement("span",{className:"typography-eyebrow-reduced"},v.iphonePaymentsHeader),v.loanApplicationSubHeader),a().createElement("div",{className:"rs-loanapplication-details"},o,c,m,d,u,p,g,y),n&&a().createElement("div",{className:"row rs-loanapplication-consentinfo typography-body-reduced"},a().createElement("div",(0,Ie.A)({className:"column large-6 small-12"},(0,Le.OH)(n)))),r&&a().createElement(a().Fragment,null,t&&a().createElement("div",{className:"rs-payment-options-screen"}),a().createElement("div",{className:"rs-checkout-action"},a().createElement(ea,{modKey:e})))),a().createElement("div",{className:"rs-checkout-chatfaq-wrapper"},s&&a().createElement(ya,null),a().createElement(ua,{modKey:`${e}.faq`})),a().createElement(pn,{modKey:`${e}.footnotes`}))},JC=({modKey:e,isAddressLoading:t,addressRef:n,hasAddress:r,hasAddressMetadata:s})=>!t&&a().createElement("div",{ref:n},r&&a().createElement(dl.A,{modKey:`${e}.address`}),s&&a().createElement(dl.A,{modKey:`${e}.addressMetadata`})),XC=e=>{if(!new RegExp("^((0?[1-9])|(1[0-2]))(/)(((19)|(20))[0-9]{2})$").test(e))return!1;const t=e.split("/"),a=Number(t[0]),n=Number(t[1]),r=new Date(n,a-1,1);return Date.now()-r>=0},QC=({modKey:e,isAddressLoading:n,headerRef:r})=>{const s=(0,t.useRef)(null),l=(0,t.useRef)(!1),i=(0,k.sW)(),o=`${e}.addressMetadata`,c=(0,k.M1)(`${e}.address`),{modExists:m,data:{moveInDate:d}}=(0,k.Yl)(o),[u,p]=(0,k.Ej)(o,"moveInDateValid"),g=(0,k.LZ)(o,"moveInDate"),{properties:{isLoadingSubmit:y}}=g;return(0,t.useEffect)((()=>{l.current&&!y&&s.current&&setTimeout((()=>{let e=s.current.querySelector(".rs-loanapplication-address .rf-form-layout-section-header");e||(e=r.current),e&&(e.setAttribute("tabindex","-1"),e.focus())}),500),l.current=!0}),[y]),(0,t.useEffect)((()=>{const e=XC(d);e!==u&&p(e)}),[d]),(0,t.useEffect)((()=>{if(s.current&&m){const e=s.current.querySelector('input[name="moveInDate"]');e&&e.addEventListener("blur",(e=>{const t=XC(e.target.value);t!==u&&p(t),t&&d!==e.target.value&&i({type:W.Ru.COMMIT,modKey:o,bindName:"moveInDate"})}))}}),[s.current,m]),a().createElement(JC,{modKey:e,isAddressLoading:n,addressRef:s,hasAddress:c,hasAddressMetadata:m})},ek=a().memo(QC),tk=({modKey:e})=>{const{data:t,properties:{isLoadingSubmit:n}}=(0,k.Yl)(e),r=(0,k.M1)(`${e}.checkLoanApplicationStatus`),s=n||r,[l,i]=(0,k.fL)(e),{loanApplicationConsentInfo:o,directDebitGuaranteeInfo:c,continueLabel:m,shouldShowChat:d}=t,{modExists:u,data:p}=(0,k.Yl)(`${e}.installmentSummary`),{mainHeader:g,paymentDetails:y,sideHeader:v}=p,{modExists:h,data:E}=(0,k.Yl)(`${e}.personalDetails`),{mainHeader:b}=E,f=(0,k.M1)(`${e}.personalDetails.userDetails`),A=(0,k.M1)(`${e}.personalDetails.additionalInfo`),{modExists:w,data:N,properties:{enabled:S}}=(0,k.Yl)(`${e}.employmentDetails`),{mainHeader:C,employmentTypeOptions:I}=N,P=(0,k.Pf)(`${e}.employmentDetails`,"employer"),L=P.binding.bindExists,T=(0,k.Pf)(`${e}.employmentDetails`,"grossAnnualIncome"),O=T.binding.bindExists,D=(0,k.TP)(`${e}.employmentDetails`,"employmentType"),x=D.binding.bindExists,{modExists:M,data:F,properties:{enabled:B}}=(0,k.Yl)(`${e}.employIncomeExpense`),{mainHeader:R,layout:_}=F,$=(0,k.tx)(`${e}.employIncomeExpense`,"hasYearlyDecreaseIncome"),H=(0,k.Pf)(`${e}.employIncomeExpense`,"yearlyDecreaseIncome"),K=H.binding.properties.visible,V=(0,k.tx)(`${e}.employIncomeExpense`,"hasMonthlyIncreaseIncome"),U=(0,k.Pf)(`${e}.employIncomeExpense`,"monthlyIncreaseIncome"),W=U.binding.properties.visible,G=(0,k.tx)(`${e}.employIncomeExpense`,"hasDependents"),j=(0,k.Pf)(`${e}.employIncomeExpense`,"spendOnDependent"),q=j.binding.properties.visible,Y=(0,k.TP)(`${e}.employIncomeExpense`,"numberOfDependents"),z=Y.binding.bindExists,Z=_.map((e=>{const{title:t,message:n,label:r,info:s,name:l,options:i,subQuestions:o}=e;switch(l){case"yearlyDecreaseIncome":return H.binding.bindExists&&a().createElement(GC,{key:l,title:t,message:n,label:r,info:s,name:l,showField:K,fieldProps:{...H.props,disabled:!B},selectorProps:$.props,selectorOptions:i,selectedValue:$.binding.value,subQuestions:o});case"monthlyIncreaseIncome":return U.binding.bindExists&&a().createElement(GC,{key:l,title:t,message:n,label:r,info:s,name:l,showField:W,fieldProps:{...U.props,disabled:!B},selectorProps:V.props,selectorOptions:i,selectedValue:V.binding.value,subQuestions:o});case"spendOnDependent":return j.binding.bindExists&&a().createElement(GC,{key:l,title:t,message:n,label:r,info:s,name:l,showField:q,fieldProps:{...j.props,disabled:!B},selectorProps:G.props,selectorOptions:i,selectedValue:G.binding.value,dropdownProps:z&&{...Y.props,disabled:!B},subQuestions:o});default:return null}})),{modExists:J,data:{mainHeader:X,loanApplicationAddressMessage:Q},properties:{enabled:ee},childModKeys:te}=(0,k.Yl)(`${e}.loanApplicationAddressesContainer`),ae=a().useRef(null),{properties:{isLoadingSubmit:ne}}=(0,k.Yl)("checkout"),re=te.map((e=>a().createElement(ek,{key:e,modKey:e,headerRef:ae,isAddressLoading:ne}))),{modExists:se,data:le,properties:{enabled:ie}}=(0,k.Yl)(`${e}.bankDetails`),{mainHeader:oe,bankadditionalinfo:ce,timeAtBankOptions:me,acknowledgeLabel:de}=le,ue=(0,k.Pf)(`${e}.bankDetails`,"nameOfAccount"),pe=ue.binding.bindExists,ge=(0,k.Pf)(`${e}.bankDetails`,"sortCode"),ye=ge.binding.bindExists,ve=(0,k.DZ)(`${e}.bankDetails`,"bankDetailsCheck"),he=(0,k.Pf)(`${e}.bankDetails`,"accountNumber"),Ee=he.binding.bindExists,be=(0,k.TP)(`${e}.bankDetails`,"timeAtBank"),fe=be.binding.bindExists,{modExists:Ae,data:we}=(0,k.Yl)(`${e}.loanAdditionalSupportPreferences`),{mainHeader:Ne,accessibilityLabel:Se,vulnerabilityLabel:Ce}=we,ke=(0,k.DZ)(`${e}.loanAdditionalSupportPreferences`,"accessibilityCheck"),Ie=(0,k.DZ)(`${e}.loanAdditionalSupportPreferences`,"vulnerabilityCheck");return a().createElement(ZC,{loanModKey:e,isLoanApplicationLoad:s,loanApplicationConsentInfo:o,continueLabel:m,shouldShowChat:d,messages:l,messagesLastUpdated:i,installmentSummary:u&&a().createElement($C,{mainHeader:g,paymentDetails:y,sideHeader:v,summary:a().createElement(Ms,{modKey:`${e}.installmentSummary`,classes:"large-6 small-12",noOffset:!0})}),personalDetails:h&&a().createElement(HC,{personalDetailsModKey:`${e}.personalDetails`,personalMainHeader:b,hasUserDetails:f,hasAdditionalInfo:A}),employmentDetails:w&&a().createElement(KC,{empMainHeader:C,employmentTypeOptions:I,showEmploymentTypeDropdown:x,employmentTypeDropdownProps:x&&{...D.props,disabled:!S},showEmployerField:L,employerFieldProps:L&&{...P.props,disabled:!P.binding.properties.enabled},showGrossAnnualIncomeField:O,grossAnnualIncomeFieldProps:O&&{...T.props,disabled:!S},isEmploymentEnabled:S}),employIncomeExpense:M&&a().createElement(VC,{employIncomeMainHeader:R,incomeExpense:Z,isEmployIncomeEnabled:B}),loanAdressDetails:J&&a().createElement(jC,{addressMainHeader:X,loanApplicationAddressMessage:Q,isAddressLoading:ne,addressDetails:re,isLoanAddressEnabled:ee,headerRef:ae}),bankAccountDetails:se&&a().createElement(qC,{bankMainHeader:oe,bankAdditionalinfo:ce,timeAtBankOptions:me,showNameOfAccountField:pe,nameOfAccountFieldProps:pe&&{...ue.props,disabled:!ie},showSortCodeField:ye,sortCodeFieldProps:ye&&{...ge.props,disabled:!ie},showAccountNumberField:Ee,accountNumberFieldProps:Ee&&{...he.props,disabled:!ie},showTimeAtBankDropdown:fe,timeAtBankDropdownProps:fe&&{...be.props,disabled:!ie},isBankAccountEnabled:ie,bankDetailsCheckProps:ve.props,acknowledgeLabel:de}),additionalSupport:Ae&&a().createElement(YC,{additionalSupportMainHeader:Ne,accessibilityLabel:Se,vulnerabilityLabel:Ce,accessibilityCheckBoxProps:ke.props,vulnerabilityCheckBoxProps:Ie.props}),directDebitGuarantee:c&&a().createElement(zC,{directDebitGuaranteeInfo:c})})},ak=a().memo(tk),nk=({termsAndConditionsModKey:e,hasTermsAndConditions:t,continueLabel:n,enableContinue:r,showChat:s,footer:l,isLoadingSubmit:i,checkLoanApplicationApprovalStatus:o,messages:c,messagesLastUpdated:m})=>{const{assets:d}=(0,Y.S)(),u=n?(i||o)&&a().createElement("div",{className:"rs-payment-options-screen"}):"";return a().createElement("div",{className:"as-l-container rs-barclaystermsandconditions"},a().createElement("h1",{tabIndex:-1,className:"typography-headline-reduced  rs-barclaystermsandconditions-header rs-checkout-headerfocus"},a().createElement("span",{className:"typography-eyebrow-reduced"},d.iphonePaymentsHeader),a().createElement("div",{className:"small-12 large-8"},d.barclayTermsAndConditionsSubHeader)),a().createElement("div",{className:"row"},a().createElement("div",{className:"column large-8 small-12"},a().createElement(ke.A,{messages:c,lastUpdated:m}),t&&a().createElement(js,{modKey:`${e}.termsAndConditions`}))),u,r&&a().createElement("div",{className:"rs-checkout-action"},a().createElement(ea,{modKey:e})),a().createElement("div",{className:"rs-checkout-chatfaq-wrapper"},s&&a().createElement(ya,null),a().createElement(ua,{modKey:`${e}.faq`})),l)},rk=({modKey:e})=>{const{data:t,properties:{isLoadingSubmit:n}}=(0,k.Yl)(e),r=(0,k.M1)(`${e}.termsAndConditions`),s=(0,k.M1)(`${e}.checkLoanApplicationApprovalStatus`),{shouldShowChat:l,enableContinue:i,continueLabel:o}=t,[c,m]=(0,k.fL)(e);return a().createElement(nk,{termsAndConditionsModKey:e,messages:c,lastUpdated:m,hasTermsAndConditions:r,enableContinue:i,continueLabel:o,isLoadingSubmit:n,showChat:l,checkLoanApplicationApprovalStatus:s,footer:a().createElement(pn,{modKey:`${e}.footnotes`})})},sk=a().memo(rk),lk=({extendSessionButtonProps:e,showSessionExtensionOverlay:t})=>{const{assets:n,viewport:r}=(0,Y.S)(),s="small"===r;return a().createElement("div",{className:"rs-checkout-sessionextender"},a().createElement(Ke.A,{visible:t,isFullscreen:s,disableClickAway:!0,disableEsc:!0,noCloseButton:!0,fixedWidth:!0,ariaLabel:"rs-sessionextender-overlay-header",classes:{content:"ase-overlay-popup"}},a().createElement("div",{className:"rs-session-timeout"},a().createElement("h2",{className:"rs-sessionextender-overlay-header",id:"rs-sessionextender-overlay-header"},n.sessionTimeOutHeader),a().createElement("div",(0,Ie.A)({className:"rs-overlay-content"},(0,Le.OH)(n.sessionTimeOutContent))),a().createElement("div",{className:"rs-sessionextender-overlay-confirm typography-body"},a().createElement(Wt.A,e,n.sessionTimeOutButton)))))},ik=({shouldTrackUserAction:e,isUserActive:n,extendSessionButtonProps:r,showSessionExtensionOverlay:s,initSessionTimeout:l,markUserAsActive:i,isPageLoaded:o,localTtl:c,didExtend:m,canExtend:d,ttl:u})=>{const p=(0,Ut.Ge)();return(0,t.useEffect)((()=>{l()}),[o,c,m,d,u]),(0,t.useEffect)((()=>(e&&!n?(window.addEventListener("touchstart",i),window.addEventListener("keydown",i),window.addEventListener("mousedown",i),window.addEventListener("scroll",i),p.eventEmitter.addListener(Ut.Ur.UserActivity,i)):(window.removeEventListener("touchstart",i),window.removeEventListener("keydown",i),window.removeEventListener("mousedown",i),window.removeEventListener("scroll",i),p.eventEmitter.removeListener(Ut.Ur.UserActivity,i)),()=>{window.removeEventListener("touchstart",i),window.removeEventListener("keydown",i),window.removeEventListener("mousedown",i),window.removeEventListener("scroll",i),p.eventEmitter.removeListener(Ut.Ur.UserActivity,i)})),[e,n,i,p.eventEmitter]),a().createElement("div",{className:"rs-checkout-sessionextender"},a().createElement(lk,{extendSessionButtonProps:r,showSessionExtensionOverlay:s}))},ok=e=>{e&&window.clearTimeout(e)},ck=({modKey:e})=>{const n=(0,k.sW)(),s=(0,k.qB)(),[l]=(0,k.lE)(e),[i,o]=(0,k.Ej)(e,"didExtend",!1),[c,m]=(0,k.Ej)(e,"showSessionExtensionOverlay",!1),d=(0,k.W4)(e,"extendSession"),{alertMs:u,interactionMs:p,expiredUrl:g,extendSessionUrl:y,canExtend:v,ttl:h}=l,E={shouldTrackUserAction:!1,isUserActive:!1,local_ttl:0,isPageLoaded:!1},[b,f]=(0,t.useState)({...E}),[A,w]=(0,t.useState)(!1),N=(0,t.useRef)({isUserActive:!1,autoRenewCount:0,allowedIdealTimer:null,activityTimer:null,manualExtensionTimer:null});(0,t.useEffect)((()=>{A&&(w(!1),P())}),[A]);const S=()=>{ok(N.current.manualExtensionTimer),ok(N.current.activityTimer),ok(N.current.allowedIdealTimer)},C=()=>{f({...E}),N.current.isUserActive=!1,N.current.autoRenewCount=0,m(!1)},I=()=>{S(),window.location.href=g},P=()=>{let e=h-1e4-p;e<p&&(e=0),ok(N.current.allowedIdealTimer),N.current.allowedIdealTimer=window.setTimeout((()=>{let e=parseInt(h,10)>parseInt(p,10)?p-u:h-u;e=e<1e4?1e4:e,ok(N.current.activityTimer),N.current.isUserActive=!1,N.current.activityTimer=window.setTimeout((()=>{N.current.isUserActive?T():(ok(N.current.manualExtensionTimer),N.current.manualExtensionTimer=window.setTimeout((()=>{I()}),u),m(!0))}),e),f({...b,shouldTrackUserAction:!0,isUserActive:!1})}),e)},L=()=>{b.isPageLoaded&&i||b.isPageLoaded&&0!==h&&parseInt(h,10)>parseInt(b.local_ttl,10)?(o(!1),S(),C(),f({...E,local_ttl:h})):f({...b,local_ttl:h}),!b.isPageLoaded&&v&&(S(),C(),f({...E,isPageLoaded:!0,local_ttl:h}),w(!0))},T=()=>{const e=y;N.current.autoRenewCount+=1,s&&e&&v&&!(N.current.autoRenewCount>3)||I();const t={method:"POST",headers:{...s,"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"fetch"}};(0,Pa.hI)(e,t).then((e=>{n({type:W.Ru.DATA,data:e.body}),S(),C(),L()})).catch((e=>{(0,r.A)("session-extender-container/autoRenewSession").error(e),T()}))};return a().createElement(ik,{extendSessionButtonProps:d.props,shouldTrackUserAction:b.shouldTrackUserAction,isUserActive:b.isUserActive,markUserAsActive:()=>{N.current.isUserActive=!0,f((e=>({...e,isUserActive:N.current.isUserActive})))},showSessionExtensionOverlay:c,initSessionTimeout:L,isPageLoaded:b.isPageLoaded,localTtl:b.local_ttl,didExtend:i,canExtend:v,ttl:h})},mk=a().memo(ck),dk=({header:e,message:t,tryAgainButtonLabel:n,tryAgainButtonProps:r})=>a().createElement("div",{className:"as-l-container"},a().createElement("div",{className:"rs-info-wrapper large-8 small-12 large-centered"},e&&a().createElement("h1",(0,Ie.A)({className:"rs-info-header typography-headline"},(0,Le.OH)(e))),t&&a().createElement("div",(0,Ie.A)({className:"rs-info-content typography-intro"},(0,Le.OH)(t))),a().createElement(Wt.A,(0,Ie.A)({},r,{className:"large-9 small-12"}),n))),uk=({modKey:e})=>{const[t]=(0,k.lE)(e),n=(0,k.W4)(e,"tryAgain"),{header:r,message:s,label:l}=t;return a().createElement(dk,{header:r,message:s,tryAgainButtonLabel:l,tryAgainButtonProps:n.props})},pk=a().memo(uk),gk=({hasFulfillmentAckMessages:e,hasPaymentAckMessages:t,hasCompanionBar:n,messages:r,messagesLastUpdated:s,hasFulfillmentAckBanner:l,hasPaymentAckBanner:i,showWaitIndicator:o})=>{const c=a().useRef(null),m=e&&l||t&&i;return a().createElement(a().Fragment,null,a().createElement("div",{className:"rs-checkout",role:"main",key:"checkoutRoot"},e&&a().createElement(du,{modKey:Re.I_,key:"ack-message",headerRef:c,showBindName:"ackBanner",closeBindName:"ack"}),t&&a().createElement(du,{modKey:Re.p_,headerRef:c,showBindName:"ackBanner",closeBindName:"ack"}),a().createElement(He,{isNotificationBannerShown:m}),n&&a().createElement(Kt,null),a().createElement(q,null,a().createElement(rS,{modKey:Re.nP,isCheckoutToolBar:!0}),a().createElement(rS,{modKey:Re.hL,isCheckoutToolBar:!0}),a().createElement(rS,{modKey:Re._X,isCheckoutToolBar:!0}),a().createElement(rS,{modKey:Re.RS,isCheckoutToolBar:!0})),r.length>0&&a().createElement("div",{className:"as-l-container"},a().createElement(ke.A,{messages:r,lastUpdated:s})),o&&a().createElement(Ws,null),a().createElement(q,{doFade:!0,doFadeOnAppear:!0,doScrollToTop:!0},a().createElement(lu,{modKey:Re.L9}),a().createElement(gg,{modKey:Re.xt}),a().createElement(_g,{modKey:Re.M8}),a().createElement(YS,{modKey:Re.Fu}),a().createElement(Zh,{modKey:Re.pU}),a().createElement(BS,{modKey:Re.t}),a().createElement(ak,{modKey:Re.ge}),a().createElement(sk,{modKey:Re.Aw}),a().createElement(_C,{modKey:Re.S4}),a().createElement(pk,{modKey:Re.WC})),a().createElement(ze,{modKey:Re.lN}),a().createElement(mk,{modKey:Re.IM})),a().createElement("div",{className:"rs-checkout-cmk-modal-container"}))},yk="loanSpinner",vk="paymentAuthentication",hk=({ACSData:e,url:n})=>{const r=a().useRef(null);return(0,t.useEffect)((()=>{(({ACSData:e,url:t,paymentVerification:a})=>{const n=a.current,r=e;Object.keys(r).forEach((e=>{const t=document.createElement("input");t.type="hidden",t.name=e,t.value=r[e],n.appendChild(t)})),n.action=t,n.submit()})({ACSData:e,url:n,paymentVerification:r})}),[]),a().createElement(a().Fragment,null,a().createElement("iframe",{id:"verification-iframe",className:"visuallyhidden",name:"verification-iframe",title:"verification-iframe",src:"about:blank"}),a().createElement("form",{id:"verificationForm",target:"verification-iframe",method:"post",ref:r}))},Ek=({statusModExists:e,statusTitle:t,statusHeader:n,message:r,loanSpinnerExists:s,hasAppleCardTermsModel:l,ACSData:i,formActionURL:o})=>{const{assets:c}=(0,Y.S)();return a().createElement("div",{className:"rs-checkout-status-wrapper"},e&&t&&a().createElement("div",{className:"rs-webapply-title-container"},a().createElement("div",{className:"rs-webapply-title typography-label as-l-container"},t)),a().createElement("div",{className:"rs-checkout-status"},l&&u.Ez().isAndroidMobile?a().createElement("div",null,c.appleCardTermsAndroidMessage):a().createElement("div",{role:"img",className:"waitindicator waitindicator40-gray","aria-label":c.processing}),e&&n&&a().createElement("div",{className:"rs-webapply-spinner-info small-8"},a().createElement("h1",null,n),a().createElement("p",(0,Le.OH)(r))),e&&!s&&a().createElement(hk,{ACSData:i,url:o})))},bk=()=>{const e=(0,k.M1)(yk),n=(0,k.M1)(vk),r=(0,k.M1)("appleCardTermsModel"),s=e?yk:vk,[l]=(0,k.lE)(s),{title:i,header:o,message:c,ACSData:m,url:d}=l;return(0,t.useEffect)((()=>{window.self!==window.top&&(window.top.location=window.location)}),[]),a().createElement(Ek,{statusModExists:e||n,statusTitle:i,statusHeader:o,message:c,loanSpinnerExists:e,hasAppleCardTermsModel:r,ACSData:m,formActionURL:d})},fk=a().memo(bk),Ak=()=>{const[e,t]=(0,k.fL)(Re.Z1),[n]=(0,k.Ej)(Re.p_,"ackMessages"),[r]=(0,k.Ej)(Re.I_,"ackMessages"),s=(0,k.LZ)(Re.I_,"ackBanner"),l=(0,k.LZ)(Re.p_,"ackBanner"),i=(0,k.LZ)(Re.Oc,"polling"),o=(0,k.M1)(Re.nn),c=(0,k.M1)(Re.lN),m=(0,k.M1)(vk),d=(0,k.EL)().getPagePolling();return a().createElement(a().Fragment,null,d&&a().createElement(Ku.A,null),o&&a().createElement(gk,{hasPaymentAckMessages:Boolean(n),hasFulfillmentAckMessages:Boolean(r),hasCompanionBar:c,messages:e,messagesLastUpdated:t,hasFulfillmentAckBanner:s.properties.visible,hasPaymentAckBanner:l.properties.visible,showWaitIndicator:i.bindExists}),m&&a().createElement(fk,null))},wk=a().memo(Ak),Nk=e=>{0},Sk=({initData:e})=>((0,t.useEffect)((()=>{window.self!==window.top&&(window.top.location=window.location)}),[]),a().createElement(a().StrictMode,null,a().createElement(k.it,{initData:e,onInit:Nk},a().createElement(Y.E,null,a().createElement(Se,{paymentRequestModKey:Re.ZB},a().createElement(O,null,a().createElement(wk,null)))),a().createElement(ee,null))));window.DeviceID=__webpack_require__(5333);const Ck="clickbag",kk="leavecheckout",Ik=(0,r.A)("rs-checkout/checkout");try{(0,w.s)(N)}catch(e){Ik.error(e)}document.addEventListener("DOMContentLoaded",(()=>{window.performance&&window.performance.mark("echo-rs-checkout.checkout.react-render-start");let e={};try{e=JSON.parse(document.getElementById("init_data").innerHTML)}catch(e){Ik.error(e)}const t=document.getElementById("checkout-container");(0,n.H)(t).render(a().createElement(Sk,{initData:e})),(()=>{const e=document.querySelector('meta[name="globalnav-bag-flyout-enabled"]');e&&"false"===e.getAttribute("content")&&document.getElementById("globalnav-menubutton-link-bag").addEventListener("click",(e=>{e.target.dispatchEvent(new window.CustomEvent(Ck,{bubbles:!0,cancelable:!0,detail:{originalTarget:e.target}}))}))})(),document.addEventListener(Ck,(e=>{e.preventDefault(),e.stopPropagation();const t=e.detail&&e.detail.originalTarget;if(t){const e=new CustomEvent(kk,{bubbles:!0,detail:t});document.body.dispatchEvent(e)}}),!0),o||(document.addEventListener("click",d),document.addEventListener("focusin",d),document.addEventListener("focusout",d),document.addEventListener("keydown",d),o=!0),u.mj(),((e=document.documentElement)=>{y=e,E||(f(),document.addEventListener("mousedown",f),document.addEventListener("keyup",A),E=!0)})()}))})()})();
/*! For license information please see echo.min.js.LICENSE.txt */
var Echo;!function(){"use strict";!function(){const e="echo_session_start_timestamp",t="unsent",n={ALT_TEXT_COLLECTION:"alt_text_collection",CUMULATIVE_LAYOUT_SHIFT:"cumulative_layout_shift",CUSTOM_EVENT_FOR_DATABASE:"custom_event",CUSTOM_EVENT_FOR_CLIENT:"echoCustomEvent",ECHO_FEATURE:"echoFeatureEvent",ERROR:"error",FIRST_INPUT_DELAY:"first_input_delay",LARGEST_CONTENTFUL_PAINT:"largest_contentful_paint",LOG_EVENT_FOR_DATABASE:"log",LOG_EVENT_FOR_CLIENT:"echoLogEvent",NETWORK_ERROR:"network_error",PAGE_VIEW:"pageview",PAINT:"paint",PARTIAL_PAGEVIEW:"partial_pageview",PERFORMANCE_MEASURE:"performance_measure",PERFORMANCE_NOW_FOR_DATABASE:"performance_now",PERFORMANCE_NOW_FOR_CLIENT:"echoPerformanceNowEvent",RESOURCE:"resource",UNLOAD:"unload",VISIBILITY_CHANGE:"visibility_change"};let r=[];function o(){r=[]}function i(){return r}function a(e=[]){r=[...r,...Array.isArray(e)?e:[e]]}function c(){const e=[],t=t=>e.find((e=>e.fn===t||e.key===t));return{add:t=>e.push({...t,active:!1!==t.active,set:function(e,t){this[e]=t}}),set:(e,n,r)=>{const o=t(e);o&&o.set(n,r)},mergeConfig:e=>{Object.keys(e).forEach((n=>{const r=t(n);r&&(!r.data&&e[n]&&r.set("active",!0),r.set("data",e[n]))}))},serialize:()=>e.filter((e=>e.active)).map((e=>[e.fn,e.data])),dump:()=>e}}function s(e){if(!e)return null;const t=new URL(e);return t.search="query",t.href}const u=e=>({...e,...e.pageUrl&&{pageUrl:s(e.pageUrl)},...e.referer&&{referer:s(e.referer)},...e.errorUrl&&{errorUrl:s(e.errorUrl)}}),f=({eventType:e,eventData:t},n)=>({app:n.app,eventType:e,postTime:Date.now(),...n.eventDataDefaults,...t,...n.pageViewId&&{pageViewId:n.pageViewId}});function d({config:e,eventType:t,eventData:n}){const r=c();!function(e,t){const n=t.transforms||[];"function"==typeof t.sanitizeEventData&&n.push(t.sanitizeEventData),n.forEach((n=>e.add({fn:n,data:t})))}(r,e),r.add({fn:u}),r.add({fn:f,data:e});const o=r.serialize();return(i=o,function(e){let t=e;for(let e=i.length-1;e>=0;e--){const[n,r]=i[e];if(t=n(t,r),!1===t)return!1}return t})({eventType:t,eventData:n});var i}function l({storage:e=sessionStorage,pct:t=0}={}){return e&&Number(e.getItem("echo:nonEssentialEventSampleRatePct"))||t}function g(e,t){try{return e()}catch(e){return t&&a(d({config:t,eventType:n.ERROR,eventData:{errorMsg:e.message}})),null}}function p(e,t,n){if(n[e]>0&&n[t]>0){const r=n[t]-n[e];return r>0?r:0}return 0}function m(e){if(!e)return{};const t=new URL(e);return t.protocol.startsWith("http")||(t.pathname="pathname"),t}const E=[!0,"true",1,"1"],w={url:null,sendErrors:!1,sendPageViewData:!1,delaySendingPageViewDataMS:500,logRequests:("echo:logRequests",g((()=>E.includes(sessionStorage.getItem("echo:logRequests"))))),performanceMeasurePollingIntervalMS:1e3,sendResourceData:!1,resourceDisallowedResourceList:[],resourcePollingIntervalMS:2e3,nonEssentialEventSampleRatePct:0,transforms:[e=>e]};const v=m(window.location),y={host:v.host,pageHostname:v.hostname,pagePathname:v.pathname,pageUrl:v.href,pageViewId:`${window.crypto&&window.crypto.getRandomValues?([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return`${("x"==e?t:3&t|8).toString(16)}-legacy`}))}`,sessionStartTS:function(){const t=g((()=>sessionStorage.getItem(e)));return null!==t?parseInt(t,10):function(){const t=Date.now();return g((()=>sessionStorage.setItem(e,`${t}`))),t}()}()},h={pageViewDataState:t};let T=null;const S=({crypto:e={}})=>({exists:!!e.subtle}),_=({navigator:e={},NetworkInformation:t})=>({exists:!("function"!=typeof t||"object"!=typeof e.connection)}),R=(e,t)=>t&&(t.supportedEntryTypes||[]).includes(e),N=e=>{const t={exists:!1};if(!e.performance)return t;t.exists=!0,t.timeline=0;const n=e.PerformanceObserver;return n&&(t.timeline=1.5,"function"==typeof new n((()=>{})).takeRecords&&(t.timeline=2)),t.hasMeasures="function"==typeof e.performance.getEntriesByType&&"function"==typeof e.performance.clearMeasures&&R("measure",n),t.navigationTiming=0,R("navigation",n)?t.navigationTiming=2:e.performance.timing&&(t.navigationTiming=1),t.resourceTiming=0,R("resource",n)&&(t.resourceTiming=2),t.hasResourceTimingBuffer="function"==typeof e.performance.clearResourceTimings,t};function O(e=window){return T||(T={crypto:S(e),networkInfo:_(e),perf:N(e)}),T}function A({config:e}){const t=function({config:e}){if(!O().perf.hasMeasures)return[];const t=window.performance.getEntriesByType("measure").filter((e=>e.name.startsWith("echo-")));return t.forEach((({name:e})=>window.performance.clearMeasures(e))),t.map((t=>d({config:e,eventType:n.PERFORMANCE_MEASURE,eventData:t.toJSON()})))}({config:e});return t.length>0&&a(t)}function b({config:e}){function t(){return A({config:e})}return{start:()=>{O().perf.hasMeasures&&window.setInterval((()=>A({config:e})),e.performanceMeasurePollingIntervalMS),O().perf.hasResourceTimingBuffer&&window.addEventListener("resourcetimingbufferfull",t)}}}const L={};function C({config:e}){return a(function({config:e}){const t=[];if(!O().perf.hasMeasures)return t;const r=window.performance.getEntriesByType("resource");for(const o of r){const r=d({config:e,eventType:n.RESOURCE,eventData:D(o)});x({event:r,config:e})&&t.push(r)}return t}({config:e}))}function D(e){const t=e.toJSON();!function(e){const t=p("redirectStart","redirectEnd",e),n=p("fetchStart","domainLookupStart",e),r=(u=e,p("domainLookupStart","domainLookupEnd",u)),o=function(e){return p("secureConnectionStart","connectionStart",e)}(e),i=function(e){return p("secureConnectionStart","connectEnd",e)}(e),a=function(e){return p("requestStart","responseStart",e)}(e),c=function(e){return p("responseStart","responseEnd",e)}(e),s=e.duration-(t+n+r+o+i+a+c);var u;e.redirect=t,e.appcache=n,e.dns=r,e.connect=o,e.tls=i,e.ttfb=a,e.download=c,e.queued=s}(t);for(const[e,n]of Object.entries(t))isNaN(n)?t[e]=n:n>0&&(t[e]=Number.parseFloat(n.toFixed(3)));return t.serverTiming&&delete t.serverTiming,t.entryType&&delete t.entryType,t}function x({event:e,config:t}){if(e.name===t.url)return!1;if((t.resourceDisallowedResourceList||[]).filter((e=>Boolean(e))).filter((t=>e.name.match(t))).length>0)return!1;const n=e.name+e.startTime;return!0!==L[n]&&(L[n]=!0,!0)}function I({config:e}){function t(){return C({config:e})}return{start:()=>{O().perf.resourceTiming>=2&&window.setInterval((()=>C({config:e})),e.resourcePollingIntervalMS),O().perf.hasResourceTimingBuffer&&window.addEventListener("resourcetimingbufferfull",t)}}}const U=new Set(["connectEnd","connectStart","domainLookupEnd","domainLookupStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","fetchStart","loadEventEnd","loadEventStart","requestStart","responseEnd","responseStart"]),P=new Set(["redirectEnd","redirectStart","secureConnectionStart","unloadEventEnd","unloadEventStart",...U]);function M(e=O(),t=window){const n=e.perf;let r={};if(!n.exists)return r;if(2===n.navigationTiming){const e=t.performance.getEntriesByType("navigation");e.length>0&&"function"==typeof e[0].toJSON&&(r={...e[0].toJSON(),NavigationTimingLevel:2})}else if(1===n.navigationTiming){const e=t.performance.timing,n=Object.keys(e).filter((e=>P.has(e))).reduce(((t,n)=>U.has(n)?{...t,[n]:e[n]-e.navigationStart}:{...t,[n]:e[n]}),{});r={...n,NavigationTimingLevel:1}}return e.networkInfo.exists&&(r.networkDownlink=t.navigator.connection.downlink||null,r.networkEffectiveType=t.navigator.connection.effectiveType||null,r.networkRtt=t.navigator.connection.rtt||null),r.imageCountOnLoad=document.images.length,r.support={subtleCrypto:e.crypto.exists},r}function F({config:e,triggeredBy:t="load",eventType:r=n.PAGE_VIEW}){const o={triggeredBy:t,...M()},i=m(document.referrer);return o.referer=i.href,d({config:e,eventType:r,eventData:o})}function B({url:e,bundle:t}){return new Request(e,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}function k({config:e,bundle:t}){const n=e.url.split(","),r=n[0],o=n[1];return o&&fetch(B({url:o,bundle:t})).catch((e=>console.error(e))),fetch(B({url:r,bundle:t}))}let q=0;function V({config:e,batch:t,method:n}){const r=(({events:e=[]}={})=>({deliveryVersion:"1.0",postTime:Date.now(),events:e.sort(((e,t)=>e.eventType.localeCompare(t.eventType)))}))({events:t});return o(),function({config:e,bundle:t,method:n}){!0===e.logRequests&&(console.info("%c/** ------------ Echo bundle begin ------------","color: skyblue"),console.info(`sent via ${n} to ${e.url}`),console.info(`sent at ${new Date(t.postTime)}`),t.events.forEach((e=>{console.info({[e.eventType]:e})})),console.info("%c------------ Echo bundle end ------------ **/","color: skyblue"))}({config:e,bundle:r,method:n}),r}function W({config:e}){const t=()=>{window.setTimeout((()=>(function({config:e}){const t=F({config:e});e.flags.pageViewDataState="complete",a(t)}({config:e}),function({config:e}){if(q>=3)return!1;const t=i();if(t.length>0){const r=V({config:e,batch:t,method:"fetch"});return k({config:e,bundle:r}).then((()=>{q=0})).catch((r=>(q+=1,a([...i(),...t]),a(d({config:e,eventType:n.NETWORK_ERROR,eventData:{errorMsg:r.message,tries:`${q} of 3`}})))))}return!1}({config:e}))),e.delaySendingPageViewDataMS)};return{start:()=>{"complete"==document.readyState?t():window.addEventListener("load",t)}}}var j=({config:e})=>{let t=0;const r={};function o(o){const i=m(o.filename),c=function({event:e}){return{errorMsg:e.message,errorCol:e.colno,errorLine:e.lineno,message:e.message,colno:e.colno,lineno:e.lineno,name:e.name,stack:e.error&&e.error.stack}}({event:o});c.errorUrl=i.href,c.filename=i.href,c.id="echo/uncaught-error",c.type="error",t+=1;const s=`${c.message} @ ${c.filename}:${c.lineno}:${c.colno}`,u=r[s]||0;if(r[s]=u+1,u>0)return window.console&&window.console.log(`Repeated error (${u} times): ${s}`);const f=d({config:e,eventType:n.ERROR,eventData:c});return window.console&&window.console.error("Error:",f),a(f)}return{start:()=>window.addEventListener("error",o)}};function J({config:e}){function t(t){const r=d({config:e,eventType:n.CUSTOM_EVENT_FOR_DATABASE,eventData:t.detail});return!!(e.sendNonEssentialEvents||t.detail&&"error"===t.detail.type)&&a(r)}const r=n.CUSTOM_EVENT_FOR_CLIENT;return{start:()=>window.addEventListener(r,t),stop:()=>window.removeEventListener(r,t)}}function Y({config:e}){function t(t){const r=t.detail&&"error"===t.detail.type?n.ERROR:n.LOG_EVENT_FOR_DATABASE;return a(d({config:e,eventType:r,eventData:t.detail}))}const r=n.LOG_EVENT_FOR_CLIENT;return{start:()=>window.addEventListener(r,t),stop:()=>window.removeEventListener(r,t)}}function z({config:e}){function t(t){const r=n.PERFORMANCE_NOW_FOR_DATABASE,{id:o,performanceNow:i}=t.detail;return a(d({config:e,eventType:r,eventData:{id:o,performanceNow:i,...M()}}))}const r=n.PERFORMANCE_NOW_FOR_CLIENT;return{start:()=>window.addEventListener(r,t),stop:()=>window.removeEventListener(r,t)}}function H({config:e,getFirstHiddenTime:t}){if(O().perf.timeline<2)return()=>!1;const r=[];let o,i;function c(e){(e.renderTime||e.loadTime)<t()&&(i=function(e){const t={};return t.time=e.renderTime||e.loadTime,t.id=e.element&&e.element.id,t.tagName=e.element&&e.element.tagName,t.xPath=e.element&&((n=e.element)&&n.id?`//*[@id="${n.id}"]`:function(e){let t=[];for(;e&&e.nodeType==Node.ELEMENT_NODE;e=e.parentNode){let n=0,r=!1;for(let t=e.previousSibling;t;t=t.previousSibling)t.nodeType!=Node.DOCUMENT_TYPE_NODE&&t.nodeName==e.nodeName&&++n;for(let t=e.nextSibling;t&&!r;t=t.nextSibling)t.nodeName==e.nodeName&&(r=!0);let o=(e.prefix?e.prefix+":":"")+e.localName,i=n||r?"["+(n+1)+"]":"";t.splice(0,0,o+i)}return t.length?"/"+t.join("/"):null}(n)),t.area=e.size,e.url&&(t.url=e.url),t;var n}(e),r.unshift(i),r.length>3&&r.pop())}const s=new PerformanceObserver((e=>{e.getEntries().forEach(c)}));return s.observe({type:"largest-contentful-paint",buffered:!0}),function(){if(s.takeRecords().forEach(c),i!==o)return o=i,a(d({config:e,eventType:n.LARGEST_CONTENTFUL_PAINT,eventData:{lcp:i,lcpHistory:r,...i}}))}}function G({config:e,triggeredBy:r}){let o=[];if(e.flags.pageViewDataState==t){let t="partial";const i=F({config:e,eventType:n.PARTIAL_PAGEVIEW,triggeredBy:r});e.flags.pageViewDataState=t,o=o.concat(i)}return o=[...o,...i()],o.length>0&&function({config:e,bundle:t}){return navigator.sendBeacon?function({config:e,bundle:t}){const n=e.url.split(","),r=n[0],o=n[1];return o&&navigator.sendBeacon(o,new Blob([JSON.stringify(t)],{type:"application/json; charset=UTF-8"})),navigator.sendBeacon(r,new Blob([JSON.stringify(t)],{type:"application/json; charset=UTF-8"}))}({config:e,bundle:t}):k({config:e,bundle:t})}({config:e,bundle:V({config:e,batch:o,method:navigator.sendBeacon?"sendBeacon/json":"fetch"})})}let Q=new Set;function Z(e){if("svg"===e.nodeName.toLowerCase()){if(e.getAttribute("aria-label"))return e.getAttribute("aria-label")||"";if(e.getAttribute("aria-labelledby")){let t=[];const n=e.getAttribute("aria-labelledby").split(" ");for(let e=0;e<n.length;e++){let r=document.getElementById(n[e]).textContent.trim();t.push(r??"{ No element with ID. }")}return t.length?t.join(" "):""}}else if(e.querySelector("title"))return e.querySelector("title").textContent||"";return e.getAttribute("alt")||""}var K=({config:e})=>{let t="hidden"===document.visibilityState?0:1/0;const r=()=>t,o=e=>{t=Math.min(t,e.timeStamp)};let i=()=>!1;const c=H({config:e,getFirstHiddenTime:r});function s(){if("hidden"===document.visibilityState)return i(),c(),function({config:e}){Q.size>0&&(a(d({config:e,eventType:n.ALT_TEXT_COLLECTION,eventData:{imageData:Array.from(Q)}})),Q.clear())}({config:e}),G({config:e,triggeredBy:n.VISIBILITY_CHANGE})}return function({config:e,getFirstHiddenTime:t}){if(O().perf.timeline<=1)return!1;function r({name:r,entryType:o,startTime:i,duration:c,processingStart:s,processingEnd:u,cancelable:f}){if(i<t())return a(d({config:e,eventType:n.FIRST_INPUT_DELAY,eventData:{name:r,fid:s-i,entryType:o,startTime:i,duration:c,processingStart:s,processingEnd:u,cancelable:f}}))}new PerformanceObserver((e=>{e.getEntries().forEach(r)})).observe({type:"first-input",buffered:!0})}({config:e,getFirstHiddenTime:r}),function({config:e,getFirstHiddenTime:t}){if(O().perf.timeline<=1)return!1;function r(r){if(r.startTime<t())return a(d({config:e,eventType:n.PAINT,eventData:{name:r.name,entryType:r.entryType,startTime:r.startTime,duration:r.duration}}))}new PerformanceObserver((e=>{e.getEntries().forEach(r)})).observe({type:"paint",buffered:!0})}({config:e,getFirstHiddenTime:r}),i=function({config:e}){if(O().perf.timeline<2)return()=>!1;let t,r=0;function o(e){e.hadRecentInput||(r+=e.value)}const i=new PerformanceObserver((e=>{e.getEntries().forEach(o)}));return i.observe({type:"layout-shift",buffered:!0}),function(){return r!==t&&(t=r,i.takeRecords().forEach(o),a(d({config:e,eventType:n.CUMULATIVE_LAYOUT_SHIFT,eventData:{cls:r}})))}}({config:e}),{start:()=>{document.addEventListener("visibilitychange",s,!0),document.addEventListener("visibilitychange",o,{once:!0})}}},X=({config:e})=>{function t(){return G({config:e,triggeredBy:n.UNLOAD})}return{start:()=>window.addEventListener("unload",t)}};function $({config:e}){const t=()=>{Array.from(document.querySelectorAll("img, svg")).map((e=>{Q.add({nodeName:e.nodeName.toLowerCase(),src:e.src,alt:Z(e)})})),function(){const e=document.body;new MutationObserver((function(e){for(const t of e)if("childList"===t.type&&t.addedNodes.length)for(const e of t.addedNodes)"img"!==e.nodeName.toLowerCase()&&"svg"!==e.nodeName.toLowerCase()||Q.add({nodeName:e.nodeName.toLowerCase(),src:e.src||"",alt:Z(e)})})).observe(e,{attributes:!1,childList:!0,subtree:!0})}()};return{start:()=>{"loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t()}}}let ee;function te({config:e={}}){if(!e.url||!e.app)throw new Error("Missing config.url or config.app");const t=g((()=>JSON.parse(sessionStorage.getItem("echo_config"))))||{},n={...w,...e,...t,eventDataDefaults:y,flags:h};return n.sendNonEssentialEvents=function({suppliedRand:e,rate:t=100}){const n=100*Math.random();return(e||n)<=t}({rate:l({pct:n.nonEssentialEventSampleRatePct})}),n.sendNonEssentialEvents&&(ee.set($,"active",!0),ee.set(b,"active",!0),ee.set(z,"active",!0),e.sendResourceData&&ee.set(I,"active",!0)),ee.set(J,"active",!0),ee.set(Y,"active",!0),ee.mergeConfig(n),ee.serialize().forEach((([e,t])=>{const r=e({config:n});void 0!==t&&!0!==t||r.start()})),{version:"3.18.1"}}te.version="3.18.1",te.listen=e=>(Array.isArray(e)?e.forEach((e=>ee.add(e))):ee.add(e),te),(te.setupListeners=()=>{ee=c(),te.listen([{fn:K},{fn:X},{fn:Y},{fn:j,key:"sendErrors",data:!1},{fn:W,key:"sendPageViewData",data:!1},{fn:J,active:!1},{fn:$,active:!1},{fn:b,active:!1},{fn:z,active:!1},{fn:I,active:!1}])})();var ne=te;const re={kty:"RSA",e:"AQAB",alg:"RSA-OAEP-256",ext:!0,n:"qfmYlIcQaNUEjDU1r7DiPA4Jd_ldpf5b9hrw5JPY9X88_xgU1-ztkhElD9oej-m4qh66fIoYTFo0TzMtdmpWssOZoWTqDzqy5WEzPnYRtPrpoK3UcUigwFH1fsBSQQeTWi3ALlo3CrmOCPTDg9ZK2wPUXsykCaViBdeZZCn3rkuJ2mNjYt-T83fb4TxVLLZLjJfq_RYlileHDvugnb-44SBFZUBxj14GCYS4mwbT1vCgxnr777C3Qv9GKyfDmLAQsISAGMw2sp_Wcy9hxcO41ME1ngS6GnQT5ZJZWTCtMb2GmGt7ZPzYLSfNasM3R0UU_CaJU61gxAqnR4MmjCTWQQ",d:"HMiRmAVPOBFqlbuk_b18ciMGY3Ss8SEjvYdOZ8bJpLkJQUF4th__Ew8oMYkER-aSSOyvM8vG1Zco6IiIGFdlmxwYdgY6xJ1yEfnlzZv836Ll0Tnekdh0sFywr-gthamcwFajBrZsP7qwXL_mI_sz7ea2Hd-Vn7SL5uVdqmKY-MC3Tqo0dUWeDlNjYxcRh3hqO6kYCjkFNa4WB9pXwk_LKU7L_tQa4KgSqH1gsI-zI1M6OgEs5EfiPI1sxqiVxEypalsHQkGBYW-xnZLS47wfaW-SBkKw4Yr-UlEcAPHl9c5bpU0tOL8spQZiSDXq0E2el5nXVJpCh7Cgi5nAx2Qj4Q",p:"0kK96xalugusjH5zafNaMMP8_aY7w4YZ530JT0EOfoxB3FDLK8JeuUlRouB7OnkEvTk-4Ecn0m0yFI0-bTmQz1jyhuIJt3sp0wxiEcs0N5Rf2tFbDuyE6ZFr6gkhNSrHl9DtFe5aL2qNiOoOFJnEfAfhA3c3Su8OESEdeDyZ39U",q:"zvNfdUPT6Nq0bx2Gyz2PLqpy46qzdWB6zeP3CFDwNqlXh4mLhCgu4VY6WM9ALRyh_emEeOiY-52SS65NzvJTw0eBU-5D0fXJcju_mYzgKuXjU-3owRaANxPl4qXHzRsdNK5JDYhvJB56iwdSwNJOwGrH7GhlfzRGEsD8n8CBPr0",dp:"NgfSl_u84J8pWv0PmXVggtGKTIAQMYFfXL4jy0rzd4-BSSU14GvVPZXatZkr8W2xyxJP1wBR-l_3E5LsLNMzJCU-RW0GhDDRIZu4A8yNAY9ORoOv-5jJ2t90tLJd5zS0D44vrogOgsrFzh4fOin9dMXti59yBP6DReGVmhUwkXU",dq:"tfQq6LpTFbc8zzlBq24bdqcsTllmYXwLXPzi1K_9E8I-EA_x16dQ2JRsxmqp_T_geZOYAopW_1siJmJBTQOoe9hhr_6cKH0WudYodoPzECSBg-h4LVRwNHzNMUIa8o21Vv0pg7mCJlqZ2aT9sET4Mptv3b5IBthaB-Ef_AFQYW0",qi:"J8wPdRkByjtA96D8SKjqsUuO9SRfDiJ5dJr6W2X6hjd5W-KKoMknppUFpGoPH66zTADys9biKQ5FLab8BtVWhuFyb-QLs7pWz-fHrpuCgGL3pWA0cH_BUvQIMA4JSlnV9Mb4Vtfd49FrCSPE4jxXUdQqrgcgs0jFwY-o8Nbs7Vo"},oe={kty:"RSA",e:"AQAB",alg:"RSA-OAEP-256",ext:!0,n:"qfmYlIcQaNUEjDU1r7DiPA4Jd_ldpf5b9hrw5JPY9X88_xgU1-ztkhElD9oej-m4qh66fIoYTFo0TzMtdmpWssOZoWTqDzqy5WEzPnYRtPrpoK3UcUigwFH1fsBSQQeTWi3ALlo3CrmOCPTDg9ZK2wPUXsykCaViBdeZZCn3rkuJ2mNjYt-T83fb4TxVLLZLjJfq_RYlileHDvugnb-44SBFZUBxj14GCYS4mwbT1vCgxnr777C3Qv9GKyfDmLAQsISAGMw2sp_Wcy9hxcO41ME1ngS6GnQT5ZJZWTCtMb2GmGt7ZPzYLSfNasM3R0UU_CaJU61gxAqnR4MmjCTWQQ"};function ie(){return function(e,t,n){if(!crypto||!crypto.subtle)return Promise.resolve({exists:!1,passed:!1});const r="1234567891234567",{encrypt:o,decrypt:i}=function(e,t,n){const r=(t,n)=>crypto.subtle.importKey("jwk",t,e,!1,[n]).catch(ae("crypto.subtle.importKey"));return{decrypt:t=>r(n,"decrypt").then((n=>crypto.subtle.decrypt(e,n,t))).then((e=>function(e){const t=[];for(let n=0;n<e.byteLength;n++)t.push(String.fromCharCode(e[n]));return t.join("")}(new Uint8Array(e)))).catch(ae("crypto.subtle.decrypt")),encrypt:n=>r(t,"encrypt").then((t=>crypto.subtle.encrypt(e,t,function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(n)))).then((e=>new Uint8Array(e))).catch(ae("crypto.subtle.encrypt"))}}(e,t,n);return performance.mark("encrypt_start"),o(r).then((e=>(performance.measure("encrypt","encrypt_start"),performance.mark("decrypt_start"),i(e)))).then((t=>(performance.measure("decrypt","decrypt_start"),Promise.resolve({exists:!0,passed:r===t,algorithm:e.name,encryptTime:ce("encrypt"),decryptTime:ce("decrypt")}))))}({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},oe,re)}const ae=e=>t=>{console.log(t);const r=new CustomEvent(n.CUSTOM_EVENT_FOR_CLIENT,{detail:{message:t.message,id:e,type:"error"}});window.dispatchEvent(r)},ce=e=>performance.getEntriesByName(e).pop().duration,se=(e="")=>{let t=null;const n=(document.cookie||"").split(";");for(let r=0;r<n.length;r++){const o=(n[r]||"").trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}if(t)try{t=JSON.parse(t)}catch(e){}return t},ue=e=>(["pageUrl","referer"].forEach((t=>{e[t]&&(e[t]=(e=>{const t=`(.*/order/(?:${["guest","detail","incidentfee","tradeinshippinginstructions","tradeininstructions","cancel","ship","edit"].join("|")})/)(?:[^?]*)`;return new URL(e).search&&(e=e.replace(/(.*\?)(?:.*)/,"$1<query>")),(e=e.replace(new RegExp(t),"$1<wo>")).replace(/\/([^/])+@([^/])+\/?/g,"/<email>@<domain>/")})(e[t]))})),e),fe=e=>[...document.querySelectorAll(e)],de=()=>{const e={};return fe("script").forEach((t=>{const n=(t.src||"").match(/(^|\/)(rs(-\w+)?)\//);n&&(e[n[2]]=!0)})),Object.keys(e)},le=/https?:\/\/(?:www|epp|store|store-int|storeint|secure+.*).apple.com.*?\//;ne.listen({fn:({config:e})=>({start:()=>{window.addEventListener(n.ECHO_FEATURE,(t=>{a(d({config:e,eventType:n.CUSTOM_EVENT_FOR_DATABASE,eventData:t.detail}))}))}})}),window.ECHO_CONFIG&&function({config:e,metadata:t}){const r={transforms:[ue,e=>((e,{metadata:t}={})=>({...e,asDc:se("as_dc"),audit:[["echo",()=>ne.version],["recon",e=>e.document.querySelector("[data-recon-global]")?"undef":void 0],["jquery",e=>e.jQuery?e.jQuery.fn&&e.jQuery.fn.jquery||"undef":void 0],["can",e=>e.can?e.can.VERSION||"undef":void 0],["coherent",e=>e.coherent&&e.coherent.version],["react",e=>e.React&&e.React.version]].filter((([,e])=>e(window))).reduce(((e,[t,n])=>({...e,[t]:{version:[n(window)]}})),{}),cookies:document.cookie.split("; ").map((e=>e.substr(0,e.indexOf("=")))),pageId:window.s&&window.s.pageName||"",pageShopPath:window.location.href.split("/shop")[1]||window.location.href.split("/search")[1]||"/",pixelRatio:Math.round(100*window.devicePixelRatio)/100||0,pluginCount:window.navigator.plugins?window.navigator.plugins.length:0,pxro:se("pxro")||"null",rsNames:de(),screenHeight:window.screen.height||0,screenWidth:window.screen.width||0,scripts:fe("script[src]").length,styles:fe("link[rel=stylesheet]").length,validPageUrl:le.test(window.location.href),windowInnerHeight:window.innerHeight||0,windowInnerWidth:window.innerWidth||0,windowOrientation:window.screen.orientation?window.screen.orientation.angle:"orientation"in window&&window.orientation||0,windowOuterHeight:window.outerHeight||0,windowOuterWidth:window.outerWidth||0,...t}))(e,{metadata:t})]};ne({config:{...e,...r}}),(e=>!!g((()=>sessionStorage.getItem("crypto_reported")),e))(e)||(function(){const{ECHO_FEATURE:e}=n;ie().then((t=>{window.dispatchEvent(new CustomEvent(e,{detail:t}))}))}(),(e=>{g((()=>sessionStorage.setItem("crypto_reported","1")),e)})(e))}(window.ECHO_CONFIG)}(),Echo={}.default}();